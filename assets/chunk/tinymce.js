var tC=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},nC={exports:{}};(function(rC){(function(){var hc=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},aC=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},iC=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},oC=function(e,t){return Pa(function(n,r){return e.eq(t(n),t(r))})},Pa=function(e){return{eq:e}},uC=Pa(function(e,t){return e===t}),fC=uC,yc=function(e){return Pa(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e.eq(t[a],n[a]))return!1;return!0})},sC=function(e,t){return oC(yc(e),function(n){return iC(n,t)})},bc=function(e){return Pa(function(t,n){var r=Object.keys(t),a=Object.keys(n);if(!sC(fC).eq(r,a))return!1;for(var i=r.length,o=0;o<i;o++){var u=r[o];if(!e.eq(t[u],n[u]))return!1}return!0})},Iu=Pa(function(e,t){if(e===t)return!0;var n=hc(e),r=hc(t);return n!==r?!1:aC(n)?e===t:n==="array"?yc(Iu).eq(e,t):n==="object"?bc(Iu).eq(e,t):!1}),lC=function(e){var t=typeof e;return e===null?"null":t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},$u=function(e){return function(t){return lC(t)===e}},Fu=function(e){return function(t){return typeof t===e}},Cc=function(e){return function(t){return e===t}},Ue=$u("string"),$r=$u("object"),_t=$u("array"),cC=Cc(null),wc=Fu("boolean"),Oa=Cc(void 0),Ri=function(e){return e==null},mt=function(e){return!Ri(e)},We=Fu("function"),Fr=Fu("number"),fe=function(){},ar=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},vC=function(e,t){return function(n){return e(t(n))}},Z=function(e){return function(){return e}},Ut=function(e){return e};function j(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var i=t.concat(r);return e.apply(null,i)}}var Mu=function(e){return function(t){return!e(t)}},Ec=function(e){return function(){throw new Error(e)}},dC=function(e){return e()},pC=function(e){e()},he=Z(!1),je=Z(!0),Bi=function(){return Uu},Uu=function(){var e=function(a){return a.isNone()},t=function(a){return a()},n=function(a){return a},r={fold:function(a,i){return a()},is:he,isSome:he,isNone:je,getOr:n,getOrThunk:t,getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},getOrNull:Z(null),getOrUndefined:Z(void 0),or:n,orThunk:t,map:Bi,each:fe,bind:Bi,exists:he,forall:je,filter:Bi,equals:e,equals_:e,toArray:function(){return[]},toString:Z("none()")};return r}(),zu=function(e){var t=Z(e),n=function(){return a},r=function(i){return i(e)},a={fold:function(i,o){return o(e)},is:function(i){return e===i},isSome:je,isNone:he,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(i){return zu(i(e))},each:function(i){i(e)},bind:r,exists:r,forall:r,filter:function(i){return i(e)?a:Uu},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(i){return i.is(e)},equals_:function(i,o){return i.fold(he,function(u){return o(e,u)})}};return a},mC=function(e){return e==null?Uu:zu(e)},b={some:zu,none:Bi,from:mC},Hu=Array.prototype.slice,gC=Array.prototype.indexOf,hC=Array.prototype.push,Sc=function(e,t){return gC.call(e,t)},yC=function(e,t){var n=Sc(e,t);return n===-1?b.none():b.some(n)},ze=function(e,t){return Sc(e,t)>-1},gt=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(t(a,n))return!0}return!1},ke=function(e,t){for(var n=e.length,r=new Array(n),a=0;a<n;a++){var i=e[a];r[a]=t(i,a)}return r},Y=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];t(a,n)}},xc=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},bC=function(e,t){for(var n=[],r=[],a=0,i=e.length;a<i;a++){var o=e[a],u=t(o,a)?n:r;u.push(o)}return{pass:n,fail:r}},ve=function(e,t){for(var n=[],r=0,a=e.length;r<a;r++){var i=e[r];t(i,r)&&n.push(i)}return n},kc=function(e,t,n){return xc(e,function(r){n=t(n,r)}),n},zt=function(e,t,n){return Y(e,function(r){n=t(n,r)}),n},CC=function(e,t,n){for(var r=0,a=e.length;r<a;r++){var i=e[r];if(t(i,r))return b.some(i);if(n(i,r))break}return b.none()},ot=function(e,t){return CC(e,t,he)},Di=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(t(a,n))return b.some(n)}return b.none()},wC=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!_t(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);hC.apply(t,e[n])}return t},_a=function(e,t){return wC(ke(e,t))},La=function(e,t){for(var n=0,r=e.length;n<r;++n){var a=e[n];if(t(a,n)!==!0)return!1}return!0},Pi=function(e){var t=Hu.call(e,0);return t.reverse(),t},Nc=function(e,t){return ve(e,function(n){return!ze(t,n)})},EC=function(e,t){for(var n={},r=0,a=e.length;r<a;r++){var i=e[r];n[String(i)]=t(i,r)}return n},SC=function(e,t){var n=Hu.call(e,0);return n.sort(t),n},Vu=function(e,t){return t>=0&&t<e.length?b.some(e[t]):b.none()},St=function(e){return Vu(e,0)},Rn=function(e){return Vu(e,e.length-1)},Bn=We(Array.from)?Array.from:function(e){return Hu.call(e)},xC=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return b.none()},ir=Object.keys,kC=Object.hasOwnProperty,Be=function(e,t){for(var n=ir(e),r=0,a=n.length;r<a;r++){var i=n[r],o=e[i];t(o,i)}},Ac=function(e,t){return NC(e,function(n,r){return{k:r,v:t(n,r)}})},NC=function(e,t){var n={};return Be(e,function(r,a){var i=t(r,a);n[i.k]=i.v}),n},qu=function(e){return function(t,n){e[n]=t}},Tc=function(e,t,n,r){var a={};return Be(e,function(i,o){(t(i,o)?n:r)(i,o)}),a},Rc=function(e,t){var n={},r={};return Tc(e,t,qu(n),qu(r)),{t:n,f:r}},Ia=function(e,t){var n={};return Tc(e,t,qu(n),fe),n},AC=function(e,t){var n=[];return Be(e,function(r,a){n.push(t(r,a))}),n},TC=function(e){return AC(e,function(t){return t})},xt=function(e,t){return Ke(e,t)?b.from(e[t]):b.none()},Ke=function(e,t){return kC.call(e,t)},$a=function(e,t){return Ke(e,t)&&e[t]!==void 0&&e[t]!==null},RC=function(e,t,n){return n===void 0&&(n=Iu),bc(n).eq(e,t)},Wu=Array.isArray,BC=function(e){if(Wu(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},Fa=function(e,t,n){var r,a;if(!e)return!1;if(n=n||e,e.length!==void 0){for(r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},ju=function(e,t){var n=[];return Fa(e,function(r,a){n.push(t(r,a,e))}),n},Mr=function(e,t){var n=[];return Fa(e,function(r,a){(!t||t(r,a,e))&&n.push(r)}),n},Bc=function(e,t){if(e){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},Oi=function(e,t,n,r){for(var a=Oa(n)?e[0]:n,i=0;i<e.length;i++)a=t.call(r,a,e[i],i);return a},Dc=function(e,t,n){var r,a;for(r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e))return r;return-1},Dn=function(e){return e[e.length-1]},ue=function(){return ue=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ue.apply(this,arguments)};function DC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Ku(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,u=i.length;o<u;o++,a++)r[a]=i[o];return r}var PC=function(e){var t=!1,n;return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return t||(t=!0,n=e.apply(null,r)),n}},OC=function(e,t,n,r){var a=e.isiOS()&&/ipad/i.test(n)===!0,i=e.isiOS()&&!a,o=e.isiOS()||e.isAndroid(),u=o||r("(pointer:coarse)"),f=a||!i&&o&&r("(min-device-width:768px)"),s=i||o&&!f,c=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,l=!s&&!f&&!c;return{isiPad:Z(a),isiPhone:Z(i),isTablet:Z(f),isPhone:Z(s),isTouch:Z(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Z(c),isDesktop:Z(l)}},_C=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},LC=function(e,t){var n=_C(e,t);if(!n)return{major:0,minor:0};var r=function(a){return Number(t.replace(n,"$"+a))};return Gu(r(1),r(2))},IC=function(e,t){var n=String(t).toLowerCase();return e.length===0?Pc():LC(e,n)},Pc=function(){return Gu(0,0)},Gu=function(e,t){return{major:e,minor:t}},_i={nu:Gu,detect:IC,unknown:Pc},Oc=function(e,t){var n=String(t).toLowerCase();return ot(e,function(r){return r.search(n)})},$C=function(e,t){return Oc(e,t).map(function(n){var r=_i.detect(n.versionRegexes,t);return{current:n.name,version:r}})},FC=function(e,t){return Oc(e,t).map(function(n){var r=_i.detect(n.versionRegexes,t);return{current:n.name,version:r}})},_c={detectBrowser:$C,detectOs:FC},MC=function(e,t){return e.substring(t)},UC=function(e,t,n){return t===""||e.length>=t.length&&e.substr(n,n+t.length)===t},zC=function(e,t){return Ur(e,t)?MC(e,t.length):e},ut=function(e,t){return e.indexOf(t)!==-1},Ur=function(e,t){return UC(e,t,0)},Xu=function(e){return function(t){return t.replace(e,"")}},Yu=Xu(/^\s+|\s+$/g),HC=Xu(/^\s+/g),Lc=Xu(/\s+$/g),Ic=function(e){return e.length>0},Qu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,bn=function(e){return function(t){return ut(t,e)}},VC=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ut(e,"edge/")&&ut(e,"chrome")&&ut(e,"safari")&&ut(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qu],search:function(e){return ut(e,"chrome")&&!ut(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ut(e,"msie")||ut(e,"trident")}},{name:"Opera",versionRegexes:[Qu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:bn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:bn("firefox")},{name:"Safari",versionRegexes:[Qu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ut(e,"safari")||ut(e,"mobile/"))&&ut(e,"applewebkit")}}],qC=[{name:"Windows",search:bn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ut(e,"iphone")||ut(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:bn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:bn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:bn("linux"),versionRegexes:[]},{name:"Solaris",search:bn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:bn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:bn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],$c={browsers:Z(VC),oses:Z(qC)},Fc="Edge",Mc="Chrome",Uc="IE",zc="Opera",Hc="Firefox",Vc="Safari",WC=function(){return qc({current:void 0,version:_i.unknown()})},qc=function(e){var t=e.current,n=e.version,r=function(a){return function(){return t===a}};return{current:t,version:n,isEdge:r(Fc),isChrome:r(Mc),isIE:r(Uc),isOpera:r(zc),isFirefox:r(Hc),isSafari:r(Vc)}},Wc={unknown:WC,nu:qc,edge:Z(Fc),chrome:Z(Mc),ie:Z(Uc),opera:Z(zc),firefox:Z(Hc),safari:Z(Vc)},jc="Windows",Kc="iOS",Gc="Android",Xc="Linux",Yc="OSX",Qc="Solaris",Zc="FreeBSD",Jc="ChromeOS",jC=function(){return ev({current:void 0,version:_i.unknown()})},ev=function(e){var t=e.current,n=e.version,r=function(a){return function(){return t===a}};return{current:t,version:n,isWindows:r(jc),isiOS:r(Kc),isAndroid:r(Gc),isOSX:r(Yc),isLinux:r(Xc),isSolaris:r(Qc),isFreeBSD:r(Zc),isChromeOS:r(Jc)}},tv={unknown:jC,nu:ev,windows:Z(jc),ios:Z(Kc),android:Z(Gc),linux:Z(Xc),osx:Z(Yc),solaris:Z(Qc),freebsd:Z(Zc),chromeos:Z(Jc)},KC=function(e,t){var n=$c.browsers(),r=$c.oses(),a=_c.detectBrowser(n,e).fold(Wc.unknown,Wc.nu),i=_c.detectOs(r,e).fold(tv.unknown,tv.nu),o=OC(i,a,e,t);return{browser:a,os:i,deviceType:o}},GC={detect:KC},XC=function(e){return window.matchMedia(e).matches},YC=PC(function(){return GC.detect(navigator.userAgent,XC)}),Ht=function(){return YC()},nv=navigator.userAgent,Zu=Ht(),ft=Zu.browser,kt=Zu.os,tn=Zu.deviceType,QC=/WebKit/.test(nv)&&!ft.isEdge(),ZC="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,JC=nv.indexOf("Windows Phone")!==-1,ae={opera:ft.isOpera(),webkit:QC,ie:ft.isIE()||ft.isEdge()?ft.version.major:!1,gecko:ft.isFirefox(),mac:kt.isOSX()||kt.isiOS(),iOS:tn.isiPad()||tn.isiPhone(),android:kt.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:ft.isIE()?document.documentMode||7:10,fileApi:ZC,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!ft.isIE(),desktop:tn.isDesktop(),windowsPhone:JC,browser:{current:ft.current,version:ft.version,isChrome:ft.isChrome,isEdge:ft.isEdge,isFirefox:ft.isFirefox,isIE:ft.isIE,isOpera:ft.isOpera,isSafari:ft.isSafari},os:{current:kt.current,version:kt.version,isAndroid:kt.isAndroid,isChromeOS:kt.isChromeOS,isFreeBSD:kt.isFreeBSD,isiOS:kt.isiOS,isLinux:kt.isLinux,isOSX:kt.isOSX,isSolaris:kt.isSolaris,isWindows:kt.isWindows},deviceType:{isDesktop:tn.isDesktop,isiPad:tn.isiPad,isiPhone:tn.isiPhone,isPhone:tn.isPhone,isTablet:tn.isTablet,isTouch:tn.isTouch,isWebView:tn.isWebView}},e0=/^\s*|\s*$/g,rv=function(e){return e==null?"":(""+e).replace(e0,"")},av=function(e,t){return t?t==="array"&&Wu(e)?!0:typeof e===t:e!==void 0},t0=function(e,t,n){var r;for(e=e||[],t=t||",",typeof e=="string"&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},n0=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r0=function(e,t,n){var r=this,a,i,o,u=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var f=e[3].match(/(^|\.)(\w+)$/i)[2],s=r.createNS(e[3].replace(/\.\w+$/,""),n);if(!s[f]){if(e[2]==="static"){s[f]=t,this.onCreate&&this.onCreate(e[2],e[3],s[f]);return}t[f]||(t[f]=function(){},u=1),s[f]=t[f],r.extend(s[f].prototype,t),e[5]&&(a=r.resolve(e[5]).prototype,i=e[5].match(/\.(\w+)$/i)[1],o=s[f],u?s[f]=function(){return a[i].apply(this,arguments)}:s[f]=function(){return this.parent=a[i],o.apply(this,arguments)},s[f].prototype[f]=s[f],r.each(a,function(c,l){s[f].prototype[l]=a[l]}),r.each(t,function(c,l){a[l]?s[f].prototype[l]=function(){return this.parent=a[l],c.apply(this,arguments)}:l!==f&&(s[f].prototype[l]=c)})),r.each(t.static,function(c,l){s[f][l]=c})}},a0=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var a=t[r];for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];o!==void 0&&(e[i]=o)}}return e},iv=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Fa(e,function(a,i){if(t.call(r,a,i,n)===!1)return!1;iv(a,t,n,r)}))},i0=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t},o0=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;n<r&&(t=t[e[n]],!!t);n++);return t},u0=function(e,t){return!e||av(e,"array")?e:ju(e.split(t||","),rv)},f0=function(e){var t=ae.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e},B={trim:rv,isArray:Wu,is:av,toArray:BC,makeMap:t0,each:Fa,map:ju,grep:Mr,inArray:Bc,hasOwn:n0,extend:a0,create:r0,walk:iv,createNS:i0,resolve:o0,explode:u0,_addCacheSuffix:f0},s0=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Ma(r.childNodes[0])},l0=function(e,t){var n=t||document,r=n.createElement(e);return Ma(r)},c0=function(e,t){var n=t||document,r=n.createTextNode(e);return Ma(r)},Ma=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},v0=function(e,t,n){return b.from(e.dom.elementFromPoint(t,n)).map(Ma)},x={fromHtml:s0,fromTag:l0,fromText:c0,fromDom:Ma,fromPoint:v0},ov=function(e,t){var n=[],r=function(i){return n.push(i),t(i)},a=t(e);do a=a.bind(r);while(a.isSome());return n},d0=function(e,t,n){return(e.compareDocumentPosition(t)&n)!==0},p0=function(e,t){return d0(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},m0=8,uv=9,fv=11,Ju=1,g0=3,zr=function(e,t){var n=e.dom;if(n.nodeType!==Ju)return!1;var r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},sv=function(e){return e.nodeType!==Ju&&e.nodeType!==uv&&e.nodeType!==fv||e.childElementCount===0},h0=function(e,t){var n=t===void 0?document:t.dom;return sv(n)?[]:ke(n.querySelectorAll(e),x.fromDom)},y0=function(e,t){var n=t===void 0?document:t.dom;return sv(n)?b.none():b.from(n.querySelector(e)).map(x.fromDom)},Se=function(e,t){return e.dom===t.dom},b0=function(e,t){var n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},C0=function(e,t){return p0(e.dom,t.dom)},Pn=function(e,t){return Ht().browser.isIE()?C0(e,t):b0(e,t)};typeof window!="undefined"||Function("return this;")();var Oe=function(e){var t=e.dom.nodeName;return t.toLowerCase()},lv=function(e){return e.dom.nodeType},Li=function(e){return function(t){return lv(t)===e}},w0=function(e){return lv(e)===m0||Oe(e)==="#comment"},nn=Li(Ju),Lt=Li(g0),E0=Li(uv),S0=Li(fv),cv=function(e){return x.fromDom(e.dom.ownerDocument)},Hr=function(e){return E0(e)?e:cv(e)},x0=function(e){return x.fromDom(Hr(e).dom.documentElement)},vv=function(e){return x.fromDom(Hr(e).dom.defaultView)},Vt=function(e){return b.from(e.dom.parentNode).map(x.fromDom)},k0=function(e,t){for(var n=We(t)?t:he,r=e.dom,a=[];r.parentNode!==null&&r.parentNode!==void 0;){var i=r.parentNode,o=x.fromDom(i);if(a.push(o),n(o)===!0)break;r=i}return a},N0=function(e){var t=function(n){return ve(n,function(r){return!Se(e,r)})};return Vt(e).map(Nt).map(t).getOr([])},or=function(e){return b.from(e.dom.previousSibling).map(x.fromDom)},Ua=function(e){return b.from(e.dom.nextSibling).map(x.fromDom)},dv=function(e){return Pi(ov(e,or))},pv=function(e){return ov(e,Ua)},Nt=function(e){return ke(e.dom.childNodes,x.fromDom)},Ii=function(e,t){var n=e.dom.childNodes;return b.from(n[t]).map(x.fromDom)},mv=function(e){return Ii(e,0)},ef=function(e){return Ii(e,e.dom.childNodes.length-1)},A0=function(e){return e.dom.childNodes.length},T0=function(e){var t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return x.fromDom(t)},gv=function(e){return S0(e)&&mt(e.dom.host)},hv=We(Element.prototype.attachShadow)&&We(Node.prototype.getRootNode),R0=Z(hv),ur=hv?function(e){return x.fromDom(e.dom.getRootNode())}:Hr,tf=function(e){return gv(e)?e:T0(Hr(e))},B0=function(e){var t=ur(e);return gv(t)?b.some(t):b.none()},D0=function(e){return x.fromDom(e.dom.host)},P0=function(e){if(R0()&&mt(e.target)){var t=x.fromDom(e.target);if(nn(t)&&O0(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return St(n)}}return b.from(e.target)},O0=function(e){return mt(e.dom.shadowRoot)},qt=function(e,t){var n=Vt(e);n.each(function(r){r.dom.insertBefore(t.dom,e.dom)})},za=function(e,t){var n=Ua(e);n.fold(function(){var r=Vt(e);r.each(function(a){Ge(a,t)})},function(r){qt(r,t)})},yv=function(e,t){var n=mv(e);n.fold(function(){Ge(e,t)},function(r){e.dom.insertBefore(t.dom,r.dom)})},Ge=function(e,t){e.dom.appendChild(t.dom)},_0=function(e,t){qt(e,t),Ge(t,e)},L0=function(e,t){Y(t,function(n){qt(e,n)})},$i=function(e,t){Y(t,function(n){Ge(e,n)})},nf=function(e){e.dom.textContent="",Y(Nt(e),function(t){Xe(t)})},Xe=function(e){var t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},bv=function(e){var t=Nt(e);t.length>0&&L0(e,t),Xe(e)},Ha=function(e){var t=Lt(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;var n=t.ownerDocument;return B0(x.fromDom(t)).fold(function(){return n.body.contains(t)},vC(Ha,D0))},Cv=function(e,t){var n=function(r,a){return Cv(e+r,t+a)};return{left:e,top:t,translate:n}},Vr=Cv,I0=function(e){var t=e.getBoundingClientRect();return Vr(t.left,t.top)},Fi=function(e,t){return e!==void 0?e:t!==void 0?t:0},$0=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,a=t.documentElement;if(n===e.dom)return Vr(n.offsetLeft,n.offsetTop);var i=Fi(r==null?void 0:r.pageYOffset,a.scrollTop),o=Fi(r==null?void 0:r.pageXOffset,a.scrollLeft),u=Fi(a.clientTop,n.clientTop),f=Fi(a.clientLeft,n.clientLeft);return rf(e).translate(o-f,i-u)},rf=function(e){var t=e.dom,n=t.ownerDocument,r=n.body;return r===t?Vr(r.offsetLeft,r.offsetTop):Ha(e)?I0(t):Vr(0,0)},af=function(e){var t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Vr(n,r)},wv=function(e,t,n){var r=n!==void 0?n.dom:document,a=r.defaultView;a&&a.scrollTo(e,t)},Ev=function(e,t){var n=Ht().browser.isSafari();n&&We(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},F0=function(e){var t=e===void 0?window:e;return b.from(t.visualViewport)},Sv=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},xv=function(e){var t=e===void 0?window:e,n=t.document,r=af(x.fromDom(n));return F0(t).fold(function(){var a=t.document.documentElement,i=a.clientWidth,o=a.clientHeight;return Sv(r.left,r.top,i,o)},function(a){return Sv(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height)})},Va=function(e){return function(t){return!!t&&t.nodeType===e}},Mi=function(e){return!!e&&!Object.getPrototypeOf(e)},ie=Va(1),It=function(e){var t=e.map(function(n){return n.toLowerCase()});return function(n){if(n&&n.nodeName){var r=n.nodeName.toLowerCase();return ze(t,r)}return!1}},Ui=function(e,t){var n=t.toLowerCase().split(" ");return function(r){var a,i;if(ie(r))for(a=0;a<n.length;a++){var o=r.ownerDocument.defaultView.getComputedStyle(r,null);if(i=o?o.getPropertyValue(e):null,i===n[a])return!0}return!1}},kv=function(e){return function(t){return ie(t)&&t.hasAttribute(e)}},M0=function(e,t){return function(n){return ie(n)&&n.getAttribute(e)===t}},qr=function(e){return ie(e)&&e.hasAttribute("data-mce-bogus")},U0=function(e){return ie(e)&&e.getAttribute("data-mce-bogus")==="all"},Wr=function(e){return ie(e)&&e.tagName==="TABLE"},Nv=function(e){return function(t){return!!(ie(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e))}},of=It(["textarea","input"]),Q=Va(3),z0=Va(8),uf=Va(9),ff=Va(11),De=It(["br"]),H0=It(["img"]),rn=Nv("true"),xe=Nv("false"),Av=It(["td","th"]),$t=It(["video","audio","object","embed"]),zi=function(e){return e.style!==void 0&&We(e.style.getPropertyValue)},Tv=function(e,t,n){if(Ue(n)||wc(n)||Fr(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},Cn=function(e,t,n){Tv(e.dom,t,n)},On=function(e,t){var n=e.dom;Be(t,function(r,a){Tv(n,a,r)})},qa=function(e,t){var n=e.dom.getAttribute(t);return n===null?void 0:n},Rv=function(e,t){return b.from(qa(e,t))},V0=function(e,t){var n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},fr=function(e,t){e.dom.removeAttribute(t)},q0=function(e){return zt(e.dom.attributes,function(t,n){return t[n.name]=n.value,t},{})},W0=function(e,t,n){if(!Ue(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);zi(e)&&e.style.setProperty(t,n)},j0=function(e,t){var n=e.dom;Be(t,function(r,a){W0(n,a,r)})},wn=function(e,t){var n=e.dom,r=window.getComputedStyle(n),a=r.getPropertyValue(t);return a===""&&!Ha(e)?Bv(n,t):a},Bv=function(e,t){return zi(e)?e.style.getPropertyValue(t):""},sf=function(e,t){var n=e.dom,r=Bv(n,t);return b.from(r).filter(function(a){return a.length>0})},Dv=function(e){var t={},n=e.dom;if(zi(n))for(var r=0;r<n.style.length;r++){var a=n.style.item(r);t[a]=n.style[a]}return t},K0=function(e){return e.dom.offsetWidth},G0=Ht().browser,Pv=function(e){return ot(e,nn)},X0=function(e){return G0.isFirefox()&&Oe(e)==="table"?Pv(Nt(e)).filter(function(t){return Oe(t)==="caption"}).bind(function(t){return Pv(pv(t)).map(function(n){var r=n.dom.offsetTop,a=t.dom.offsetTop,i=t.dom.offsetHeight;return r<=a?-i:0})}).getOr(0):0},Ov=function(e,t){return e.children&&ze(e.children,t)},Y0=function(e,t,n){var r=0,a=0,i,o=e.ownerDocument,u;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&wn(x.fromDom(e),"position")==="static")return u=t.getBoundingClientRect(),r=u.left+(o.documentElement.scrollLeft||e.scrollLeft)-o.documentElement.clientLeft,a=u.top+(o.documentElement.scrollTop||e.scrollTop)-o.documentElement.clientTop,{x:r,y:a};for(i=t;i&&i!==n&&i.nodeType&&!Ov(i,n);)r+=i.offsetLeft||0,a+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!==n&&i.nodeType&&!Ov(i,n);)r-=i.scrollLeft||0,a-=i.scrollTop||0,i=i.parentNode;a+=X0(x.fromDom(t))}return{x:r,y:a}},_v={},Lv={exports:_v};(function(e,t,n,r){(function(a){if(typeof t=="object"&&typeof n!="undefined")n.exports=a();else if(typeof e=="function"&&e.amd)e([],a);else{var i;typeof window!="undefined"?i=window:typeof tC!="undefined"?i=tC:typeof self!="undefined"?i=self:i=this,i.EphoxContactWrapper=a()}})(function(){return function(){function a(i,o,u){function f(l,v){if(!o[l]){if(!i[l]){var p=typeof r=="function"&&r;if(!v&&p)return p(l,!0);if(s)return s(l,!0);var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m}var g=o[l]={exports:{}};i[l][0].call(g.exports,function(d){var y=i[l][1][d];return f(y||d)},g,g.exports,a,i,o,u)}return o[l].exports}for(var s=typeof r=="function"&&r,c=0;c<u.length;c++)f(u[c]);return f}return a}()({1:[function(a,i,o){var u=i.exports={},f,s;function c(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?f=setTimeout:f=c}catch{f=c}try{typeof clearTimeout=="function"?s=clearTimeout:s=l}catch{s=l}})();function v(R){if(f===setTimeout)return setTimeout(R,0);if((f===c||!f)&&setTimeout)return f=setTimeout,setTimeout(R,0);try{return f(R,0)}catch{try{return f.call(null,R,0)}catch{return f.call(this,R,0)}}}function p(R){if(s===clearTimeout)return clearTimeout(R);if((s===l||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(R);try{return s(R)}catch{try{return s.call(null,R)}catch{return s.call(this,R)}}}var m=[],g=!1,d,y=-1;function h(){!g||!d||(g=!1,d.length?m=d.concat(m):y=-1,m.length&&C())}function C(){if(!g){var R=v(h);g=!0;for(var L=m.length;L;){for(d=m,m=[];++y<L;)d&&d[y].run();y=-1,L=m.length}d=null,g=!1,p(R)}}u.nextTick=function(R){var L=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)L[I-1]=arguments[I];m.push(new w(R,L)),m.length===1&&!g&&v(C)};function w(R,L){this.fun=R,this.array=L}w.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function S(){}u.on=S,u.addListener=S,u.once=S,u.off=S,u.removeListener=S,u.removeAllListeners=S,u.emit=S,u.prependListener=S,u.prependOnceListener=S,u.listeners=function(R){return[]},u.binding=function(R){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(R){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],2:[function(a,i,o){(function(u){(function(f){var s=setTimeout;function c(){}function l(C,w){return function(){C.apply(w,arguments)}}function v(C){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof C!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(C,this)}function p(C,w){for(;C._state===3;)C=C._value;if(C._state===0){C._deferreds.push(w);return}C._handled=!0,v._immediateFn(function(){var S=C._state===1?w.onFulfilled:w.onRejected;if(S===null){(C._state===1?m:g)(w.promise,C._value);return}var R;try{R=S(C._value)}catch(L){g(w.promise,L);return}m(w.promise,R)})}function m(C,w){try{if(w===C)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var S=w.then;if(w instanceof v){C._state=3,C._value=w,d(C);return}else if(typeof S=="function"){h(l(S,w),C);return}}C._state=1,C._value=w,d(C)}catch(R){g(C,R)}}function g(C,w){C._state=2,C._value=w,d(C)}function d(C){C._state===2&&C._deferreds.length===0&&v._immediateFn(function(){C._handled||v._unhandledRejectionFn(C._value)});for(var w=0,S=C._deferreds.length;w<S;w++)p(C,C._deferreds[w]);C._deferreds=null}function y(C,w,S){this.onFulfilled=typeof C=="function"?C:null,this.onRejected=typeof w=="function"?w:null,this.promise=S}function h(C,w){var S=!1;try{C(function(R){S||(S=!0,m(w,R))},function(R){S||(S=!0,g(w,R))})}catch(R){if(S)return;S=!0,g(w,R)}}v.prototype.catch=function(C){return this.then(null,C)},v.prototype.then=function(C,w){var S=new this.constructor(c);return p(this,new y(C,w,S)),S},v.all=function(C){var w=Array.prototype.slice.call(C);return new v(function(S,R){if(w.length===0)return S([]);var L=w.length;function I(X,O){try{if(O&&(typeof O=="object"||typeof O=="function")){var ee=O.then;if(typeof ee=="function"){ee.call(O,function(M){I(X,M)},R);return}}w[X]=O,--L===0&&S(w)}catch(M){R(M)}}for(var K=0;K<w.length;K++)I(K,w[K])})},v.resolve=function(C){return C&&typeof C=="object"&&C.constructor===v?C:new v(function(w){w(C)})},v.reject=function(C){return new v(function(w,S){S(C)})},v.race=function(C){return new v(function(w,S){for(var R=0,L=C.length;R<L;R++)C[R].then(w,S)})},v._immediateFn=typeof u=="function"?function(C){u(C)}:function(C){s(C,0)},v._unhandledRejectionFn=function(w){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",w)},v._setImmediateFn=function(w){v._immediateFn=w},v._setUnhandledRejectionFn=function(w){v._unhandledRejectionFn=w},typeof i!="undefined"&&i.exports?i.exports=v:f.Promise||(f.Promise=v)})(this)}).call(this,a("timers").setImmediate)},{timers:3}],3:[function(a,i,o){(function(u,f){var s=a("process/browser.js").nextTick,c=Function.prototype.apply,l=Array.prototype.slice,v={},p=0;o.setTimeout=function(){return new m(c.call(setTimeout,window,arguments),clearTimeout)},o.setInterval=function(){return new m(c.call(setInterval,window,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(g){g.close()};function m(g,d){this._id=g,this._clearFn=d}m.prototype.unref=m.prototype.ref=function(){},m.prototype.close=function(){this._clearFn.call(window,this._id)},o.enroll=function(g,d){clearTimeout(g._idleTimeoutId),g._idleTimeout=d},o.unenroll=function(g){clearTimeout(g._idleTimeoutId),g._idleTimeout=-1},o._unrefActive=o.active=function(g){clearTimeout(g._idleTimeoutId);var d=g._idleTimeout;d>=0&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},d))},o.setImmediate=typeof u=="function"?u:function(g){var d=p++,y=arguments.length<2?!1:l.call(arguments,1);return v[d]=!0,s(function(){v[d]&&(y?g.apply(null,y):g.call(null),o.clearImmediate(d))}),d},o.clearImmediate=typeof f=="function"?f:function(g){delete v[g]}}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(a,i,o){var u=a("promise-polyfill"),f=function(){return typeof window!="undefined"?window:Function("return this;")()}();i.exports={boltExport:f.Promise||u}},{"promise-polyfill":2}]},{},[4])(4)})})(void 0,_v,Lv,void 0);var Iv=Lv.exports.boltExport,lf=function(e){var t=b.none(),n=[],r=function(s){return lf(function(c){a(function(l){c(s(l))})})},a=function(s){o()?f(s):n.push(s)},i=function(s){o()||(t=b.some(s),u(n),n=[])},o=function(){return t.isSome()},u=function(s){Y(s,f)},f=function(s){t.each(function(c){setTimeout(function(){s(c)},0)})};return e(i),{get:a,map:r,isReady:o}},Q0=function(e){return lf(function(t){t(e)})},Z0={nu:lf,pure:Q0},J0=function(e){setTimeout(function(){throw e},0)},jr=function(e){var t=function(f){e().then(f,J0)},n=function(f){return jr(function(){return e().then(f)})},r=function(f){return jr(function(){return e().then(function(s){return f(s).toPromise()})})},a=function(f){return jr(function(){return e().then(function(){return f.toPromise()})})},i=function(){return Z0.nu(t)},o=function(){var f=null;return jr(function(){return f===null&&(f=e()),f})},u=e;return{map:n,bind:r,anonBind:a,toLazy:i,toCached:o,toPromise:u,get:t}},ew=function(e){return jr(function(){return new Iv(e)})},tw=function(e){return jr(function(){return Iv.resolve(e)})},$v={nu:ew,pure:tw},nw=function(e,t){return t(function(n){var r=[],a=0,i=function(o){return function(u){r[o]=u,a++,a>=e.length&&n(r)}};e.length===0?n([]):Y(e,function(o,u){o.get(i(u))})})},rw=function(e){return nw(e,$v.nu)},Kr=function(e){var t=function(v){return e===v},n=function(v){return Kr(e)},r=function(v){return Kr(e)},a=function(v){return Kr(v(e))},i=function(v){return Kr(e)},o=function(v){v(e)},u=function(v){return v(e)},f=function(v,p){return p(e)},s=function(v){return v(e)},c=function(v){return v(e)},l=function(){return b.some(e)};return{is:t,isValue:je,isError:he,getOr:Z(e),getOrThunk:Z(e),getOrDie:Z(e),or:n,orThunk:r,fold:f,map:a,mapError:i,each:o,bind:u,exists:s,forall:c,toOptional:l}},Wa=function(e){var t=function(s){return s()},n=function(){return Ec(String(e))()},r=function(s){return s},a=function(s){return s()},i=function(s){return Wa(e)},o=function(s){return Wa(s(e))},u=function(s){return Wa(e)},f=function(s,c){return s(e)};return{is:he,isValue:he,isError:je,getOr:Ut,getOrThunk:t,getOrDie:n,or:r,orThunk:a,fold:f,map:i,mapError:o,each:fe,bind:u,exists:he,forall:je,toOptional:b.none}},aw=function(e,t){return e.fold(function(){return Wa(t)},Kr)},Fv={value:Kr,error:Wa,fromOption:aw},iw=function(e){if(!_t(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var t=[],n={};return Y(e,function(r,a){var i=ir(r);if(i.length!==1)throw new Error("one and only one name per case");var o=i[0],u=r[o];if(n[o]!==void 0)throw new Error("duplicate key detected:"+o);if(o==="cata")throw new Error("cannot have a case named cata (sorry)");if(!_t(u))throw new Error("case arguments must be an array");t.push(o),n[o]=function(){for(var f=[],s=0;s<arguments.length;s++)f[s]=arguments[s];var c=f.length;if(c!==u.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+u.length+" ("+u+"), got "+c);var l=function(v){var p=ir(v);if(t.length!==p.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+p.join(","));var m=La(t,function(g){return ze(p,g)});if(!m)throw new Error("Not all branches were specified when using match. Specified: "+p.join(", ")+`
Required: `+t.join(", "));return v[o].apply(null,f)};return{fold:function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];if(v.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+v.length);var m=v[a];return m.apply(null,f)},match:l,log:function(v){console.log(v,{constructors:t,constructor:o,params:f})}}}}),n},_n={generate:iw};_n.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Mv=function(e){return e.fold(Ut,Ut)};function Uv(e,t,n,r,a){return e(n,r)?b.some(n):We(a)&&a(n)?b.none():t(n,r,a)}var ja=function(e,t,n){for(var r=e.dom,a=We(n)?n:he;r.parentNode;){r=r.parentNode;var i=x.fromDom(r);if(t(i))return b.some(i);if(a(i))break}return b.none()},Hi=function(e,t,n){var r=function(a,i){return i(a)};return Uv(r,ja,e,t,n)},ow=function(e,t){var n=e.dom;return n.parentNode?uw(x.fromDom(n.parentNode),function(r){return!Se(e,r)&&t(r)}):b.none()},uw=function(e,t){var n=function(a){return t(x.fromDom(a))},r=ot(e.dom.childNodes,n);return r.map(x.fromDom)},Vi=function(e,t,n){return ja(e,function(r){return zr(r,t)},n)},qi=function(e,t){return y0(t,e)},cf=function(e,t,n){var r=function(a,i){return zr(a,i)};return Uv(r,Vi,e,t,n)},fw=function(){var e=function(c,l){return function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];c.apply(l,v)}},t=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"},n=function(c){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof c!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(c,e(i,this),e(o,this))},r=n.immediateFn||typeof setImmediate=="function"&&setImmediate||function(c){return setTimeout(c,1)};function a(c){var l=this;if(this._state===null){this._deferreds.push(c);return}r(function(){var v=l._state?c.onFulfilled:c.onRejected;if(v===null){(l._state?c.resolve:c.reject)(l._value);return}var p;try{p=v(l._value)}catch(m){c.reject(m);return}c.resolve(p)})}function i(c){try{if(c===this)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){s(e(l,c),e(i,this),e(o,this));return}}this._state=!0,this._value=c,u.call(this)}catch(v){o.call(this,v)}}function o(c){this._state=!1,this._value=c,u.call(this)}function u(){for(var c=0,l=this._deferreds.length;c<l;c++)a.call(this,this._deferreds[c]);this._deferreds=null}function f(c,l,v,p){this.onFulfilled=typeof c=="function"?c:null,this.onRejected=typeof l=="function"?l:null,this.resolve=v,this.reject=p}var s=function(c,l,v){var p=!1;try{c(function(m){p||(p=!0,l(m))},function(m){p||(p=!0,v(m))})}catch(m){if(p)return;p=!0,v(m)}};return n.prototype.catch=function(c){return this.then(null,c)},n.prototype.then=function(c,l){var v=this;return new n(function(p,m){a.call(v,new f(c,l,p,m))})},n.all=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var v=Array.prototype.slice.call(c.length===1&&t(c[0])?c[0]:c);return new n(function(p,m){if(v.length===0)return p([]);for(var g=v.length,d=function(h,C){try{if(C&&(typeof C=="object"||typeof C=="function")){var w=C.then;if(typeof w=="function"){w.call(C,function(S){d(h,S)},m);return}}v[h]=C,--g===0&&p(v)}catch(S){m(S)}},y=0;y<v.length;y++)d(y,v[y])})},n.resolve=function(c){return c&&typeof c=="object"&&c.constructor===n?c:new n(function(l){l(c)})},n.reject=function(c){return new n(function(l,v){v(c)})},n.race=function(c){return new n(function(l,v){for(var p=0,m=c.length;p<m;p++)c[p].then(l,v)})},n},He=window.Promise?window.Promise:fw(),vf,sw=function(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],a=function(o){window.setTimeout(o,0)},i=0;i<r.length&&!n;i++)n=window[r[i]+"RequestAnimationFrame"];n||(n=a),n(e,t)},df=function(e,t){return typeof t!="number"&&(t=0),setTimeout(e,t)},zv=function(e,t){return typeof t!="number"&&(t=1),setInterval(e,t)},lw=function(e){return clearTimeout(e)},cw=function(e){return clearInterval(e)},Hv=function(e,t){var n,r=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];clearTimeout(n),n=df(function(){e.apply(this,a)},t)};return r.stop=function(){clearTimeout(n)},r},Ye={requestAnimationFrame:function(e,t){if(vf){vf.then(e);return}vf=new He(function(n){t||(t=document.body),sw(n,t)}).then(e)},setTimeout:df,setInterval:zv,setEditorTimeout:function(e,t,n){return df(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=zv(function(){e.removed?clearInterval(r):t()},n);return r},debounce:Hv,throttle:Hv,clearInterval:cw,clearTimeout:lw},Vv=function(e,t){t===void 0&&(t={});var n=0,r={},a=x.fromDom(e),i=Hr(a),o=t.maxLoadTime||5e3,u=function(d){t.referrerPolicy=d},f=function(d){Ge(tf(a),d)},s=function(d){var y=tf(a);qi(y,"#"+d).each(Xe)},c=function(d){return xt(r,d).getOrThunk(function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}})},l=function(d,y,h){var C,w=B._addCacheSuffix(d),S=c(w);r[w]=S,S.count++;var R=function(M,G){for(var F=M.length;F--;)M[F]();S.status=G,S.passed=[],S.failed=[],C&&(C.onload=null,C.onerror=null,C=null)},L=function(){return R(S.passed,2)},I=function(){return R(S.failed,3)},K=function(M,G){M()||(Date.now()-ee<o?Ye.setTimeout(G):I())},X=function(){K(function(){for(var M=e.styleSheets,G=M.length;G--;){var F=M[G],z=F.ownerNode;if(z&&z.id===C.id)return L(),!0}return!1},X)};if(y&&S.passed.push(y),h&&S.failed.push(h),S.status!==1){if(S.status===2){L();return}if(S.status===3){I();return}S.status=1;var O=x.fromTag("link",i.dom);On(O,{rel:"stylesheet",type:"text/css",id:S.id});var ee=Date.now();t.contentCssCors&&Cn(O,"crossOrigin","anonymous"),t.referrerPolicy&&Cn(O,"referrerpolicy",t.referrerPolicy),C=O.dom,C.onload=X,C.onerror=I,f(O),Cn(O,"href",w)}},v=function(d){return $v.nu(function(y){l(d,ar(y,Z(Fv.value(d))),ar(y,Z(Fv.error(d))))})},p=function(d,y,h){rw(ke(d,v)).get(function(C){var w=bC(C,function(S){return S.isValue()});w.fail.length>0?h(w.fail.map(Mv)):y(w.pass.map(Mv))})},m=function(d){var y=B._addCacheSuffix(d);xt(r,y).each(function(h){var C=--h.count;C===0&&(delete r[y],s(h.id))})},g=function(d){Y(d,function(y){m(y)})};return{load:l,loadAll:p,unload:m,unloadAll:g,_setReferrerPolicy:u}},vw=function(){var e=new WeakMap,t=function(n,r){var a=ur(n),i=a.dom;return b.from(e.get(i)).getOrThunk(function(){var o=Vv(i,r);return e.set(i,o),o})};return{forElement:t}},qv=vw(),Ie=function(){function e(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},e.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},e.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},e.prototype.findSibling=function(t,n,r,a){var i,o;if(t){if(!a&&t[n])return t[n];if(t!==this.rootNode){if(i=t[r],i)return i;for(o=t.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(i=o[r],i)return i}}},e.prototype.findPreviousNode=function(t,n,r,a){var i,o,u;if(t){if(i=t[r],this.rootNode&&i===this.rootNode)return;if(i){if(!a){for(u=i[n];u;u=u[n])if(!u[n])return u}return i}if(o=t.parentNode,o&&o!==this.rootNode)return o}},e}(),dw=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],pw=["td","th"],mw=["thead","tbody","tfoot"],gw=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],hw=["h1","h2","h3","h4","h5","h6"],yw=["li","dd","dt"],bw=["ul","ol","dl"],Cw=["pre","script","textarea","style"],Ln=function(e){var t;return function(n){return t=t||EC(e,je),t.hasOwnProperty(Oe(n))}},ww=Ln(hw),an=Ln(dw),Ew=function(e){return Oe(e)==="table"},pf=function(e){return nn(e)&&!an(e)},Gr=function(e){return nn(e)&&Oe(e)==="br"},Wv=Ln(gw),mf=Ln(bw),Ka=Ln(yw),Sw=Ln(mw),Wi=Ln(pw),ji=Ln(Cw),xw=function(e,t,n){return Vi(e,t,n).isSome()},gf="\uFEFF",ht="\xA0",kw=function(e){return e===gf},Nw=function(e){return e.replace(/\uFEFF/g,"")},Ve=gf,hf=kw,In=Nw,Aw=ie,Xr=Q,Yr=function(e){return Xr(e)&&(e=e.parentNode),Aw(e)&&e.hasAttribute("data-mce-caret")},Qr=function(e){return Xr(e)&&hf(e.data)},At=function(e){return Yr(e)||Qr(e)},jv=function(e){return e.firstChild!==e.lastChild||!De(e.firstChild)},Tw=function(e,t){var n,r=e.ownerDocument,a=r.createTextNode(Ve),i=e.parentNode;if(t){if(n=e.previousSibling,Xr(n)){if(At(n))return n;if(Gi(n))return n.splitText(n.data.length-1)}i.insertBefore(a,e)}else{if(n=e.nextSibling,Xr(n)){if(At(n))return n;if(Ki(n))return n.splitText(1),n}e.nextSibling?i.insertBefore(a,e.nextSibling):i.appendChild(a)}return a},yf=function(e){var t=e.container();return Q(t)?t.data.charAt(e.offset())===Ve||e.isAtStart()&&Qr(t.previousSibling):!1},bf=function(e){var t=e.container();return Q(t)?t.data.charAt(e.offset()-1)===Ve||e.isAtEnd()&&Qr(t.nextSibling):!1},Rw=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Bw=function(e,t,n){var r=t.ownerDocument,a=r.createElement(e);a.setAttribute("data-mce-caret",n?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(Rw());var i=t.parentNode;return n?i.insertBefore(a,t):t.nextSibling?i.insertBefore(a,t.nextSibling):i.appendChild(a),a},Ki=function(e){return Xr(e)&&e.data[0]===Ve},Gi=function(e){return Xr(e)&&e.data[e.data.length-1]===Ve},Dw=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];qr(n)&&n.parentNode.removeChild(n)},Cf=function(e){return e&&e.hasAttribute("data-mce-caret")?(Dw(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Pw=function(e){return Yr(e.startContainer)},Kv=rn,Ow=xe,_w=De,Lw=Q,Iw=It(["script","style","textarea"]),Gv=It(["img","input","textarea","hr","iframe","video","audio","object","embed"]),$w=It(["table"]),Fw=At,on=function(e){return Fw(e)?!1:Lw(e)?!Iw(e.parentNode):Gv(e)||_w(e)||$w(e)||wf(e)},Mw=function(e){return ie(e)&&e.getAttribute("unselectable")==="true"},wf=function(e){return Mw(e)===!1&&Ow(e)},Uw=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(wf(e))return!1;if(Kv(e))return!0}return!0},zw=function(e){return wf(e)?zt(Bn(e.getElementsByTagName("*")),function(t,n){return t||Kv(n)},!1)!==!0:!1},Hw=function(e){return Gv(e)||zw(e)},Xi=function(e,t){return on(e)&&Uw(e,t)},Vw=/^[ \t\r\n]*$/,sr=function(e){return Vw.test(e)},qw=function(e,t){var n=x.fromDom(t),r=x.fromDom(e);return xw(r,"pre,code",j(Se,n))},Ww=function(e,t){return Q(e)&&sr(e.data)&&qw(e,t)===!1},jw=function(e){return ie(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Yi=function(e,t){return on(e)&&Ww(e,t)===!1||jw(e)||Kw(e)},Kw=kv("data-mce-bookmark"),Gw=kv("data-mce-bogus"),Xw=M0("data-mce-bogus","all"),Yw=function(e,t){var n,r=0;if(Yi(e,e))return!1;if(n=e.firstChild,!n)return!0;var a=new Ie(n,e);do{if(t){if(Xw(n)){n=a.next(!0);continue}if(Gw(n)){n=a.next();continue}}if(De(n)){r++,n=a.next();continue}if(Yi(n,e))return!1;n=a.next()}while(n);return r<=1},yt=function(e,t){return t===void 0&&(t=!0),Yw(e.dom,t)},Qw=function(e){return e.nodeName.toLowerCase()==="span"},Xv=function(e,t){return mt(e)&&(Yi(e,t)||pf(x.fromDom(e)))},Zw=function(e,t){var n=new Ie(e,t).prev(!1),r=new Ie(e,t).next(!1),a=Oa(n)||Xv(n,t),i=Oa(r)||Xv(r,t);return a&&i},Yv=function(e){return Qw(e)&&e.getAttribute("data-mce-type")==="bookmark"},Jw=function(e,t){return Q(e)&&e.data.length>0&&Zw(e,t)},eE=function(e){return ie(e)?e.childNodes.length>0:!1},tE=function(e){return ff(e)||uf(e)},Ef=function(e,t,n){var r=n||t;if(ie(t)&&Yv(t))return t;for(var a=t.childNodes,i=a.length-1;i>=0;i--)Ef(e,a[i],r);if(ie(t)){var o=t.childNodes;o.length===1&&Yv(o[0])&&t.parentNode.insertBefore(o[0],t)}return!tE(t)&&!Yi(t,r)&&!eE(t)&&!Jw(t,r)&&e.remove(t),t},nE=B.makeMap,Qi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rE=/[<>&\"\']/g,aE=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,iE={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},lr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},oE={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},uE=function(e){var t=x.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Qv=function(e,t){var n,r,a,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),lr[r]||(a="&"+e[n+1]+";",i[r]=a,i[a]=r);return i}},Sf=Qv("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Zv=function(e,t){return e.replace(t?Qi:Zi,function(n){return lr[n]||n})},fE=function(e){return(""+e).replace(rE,function(t){return lr[t]||t})},Jv=function(e,t){return e.replace(t?Qi:Zi,function(n){return n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":lr[n]||"&#"+n.charCodeAt(0)+";"})},xf=function(e,t,n){return n=n||Sf,e.replace(t?Qi:Zi,function(r){return lr[r]||n[r]||r})},sE=function(e,t){var n=Qv(t)||Sf,r=function(o,u){return o.replace(u?Qi:Zi,function(f){return lr[f]!==void 0?lr[f]:n[f]!==void 0?n[f]:f.length>1?"&#"+((f.charCodeAt(0)-55296)*1024+(f.charCodeAt(1)-56320)+65536)+";":"&#"+f.charCodeAt(0)+";"})},a=function(o,u){return xf(o,u,n)},i=nE(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?a:xf:i.numeric?Jv:Zv},lE=function(e){return e.replace(aE,function(t,n){return n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):iE[n]||String.fromCharCode(n)):oE[t]||Sf[t]||uE(t)})},cr={encodeRaw:Zv,encodeAllRaw:fE,encodeNumeric:Jv,encodeNamed:xf,getEncodeFunc:sE,decode:lE},$n={},cE={},Zr=B.makeMap,et=B.each,kf=B.extend,ed=B.explode,vE=B.inArray,qe=function(e,t){return e=B.trim(e),e?e.split(t||" "):[]},dE=function(e){var t={},n,r,a,i,o,u,f=function(c,l,v){var p,m,g,d=function(h,C){var w={},S,R;for(S=0,R=h.length;S<R;S++)w[h[S]]=C||{};return w};v=v||[],l=l||"",typeof v=="string"&&(v=qe(v));var y=qe(c);for(p=y.length;p--;)m=qe([n,l].join(" ")),g={attributes:d(m),attributesOrder:m,children:d(v,cE)},t[y[p]]=g},s=function(c,l){var v,p,m,g,d=qe(c);v=d.length;for(var y=qe(l);v--;)for(p=t[d[v]],m=0,g=y.length;m<g;m++)p.attributes[y[m]]={},p.attributesOrder.push(y[m])};return $n[e]?$n[e]:(n="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav",a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(n+=" xml:lang",u="acronym applet basefont big font strike tt",a=[a,u].join(" "),et(qe(u),function(c){f(c,"",a)}),o="center dir isindex noframes",r=[r,o].join(" "),i=[r,a].join(" "),et(qe(o),function(c){f(c,"",i)})),i=i||[r,a].join(" "),f("html","manifest","head body"),f("head","","base command link meta noscript script style title"),f("title hr noscript br"),f("base","href target"),f("link","href rel media hreflang type sizes hreflang"),f("meta","name http-equiv content charset"),f("style","media type scoped"),f("script","src async defer type charset"),f("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),f("address dt dd div caption","",i),f("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),f("blockquote","cite",i),f("ol","reversed start type","li"),f("ul","","li"),f("li","value",i),f("dl","","dt dd"),f("a","href target rel media hreflang type",a),f("q","cite",a),f("ins del","cite datetime",i),f("img","src sizes srcset alt usemap ismap width height"),f("iframe","src name width height",i),f("embed","src type width height"),f("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),f("param","name value"),f("map","name",[i,"area"].join(" ")),f("area","alt coords shape href target rel media hreflang type"),f("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),f("colgroup","span","col"),f("col","span"),f("tbody thead tfoot","","tr"),f("tr","","td th"),f("td","colspan rowspan headers",i),f("th","colspan rowspan headers scope abbr",i),f("form","accept-charset action autocomplete enctype method name novalidate target",i),f("fieldset","disabled form name",[i,"legend"].join(" ")),f("label","form for",a),f("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),f("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:a),f("select","disabled form multiple name required size","option optgroup"),f("optgroup","disabled label","option"),f("option","disabled label selected value"),f("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),f("menu","type label",[i,"li"].join(" ")),f("noscript","",i),e!=="html4"&&(f("wbr"),f("ruby","",[a,"rt rp"].join(" ")),f("figcaption","",i),f("mark rt rp summary bdi","",a),f("canvas","width height",i),f("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),f("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),f("picture","","img source"),f("source","src srcset type media sizes"),f("track","kind src srclang label default"),f("datalist","",[a,"option"].join(" ")),f("article section nav aside main header footer","",i),f("hgroup","","h1 h2 h3 h4 h5 h6"),f("figure","",[i,"figcaption"].join(" ")),f("time","datetime",a),f("dialog","open",i),f("command","type label icon disabled checked radiogroup command"),f("output","for form name",a),f("progress","value max",a),f("meter","value min max low high optimum",a),f("details","open",[i,"summary"].join(" ")),f("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),e!=="html4"&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("img","loading"),s("iframe","sandbox seamless allowfullscreen loading")),et(qe("a form meter progress dfn"),function(c){t[c]&&delete t[c].children[c]}),delete t.caption.children.table,delete t.script,$n[e]=t,t)},Nf=function(e,t){var n;return e&&(n={},typeof e=="string"&&(e={"*":e}),et(e,function(r,a){n[a]=n[a.toUpperCase()]=t==="map"?Zr(r,/[, ]/):ed(r,/[, ]/)})),n},Fn=function(e){var t={},n={},r=[],a={},i={},o=function(P,k,D){var N=e[P];return N?N=Zr(N,/[, ]/,Zr(N.toUpperCase(),/[, ]/)):(N=$n[P],N||(N=Zr(k," ",Zr(k.toUpperCase()," ")),N=kf(N,D),$n[P]=N)),N};e=e||{};var u=dE(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var f=Nf(e.valid_styles),s=Nf(e.invalid_styles,"map"),c=Nf(e.valid_classes,"map"),l=o("whitespace_elements","pre script noscript style textarea video audio iframe object code"),v=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),p=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),m=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),g="td th iframe video audio object script code",d=o("non_empty_elements",g+" pre",p),y=o("move_caret_before_on_enter_elements",g+" table",p),h=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),C=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",h),w=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");et((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(P){i[P]=new RegExp("</"+P+"[^>]*>","gi")});var S=function(P){return new RegExp("^"+P.replace(/([?+*])/g,".$1")+"$")},R=function(P){var k,D,N,H,V,te,oe,we,Le,at,Tn,Je,it,Ne,yn,vt,ye,pe,Me=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Jt=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,en=/[*?+]/;if(P){var Ot=qe(P,",");for(t["@"]&&(vt=t["@"].attributes,ye=t["@"].attributesOrder),k=0,D=Ot.length;k<D;k++)if(V=Me.exec(Ot[k]),V){if(Ne=V[1],Le=V[2],yn=V[3],we=V[5],Je={},it=[],te={attributes:Je,attributesOrder:it},Ne==="#"&&(te.paddEmpty=!0),Ne==="-"&&(te.removeEmpty=!0),V[4]==="!"&&(te.removeEmptyAttrs=!0),vt&&(Be(vt,function(tr,Da){Je[Da]=tr}),it.push.apply(it,ye)),we){for(we=qe(we,"|"),N=0,H=we.length;N<H;N++)if(V=Jt.exec(we[N]),V){if(oe={},Tn=V[1],at=V[2].replace(/[\\:]:/g,":"),Ne=V[3],pe=V[4],Tn==="!"&&(te.attributesRequired=te.attributesRequired||[],te.attributesRequired.push(at),oe.required=!0),Tn==="-"){delete Je[at],it.splice(vE(it,at),1);continue}Ne&&(Ne==="="&&(te.attributesDefault=te.attributesDefault||[],te.attributesDefault.push({name:at,value:pe}),oe.defaultValue=pe),Ne===":"&&(te.attributesForced=te.attributesForced||[],te.attributesForced.push({name:at,value:pe}),oe.forcedValue=pe),Ne==="<"&&(oe.validValues=Zr(pe,"?"))),en.test(at)?(te.attributePatterns=te.attributePatterns||[],oe.pattern=S(at),te.attributePatterns.push(oe)):(Je[at]||it.push(at),Je[at]=oe)}}!vt&&Le==="@"&&(vt=Je,ye=it),yn&&(te.outputName=Le,t[yn]=te),en.test(Le)?(te.pattern=S(Le),r.push(te)):t[Le]=te}}},L=function(P){t={},r=[],R(P),et(u,function(k,D){n[D]=k.children})},I=function(P){var k=/^(~)?(.+)$/;P&&($n.text_block_elements=$n.block_elements=null,et(qe(P,","),function(D){var N=k.exec(D),H=N[1]==="~",V=H?"span":"div",te=N[2];if(n[te]=n[V],a[te]=V,H||(C[te.toUpperCase()]={},C[te]={}),!t[te]){var oe=t[V];oe=kf({},oe),delete oe.removeEmptyAttrs,delete oe.removeEmpty,t[te]=oe}et(n,function(we,Le){we[V]&&(n[Le]=we=kf({},n[Le]),we[te]=we[V])})}))},K=function(P){var k=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;$n[e.schema]=null,P&&et(qe(P,","),function(D){var N=k.exec(D),H,V;N&&(V=N[1],V?H=n[N[2]]:H=n[N[2]]={"#comment":{}},H=n[N[2]],et(qe(N[3],"|"),function(te){V==="-"?delete H[te]:H[te]={}}))})},X=function(P){var k=t[P],D;if(k)return k;for(D=r.length;D--;)if(k=r[D],k.pattern.test(P))return k};e.valid_elements?L(e.valid_elements):(et(u,function(P,k){t[k]={attributes:P.attributes,attributesOrder:P.attributesOrder},n[k]=P.children}),e.schema!=="html5"&&et(qe("strong/b em/i"),function(P){var k=qe(P,"/");t[k[1]].outputName=k[0]}),et(qe("ol ul sub sup blockquote span font a table tbody strong em b i"),function(P){t[P]&&(t[P].removeEmpty=!0)}),et(qe("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(P){t[P].paddEmpty=!0}),et(qe("span"),function(P){t[P].removeEmptyAttrs=!0})),I(e.custom_elements),K(e.valid_children),R(e.extended_valid_elements),K("+ol[ul|ol],+ul[ul|ol]"),et({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(P,k){t[k]&&(t[k].parentsRequired=qe(P))}),e.invalid_elements&&et(ed(e.invalid_elements),function(P){t[P]&&delete t[P]}),X("span")||R("span[!data-mce-type|*]");var O=function(){return f},ee=function(){return s},M=function(){return c},G=function(){return m},F=function(){return C},z=function(){return h},W=function(){return w},_=function(){return p},q=function(){return v},le=function(){return d},ge=function(){return y},de=function(){return l},Te=function(){return i},Ae=function(P,k){var D=n[P.toLowerCase()];return!!(D&&D[k.toLowerCase()])},ct=function(P,k){var D,N,H=X(P);if(H)if(k){if(H.attributes[k])return!0;if(D=H.attributePatterns,D){for(N=D.length;N--;)if(D[N].pattern.test(P))return!0}}else return!0;return!1},rt=function(){return a};return{children:n,elements:t,getValidStyles:O,getValidClasses:M,getBlockElements:F,getInvalidStyles:ee,getShortEndedElements:_,getTextBlockElements:z,getTextInlineElements:W,getBoolAttrs:G,getElementRule:X,getSelfClosingElements:q,getNonEmptyElements:le,getMoveCaretBeforeOnEnterElements:ge,getWhiteSpaceElements:de,getSpecialElements:Te,isValidChild:Ae,isValid:ct,getCustomElements:rt,addValidElements:R,setValidElements:L,addCustomElements:I,addValidChildren:K}},td=function(e,t,n,r){var a=function(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i};return"#"+a(t)+a(n)+a(r)},Af=function(e,t){var n=this,r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,u,f={},s,c,l=gf;e=e||{},t&&(s=t.getValidStyles(),c=t.getInvalidStyles());var v=(`\\" \\' \\; \\: ; : `+l).split(" ");for(u=0;u<v.length;u++)f[v[u]]=l+u,f[l+u]=v[u];return{toHex:function(p){return p.replace(r,td)},parse:function(p){var m={},g,d,y,h,C=e.url_converter,w=e.url_converter_scope||n,S=function(M,G,F){var z=m[M+"-top"+G];if(!!z){var W=m[M+"-right"+G];if(!!W){var _=m[M+"-bottom"+G];if(!!_){var q=m[M+"-left"+G];if(!!q){var le=[z,W,_,q];for(u=le.length-1;u--&&le[u]===le[u+1];);u>-1&&F||(m[M+G]=u===-1?le[0]:le.join(" "),delete m[M+"-top"+G],delete m[M+"-right"+G],delete m[M+"-bottom"+G],delete m[M+"-left"+G])}}}}},R=function(M){var G=m[M],F;if(!!G){for(G=G.split(" "),F=G.length;F--;)if(G[F]!==G[0])return!1;return m[M]=G[0],!0}},L=function(M,G,F,z){!R(G)||!R(F)||!R(z)||(m[M]=m[G]+" "+m[F]+" "+m[z],delete m[G],delete m[F],delete m[z])},I=function(M){return h=!0,f[M]},K=function(M,G){return h&&(M=M.replace(/\uFEFF[0-9]/g,function(F){return f[F]})),G||(M=M.replace(/\\([\'\";:])/g,"$1")),M},X=function(M){return String.fromCharCode(parseInt(M.slice(1),16))},O=function(M){return M.replace(/\\[0-9a-f]+/gi,X)},ee=function(M,G,F,z,W,_){if(W=W||_,W)return W=K(W),"'"+W.replace(/\'/g,"\\'")+"'";if(G=K(G||F||z),!e.allow_script_urls){var q=G.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(q)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(q))return""}return C&&(G=C.call(w,G,"style")),"url('"+G.replace(/\'/g,"\\'")+"')"};if(p){for(p=p.replace(/[\u0000-\u001F]/g,""),p=p.replace(/\\[\"\';:\uFEFF]/g,I).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(M){return M.replace(/[;:]/g,I)});g=i.exec(p);)if(i.lastIndex=g.index+g[0].length,d=g[1].replace(o,"").toLowerCase(),y=g[2].replace(o,""),d&&y){if(d=O(d),y=O(y),d.indexOf(l)!==-1||d.indexOf('"')!==-1||!e.allow_script_urls&&(d==="behavior"||/expression\s*\(|\/\*|\*\//.test(y)))continue;d==="font-weight"&&y==="700"?y="bold":(d==="color"||d==="background-color")&&(y=y.toLowerCase()),y=y.replace(r,td),y=y.replace(a,ee),m[d]=h?K(y,!0):y}S("border","",!0),S("border","-width"),S("border","-color"),S("border","-style"),S("padding",""),S("margin",""),L("border","border-width","border-style","border-color"),m.border==="medium none"&&delete m.border,m["border-image"]==="none"&&delete m["border-image"]}return m},serialize:function(p,m){var g="",d=function(h){var C,w=s[h];if(w)for(var S=0,R=w.length;S<R;S++)h=w[S],C=p[h],C&&(g+=(g.length>0?" ":"")+h+": "+C+";")},y=function(h,C){var w=c["*"];return w&&w[h]?!1:(w=c[C],!(w&&w[h]))};return m&&s?(d("*"),d(m)):Be(p,function(h,C){h&&(!c||y(C,m))&&(g+=(g.length>0?" ":"")+C+": "+h+";")}),g}}},pE="mce-data-",mE=/^(?:mouse|contextmenu)|click/,gE={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},hE=function(e){return e.isDefaultPrevented===Jr||e.isDefaultPrevented===Ji},Ji=he,Jr=je,Tf=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},eo=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},yE=function(e){return mE.test(e.type)},ea=function(e,t){var n,r=t||{};for(n in e)gE[n]||(r[n]=e[n]);if(r.target||(r.target=r.srcElement||document),r.composedPath&&(r.composedPath=function(){return e.composedPath()}),e&&yE(e)&&e.pageX===void 0&&e.clientX!==void 0){var a=r.target.ownerDocument||document,i=a.documentElement,o=a.body;r.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),r.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)}return r.preventDefault=function(){r.defaultPrevented=!0,r.isDefaultPrevented=Jr,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.stopPropagation=function(){r.cancelBubble=!0,r.isPropagationStopped=Jr,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=Jr,r.stopPropagation()},hE(r)===!1&&(r.isDefaultPrevented=r.defaultPrevented===!0?Jr:Ji,r.isPropagationStopped=r.cancelBubble===!0?Jr:Ji,r.isImmediatePropagationStopped=Ji),typeof r.metaKey=="undefined"&&(r.metaKey=!1),r},bE=function(e,t,n){var r=e.document,a={type:"ready"};if(n.domLoaded){t(a);return}var i=function(){return r.readyState==="complete"||r.readyState==="interactive"&&r.body},o=function(){eo(e,"DOMContentLoaded",o),eo(e,"load",o),n.domLoaded||(n.domLoaded=!0,t(a)),e=null};i()?o():Tf(e,"DOMContentLoaded",o),n.domLoaded||Tf(e,"load",o)},ta=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=pE+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(t,n,r,a){var i=this,o,u,f,s,c,l,v,p=window,m=function(d){i.executeHandlers(ea(d||p.event),o)};if(!(!t||t.nodeType===3||t.nodeType===8)){t[i.expando]?o=t[i.expando]:(o=i.count++,t[i.expando]=o,i.events[o]={}),a=a||t;var g=n.split(" ");for(f=g.length;f--;){if(s=g[f],l=m,c=v=!1,s==="DOMContentLoaded"&&(s="ready"),i.domLoaded&&s==="ready"&&t.readyState==="complete"){r.call(a,ea({type:s}));continue}i.hasMouseEnterLeave||(c=i.mouseEnterLeave[s],c&&(l=function(d){var y=d.currentTarget,h=d.relatedTarget;if(h&&y.contains)h=y.contains(h);else for(;h&&h!==y;)h=h.parentNode;h||(d=ea(d||p.event),d.type=d.type==="mouseout"?"mouseleave":"mouseenter",d.target=y,i.executeHandlers(d,o))})),!i.hasFocusIn&&(s==="focusin"||s==="focusout")&&(v=!0,c=s==="focusin"?"focus":"blur",l=function(d){d=ea(d||p.event),d.type=d.type==="focus"?"focusin":"focusout",i.executeHandlers(d,o)}),u=i.events[o][s],u?s==="ready"&&i.domLoaded?r(ea({type:s})):u.push({func:r,scope:a}):(i.events[o][s]=u=[{func:r,scope:a}],u.fakeName=c,u.capture=v,u.nativeHandler=l,s==="ready"?bE(t,l,i):Tf(t,c||s,l,v))}return t=u=null,r}},e.prototype.unbind=function(t,n,r){var a,i,o,u,f;if(!t||t.nodeType===3||t.nodeType===8)return this;var s=t[this.expando];if(s){if(f=this.events[s],n){var c=n.split(" ");for(i=c.length;i--;)if(u=c[i],a=f[u],a){if(r){for(o=a.length;o--;)if(a[o].func===r){var l=a.nativeHandler,v=a.fakeName,p=a.capture;a=a.slice(0,o).concat(a.slice(o+1)),a.nativeHandler=l,a.fakeName=v,a.capture=p,f[u]=a}}(!r||a.length===0)&&(delete f[u],eo(t,a.fakeName||u,a.nativeHandler,a.capture))}}else Be(f,function(m,g){eo(t,m.fakeName||g,m.nativeHandler,m.capture)}),f={};for(u in f)if(Ke(f,u))return this;delete this.events[s];try{delete t[this.expando]}catch{t[this.expando]=null}}return this},e.prototype.fire=function(t,n,r){var a;if(!t||t.nodeType===3||t.nodeType===8)return this;var i=ea(null,r);i.type=n,i.target=t;do a=t[this.expando],a&&this.executeHandlers(i,a),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;while(t&&!i.isPropagationStopped());return this},e.prototype.clean=function(t){var n,r;if(!t||t.nodeType===3||t.nodeType===8)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),r=t.getElementsByTagName("*"),n=r.length;n--;)t=r[n],t[this.expando]&&this.unbind(t);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(t,n){var r=this.events[n],a=r&&r[t.type];if(a)for(var i=0,o=a.length;i<o;i++){var u=a[i];if(u&&u.func.call(u.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}},e.Event=new e,e}(),$e,be,to,nd,Ga,Rf,rd,no,Mn,na,Un,Tt,ro,un,zn,ra,CE,Xa,Qe="sizzle"+-new Date,Wt=window.document,fn=0,wE=0,ad=Of(),id=Of(),od=Of(),Bf=function(e,t){return e===t&&(na=!0),0},ao="undefined",ud=1<<31,EE={}.hasOwnProperty,Hn=[],SE=Hn.pop,xE=Hn.push,Vn=Hn.push,fd=Hn.slice,vr=Hn.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},kE="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Re="[\\x20\\t\\r\\n\\f]",dr="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",sd="\\["+Re+"*("+dr+")(?:"+Re+"*([*^$|!~]?=)"+Re+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+dr+"))|)"+Re+"*\\]",ld=":("+dr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+sd+")*)|.*)\\)|)",io=new RegExp("^"+Re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Re+"+$","g"),NE=new RegExp("^"+Re+"*,"+Re+"*"),AE=new RegExp("^"+Re+"*([>+~]|"+Re+")"+Re+"*"),TE=new RegExp("="+Re+`*([^\\]'"]*?)`+Re+"*\\]","g"),RE=new RegExp(ld),BE=new RegExp("^"+dr+"$"),oo={ID:new RegExp("^#("+dr+")"),CLASS:new RegExp("^\\.("+dr+")"),TAG:new RegExp("^("+dr+"|[*])"),ATTR:new RegExp("^"+sd),PSEUDO:new RegExp("^"+ld),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Re+"*(even|odd|(([+-]|)(\\d*)n|)"+Re+"*(?:([+-]|)"+Re+"*(\\d+)|))"+Re+"*\\)|)","i"),bool:new RegExp("^(?:"+kE+")$","i"),needsContext:new RegExp("^"+Re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Re+"*((?:-\\d)?\\d*)"+Re+"*\\)|)(?=[^-]|$)","i")},DE=/^(?:input|select|textarea|button)$/i,PE=/^h\d$/i,Df=/^[^{]+\{\s*\[native \w/,OE=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Pf=/[+~]/,_E=/'|\\/g,qn=new RegExp("\\\\([\\da-f]{1,6}"+Re+"?|("+Re+")|.)","ig"),Wn=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{Vn.apply(Hn=fd.call(Wt.childNodes),Wt.childNodes),Hn[Wt.childNodes.length].nodeType}catch{Vn={apply:Hn.length?function(t,n){xE.apply(t,fd.call(n))}:function(t,n){for(var r=t.length,a=0;t[r++]=n[a++];);t.length=r-1}}}var me=function(e,t,n,r){var a,i,o,u,f,s,c,l,v,p;if((t?t.ownerDocument||t:Wt)!==Tt&&Un(t),t=t||Tt,n=n||[],!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(un&&!r){if(a=OE.exec(e))if(o=a[1]){if(u===9)if(i=t.getElementById(o),i&&i.parentNode){if(i.id===o)return n.push(i),n}else return n;else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(o))&&Xa(t,i)&&i.id===o)return n.push(i),n}else{if(a[2])return Vn.apply(n,t.getElementsByTagName(e)),n;if((o=a[3])&&$e.getElementsByClassName)return Vn.apply(n,t.getElementsByClassName(o)),n}if($e.qsa&&(!zn||!zn.test(e))){if(l=c=Qe,v=t,p=u===9&&e,u===1&&t.nodeName.toLowerCase()!=="object"){for(s=Ga(e),(c=t.getAttribute("id"))?l=c.replace(_E,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",f=s.length;f--;)s[f]=l+uo(s[f]);v=Pf.test(e)&&_f(t.parentNode)||t,p=s.join(",")}if(p)try{return Vn.apply(n,v.querySelectorAll(p)),n}catch{}finally{c||t.removeAttribute("id")}}}return rd(e.replace(io,"$1"),t,n,r)};function Of(){var e=[];function t(n,r){return e.push(n+" ")>be.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function jt(e){return e[Qe]=!0,e}function cd(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||ud)-(~e.sourceIndex||ud);if(r)return r;if(n){for(;n=n.nextSibling;)if(n===t)return-1}return e?1:-1}function LE(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function IE(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function pr(e){return jt(function(t){return t=+t,jt(function(n,r){for(var a,i=e([],n.length,t),o=i.length;o--;)n[a=i[o]]&&(n[a]=!(r[a]=n[a]))})})}function _f(e){return e&&typeof e.getElementsByTagName!==ao&&e}$e=me.support={},nd=me.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},Un=me.setDocument=function(e){var t,n=e?e.ownerDocument||e:Wt,r=n.defaultView;function a(i){try{return i.top}catch{}return null}return n===Tt||n.nodeType!==9||!n.documentElement?Tt:(Tt=n,ro=n.documentElement,un=!nd(n),r&&r!==a(r)&&(r.addEventListener?r.addEventListener("unload",function(){Un()},!1):r.attachEvent&&r.attachEvent("onunload",function(){Un()})),$e.attributes=!0,$e.getElementsByTagName=!0,$e.getElementsByClassName=Df.test(n.getElementsByClassName),$e.getById=!0,be.find.ID=function(i,o){if(typeof o.getElementById!==ao&&un){var u=o.getElementById(i);return u&&u.parentNode?[u]:[]}},be.filter.ID=function(i){var o=i.replace(qn,Wn);return function(u){return u.getAttribute("id")===o}},be.find.TAG=$e.getElementsByTagName?function(i,o){if(typeof o.getElementsByTagName!==ao)return o.getElementsByTagName(i)}:function(i,o){var u,f=[],s=0,c=o.getElementsByTagName(i);if(i==="*"){for(;u=c[s++];)u.nodeType===1&&f.push(u);return f}return c},be.find.CLASS=$e.getElementsByClassName&&function(i,o){if(un)return o.getElementsByClassName(i)},ra=[],zn=[],$e.disconnectedMatch=!0,zn=zn.length&&new RegExp(zn.join("|")),ra=ra.length&&new RegExp(ra.join("|")),t=Df.test(ro.compareDocumentPosition),Xa=t||Df.test(ro.contains)?function(i,o){var u=i.nodeType===9?i.documentElement:i,f=o&&o.parentNode;return i===f||!!(f&&f.nodeType===1&&(u.contains?u.contains(f):i.compareDocumentPosition&&i.compareDocumentPosition(f)&16))}:function(i,o){if(o){for(;o=o.parentNode;)if(o===i)return!0}return!1},Bf=t?function(i,o){if(i===o)return na=!0,0;var u=!i.compareDocumentPosition-!o.compareDocumentPosition;return u||(u=(i.ownerDocument||i)===(o.ownerDocument||o)?i.compareDocumentPosition(o):1,u&1||!$e.sortDetached&&o.compareDocumentPosition(i)===u?i===n||i.ownerDocument===Wt&&Xa(Wt,i)?-1:o===n||o.ownerDocument===Wt&&Xa(Wt,o)?1:Mn?vr.call(Mn,i)-vr.call(Mn,o):0:u&4?-1:1)}:function(i,o){if(i===o)return na=!0,0;var u,f=0,s=i.parentNode,c=o.parentNode,l=[i],v=[o];if(!s||!c)return i===n?-1:o===n?1:s?-1:c?1:Mn?vr.call(Mn,i)-vr.call(Mn,o):0;if(s===c)return cd(i,o);for(u=i;u=u.parentNode;)l.unshift(u);for(u=o;u=u.parentNode;)v.unshift(u);for(;l[f]===v[f];)f++;return f?cd(l[f],v[f]):l[f]===Wt?-1:v[f]===Wt?1:0},n)},me.matches=function(e,t){return me(e,null,null,t)},me.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Tt&&Un(e),t=t.replace(TE,"='$1']"),$e.matchesSelector&&un&&(!ra||!ra.test(t))&&(!zn||!zn.test(t)))try{var n=CE.call(e,t);if(n||$e.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch{}return me(t,Tt,null,[e]).length>0},me.contains=function(e,t){return(e.ownerDocument||e)!==Tt&&Un(e),Xa(e,t)},me.attr=function(e,t){(e.ownerDocument||e)!==Tt&&Un(e);var n=be.attrHandle[t.toLowerCase()],r=n&&EE.call(be.attrHandle,t.toLowerCase())?n(e,t,!un):void 0;return r!==void 0?r:$e.attributes||!un?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},me.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},me.uniqueSort=function(e){var t,n=[],r=0,a=0;if(na=!$e.detectDuplicates,Mn=!$e.sortStable&&e.slice(0),e.sort(Bf),na){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)e.splice(n[r],1)}return Mn=null,e},to=me.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(a===1||a===9||a===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=to(e)}else if(a===3||a===4)return e.nodeValue}else for(;t=e[r++];)n+=to(t);return n},be=me.selectors={cacheLength:50,createPseudo:jt,match:oo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(qn,Wn),e[3]=(e[3]||e[4]||e[5]||"").replace(qn,Wn),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||me.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&me.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return oo.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&RE.test(n)&&(t=Ga(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(qn,Wn).toLowerCase();return e==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(e){var t=ad[e+" "];return t||(t=new RegExp("(^|"+Re+")"+e+"("+Re+"|$)"))&&ad(e,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!==ao&&n.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var a=me.attr(r,e);return a==null?t==="!=":t?(a+="",t==="="?a===n:t==="!="?a!==n:t==="^="?n&&a.indexOf(n)===0:t==="*="?n&&a.indexOf(n)>-1:t==="$="?n&&a.slice(-n.length)===n:t==="~="?(" "+a+" ").indexOf(n)>-1:t==="|="?a===n||a.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,a){var i=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&a===0?function(f){return!!f.parentNode}:function(f,s,c){var l,v,p,m,g,d,y=i!==o?"nextSibling":"previousSibling",h=f.parentNode,C=u&&f.nodeName.toLowerCase(),w=!c&&!u;if(h){if(i){for(;y;){for(p=f;p=p[y];)if(u?p.nodeName.toLowerCase()===C:p.nodeType===1)return!1;d=y=e==="only"&&!d&&"nextSibling"}return!0}if(d=[o?h.firstChild:h.lastChild],o&&w){for(v=h[Qe]||(h[Qe]={}),l=v[e]||[],g=l[0]===fn&&l[1],m=l[0]===fn&&l[2],p=g&&h.childNodes[g];p=++g&&p&&p[y]||(m=g=0)||d.pop();)if(p.nodeType===1&&++m&&p===f){v[e]=[fn,g,m];break}}else if(w&&(l=(f[Qe]||(f[Qe]={}))[e])&&l[0]===fn)m=l[1];else for(;(p=++g&&p&&p[y]||(m=g=0)||d.pop())&&!((u?p.nodeName.toLowerCase()===C:p.nodeType===1)&&++m&&(w&&((p[Qe]||(p[Qe]={}))[e]=[fn,m]),p===f)););return m-=a,m===r||m%r===0&&m/r>=0}}},PSEUDO:function(e,t){var n,r=be.pseudos[e]||be.setFilters[e.toLowerCase()]||me.error("unsupported pseudo: "+e);return r[Qe]?r(t):r.length>1?(n=[e,e,"",t],be.setFilters.hasOwnProperty(e.toLowerCase())?jt(function(a,i){for(var o,u=r(a,t),f=u.length;f--;)o=vr.call(a,u[f]),a[o]=!(i[o]=u[f])}):function(a){return r(a,0,n)}):r}},pseudos:{not:jt(function(e){var t=[],n=[],r=Rf(e.replace(io,"$1"));return r[Qe]?jt(function(a,i,o,u){for(var f,s=r(a,null,u,[]),c=a.length;c--;)(f=s[c])&&(a[c]=!(i[c]=f))}):function(a,i,o){return t[0]=a,r(t,null,o,n),t[0]=null,!n.pop()}}),has:jt(function(e){return function(t){return me(e,t).length>0}}),contains:jt(function(e){return e=e.replace(qn,Wn),function(t){return(t.textContent||t.innerText||to(t)).indexOf(e)>-1}}),lang:jt(function(e){return BE.test(e||"")||me.error("unsupported lang: "+e),e=e.replace(qn,Wn).toLowerCase(),function(t){var n;do if(n=un?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===ro},focus:function(e){return e===Tt.activeElement&&(!Tt.hasFocus||Tt.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!be.pseudos.empty(e)},header:function(e){return PE.test(e.nodeName)},input:function(e){return DE.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:pr(function(){return[0]}),last:pr(function(e,t){return[t-1]}),eq:pr(function(e,t,n){return[n<0?n+t:n]}),even:pr(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pr(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pr(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:pr(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},be.pseudos.nth=be.pseudos.eq,Y(["radio","checkbox","file","password","image"],function(e){be.pseudos[e]=LE(e)}),Y(["submit","reset"],function(e){be.pseudos[e]=IE(e)});function vd(){}vd.prototype=be.filters=be.pseudos,be.setFilters=new vd,Ga=me.tokenize=function(e,t){var n,r,a,i,o,u,f,s=id[e+" "];if(s)return t?0:s.slice(0);for(o=e,u=[],f=be.preFilter;o;){(!n||(r=NE.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),u.push(a=[])),n=!1,(r=AE.exec(o))&&(n=r.shift(),a.push({value:n,type:r[0].replace(io," ")}),o=o.slice(n.length));for(i in be.filter)!be.filter.hasOwnProperty(i)||(r=oo[i].exec(o))&&(!f[i]||(r=f[i](r)))&&(n=r.shift(),a.push({value:n,type:i,matches:r}),o=o.slice(n.length));if(!n)break}return t?o.length:o?me.error(e):id(e,u).slice(0)};function uo(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Lf(e,t,n){var r=t.dir,a=n&&r==="parentNode",i=wE++;return t.first?function(o,u,f){for(;o=o[r];)if(o.nodeType===1||a)return e(o,u,f)}:function(o,u,f){var s,c,l=[fn,i];if(f){for(;o=o[r];)if((o.nodeType===1||a)&&e(o,u,f))return!0}else for(;o=o[r];)if(o.nodeType===1||a){if(c=o[Qe]||(o[Qe]={}),(s=c[r])&&s[0]===fn&&s[1]===i)return l[2]=s[2];if(c[r]=l,l[2]=e(o,u,f))return!0}}}function If(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function $E(e,t,n){for(var r=0,a=t.length;r<a;r++)me(e,t[r],n);return n}function fo(e,t,n,r,a){for(var i,o=[],u=0,f=e.length,s=t!=null;u<f;u++)(i=e[u])&&(!n||n(i,r,a))&&(o.push(i),s&&t.push(u));return o}function $f(e,t,n,r,a,i){return r&&!r[Qe]&&(r=$f(r)),a&&!a[Qe]&&(a=$f(a,i)),jt(function(o,u,f,s){var c,l,v,p=[],m=[],g=u.length,d=o||$E(t||"*",f.nodeType?[f]:f,[]),y=e&&(o||!t)?fo(d,p,e,f,s):d,h=n?a||(o?e:g||r)?[]:u:y;if(n&&n(y,h,f,s),r)for(c=fo(h,m),r(c,[],f,s),l=c.length;l--;)(v=c[l])&&(h[m[l]]=!(y[m[l]]=v));if(o){if(a||e){if(a){for(c=[],l=h.length;l--;)(v=h[l])&&c.push(y[l]=v);a(null,h=[],c,s)}for(l=h.length;l--;)(v=h[l])&&(c=a?vr.call(o,v):p[l])>-1&&(o[c]=!(u[c]=v))}}else h=fo(h===u?h.splice(g,h.length):h),a?a(null,u,h,s):Vn.apply(u,h)})}function Ff(e){for(var t,n,r,a=e.length,i=be.relative[e[0].type],o=i||be.relative[" "],u=i?1:0,f=Lf(function(l){return l===t},o,!0),s=Lf(function(l){return vr.call(t,l)>-1},o,!0),c=[function(l,v,p){var m=!i&&(p||v!==no)||((t=v).nodeType?f(l,v,p):s(l,v,p));return t=null,m}];u<a;u++)if(n=be.relative[e[u].type])c=[Lf(If(c),n)];else{if(n=be.filter[e[u].type].apply(null,e[u].matches),n[Qe]){for(r=++u;r<a&&!be.relative[e[r].type];r++);return $f(u>1&&If(c),u>1&&uo(e.slice(0,u-1).concat({value:e[u-2].type===" "?"*":""})).replace(io,"$1"),n,u<r&&Ff(e.slice(u,r)),r<a&&Ff(e=e.slice(r)),r<a&&uo(e))}c.push(n)}return If(c)}function FE(e,t){var n=t.length>0,r=e.length>0,a=function(i,o,u,f,s){var c,l,v,p=0,m="0",g=i&&[],d=[],y=no,h=i||r&&be.find.TAG("*",s),C=fn+=y==null?1:Math.random()||.1,w=h.length;for(s&&(no=o!==Tt&&o);m!==w&&(c=h[m])!=null;m++){if(r&&c){for(l=0;v=e[l++];)if(v(c,o,u)){f.push(c);break}s&&(fn=C)}n&&((c=!v&&c)&&p--,i&&g.push(c))}if(p+=m,n&&m!==p){for(l=0;v=t[l++];)v(g,d,o,u);if(i){if(p>0)for(;m--;)g[m]||d[m]||(d[m]=SE.call(f));d=fo(d)}Vn.apply(f,d),s&&!i&&d.length>0&&p+t.length>1&&me.uniqueSort(f)}return s&&(fn=C,no=y),g};return n?jt(a):a}Rf=me.compile=function(e,t){var n,r=[],a=[],i=od[e+" "];if(!i){for(t||(t=Ga(e)),n=t.length;n--;)i=Ff(t[n]),i[Qe]?r.push(i):a.push(i);i=od(e,FE(a,r)),i.selector=e}return i},rd=me.select=function(e,t,n,r){var a,i,o,u,f,s=typeof e=="function"&&e,c=!r&&Ga(e=s.selector||e);if(n=n||[],c.length===1){if(i=c[0]=c[0].slice(0),i.length>2&&(o=i[0]).type==="ID"&&$e.getById&&t.nodeType===9&&un&&be.relative[i[1].type]){if(t=(be.find.ID(o.matches[0].replace(qn,Wn),t)||[])[0],t)s&&(t=t.parentNode);else return n;e=e.slice(i.shift().value.length)}for(a=oo.needsContext.test(e)?0:i.length;a--&&(o=i[a],!be.relative[u=o.type]);)if((f=be.find[u])&&(r=f(o.matches[0].replace(qn,Wn),Pf.test(i[0].type)&&_f(t.parentNode)||t))){if(i.splice(a,1),e=r.length&&uo(i),!e)return Vn.apply(n,r),n;break}}return(s||Rf(e,c))(r,t,!un,n,Pf.test(e)&&_f(t.parentNode)||t),n},$e.sortStable=Qe.split("").sort(Bf).join("")===Qe,$e.detectDuplicates=!!na,Un(),$e.sortDetached=!0;var dd=document,Mf=Array.prototype.push,ME=Array.prototype.slice,UE=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ya=ta.Event,zE=B.makeMap("children,contents,next,prev"),Qa=function(e){return typeof e!="undefined"},Uf=function(e){return typeof e=="string"},HE=function(e){return e&&e===e.window},pd=function(e,t){t=t||dd;var n=t.createElement("div"),r=t.createDocumentFragment();n.innerHTML=e;for(var a;a=n.firstChild;)r.appendChild(a);return r},aa=function(e,t,n,r){var a;if(Uf(t))t=pd(t,Vf(e[0]));else if(t.length&&!t.nodeType){if(t=re.makeArray(t),r)for(a=t.length-1;a>=0;a--)aa(e,t[a],n,r);else for(a=0;a<t.length;a++)aa(e,t[a],n,r);return e}if(t.nodeType)for(a=e.length;a--;)n.call(e[a],t);return e},md=function(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1},gd=function(e,t,n){var r,a;return t=re(t)[0],e.each(function(){var i=this;(!n||r!==i.parentNode)&&(r=i.parentNode,a=t.cloneNode(!1),i.parentNode.insertBefore(a,i)),a.appendChild(i)}),e},VE=B.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),qE=B.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),WE={for:"htmlFor",class:"className",readonly:"readOnly"},jE={float:"cssFloat"},zf={},Hf={},Rt=function(e,t){return new re.fn.init(e,t)},KE=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},GE=/^\s*|\s*$/g,hd=function(e){return e==null?"":(""+e).replace(GE,"")},En=function(e,t){var n,r,a,i;if(e)if(n=e.length,n===void 0){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],t.call(i,r,i)===!1))break}else for(a=0;a<n&&(i=e[a],t.call(i,a,i)!==!1);a++);return e},yd=function(e,t){var n=[];return En(e,function(r,a){t(a,r)&&n.push(a)}),n},Vf=function(e){return e?e.nodeType===9?e:e.ownerDocument:dd};Rt.fn=Rt.prototype={constructor:Rt,selector:"",context:null,length:0,init:function(e,t){var n=this,r,a;if(!e)return n;if(e.nodeType)return n.context=n[0]=e,n.length=1,n;if(t&&t.nodeType)n.context=t;else{if(t)return re(e).attr(t);n.context=t=document}if(Uf(e))if(n.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?r=[null,e,null]:r=UE.exec(e),r)if(r[1])for(a=pd(e,Vf(t)).firstChild;a;)Mf.call(n,a),a=a.nextSibling;else{if(a=Vf(t).getElementById(r[2]),!a)return n;if(a.id!==r[2])return n.find(e);n.length=1,n[0]=a}else return re(t).find(e);else this.add(e,!1);return n},toArray:function(){return B.toArray(this)},add:function(e,t){var n=this,r,a;if(Uf(e))return n.add(re(e));if(t!==!1)for(r=re.unique(n.toArray().concat(re.makeArray(e))),n.length=r.length,a=0;a<r.length;a++)n[a]=r[a];else Mf.apply(n,re.makeArray(e));return n},attr:function(e,t){var n=this,r;if(typeof e=="object")En(e,function(a,i){n.attr(a,i)});else if(Qa(t))this.each(function(){var a;if(this.nodeType===1){if(a=zf[e],a&&a.set){a.set(this,t);return}t===null?this.removeAttribute(e,2):this.setAttribute(e,t,2)}});else{if(n[0]&&n[0].nodeType===1){if(r=zf[e],r&&r.get)return r.get(n[0],e);if(qE[e])return n.prop(e)?e:void 0;t=n[0].getAttribute(e,2),t===null&&(t=void 0)}return t}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=WE[e]||e,typeof e=="object")En(e,function(r,a){n.prop(r,a)});else if(Qa(t))this.each(function(){this.nodeType===1&&(this[e]=t)});else return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;return n},css:function(e,t){var n=this,r,a,i=function(u){return u.replace(/-(\D)/g,function(f,s){return s.toUpperCase()})},o=function(u){return u.replace(/[A-Z]/g,function(f){return"-"+f})};if(typeof e=="object")En(e,function(u,f){n.css(u,f)});else if(Qa(t))e=i(e),typeof t=="number"&&!VE[e]&&(t=t.toString()+"px"),n.each(function(){var u=this.style;if(a=Hf[e],a&&a.set){a.set(this,t);return}try{this.style[jE[e]||e]=t}catch{}(t===null||t==="")&&(u.removeProperty?u.removeProperty(o(e)):u.removeAttribute(e))});else{if(r=n[0],a=Hf[e],a&&a.get)return a.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(o(e))}catch{return}else return r.currentStyle?r.currentStyle[i(e)]:""}return n},remove:function(){for(var e=this,t,n=this.length;n--;)t=e[n],Ya.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,n;if(Qa(e)){n=t.length;try{for(;n--;)t[n].innerHTML=e}catch{re(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,n;if(Qa(e)){for(n=t.length;n--;)"innerText"in t[n]?t[n].innerText=e:t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return aa(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return aa(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?aa(e,arguments,function(t){this.parentNode.insertBefore(t,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?aa(e,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):e},appendTo:function(e){return re(e).append(this),this},prependTo:function(e){return re(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return gd(this,e)},wrapAll:function(e){return gd(this,e,!0)},wrapInner:function(e){return this.each(function(){re(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){re(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),re(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return typeof e!="string"||(e.indexOf(" ")!==-1?En(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(r,a){var i=md(a,e);if(i!==t){var o=a.className;i?a.className=hd((" "+o+" ").replace(" "+e+" "," ")):a.className+=o?" "+e:e}})),n},hasClass:function(e){return md(this[0],e)},each:function(e){return En(this,e)},on:function(e,t){return this.each(function(){Ya.bind(this,e,t)})},off:function(e,t){return this.each(function(){Ya.unbind(this,e,t)})},trigger:function(e){return this.each(function(){typeof e=="object"?Ya.fire(this,e.type,e):Ya.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return re(ME.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)re.find(e,this[t],r);return re(r)},filter:function(e){return re(typeof e=="function"?yd(this.toArray(),function(t,n){return e(n,t)}):re.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof re&&(e=e[0]),this.each(function(n,r){for(;r;){if(typeof e=="string"&&re(r).is(e)){t.push(r);break}else if(r===e){t.push(r);break}r=r.parentNode}}),re(t)},offset:function(e){var t,n,r,a=0,i=0,o;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),a=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,i=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:a,top:i})},push:Mf,sort:Array.prototype.sort,splice:Array.prototype.splice},B.extend(Rt,{extend:B.extend,makeArray:function(e){return HE(e)||e.nodeType?[e]:B.toArray(e)},inArray:KE,isArray:B.isArray,each:En,trim:hd,grep:yd,find:me,expr:me.selectors,unique:me.uniqueSort,text:me.getText,contains:me.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)t[r].nodeType!==1&&t.splice(r,1);return t.length===1?t=re.find.matchesSelector(t[0],e)?[t[0]]:[]:t=re.find.matches(e,t),t}});var bd=function(e,t,n){var r=[],a=e[t];for(typeof n!="string"&&n instanceof re&&(n=n[0]);a&&a.nodeType!==9&&!(n!==void 0&&(a===n||typeof n=="string"&&re(a).is(n)));)a.nodeType===1&&r.push(a),a=a[t];return r},qf=function(e,t,n,r){var a=[];for(r instanceof re&&(r=r[0]);e;e=e[t])if(!(n&&e.nodeType!==n)){if(r!==void 0&&(e===r||typeof r=="string"&&re(e).is(r)))break;a.push(e)}return a},Cd=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};En({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return bd(e,"parentNode")},next:function(e){return Cd(e,"nextSibling",1)},prev:function(e){return Cd(e,"previousSibling",1)},children:function(e){return qf(e.firstChild,"nextSibling",1)},contents:function(e){return B.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Rt.fn[e]=function(n){var r=this,a=[];r.each(function(){var o=t.call(a,this,n,a);o&&(re.isArray(o)?a.push.apply(a,o):a.push(o))}),this.length>1&&(zE[e]||(a=re.unique(a)),e.indexOf("parents")===0&&(a=a.reverse()));var i=re(a);return n?i.filter(n):i}}),En({parentsUntil:function(e,t){return bd(e,"parentNode",t)},nextUntil:function(e,t){return qf(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return qf(e,"previousSibling",1,t).slice(1)}},function(e,t){Rt.fn[e]=function(n,r){var a=this,i=[];a.each(function(){var u=t.call(i,this,n,i);u&&(re.isArray(u)?i.push.apply(i,u):i.push(u))}),this.length>1&&(i=re.unique(i),(e.indexOf("parents")===0||e==="prevUntil")&&(i=i.reverse()));var o=re(i);return r?o.filter(r):o}}),Rt.fn.is=function(e){return!!e&&this.filter(e).length>0},Rt.fn.init.prototype=Rt.fn,Rt.overrideDefaults=function(e){var t,n=function(r,a){return t=t||e(),arguments.length===0&&(r=t.element),a||(a=t.context),new n.fn.init(r,a)};return re.extend(n,this),n},Rt.attrHooks=zf,Rt.cssHooks=Hf;var re=Rt,Za=B.each,XE=B.grep,wd=ae.ie,YE=/^([a-z0-9],?)+$/i,QE=function(e,t,n){var r=t.keep_values,a={set:function(o,u,f){t.url_converter&&(u=t.url_converter.call(t.url_converter_scope||n(),u,f,o[0])),o.attr("data-mce-"+f,u).attr(f,u)},get:function(o,u){return o.attr("data-mce-"+u)||o.attr(u)}},i={style:{set:function(o,u){if(u!==null&&typeof u=="object"){o.css(u);return}r&&o.attr("data-mce-style",u),u!==null&&typeof u=="string"?(o.removeAttr("style"),o.css(e.parse(u))):o.attr("style",u)},get:function(o){var u=o.attr("data-mce-style")||o.attr("style");return u=e.serialize(e.parse(u),o[0].nodeName),u}}};return r&&(i.href=i.src=a),i},Ed=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},ia=function(e,t){var n=0,r,a;if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)a=e.nodeType,!(t&&a===3&&(a===r||!e.nodeValue.length))&&(n++,r=a);return n},Ce=function(e,t){t===void 0&&(t={});var n={},r=window,a={},i=0,o=!0,u=!0,f=qv.forElement(x.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),s=[],c=t.schema?t.schema:Fn({}),l=Af({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),v=t.ownEvents?new ta:ta.Event,p=c.getBlockElements(),m=re.overrideDefaults(function(){return{context:e,element:Ir.getRoot()}}),g=function(E){if(typeof E=="string")return!!p[E];if(E){var A=E.nodeType;if(A)return!!(A===1&&p[E.nodeName])}return!1},d=function(E){return E&&e&&Ue(E)?e.getElementById(E):E},y=function(E){return m(typeof E=="string"?d(E):E)},h=function(E,A,$){var U,ne,ce=y(E);return ce.length&&(U=eC[A],U&&U.get?ne=U.get(ce,A):ne=ce.attr(A)),typeof ne=="undefined"&&(ne=$||""),ne},C=function(E){var A=d(E);return A?A.attributes:[]},w=function(E,A,$){$===""&&($=null);var U=y(E),ne=U.attr(A);if(!!U.length){var ce=eC[A];ce&&ce.set?ce.set(U,$,A):U.attr(A,$),ne!==$&&t.onSetAttrib&&t.onSetAttrib({attrElm:U,attrName:A,attrValue:$})}},S=function(E,A){if(!wd||E.nodeType!==1||A)return E.cloneNode(A);var $=e.createElement(E.nodeName);return Za(C(E),function(U){w($,U.nodeName,h(E,U.nodeName))}),$},R=function(){return t.root_element||e.body},L=function(E){var A=xv(E);return{x:A.x,y:A.y,w:A.width,h:A.height}},I=function(E,A){return Y0(e.body,d(E),A)},K=function(E,A,$){var U=Ue(A)?y(E).css(A,$):y(E).css(A);t.update_styles&&Ed(l,U)},X=function(E,A){var $=y(E).css(A);t.update_styles&&Ed(l,$)},O=function(E,A,$){var U=y(E);return $?U.css(A):(A=A.replace(/-(\D)/g,function(ne,ce){return ce.toUpperCase()}),A==="float"&&(A=ae.browser.isIE()?"styleFloat":"cssFloat"),U[0]&&U[0].style?U[0].style[A]:void 0)},ee=function(E){var A,$;return E=d(E),A=O(E,"width"),$=O(E,"height"),A.indexOf("px")===-1&&(A=0),$.indexOf("px")===-1&&($=0),{w:parseInt(A,10)||E.offsetWidth||E.clientWidth,h:parseInt($,10)||E.offsetHeight||E.clientHeight}},M=function(E){E=d(E);var A=I(E),$=ee(E);return{x:A.x,y:A.y,w:$.w,h:$.h}},G=function(E,A){var $;if(!E)return!1;if(!Array.isArray(E)){if(A==="*")return E.nodeType===1;if(YE.test(A)){var U=A.toLowerCase().split(/,/),ne=E.nodeName.toLowerCase();for($=U.length-1;$>=0;$--)if(U[$]===ne)return!0;return!1}if(E.nodeType&&E.nodeType!==1)return!1}var ce=Array.isArray(E)?E:[E];return me(A,ce[0].ownerDocument||ce[0],null,ce).length>0},F=function(E,A,$,U){var ne=[],ce,Ee=d(E);for(U=U===void 0,$=$||(R().nodeName!=="BODY"?R().parentNode:null),B.is(A,"string")&&(ce=A,A==="*"?A=function(rr){return rr.nodeType===1}:A=function(rr){return G(rr,ce)});Ee&&!(Ee===$||Ri(Ee.nodeType)||uf(Ee)||ff(Ee));){if(!A||typeof A=="function"&&A(Ee))if(U)ne.push(Ee);else return[Ee];Ee=Ee.parentNode}return U?ne:null},z=function(E,A,$){var U=F(E,A,$,!1);return U&&U.length>0?U[0]:null},W=function(E,A,$){var U=A;if(E){for(typeof A=="string"&&(U=function(ne){return G(ne,A)}),E=E[$];E;E=E[$])if(typeof U=="function"&&U(E))return E}return null},_=function(E,A){return W(E,A,"nextSibling")},q=function(E,A){return W(E,A,"previousSibling")},le=function(E,A){return me(E,d(A)||t.root_element||e,[])},ge=function(E,A,$){var U,ne=typeof E=="string"?d(E):E;if(!ne)return!1;if(B.isArray(ne)&&(ne.length||ne.length===0))return U=[],Za(ne,function(Ee,rr){Ee&&U.push(A.call($,typeof Ee=="string"?d(Ee):Ee,rr))}),U;var ce=$||this;return A.call(ce,ne)},de=function(E,A){y(E).each(function($,U){Za(A,function(ne,ce){w(U,ce,ne)})})},Te=function(E,A){var $=y(E);wd?$.each(function(U,ne){if(ne.canHaveHTML!==!1){for(;ne.firstChild;)ne.removeChild(ne.firstChild);try{ne.innerHTML="<br>"+A,ne.removeChild(ne.firstChild)}catch{re("<div></div>").html("<br>"+A).contents().slice(1).appendTo(ne)}return A}}):$.html(A)},Ae=function(E,A,$,U,ne){return ge(E,function(ce){var Ee=typeof A=="string"?e.createElement(A):A;return de(Ee,$),U&&(typeof U!="string"&&U.nodeType?Ee.appendChild(U):typeof U=="string"&&Te(Ee,U)),ne?Ee:ce.appendChild(Ee)})},ct=function(E,A,$){return Ae(e.createElement(E),E,A,$,!0)},rt=cr.decode,P=cr.encodeAllRaw,k=function(E,A,$){var U="",ne;U+="<"+E;for(ne in A)A.hasOwnProperty(ne)&&A[ne]!==null&&typeof A[ne]!="undefined"&&(U+=" "+ne+'="'+P(A[ne])+'"');return typeof $!="undefined"?U+">"+$+"</"+E+">":U+" />"},D=function(E){var A,$=e.createElement("div"),U=e.createDocumentFragment();for(U.appendChild($),E&&($.innerHTML=E);A=$.firstChild;)U.appendChild(A);return U.removeChild($),U},N=function(E,A){var $=y(E);return A?$.each(function(){for(var U;U=this.firstChild;)U.nodeType===3&&U.data.length===0?this.removeChild(U):this.parentNode.insertBefore(U,this)}).remove():$.remove(),$.length>1?$.toArray():$[0]},H=function(E){return ge(E,function(A){var $,U=A.attributes;for($=U.length-1;$>=0;$--)A.removeAttributeNode(U.item($))})},V=function(E){return l.parse(E)},te=function(E,A){return l.serialize(E,A)},oe=function(E){var A,$;if(Ir!==Ce.DOM&&e===document){if(n[E])return;n[E]=!0}$=e.getElementById("mceDefaultStyles"),$||($=e.createElement("style"),$.id="mceDefaultStyles",$.type="text/css",A=e.getElementsByTagName("head")[0],A.firstChild?A.insertBefore($,A.firstChild):A.appendChild($)),$.styleSheet?$.styleSheet.cssText+=E:$.appendChild(e.createTextNode(E))},we=function(E){E||(E=""),Y(E.split(","),function(A){a[A]=!0,f.load(A,fe)})},Le=function(E,A,$){y(E).toggleClass(A,$).each(function(){this.className===""&&re(this).attr("class",null)})},at=function(E,A){y(E).addClass(A)},Tn=function(E,A){Le(E,A,!1)},Je=function(E,A){return y(E).hasClass(A)},it=function(E){y(E).show()},Ne=function(E){y(E).hide()},yn=function(E){return y(E).css("display")==="none"},vt=function(E){return(E||"mce_")+i++},ye=function(E){var A=typeof E=="string"?d(E):E;return ie(A)?A.outerHTML:re("<div></div>").append(re(A).clone()).html()},pe=function(E,A){y(E).each(function(){try{if("outerHTML"in this){this.outerHTML=A;return}}catch{}N(re(this).html(A),!0)})},Me=function(E,A){var $=d(A);return ge(E,function(U){var ne=$.parentNode,ce=$.nextSibling;return ce?ne.insertBefore(U,ce):ne.appendChild(U),U})},Jt=function(E,A,$){return ge(A,function(U){return B.is(U,"array")&&(E=E.cloneNode(!0)),$&&Za(XE(U.childNodes),function(ne){E.appendChild(ne)}),U.parentNode.replaceChild(E,U)})},en=function(E,A){var $;return E.nodeName!==A.toUpperCase()&&($=ct(A),Za(C(E),function(U){w($,U.nodeName,h(E,U.nodeName))}),Jt($,E,!0)),$||E},Ot=function(E,A){for(var $=E,U;$;){for(U=A;U&&$!==U;)U=U.parentNode;if($===U)break;$=$.parentNode}return!$&&E.ownerDocument?E.ownerDocument.documentElement:$},tr=function(E){return l.toHex(B.trim(E))},Da=function(E){if(ie(E)){var A=E.nodeName.toLowerCase()==="a"&&!h(E,"href")&&h(E,"id");if(h(E,"name")||h(E,"data-mce-bookmark")||A)return!0}return!1},nr=function(E,A){var $,U,ne=0;if(Da(E))return!1;if(E=E.firstChild,E){var ce=new Ie(E,E.parentNode),Ee=c?c.getWhiteSpaceElements():{};A=A||(c?c.getNonEmptyElements():null);do{if($=E.nodeType,ie(E)){var rr=E.getAttribute("data-mce-bogus");if(rr){E=ce.next(rr==="all");continue}if(U=E.nodeName.toLowerCase(),A&&A[U]){if(U==="br"){ne++,E=ce.next();continue}return!1}if(Da(E))return!1}if($===8||$===3&&!sr(E.nodeValue)||$===3&&E.parentNode&&Ee[E.parentNode.nodeName]&&sr(E.nodeValue))return!1;E=ce.next()}while(E)}return ne<=1},Lu=function(){return e.createRange()},sU=function(E,A,$){var U=Lu(),ne,ce,Ee;if(E&&A)return U.setStart(E.parentNode,ia(E)),U.setEnd(A.parentNode,ia(A)),ne=U.extractContents(),U=Lu(),U.setStart(A.parentNode,ia(A)+1),U.setEnd(E.parentNode,ia(E)+1),ce=U.extractContents(),Ee=E.parentNode,Ee.insertBefore(Ef(Ir,ne),E),$?Ee.insertBefore($,E):Ee.insertBefore(A,E),Ee.insertBefore(Ef(Ir,ce),E),N(E),$||A},Qb=function(E,A,$,U){if(B.isArray(E)){for(var ne=E.length,ce=[];ne--;)ce[ne]=Qb(E[ne],A,$,U);return ce}t.collect&&(E===e||E===r)&&s.push([E,A,$,U]);var Ee=v.bind(E,A,$,U||Ir);return Ee},Zb=function(E,A,$){if(B.isArray(E)){for(var U=E.length,ne=[];U--;)ne[U]=Zb(E[U],A,$);return ne}else{if(s.length>0&&(E===e||E===r))for(var U=s.length;U--;){var ce=s[U];E===ce[0]&&(!A||A===ce[1])&&(!$||$===ce[2])&&v.unbind(ce[0],ce[1],ce[2])}return v.unbind(E,A,$)}},lU=function(E,A,$){return v.fire(E,A,$)},Jb=function(E){if(E&&ie(E)){var A=E.getAttribute("data-mce-contenteditable");return A&&A!=="inherit"?A:E.contentEditable!=="inherit"?E.contentEditable:null}else return null},cU=function(E){for(var A=R(),$=null;E&&E!==A&&($=Jb(E),$===null);E=E.parentNode);return $},vU=function(){if(s.length>0)for(var E=s.length;E--;){var A=s[E];v.unbind(A[0],A[1],A[2])}Be(a,function($,U){f.unload(U),delete a[U]}),me.setDocument&&me.setDocument()},dU=function(E,A){for(;E;){if(A===E)return!0;E=E.parentNode}return!1},pU=function(E){return"startContainer: "+E.startContainer.nodeName+", startOffset: "+E.startOffset+", endContainer: "+E.endContainer.nodeName+", endOffset: "+E.endOffset},Ir={doc:e,settings:t,win:r,files:a,stdMode:o,boxModel:u,styleSheetLoader:f,boundEvents:s,styles:l,schema:c,events:v,isBlock:g,$:m,$$:y,root:null,clone:S,getRoot:R,getViewPort:L,getRect:M,getSize:ee,getParent:z,getParents:F,get:d,getNext:_,getPrev:q,select:le,is:G,add:Ae,create:ct,createHTML:k,createFragment:D,remove:N,setStyle:K,getStyle:O,setStyles:X,removeAllAttribs:H,setAttrib:w,setAttribs:de,getAttrib:h,getPos:I,parseStyle:V,serializeStyle:te,addStyle:oe,loadCSS:we,addClass:at,removeClass:Tn,hasClass:Je,toggleClass:Le,show:it,hide:Ne,isHidden:yn,uniqueId:vt,setHTML:Te,getOuterHTML:ye,setOuterHTML:pe,decode:rt,encode:P,insertAfter:Me,replace:Jt,rename:en,findCommonAncestor:Ot,toHex:tr,run:ge,getAttribs:C,isEmpty:nr,createRng:Lu,nodeIndex:ia,split:sU,bind:Qb,unbind:Zb,fire:lU,getContentEditable:Jb,getContentEditableParent:cU,destroy:vU,isChildOf:dU,dumpRng:pU},eC=QE(l,t,function(){return Ir});return Ir};Ce.DOM=Ce(document),Ce.nodeIndex=ia;var ZE=Ce.DOM,Wf=B.each,JE=B.grep,eS=0,Sd=1,so=2,xd=3,Sn=function(){function e(t){t===void 0&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return e.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},e.prototype.loadScript=function(t,n,r){var a=ZE,i,o=function(){a.remove(s),i&&(i.onerror=i.onload=i=null)},u=function(){o(),n()},f=function(){o(),We(r)?r():typeof console!="undefined"&&console.log&&console.log("Failed to load script: "+t)},s=a.uniqueId();i=document.createElement("script"),i.id=s,i.type="text/javascript",i.src=B._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=u,i.onerror=f,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)},e.prototype.isDone=function(t){return this.states[t]===so},e.prototype.markDone=function(t){this.states[t]=so},e.prototype.add=function(t,n,r,a){var i=this.states[t];this.queue.push(t),i===void 0&&(this.states[t]=eS),n&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:n,failure:a,scope:r||this}))},e.prototype.load=function(t,n,r,a){return this.add(t,n,r,a)},e.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},e.prototype.loadQueue=function(t,n,r){this.loadScripts(this.queue,t,n,r)},e.prototype.loadScripts=function(t,n,r,a){var i=this,o=[],u=function(s,c){Wf(i.scriptLoadedCallbacks[c],function(l){We(l[s])&&l[s].call(l.scope)}),i.scriptLoadedCallbacks[c]=void 0};i.queueLoadedCallbacks.push({success:n,failure:a,scope:r||this});var f=function(){var s=JE(t);if(t.length=0,Wf(s,function(l){if(i.states[l]===so){u("success",l);return}if(i.states[l]===xd){u("failure",l);return}i.states[l]!==Sd&&(i.states[l]=Sd,i.loading++,i.loadScript(l,function(){i.states[l]=so,i.loading--,u("success",l),f()},function(){i.states[l]=xd,i.loading--,o.push(l),u("failure",l),f()}))}),!i.loading){var c=i.queueLoadedCallbacks.slice(0);i.queueLoadedCallbacks.length=0,Wf(c,function(l){o.length===0?We(l.success)&&l.success.call(l.scope):We(l.failure)&&l.failure.call(l.scope,o)})}};f()},e.ScriptLoader=new e,e}(),_e=function(e){var t=e,n=function(){return t},r=function(a){t=a};return{get:n,set:r}},tS=function(e){return $r(e)&&Ke(e,"raw")},nS=function(e){return _t(e)&&e.length>1},Ja={},jf=_e("en"),kd=function(){return xt(Ja,jf.get())},rS=function(){return Ac(Ja,function(e){return ue({},e)})},aS=function(e){e&&jf.set(e)},iS=function(){return jf.get()},oS=function(e,t){var n=Ja[e];n||(Ja[e]=n={}),Be(t,function(r,a){n[a.toLowerCase()]=r})},uS=function(e){var t=kd().getOr({}),n=function(f){return We(f)?Object.prototype.toString.call(f):r(f)?"":""+f},r=function(f){return f===""||f===null||f===void 0},a=function(f){var s=n(f);return xt(t,s.toLowerCase()).map(n).getOr(s)},i=function(f){return f.replace(/{context:\w+}$/,"")};if(r(e))return"";if(tS(e))return n(e.raw);if(nS(e)){var o=e.slice(1),u=a(e[0]).replace(/\{([0-9]+)\}/g,function(f,s){return Ke(o,s)?n(o[s]):f});return i(u)}return i(a(e))},fS=function(){return kd().bind(function(e){return xt(e,"_dir")}).exists(function(e){return e==="rtl"})},sS=function(e){return Ke(Ja,e)},Kt={getData:rS,setCode:aS,getCode:iS,add:oS,translate:uS,isRtl:fS,hasCode:sS},bt=function(){var e=[],t={},n={},r=[],a=function(g,d){var y=ve(r,function(h){return h.name===g&&h.state===d});Y(y,function(h){return h.callback()})},i=function(g){if(n[g])return n[g].instance},o=function(g){var d;return n[g]&&(d=n[g].dependencies),d||[]},u=function(g,d){bt.languageLoad!==!1&&m(g,function(){var y=Kt.getCode(),h=","+(d||"")+",";!y||d&&h.indexOf(","+y+",")===-1||Sn.ScriptLoader.add(t[g]+"/langs/"+y+".js")},"loaded")},f=function(g,d,y){var h=d;return e.push(h),n[g]={instance:h,dependencies:y},a(g,"added"),h},s=function(g){delete t[g],delete n[g]},c=function(g,d){return typeof d=="object"?d:typeof g=="string"?{prefix:"",resource:d,suffix:""}:{prefix:g.prefix,resource:d,suffix:g.suffix}},l=function(g,d){var y=t[g];Y(d,function(h){Sn.ScriptLoader.add(y+"/"+h)})},v=function(g,d,y,h){var C=o(g);Y(C,function(w){var S=c(d,w);p(S.resource,S,void 0,void 0)}),y&&(h?y.call(h):y.call(Sn))},p=function(g,d,y,h,C){if(!t[g]){var w=typeof d=="string"?d:d.prefix+d.resource+d.suffix;w.indexOf("/")!==0&&w.indexOf("://")===-1&&(w=bt.baseURL+"/"+w),t[g]=w.substring(0,w.lastIndexOf("/"));var S=function(){a(g,"loaded"),v(g,d,y,h)};n[g]?S():Sn.ScriptLoader.add(w,S,h,C)}},m=function(g,d,y){y===void 0&&(y="added"),Ke(n,g)&&y==="added"||Ke(t,g)&&y==="loaded"?d():r.push({name:g,state:y,callback:d})};return{items:e,urls:t,lookup:n,_listeners:r,get:i,dependencies:o,requireLangPack:u,add:f,remove:s,createUrl:c,addComponents:l,load:p,waitFor:m}};bt.languageLoad=!0,bt.baseURL="",bt.PluginManager=bt(),bt.ThemeManager=bt();var Kf=function(e,t){var n=null,r=function(){n!==null&&(clearTimeout(n),n=null)},a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];n===null&&(n=setTimeout(function(){e.apply(null,i),n=null},t))};return{cancel:r,throttle:a}},Nd=function(e,t){var n=null,r=function(){n!==null&&(clearTimeout(n),n=null)},a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];n!==null&&clearTimeout(n),n=setTimeout(function(){e.apply(null,i),n=null},t)};return{cancel:r,throttle:a}},Gf=function(e,t){var n=qa(e,t);return n===void 0||n===""?[]:n.split(" ")},lS=function(e,t,n){var r=Gf(e,t),a=r.concat([n]);return Cn(e,t,a.join(" ")),!0},cS=function(e,t,n){var r=ve(Gf(e,t),function(a){return a!==n});return r.length>0?Cn(e,t,r.join(" ")):fr(e,t),!1},lo=function(e){return e.dom.classList!==void 0},vS=function(e){return Gf(e,"class")},dS=function(e,t){return lS(e,"class",t)},pS=function(e,t){return cS(e,"class",t)},co=function(e,t){lo(e)?e.dom.classList.add(t):dS(e,t)},mS=function(e){var t=lo(e)?e.dom.classList:vS(e);t.length===0&&fr(e,"class")},gS=function(e,t){if(lo(e)){var n=e.dom.classList;n.remove(t)}else pS(e,t);mS(e)},Ad=function(e,t){return lo(e)&&e.dom.classList.contains(t)},Td=function(e,t){var n=[];return Y(Nt(e),function(r){t(r)&&(n=n.concat([r])),n=n.concat(Td(r,t))}),n},dt=function(e,t){return h0(t,e)},Xf=Z("mce-annotation"),ei=Z("data-mce-annotation"),vo=Z("data-mce-annotation-uid"),Rd=function(e,t){var n=e.selection.getRng(),r=x.fromDom(n.startContainer),a=x.fromDom(e.getBody()),i=t.fold(function(){return"."+Xf()},function(s){return"["+ei()+'="'+s+'"]'}),o=Ii(r,n.startOffset).getOr(r),u=cf(o,i,function(s){return Se(s,a)}),f=function(s,c){return V0(s,c)?b.some(qa(s,c)):b.none()};return u.bind(function(s){return f(s,""+vo()).bind(function(c){return f(s,""+ei()).map(function(l){var v=yS(e,c);return{uid:c,name:l,elements:v}})})})},hS=function(e){return nn(e)&&Ad(e,Xf())},yS=function(e,t){var n=x.fromDom(e.getBody());return dt(n,"["+vo()+'="'+t+'"]')},bS=function(e,t){var n=x.fromDom(e.getBody()),r=dt(n,"["+ei()+'="'+t+'"]'),a={};return Y(r,function(i){var o=qa(i,vo()),u=a.hasOwnProperty(o)?a[o]:[];a[o]=u.concat([i])}),a},CS=function(e,t){var n=_e({}),r=function(){return{listeners:[],previous:_e(b.none())}},a=function(c,l){i(c,function(v){return l(v),v})},i=function(c,l){var v=n.get(),p=v.hasOwnProperty(c)?v[c]:r(),m=l(p);v[c]=m,n.set(v)},o=function(c,l,v){a(c,function(p){Y(p.listeners,function(m){return m(!0,c,{uid:l,nodes:ke(v,function(g){return g.dom})})})})},u=function(c){a(c,function(l){Y(l.listeners,function(v){return v(!1,c)})})},f=Nd(function(){var c=n.get(),l=SC(ir(c));Y(l,function(v){i(v,function(p){var m=p.previous.get();return Rd(e,b.some(v)).fold(function(){m.isSome()&&(u(v),p.previous.set(b.none()))},function(g){var d=g.uid,y=g.name,h=g.elements;m.is(d)||(o(y,d,h),p.previous.set(b.some(d)))}),{previous:p.previous,listeners:p.listeners}})})},30);e.on("remove",function(){f.cancel()}),e.on("NodeChange",function(){f.throttle()});var s=function(c,l){i(c,function(v){return{previous:v.previous,listeners:v.listeners.concat([l])}})};return{addListener:s}},wS=function(e,t){var n=function(r){return b.from(r.attr(ei())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(r){Y(r,function(a){n(a).each(function(i){i.persistent===!1&&a.unwrap()})})})})},ES=function(){var e={},t=function(r,a){e[r]={name:r,settings:a}},n=function(r){return e.hasOwnProperty(r)?b.from(e[r]).map(function(a){return a.settings}):b.none()};return{register:t,lookup:n}},Bd=0,Dd=function(e){var t=new Date,n=t.getTime(),r=Math.floor(Math.random()*1e9);return Bd++,e+"_"+r+Bd+String(n)},SS=function(e,t){Y(t,function(n){co(e,n)})},xS=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,Nt(x.fromDom(r))},kS=function(e){return e.dom.innerHTML},Pd=function(e,t){var n=cv(e),r=n.dom,a=x.fromDom(r.createDocumentFragment()),i=xS(t,r);$i(a,i),nf(e),Ge(e,a)},Od=function(e,t){return x.fromDom(e.dom.cloneNode(t))},oa=function(e){return Od(e,!1)},_d=function(e){return Od(e,!0)},Ld=function(e,t,n){n===void 0&&(n=he);var r=new Ie(e,t),a=function(i){var o;do o=r[i]();while(o&&!Q(o)&&!n(o));return b.from(o).filter(Q)};return{current:function(){return b.from(r.current()).filter(Q)},next:function(){return a("next")},prev:function(){return a("prev")},prev2:function(){return a("prev2")}}},Id=function(e,t){var n=t||function(o){return e.isBlock(o)||De(o)||xe(o)},r=function(o,u,f,s){if(Q(o)){var c=s(o,u,o.data);if(c!==-1)return b.some({container:o,offset:c})}return f().bind(function(l){return r(l.container,l.offset,f,s)})},a=function(o,u,f,s){var c=Ld(o,s,n);return r(o,u,function(){return c.prev().map(function(l){return{container:l,offset:l.length}})},f).getOrNull()},i=function(o,u,f,s){var c=Ld(o,s,n);return r(o,u,function(){return c.next().map(function(l){return{container:l,offset:0}})},f).getOrNull()};return{backwards:a,forwards:i}},NS=function(e){for(var t=[],n=function(a){t.push(a)},r=0;r<e.length;r++)e[r].each(n);return t},pt=function(e,t,n){return e.isSome()&&t.isSome()?b.some(n(e.getOrDie(),t.getOrDie())):b.none()},AS=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?b.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):b.none()},TS=function(e,t){return e?b.some(t):b.none()},ua=Math.round,mr=function(e){return e?{left:ua(e.left),top:ua(e.top),bottom:ua(e.bottom),right:ua(e.right),width:ua(e.width),height:ua(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},$d=function(e,t){return e=mr(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},RS=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},Fd=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},fa=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:Fd(t.top-e.bottom,e,t)},sa=function(e,t){return e.top>t.bottom?!0:e.bottom<t.top?!1:Fd(t.bottom-e.top,e,t)},Md=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},po=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},la=function(e,t){return e.nodeType===1&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},BS=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),Ud=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&BS.test(e)},DS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){for(var r=0;r<e.length;r++)if(e[r](n))return!0;return!1}},PS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){for(var r=0;r<e.length;r++)if(!e[r](n))return!1;return!0}},zd=ie,OS=on,Hd=Ui("display","block table"),_S=Ui("float","left right"),ti=PS(zd,OS,Mu(_S)),LS=Mu(Ui("white-space","pre pre-line pre-wrap")),ni=Q,Yf=De,Vd=Ce.nodeIndex,mo=la,Qf=function(e){return"createRange"in e?e.createRange():Ce.DOM.createRng()},Zf=function(e){return e&&/[\r\n\t ]/.test(e)},qd=function(e){return!!e.setStart&&!!e.setEnd},Jf=function(e){var t=e.startContainer,n=e.startOffset,r;return!!(Zf(e.toString())&&LS(t.parentNode)&&Q(t)&&(r=t.data,Zf(r[n-1])||Zf(r[n+1])))},IS=function(e){var t=e.ownerDocument,n=Qf(t),r=t.createTextNode(ht),a=e.parentNode;a.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=mr(n.getBoundingClientRect());return a.removeChild(r),i},$S=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,a=e.endOffset;if(t===n&&Q(n)&&r===0&&a===1){var i=e.cloneRange();return i.setEndAfter(n),jn(i)}else return null},Wd=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},jn=function(e){var t,n=e.getClientRects();return n.length>0?t=mr(n[0]):t=mr(e.getBoundingClientRect()),!qd(e)&&Yf(e)&&Wd(t)?IS(e):Wd(t)&&qd(e)?$S(e):t},gr=function(e,t){var n=$d(e,t);return n.width=1,n.right=n.left+1,n},FS=function(e){var t=[],n,r,a=function(o){o.height!==0&&(t.length>0&&RS(o,t[t.length-1])||t.push(o))},i=function(o,u){var f=Qf(o.ownerDocument);if(u<o.data.length){if(Ud(o.data[u]))return t;if(Ud(o.data[u-1])&&(f.setStart(o,u),f.setEnd(o,u+1),!Jf(f)))return a(gr(jn(f),!1)),t}u>0&&(f.setStart(o,u-1),f.setEnd(o,u),Jf(f)||a(gr(jn(f),!1))),u<o.data.length&&(f.setStart(o,u),f.setEnd(o,u+1),Jf(f)||a(gr(jn(f),!0)))};if(ni(e.container()))return i(e.container(),e.offset()),t;if(zd(e.container()))if(e.isAtEnd())r=mo(e.container(),e.offset()),ni(r)&&i(r,r.data.length),ti(r)&&!Yf(r)&&a(gr(jn(r),!1));else{if(r=mo(e.container(),e.offset()),ni(r)&&i(r,0),ti(r)&&e.isAtEnd())return a(gr(jn(r),!1)),t;n=mo(e.container(),e.offset()-1),ti(n)&&!Yf(n)&&(Hd(n)||Hd(r)||!ti(r))&&a(gr(jn(n),!1)),ti(r)&&a(gr(jn(r),!0))}return t},T=function(e,t,n){var r=function(){return ni(e),t===0},a=function(){return ni(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var c=Qf(e.ownerDocument);return c.setStart(e,t),c.setEnd(e,t),c},o=function(){return n||(n=FS(T(e,t))),n},u=function(){return o().length>0},f=function(c){return c&&e===c.container()&&t===c.offset()},s=function(c){return mo(e,c?t-1:t)};return{container:Z(e),offset:Z(t),toRange:i,getClientRects:o,isVisible:u,isAtStart:r,isAtEnd:a,isEqual:f,getNode:s}};T.fromRangeStart=function(e){return T(e.startContainer,e.startOffset)},T.fromRangeEnd=function(e){return T(e.endContainer,e.endOffset)},T.after=function(e){return T(e.parentNode,Vd(e)+1)},T.before=function(e){return T(e.parentNode,Vd(e))},T.isAbove=function(e,t){return pt(St(t.getClientRects()),Rn(e.getClientRects()),fa).getOr(!1)},T.isBelow=function(e,t){return pt(Rn(t.getClientRects()),St(e.getClientRects()),sa).getOr(!1)},T.isAtStart=function(e){return e?e.isAtStart():!1},T.isAtEnd=function(e){return e?e.isAtEnd():!1},T.isTextPosition=function(e){return e?Q(e.container()):!1},T.isElementPosition=function(e){return T.isTextPosition(e)===!1};var go=function(e,t){Q(t)&&t.data.length===0&&e.remove(t)},MS=function(e,t,n){t.insertNode(n),go(e,n.previousSibling),go(e,n.nextSibling)},US=function(e,t,n){var r=b.from(n.firstChild),a=b.from(n.lastChild);t.insertNode(n),r.each(function(i){return go(e,i.previousSibling)}),a.each(function(i){return go(e,i.nextSibling)})},es=function(e,t,n){ff(n)?US(e,t,n):MS(e,t,n)},Gt=Q,jd=qr,Kd=Ce.nodeIndex,Gd=function(e){var t=e.parentNode;return jd(t)?Gd(t):t},ts=function(e){return e?Oi(e.childNodes,function(t,n){return jd(n)&&n.nodeName!=="BR"?t=t.concat(ts(n)):t.push(n),t},[]):[]},zS=function(e,t){for(;(e=e.previousSibling)&&Gt(e);)t+=e.data.length;return t},Xd=function(e){return function(t){return e===t}},HS=function(e){var t,n;t=ts(Gd(e)),n=Dc(t,Xd(e),e),t=t.slice(0,n+1);var r=Oi(t,function(a,i,o){return Gt(i)&&Gt(t[o-1])&&a++,a},0);return t=Mr(t,It([e.nodeName])),n=Dc(t,Xd(e),e),n-r},Yd=function(e){var t;return Gt(e)?t="text()":t=e.nodeName.toLowerCase(),t+"["+HS(e)+"]"},VS=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&!(n&&n(t));t=t.parentNode)r.push(t);return r},Qd=function(e,t){var n,r,a=[],i,o,u;return n=t.container(),r=t.offset(),Gt(n)?i=zS(n,r):(o=n.childNodes,r>=o.length?(i="after",r=o.length-1):i="before",n=o[r]),a.push(Yd(n)),u=VS(e,n),u=Mr(u,Mu(qr)),a=a.concat(ju(u,function(f){return Yd(f)})),a.reverse().join("/")+","+i},qS=function(e,t,n){var r=ts(e);return r=Mr(r,function(a,i){return!Gt(a)||!Gt(r[i-1])}),r=Mr(r,It([t])),r[n]},WS=function(e,t){for(var n=e,r=0,a;Gt(n);){if(a=n.data.length,t>=r&&t<=r+a){e=n,t=t-r;break}if(!Gt(n.nextSibling)){e=n,t=a;break}r+=a,n=n.nextSibling}return Gt(e)&&t>e.data.length&&(t=e.data.length),T(e,t)},Zd=function(e,t){var n;if(!t)return null;var r=t.split(","),a=r[0].split("/");n=r.length>1?r[1]:"before";var i=Oi(a,function(o,u){var f=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return f?(f[1]==="text()"&&(f[1]="#text"),qS(o,f[1],parseInt(f[2],10))):null},e);return i?Gt(i)?WS(i,parseInt(n,10)):(n==="after"?n=Kd(i)+1:n=Kd(i),T(i.parentNode,n)):null},ho=xe,jS=function(e,t,n){var r,a;for(a=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Q(r);r=r.previousSibling)a+=e(r.data).length;return a},Jd=function(e,t,n,r,a){var i=r[a?"startContainer":"endContainer"],o=r[a?"startOffset":"endOffset"],u=[],f,s=0,c=e.getRoot();for(Q(i)?u.push(n?jS(t,i,o):o):(f=i.childNodes,o>=f.length&&f.length&&(s=1,o=Math.max(0,f.length-1)),u.push(e.nodeIndex(f[o],n)+s));i&&i!==c;i=i.parentNode)u.push(e.nodeIndex(i,n));return u},KS=function(e,t,n,r){var a=t.dom,i={};return i.start=Jd(a,e,n,r,!0),t.isCollapsed()||(i.end=Jd(a,e,n,r,!1)),i},ns=function(e,t,n){var r=0;return B.each(e.select(t),function(a){if(a.getAttribute("data-mce-bogus")!=="all"){if(a===n)return!1;r++}}),r},ep=function(e,t){var n,r,a,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],ie(n)&&n.nodeName==="TR"&&(a=n.childNodes,n=a[Math.min(t?r:r-1,a.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},tp=function(e){return ep(e,!0),ep(e,!1),e},np=function(e,t){var n;if(ie(e)&&(e=la(e,t),ho(e)))return e;if(At(e)&&(Q(e)&&Yr(e)&&(e=e.parentNode),n=e.previousSibling,ho(n)||(n=e.nextSibling,ho(n))))return n},GS=function(e){return np(e.startContainer,e.startOffset)||np(e.endContainer,e.endOffset)},rp=function(e,t,n){var r=n.getNode(),a=r?r.nodeName:null,i=n.getRng();if(ho(r)||a==="IMG")return{name:a,index:ns(n.dom,a,r)};var o=GS(i);return o?(a=o.tagName,{name:a,index:ns(n.dom,a,o)}):KS(e,n,t,i)},XS=function(e){var t=e.getRng();return{start:Qd(e.dom.getRoot(),T.fromRangeStart(t)),end:Qd(e.dom.getRoot(),T.fromRangeEnd(t))}},YS=function(e){return{rng:e.getRng()}},ap=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},ip=function(e,t){var n=e.dom,r=e.getRng(),a=n.uniqueId(),i=e.isCollapsed(),o=e.getNode(),u=o.nodeName;if(u==="IMG")return{name:u,index:ns(n,u,o)};var f=tp(r.cloneRange());if(!i){f.collapse(!1);var s=ap(n,a+"_end",t);es(n,f,s)}r=tp(r),r.collapse(!0);var c=ap(n,a+"_start",t);return es(n,r,c),e.moveToBookmark({id:a,keep:!0}),{id:a}},QS=function(e,t,n){return t===2?rp(In,n,e):t===3?XS(e):t?YS(e):ip(e,!1)},op=j(rp,Ut,!0),ZS=Ce.DOM,JS="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",up=function(e,t,n){var r=e.getParam(t,n);if(r.indexOf("=")!==-1){var a=e.getParam(t,"","hash");return a.hasOwnProperty(e.id)?a[e.id]:n}else return r},e1=function(e){return e.getParam("iframe_attrs",{})},t1=function(e){return e.getParam("doctype","<!DOCTYPE html>")},n1=function(e){return e.getParam("document_base_url","")},r1=function(e){return up(e,"body_id","tinymce")},a1=function(e){return up(e,"body_class","")},fp=function(e){return e.getParam("content_security_policy","")},i1=function(e){return e.getParam("br_in_pre",!0)},Ze=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return t===!1?"":t===!0?"p":t},ri=function(e){return e.getParam("forced_root_block_attrs",{})},o1=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},u1=function(e){return e.getParam("no_newline_selector","")},f1=function(e){return e.getParam("keep_styles",!0)},s1=function(e){return e.getParam("end_container_on_empty_block",!1)},l1=function(e){return B.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},c1=function(e){return B.explode(e.getParam("font_size_classes",""))},v1=function(e){return e.getParam("images_dataimg_filter",je,"function")},sp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},d1=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},p1=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},lp=function(e){return e.getParam("icons","","string")},m1=function(e){return e.getParam("icons_url","","string")},g1=function(e){return e.getParam("images_upload_url","","string")},h1=function(e){return e.getParam("images_upload_base_path","","string")},y1=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},b1=function(e){return e.getParam("images_upload_handler",null,"function")},C1=function(e){return e.getParam("content_css_cors",!1,"boolean")},cp=function(e){return e.getParam("referrer_policy","","string")},vp=function(e){return e.getParam("language","en","string")},w1=function(e){return e.getParam("language_url","","string")},dp=function(e){return e.getParam("indent_use_margin",!1)},E1=function(e){return e.getParam("indentation","40px","string")},S1=function(e){var t=e.getParam("content_css");return Ue(t)?ke(t.split(","),Yu):_t(t)?t:t===!1||e.inline?[]:["default"]},pp=function(e){var t=e.getParam("font_css",[]);return _t(t)?t:ke(t.split(","),Yu)},x1=function(e){return e.getParam("directionality",Kt.isRtl()?"rtl":void 0)},k1=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},mp=function(e){var t=e.getParam("object_resizing");return t===!1||ae.iOS?!1:Ue(t)?t:"table,img,figure.image,div,video,iframe"},N1=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},A1=function(e){return e.getParam("placeholder",ZS.getAttrib(e.getElement(),"placeholder"),"string")},gp=function(e){return e.getParam("event_root")},T1=function(e){return e.getParam("service_message")},ai=function(e){return e.getParam("theme")},R1=function(e){return e.getParam("validate")},ii=function(e){return e.getParam("inline_boundaries")!==!1},B1=function(e){return e.getParam("formats")},D1=function(e){var t=e.getParam("preview_styles",JS);return Ue(t)?t:""},P1=function(e){return e.getParam("format_empty_lines",!1,"boolean")},O1=function(e){return e.getParam("custom_ui_selector","","string")},_1=function(e){return e.getParam("theme_url")},L1=function(e){return e.getParam("inline")},I1=function(e){return e.getParam("hidden_input")},$1=function(e){return e.getParam("submit_patch")},F1=function(e){return e.getParam("encoding")==="xml"},M1=function(e){return e.getParam("add_form_submit_trigger")},U1=function(e){return e.getParam("add_unload_trigger")},z1=function(e){return Ze(e)!==""},H1=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},V1=function(e){return e.getParam("disable_nodechange")},q1=function(e){return e.getParam("readonly")},W1=function(e){return e.getParam("content_css_cors")},rs=function(e){return e.getParam("plugins","","string")},j1=function(e){return e.getParam("external_plugins")},K1=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},G1=function(e){return e.getParam("visual",!0,"boolean")},X1=function(e){return e.getParam("visual_table_class","mce-item-table","string")},Y1=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},Q1=ie,hp=Q,yp=function(e){var t=e.parentNode;t&&t.removeChild(e)},bp=function(e){var t=In(e);return{count:e.length-t.length,text:t}},Cp=function(e){for(var t;(t=e.data.lastIndexOf(Ve))!==-1;)e.deleteData(t,1)},wp=function(e,t){return hr(e),t},Z1=function(e,t){var n=bp(e.data.substr(0,t.offset())),r=bp(e.data.substr(t.offset())),a=n.text+r.text;return a.length>0?(Cp(e),T(e,t.offset()-n.count)):t},J1=function(e,t){var n=t.container(),r=yC(Bn(n.childNodes),e).map(function(a){return a<t.offset()?T(n,t.offset()-1):t}).getOr(t);return hr(e),r},ex=function(e,t){return hp(e)&&t.container()===e?Z1(e,t):wp(e,t)},tx=function(e,t){return t.container()===e.parentNode?J1(e,t):wp(e,t)},nx=function(e,t){return T.isTextPosition(t)?ex(e,t):tx(e,t)},hr=function(e){Q1(e)&&At(e)&&(jv(e)?e.removeAttribute("data-mce-caret"):yp(e)),hp(e)&&(Cp(e),e.data.length===0&&yp(e))},as=Ht().browser,rx=xe,ax=$t,ix=Av,ox="*[contentEditable=false],video,audio,embed,object",Ep=function(e,t,n){var r=$d(t.getBoundingClientRect(),n),a,i,o,u,f;return e.tagName==="BODY"?(a=e.ownerDocument.documentElement,i=e.scrollLeft||a.scrollLeft,o=e.scrollTop||a.scrollTop):(f=e.getBoundingClientRect(),i=e.scrollLeft-f.left,o=e.scrollTop-f.top),r.left+=i,r.right+=i,r.top+=o,r.bottom+=o,r.width=1,u=t.offsetWidth-t.clientWidth,u>0&&(n&&(u*=-1),r.left+=u,r.right+=u),r},ux=function(e){for(var t=dt(x.fromDom(e),ox),n=0;n<t.length;n++){var r=t[n].dom,a=r.previousSibling;if(Gi(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(i.length-1,1)}if(a=r.nextSibling,Ki(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(0,1)}}},fx=function(e,t,n,r){var a=_e(b.none()),i,o,u=Ze(e),f=u.length>0?u:"p",s=function(g,d){var y,h;if(c(),ix(d))return null;if(n(d)){o=Bw(f,d,g),y=Ep(t,d,g),re(o).css("top",y.top);var C=re('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(y).appendTo(t)[0];a.set(b.some({caret:C,element:d,before:g})),a.get().each(function(w){g&&re(w.caret).addClass("mce-visual-caret-before")}),l(),h=d.ownerDocument.createRange(),h.setStart(o,0),h.setEnd(o,0)}else return o=Tw(d,g),h=d.ownerDocument.createRange(),oi(o.nextSibling)?(h.setStart(o,0),h.setEnd(o,0)):(h.setStart(o,1),h.setEnd(o,1)),h;return h},c=function(){ux(t),o&&(hr(o),o=null),a.get().each(function(g){re(g.caret).remove(),a.set(b.none())}),i&&(Ye.clearInterval(i),i=null)},l=function(){i=Ye.setInterval(function(){r()?re("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):re("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)},v=function(){a.get().each(function(g){var d=Ep(t,g.element,g.before);re(g.caret).css(ue({},d))})},p=function(){return Ye.clearInterval(i)},m=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:s,hide:c,getCss:m,reposition:v,destroy:p}},Sp=function(){return as.isIE()||as.isEdge()||as.isFirefox()},oi=function(e){return rx(e)||ax(e)},yr=function(e){return oi(e)||Wr(e)&&Sp()},is=xe,sx=$t,lx=Ui("display","block table table-cell table-caption list-item"),xp=At,kp=Yr,Np=ie,cx=on,ca=function(e){return e>0},br=function(e){return e<0},yo=function(e,t){for(var n;n=e(t);)if(!kp(n))return n;return null},va=function(e,t,n,r,a){var i=new Ie(e,r),o=is(e)||kp(e);if(br(t)){if(o&&(e=yo(i.prev.bind(i),!0),n(e)))return e;for(;e=yo(i.prev.bind(i),a);)if(n(e))return e}if(ca(t)){if(o&&(e=yo(i.next.bind(i),!0),n(e)))return e;for(;e=yo(i.next.bind(i),a);)if(n(e))return e}return null},Kn=function(e,t){for(;e&&e!==t;){if(lx(e))return e;e=e.parentNode}return null},sn=function(e,t,n){return Kn(e.container(),n)===Kn(t.container(),n)},os=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Np(n)?n.childNodes[r+e]:null},Ap=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},vx=function(e,t,n){return Kn(t,e)===Kn(n,e)},Tp=function(e,t,n){var r,a;for(e?a="previousSibling":a="nextSibling";n&&n!==t;){if(r=n[a],xp(r)&&(r=r[a]),is(r)||sx(r)){if(vx(t,r,n))return r;break}if(cx(r))break;n=n.parentNode}return null},ui=j(Ap,!0),fi=j(Ap,!1),us=function(e,t,n){var r,a,i,o=j(Tp,!0,t),u=j(Tp,!1,t);a=n.startContainer;var f=n.startOffset;if(Yr(a)){if(Np(a)||(a=a.parentNode),i=a.getAttribute("data-mce-caret"),i==="before"&&(r=a.nextSibling,yr(r)))return ui(r);if(i==="after"&&(r=a.previousSibling,yr(r)))return fi(r)}if(!n.collapsed)return n;if(Q(a)){if(xp(a)){if(e===1){if(r=u(a),r)return ui(r);if(r=o(a),r)return fi(r)}if(e===-1){if(r=o(a),r)return fi(r);if(r=u(a),r)return ui(r)}return n}if(Gi(a)&&f>=a.data.length-1)return e===1&&(r=u(a),r)?ui(r):n;if(Ki(a)&&f<=1)return e===-1&&(r=o(a),r)?fi(r):n;if(f===a.data.length)return r=u(a),r?ui(r):n;if(f===0)return r=o(a),r?fi(r):n}return n},Rp=function(e,t){return b.from(os(e?0:-1,t)).filter(is)},si=function(e,t,n){var r=us(e,t,n);return e===-1?T.fromRangeStart(r):T.fromRangeEnd(r)},bo=function(e){return b.from(e.getNode()).map(x.fromDom)},dx=function(e){return b.from(e.getNode(!0)).map(x.fromDom)},fs=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Co=function(e,t){var n=sn(e,t);return!n&&De(e.getNode())?!0:n},Fe;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Fe||(Fe={}));var px=xe,ln=Q,Bp=ie,ss=De,da=on,Dp=Hw,wo=Xi,mx=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},Pp=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Op=function(e,t){if(ca(e)){if(da(t.previousSibling)&&!ln(t.previousSibling))return T.before(t);if(ln(t))return T(t,0)}if(br(e)){if(da(t.nextSibling)&&!ln(t.nextSibling))return T.after(t);if(ln(t))return T(t,t.data.length)}return br(e)?ss(t)?T.before(t):T.after(t):T.before(t)},gx=function(e,t){var n=t.nextSibling;return n&&da(n)?ln(n)?T(n,0):T.before(n):ls(Fe.Forwards,T.after(t),e)},ls=function(e,t,n){var r,a,i,o;if(!Bp(n)||!t)return null;if(t.isEqual(T.after(n))&&n.lastChild){if(o=T.after(n.lastChild),br(e)&&da(n.lastChild)&&Bp(n.lastChild))return ss(n.lastChild)?T.before(n.lastChild):o}else o=t;var u=o.container(),f=o.offset();if(ln(u)){if(br(e)&&f>0)return T(u,--f);if(ca(e)&&f<u.length)return T(u,++f);r=u}else{if(br(e)&&f>0&&(a=Pp(u,f-1),da(a)))return!Dp(a)&&(i=va(a,e,wo,a),i)?ln(i)?T(i,i.data.length):T.after(i):ln(a)?T(a,a.data.length):T.before(a);if(ca(e)&&f<u.childNodes.length&&(a=Pp(u,f),da(a)))return ss(a)?gx(n,a):!Dp(a)&&(i=va(a,e,wo,a),i)?ln(i)?T(i,0):T.before(i):ln(a)?T(a,0):T.after(a);r=a||o.getNode()}if((ca(e)&&o.isAtEnd()||br(e)&&o.isAtStart())&&(r=va(r,e,je,n,!0),wo(r,n)))return Op(e,r);a=va(r,e,wo,n);var s=Dn(ve(mx(u,n),px));return s&&(!a||!s.contains(a))?(ca(e)?o=T.after(s):o=T.before(s),o):a?Op(e,a):null},Xt=function(e){return{next:function(t){return ls(Fe.Forwards,t,e)},prev:function(t){return ls(Fe.Backwards,t,e)}}},hx=function(e,t,n){var r=e?T.before(n):T.after(n);return Bt(e,t,r)},yx=function(e){return De(e)?T.before(e):T.after(e)},_p=function(e){return T.isTextPosition(e)?e.offset()===0:on(e.getNode())},Lp=function(e){if(T.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}else return on(e.getNode(!0))},Ip=function(e,t){return!T.isTextPosition(e)&&!T.isTextPosition(t)&&e.getNode()===t.getNode(!0)},bx=function(e){return!T.isTextPosition(e)&&De(e.getNode())},Cx=function(e,t,n){return e?!Ip(t,n)&&!bx(t)&&Lp(t)&&_p(n):!Ip(n,t)&&_p(t)&&Lp(n)},Bt=function(e,t,n){var r=Xt(t);return b.from(e?r.next(n):r.prev(n))},Eo=function(e,t,n){return Bt(e,t,n).bind(function(r){return sn(n,r,t)&&Cx(e,n,r)?Bt(e,t,r):b.some(r)})},$p=function(e,t,n,r){return Eo(e,t,n).bind(function(a){return r(a)?$p(e,t,a,r):b.some(a)})},pa=function(e,t){var n=e?t.firstChild:t.lastChild;return Q(n)?b.some(T(n,e?0:n.data.length)):n?on(n)?b.some(e?T.before(n):yx(n)):hx(e,t,n):b.none()},Yt=j(Bt,!0),cn=j(Bt,!1),st=j(pa,!0),vn=j(pa,!1),Fp="_mce_caret",dn=function(e){return ie(e)&&e.id===Fp},Cr=function(e,t){for(;t&&t!==e;){if(t.id===Fp)return t;t=t.parentNode}return null},wx=function(e){return Ue(e.start)},Ex=function(e){return e.hasOwnProperty("rng")},Sx=function(e){return e.hasOwnProperty("id")},xx=function(e){return e.hasOwnProperty("name")},kx=function(e){return B.isArray(e.start)},Mp=function(e,t){return ie(t)&&e.isBlock(t)&&!t.innerHTML&&!ae.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Nx=function(e,t){var n,r=e.createRng();return n=Zd(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=Zd(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},Ax=function(e,t){var n=e.ownerDocument.createTextNode(Ve);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},Tx=function(e){return e.hasChildNodes()===!1},Rx=function(e,t){return vn(e).fold(he,function(n){return t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0})},Up=function(e,t,n){return Tx(t)&&Cr(e,t)?(Ax(t,n),!0):!1},zp=function(e,t,n,r){var a=n[t?"start":"end"],i,o,u,f,s=e.getRoot();if(a){for(u=a[0],o=s,i=a.length-1;i>=1;i--){if(f=o.childNodes,Up(s,o,r))return!0;if(a[i]>f.length-1)return Up(s,o,r)?!0:Rx(o,r);o=f[a[i]]}o.nodeType===3&&(u=Math.min(a[0],o.nodeValue.length)),o.nodeType===1&&(u=Math.min(a[0],o.childNodes.length)),t?r.setStart(o,u):r.setEnd(o,u)}return!0},cs=function(e){return Q(e)&&e.data.length>0},Hp=function(e,t,n){var r=e.get(n.id+"_"+t),a,i,o,u,f=n.keep,s,c;if(r){if(a=r.parentNode,t==="start"?(f?r.hasChildNodes()?(a=r.firstChild,i=1):cs(r.nextSibling)?(a=r.nextSibling,i=0):cs(r.previousSibling)?(a=r.previousSibling,i=r.previousSibling.data.length):(a=r.parentNode,i=e.nodeIndex(r)+1):i=e.nodeIndex(r),s=a,c=i):(f?r.hasChildNodes()?(a=r.firstChild,i=1):cs(r.previousSibling)?(a=r.previousSibling,i=r.previousSibling.data.length):(a=r.parentNode,i=e.nodeIndex(r)):i=e.nodeIndex(r),s=a,c=i),!f){for(u=r.previousSibling,o=r.nextSibling,B.each(B.grep(r.childNodes),function(l){Q(l)&&(l.nodeValue=l.nodeValue.replace(/\uFEFF/g,""))});r=e.get(n.id+"_"+t);)e.remove(r,!0);u&&o&&u.nodeType===o.nodeType&&Q(u)&&!ae.opera&&(i=u.nodeValue.length,u.appendData(o.nodeValue),e.remove(o),s=u,c=i)}return b.some(T(s,c))}else return b.none()},Bx=function(e,t){var n=e.createRng();return zp(e,!0,t,n)&&zp(e,!1,t,n)?b.some(n):b.none()},Dx=function(e,t){var n=Hp(e,"start",t),r=Hp(e,"end",t);return pt(n,r.or(n),function(a,i){var o=e.createRng();return o.setStart(Mp(e,a.container()),a.offset()),o.setEnd(Mp(e,i.container()),i.offset()),o})},Px=function(e,t){return b.from(e.select(t.name)[t.index]).map(function(n){var r=e.createRng();return r.selectNode(n),r})},Ox=function(e,t){var n=e.dom;if(t){if(kx(t))return Bx(n,t);if(wx(t))return b.some(Nx(n,t));if(Sx(t))return Dx(n,t);if(xx(t))return Px(n,t);if(Ex(t))return b.some(t.rng)}return b.none()},_x=function(e,t,n){return QS(e,t,n)},Lx=function(e,t){Ox(e,t).each(function(n){e.setRng(n)})},Ct=function(e){return ie(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},Ix=function(e){return function(t){return e===t}},li=Ix(ht),ma=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},vs=function(e){return!ma(e)&&!li(e)},ds=function(e){return!!e.nodeType},$x=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Vp=function(e,t,n){var r=n.startOffset,a=n.startContainer,i,o,u;if(!(n.startContainer===n.endContainer&&$x(n.startContainer.childNodes[n.startOffset]))&&a.nodeType===1){for(u=a.childNodes,r<u.length?(a=u[r],i=new Ie(a,e.getParent(a,e.isBlock))):(a=u[u.length-1],i=new Ie(a,e.getParent(a,e.isBlock)),i.next(!0)),o=i.current();o;o=i.next())if(o.nodeType===3&&!gs(o)){n.setStart(o,0),t.setRng(n);return}}},ps=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(e.nodeType===1||!gs(e))return e}},ms=function(e,t){return ds(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},ga=function(e,t,n){return e.schema.isValidChild(t,n)},gs=function(e,t){if(t===void 0&&(t=!1),mt(e)&&Q(e)){var n=t?e.data.replace(/ /g,"\xA0"):e.data;return sr(n)}else return!1},Fx=function(e){return mt(e)&&Q(e)&&e.length===0},xn=function(e,t){return typeof e!="string"?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(n,r){return t[r]||n})),e},hs=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},ys=function(e,t,n){return(n==="color"||n==="backgroundColor")&&(t=e.toHex(t)),n==="fontWeight"&&t===700&&(t="bold"),n==="fontFamily"&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},So=function(e,t,n){return ys(e,e.getStyle(t,n),n)},qp=function(e,t){var n;return e.getParent(t,function(r){return n=e.getStyle(r,"text-decoration"),n&&n!=="none"}),n},xo=function(e,t,n){return e.getParents(t,n,e.getRoot())},Mx=function(e,t){var n=function(r){var a=function(i){return i.length>1&&i.charAt(0)==="%"};return gt(["styles","attributes"],function(i){return xt(r,i).exists(function(o){var u=_t(o)?o:TC(o);return gt(u,a)})})};return gt(e.formatter.get(t),n)},Ux=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],a=function(i){return Ia(i,function(o,u){return gt(r,function(f){return f===u})})};return gt(e.formatter.get(t),function(i){var o=a(i);return gt(e.formatter.get(n),function(u){var f=a(u);return RC(o,f)})})},Wp=function(e){return $a(e,"block")},bs=function(e){return $a(e,"selector")},Cs=function(e){return $a(e,"inline")},jp=function(e,t){return gt(t.childNodes,e.isBlock)},ha=Ct,Kp=xo,Gp=gs,zx=ms,Hx=function(e){return De(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Xp=function(e,t){for(var n=t;n;){if(ie(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},Yp=function(e,t,n,r){for(var a=t.data,i=n;e?i>=0:i<a.length;e?i--:i++)if(r(a.charAt(i)))return e?i+1:i;return-1},Vx=function(e,t,n){return Yp(e,t,n,function(r){return li(r)||ma(r)})},qx=function(e,t,n){return Yp(e,t,n,vs)},Qp=function(e,t,n,r,a,i){var o,u=e.getParent(n,e.isBlock)||t,f=function(c,l,v){var p=Id(e),m=a?p.backwards:p.forwards;return b.from(m(c,l,function(g,d){return ha(g.parentNode)?-1:(o=g,v(a,g,d))},u))},s=f(n,r,Vx);return s.bind(function(c){return i?f(c.container,c.offset+(a?-1:0),qx):b.some(c)}).orThunk(function(){return o?b.some({container:o,offset:a?0:o.length}):b.none()})},Zp=function(e,t,n,r,a){Q(r)&&r.nodeValue.length===0&&r[a]&&(r=r[a]);for(var i=Kp(e,r),o=0;o<i.length;o++)for(var u=0;u<t.length;u++){var f=t[u];if(!("collapsed"in f&&f.collapsed!==n.collapsed)&&e.is(i[o],f.selector))return i[o]}return r},Jp=function(e,t,n,r){var a,i=e.dom,o=i.getRoot();if(t[0].wrapper||(a=i.getParent(n,t[0].block,o)),!a){var u=i.getParent(n,"LI,TD,TH");a=i.getParent(Q(n)?n.parentNode:n,function(f){return f!==o&&zx(e,f)},u)}if(a&&t[0].wrapper&&(a=Kp(i,a,"ul,ol").reverse()[0]||a),!a)for(a=n;a[r]&&!i.isBlock(a[r])&&(a=a[r],!hs(a,"br")););return a||n},em=function(e,t,n,r){var a=n.parentNode;return mt(n[r])?!1:a===t||Ri(a)||e.isBlock(a)?!0:em(e,t,a,r)},ko=function(e,t,n,r,a){var i=n,o,u=a?"previousSibling":"nextSibling",f=e.getRoot();if(Q(n)&&!Gp(n)&&(a?r>0:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(i))return i;for(o=i[u];o;o=o[u]){var s=Q(o)&&!em(e,f,o,u);if(!ha(o)&&!Hx(o)&&!Gp(o,s))return i}if(i===f||i.parentNode===f){n=i;break}i=i.parentNode}return n},tm=function(e){return ha(e.parentNode)||ha(e)},ya=function(e,t,n,r){r===void 0&&(r=!1);var a=t.startContainer,i=t.startOffset,o=t.endContainer,u=t.endOffset,f=e.dom;if(ie(a)&&a.hasChildNodes()&&(a=la(a,i),Q(a)&&(i=0)),ie(o)&&o.hasChildNodes()&&(o=la(o,t.collapsed?u:u-1),Q(o)&&(u=o.nodeValue.length)),a=Xp(f,a),o=Xp(f,o),tm(a)&&(a=ha(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,Q(a)&&(i=t.collapsed?a.length:0)),tm(o)&&(o=ha(o)?o:o.parentNode,t.collapsed?o=o.nextSibling||o:o=o.previousSibling||o,Q(o)&&(u=t.collapsed?0:o.length)),t.collapsed){var s=Qp(f,e.getBody(),a,i,!0,r);s.each(function(l){var v=l.container,p=l.offset;a=v,i=p});var c=Qp(f,e.getBody(),o,u,!1,r);c.each(function(l){var v=l.container,p=l.offset;o=v,u=p})}return(n[0].inline||n[0].block_expand)&&((!n[0].inline||!Q(a)||i===0)&&(a=ko(f,n,a,i,!0)),(!n[0].inline||!Q(o)||u===o.nodeValue.length)&&(o=ko(f,n,o,u,!1))),n[0].selector&&n[0].expand!==!1&&!n[0].inline&&(a=Zp(f,n,t,a,"previousSibling"),o=Zp(f,n,t,o,"nextSibling")),(n[0].block||n[0].selector)&&(a=Jp(e,n,a,"previousSibling"),o=Jp(e,n,o,"nextSibling"),n[0].block&&(f.isBlock(a)||(a=ko(f,n,a,i,!0)),f.isBlock(o)||(o=ko(f,n,o,u,!1)))),ie(a)&&(i=f.nodeIndex(a),a=a.parentNode),ie(o)&&(u=f.nodeIndex(o)+1,o=o.parentNode),{startContainer:a,startOffset:i,endContainer:o,endOffset:u}},nm=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},Wx=function(e,t){return nm(e,t-1)},ci=function(e,t,n){var r=t.startContainer,a=t.startOffset,i=t.endContainer,o=t.endOffset,u=function(d){var y;return y=d[0],y.nodeType===3&&y===r&&a>=y.nodeValue.length&&d.splice(0,1),y=d[d.length-1],o===0&&d.length>0&&y===i&&y.nodeType===3&&d.splice(d.length-1,1),d},f=function(d,y,h){for(var C=[];d&&d!==h;d=d[y])C.push(d);return C},s=function(d,y){do{if(d.parentNode===y)return d;d=d.parentNode}while(d)},c=function(d,y,h){for(var C=h?"nextSibling":"previousSibling",w=d,S=w.parentNode;w&&w!==y;w=S){S=w.parentNode;var R=f(w===d?w:w[C],C);R.length&&(h||R.reverse(),n(u(R)))}};if(r.nodeType===1&&r.hasChildNodes()&&(r=nm(r,a)),i.nodeType===1&&i.hasChildNodes()&&(i=Wx(i,o)),r===i)return n(u([r]));for(var l=e.findCommonAncestor(r,i),v=r;v;v=v.parentNode){if(v===i)return c(r,l,!0);if(v===l)break}for(var v=i;v;v=v.parentNode){if(v===r)return c(i,l);if(v===l)break}var p=s(r,l)||r,m=s(i,l)||i;c(r,p,!0);var g=f(p===r?p:p.nextSibling,"nextSibling",m===i?m.nextSibling:m);g.length&&n(u(g)),c(i,m)},ws=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},jx=function(e){return _a(e,function(t){var n=po(t);return n?[x.fromDom(n)]:[]})},Kx=function(e){return ws(e).length>1},Gx=function(e){return ve(jx(e),Wi)},Xx=function(e){return dt(e,"td[data-mce-selected],th[data-mce-selected]")},rm=function(e,t){var n=Xx(t);return n.length>0?n:Gx(e)},ba=function(e){return rm(ws(e.selection.getSel()),x.fromDom(e.getBody()))},Yx=function(e){var t=e.startContainer,n=e.startOffset;return Q(t)?n===0?b.some(x.fromDom(t)):b.none():b.from(t.childNodes[n]).map(x.fromDom)},Qx=function(e){var t=e.endContainer,n=e.endOffset;return Q(t)?n===t.data.length?b.some(x.fromDom(t)):b.none():b.from(t.childNodes[n-1]).map(x.fromDom)},am=function(e){return mv(e).fold(Z([e]),function(t){return[e].concat(am(t))})},Es=function(e){return ef(e).fold(Z([e]),function(t){return Oe(t)==="br"?or(t).map(function(n){return[e].concat(Es(n))}).getOr([]):[e].concat(Es(t))})},Ss=function(e,t){return pt(Yx(t),Qx(t),function(n,r){var a=ot(am(e),j(Se,n)),i=ot(Es(e),j(Se,r));return a.isSome()&&i.isSome()}).getOr(!1)},xs=function(e,t,n,r){var a=n,i=new Ie(n,a),o=Ia(e.schema.getMoveCaretBeforeOnEnterElements(),function(u,f){return!ze(["td","th","table"],f.toLowerCase())});do{if(Q(n)&&B.trim(n.nodeValue).length!==0){r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length);return}if(o[n.nodeName]){r?t.setStartBefore(n):n.nodeName==="BR"?t.setEndBefore(n):t.setEndAfter(n);return}}while(n=r?i.next():i.prev());a.nodeName==="BODY"&&(r?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},No=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},ks=function(e,t){var n=ba(e);n.length>0?Y(n,function(r){var a=r.dom,i=e.dom.createRng();i.setStartBefore(a),i.setEndAfter(a),t(i,!0)}):t(e.selection.getRng(),!1)},Ns=function(e,t,n){var r=ip(e,t);n(r),e.moveToBookmark(r)},Zx=function(e,t){var n=function(i){if(!e(i))throw new Error("Can only get "+t+" value of a "+t+" node");return r(i).getOr("")},r=function(i){return e(i)?b.from(i.dom.nodeValue):b.none()},a=function(i,o){if(!e(i))throw new Error("Can only set raw "+t+" value of a "+t+" node");i.dom.nodeValue=o};return{get:n,getOption:r,set:a}},Jx=Zx(Lt,"text"),As=function(e){return Jx.get(e)},ek=function(e){return Lt(e)&&As(e)===Ve},tk=function(e,t,n,r){return Vt(t).fold(function(){return"skipping"},function(a){return r==="br"||ek(t)?"valid":hS(t)?"existing":dn(t.dom)?"caret":!ga(e,n,r)||!ga(e,Oe(a),n)?"invalid-child":"valid"})},nk=function(e,t){var n=ya(e,t,[{inline:!0}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},im=function(e,t,n,r){var a=t.uid,i=a===void 0?Dd("mce-annotation"):a,o=DC(t,["uid"]),u=x.fromTag("span",e);co(u,Xf()),Cn(u,""+vo(),i),Cn(u,""+ei(),n);var f=r(i,o),s=f.attributes,c=s===void 0?{}:s,l=f.classes,v=l===void 0?[]:l;return On(u,c),SS(u,v),u},rk=function(e,t,n,r,a){var i=[],o=im(e.getDoc(),a,n,r),u=_e(b.none()),f=function(){u.set(b.none())},s=function(){return u.get().getOrThunk(function(){var p=oa(o);return i.push(p),u.set(b.some(p)),p})},c=function(p){Y(p,l)},l=function(p){var m=tk(e,p,"span",Oe(p));switch(m){case"invalid-child":{f();var g=Nt(p);c(g),f();break}case"valid":{var d=s();_0(p,d);break}}},v=function(p){var m=ke(p,x.fromDom);c(m)};return ci(e.dom,t,function(p){f(),v(p)}),i},ak=function(e,t,n,r){e.undoManager.transact(function(){var a=e.selection,i=a.getRng(),o=ba(e).length>0;if(i.collapsed&&!o&&nk(e,i),a.getRng().collapsed&&!o){var u=im(e.getDoc(),r,t,n.decorate);Pd(u,ht),a.getRng().insertNode(u.dom),a.select(u.dom)}else Ns(a,!1,function(){ks(e,function(f){rk(e,f,t,n.decorate,r)})})})},om=function(e){var t=ES();wS(e,t);var n=CS(e);return{register:function(r,a){t.register(r,a)},annotate:function(r,a){t.lookup(r).each(function(i){ak(e,r,i,a)})},annotationChanged:function(r,a){n.addListener(r,a)},remove:function(r){Rd(e,b.some(r)).each(function(a){var i=a.elements;Y(i,bv)})},getAll:function(r){var a=bS(e,r);return Ac(a,function(i){return ke(i,function(o){return o.dom})})}}},vi=function(e){return{getBookmark:j(_x,e),moveToBookmark:j(Lx,e)}};vi.isBookmarkNode=Ct;var di=function(e,t){for(;t&&t!==e;){if(rn(t)||xe(t))return t;t=t.parentNode}return null},Ts=function(e,t,n){if(n.collapsed)return!1;if(ae.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(ie(r))return gt(r.getClientRects(),function(a){return Md(a,e,t)})}return gt(n.getClientRects(),function(a){return Md(a,e,t)})},ik=function(e,t){return e.fire("PreProcess",t)},ok=function(e,t){return e.fire("PostProcess",t)},uk=function(e){return e.fire("remove")},fk=function(e){return e.fire("detach")},sk=function(e,t){return e.fire("SwitchMode",{mode:t})},lk=function(e,t,n,r,a){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:a})},ck=function(e,t,n,r,a){e.fire("ObjectResized",{target:t,width:n,height:r,origin:a})},vk=function(e){return e.fire("PreInit")},dk=function(e){return e.fire("PostRender")},pk=function(e){return e.fire("Init")},mk=function(e,t){return e.fire("PlaceholderToggle",{state:t})},um=function(e,t,n){return e.fire(t,n)},J={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||J.metaKeyPressed(e)},metaKeyPressed:function(e){return ae.mac?e.metaKey:e.ctrlKey&&!e.altKey}},gk=xe,fm=function(e,t){var n="data-mce-selected",r=t.dom,a=B.each,i,o,u,f,s,c,l,v,p,m,g,d,y,h,C,w=t.getDoc(),S=document,R=Math.abs,L=Math.round,I=t.getBody(),K,X,O={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ee=function(N){return N&&(N.nodeName==="IMG"||t.dom.is(N,"figure.image"))},M=function(N){return $t(N)||r.hasClass(N,"mce-preview-object")},G=function(N,H){if(N.type==="longpress"||N.type.indexOf("touch")===0){var V=N.touches[0];return ee(N.target)&&!Ts(V.clientX,V.clientY,H)}else return ee(N.target)&&!Ts(N.clientX,N.clientY,H)},F=function(N){var H=N.target;G(N,t.selection.getRng())&&!N.isDefaultPrevented()&&t.selection.select(H)},z=function(N){return r.is(N,"figure.image")?[N.querySelector("img")]:r.hasClass(N,"mce-preview-object")&&mt(N.firstElementChild)?[N,N.firstElementChild]:[N]},W=function(N){var H=mp(t);return!H||N.getAttribute("data-mce-resize")==="false"||N===t.getBody()?!1:r.hasClass(N,"mce-preview-object")?zr(x.fromDom(N.firstElementChild),H):zr(x.fromDom(N),H)},_=function(N){return M(N)?r.create("img",{src:ae.transparentSrc}):N.cloneNode(!0)},q=function(N,H,V){if(mt(V)){var te=z(N);Y(te,function(oe){oe.style[H]||!t.schema.isValid(oe.nodeName.toLowerCase(),H)?r.setStyle(oe,H,V):r.setAttrib(oe,H,""+V)})}},le=function(N,H,V){q(N,"width",H),q(N,"height",V)},ge=function(N){var H,V,te,oe,we;H=N.screenX-c,V=N.screenY-l,h=H*f[2]+m,C=V*f[3]+g,h=h<5?5:h,C=C<5?5:C,(ee(i)||M(i))&&N1(t)!==!1?te=!J.modifierPressed(N):te=J.modifierPressed(N),te&&(R(H)>R(V)?(C=L(h*d),h=L(C/d)):(h=L(C/d),C=L(h*d))),le(o,h,C),oe=f.startPos.x+H,we=f.startPos.y+V,oe=oe>0?oe:0,we=we>0?we:0,r.setStyles(u,{left:oe,top:we,display:"block"}),u.innerHTML=h+" &times; "+C,f[2]<0&&o.clientWidth<=h&&r.setStyle(o,"left",v+(m-h)),f[3]<0&&o.clientHeight<=C&&r.setStyle(o,"top",p+(g-C)),H=I.scrollWidth-K,V=I.scrollHeight-X,H+V!==0&&r.setStyles(u,{left:oe-H,top:we-V}),y||(lk(t,i,m,g,"corner-"+f.name),y=!0)},de=function(){var N=y;y=!1,N&&(q(i,"width",h),q(i,"height",C)),r.unbind(w,"mousemove",ge),r.unbind(w,"mouseup",de),S!==w&&(r.unbind(S,"mousemove",ge),r.unbind(S,"mouseup",de)),r.remove(o),r.remove(u),r.remove(s),Te(i),N&&(ck(t,i,h,C,"corner-"+f.name),r.setAttrib(i,"style",r.getAttrib(i,"style"))),t.nodeChanged()},Te=function(N){P();var H=r.getPos(N,I),V=H.x,te=H.y,oe=N.getBoundingClientRect(),we=oe.width||oe.right-oe.left,Le=oe.height||oe.bottom-oe.top;i!==N&&(Ae(),i=N,h=C=0);var at=t.fire("ObjectSelected",{target:N}),Tn=r.getAttrib(i,n,"1");W(N)&&!at.isDefaultPrevented()?a(O,function(Je,it){var Ne,yn=function(vt){var ye=z(i)[0];c=vt.screenX,l=vt.screenY,m=ye.clientWidth,g=ye.clientHeight,d=g/m,f=Je,f.name=it,f.startPos={x:we*Je[0]+V,y:Le*Je[1]+te},K=I.scrollWidth,X=I.scrollHeight,s=r.add(I,"div",{class:"mce-resize-backdrop"}),r.setStyles(s,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),o=_(i),r.addClass(o,"mce-clonedresizable"),r.setAttrib(o,"data-mce-bogus","all"),o.contentEditable="false",r.setStyles(o,{left:V,top:te,margin:0}),le(o,we,Le),o.removeAttribute(n),I.appendChild(o),r.bind(w,"mousemove",ge),r.bind(w,"mouseup",de),S!==w&&(r.bind(S,"mousemove",ge),r.bind(S,"mouseup",de)),u=r.add(I,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+g)};Ne=r.get("mceResizeHandle"+it),Ne&&r.remove(Ne),Ne=r.add(I,"div",{id:"mceResizeHandle"+it,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+it+"-resize; margin:0; padding:0"}),ae.ie===11&&(Ne.contentEditable=!1),r.bind(Ne,"mousedown",function(vt){vt.stopImmediatePropagation(),vt.preventDefault(),yn(vt)}),Je.elm=Ne,r.setStyles(Ne,{left:we*Je[0]+V-Ne.offsetWidth/2,top:Le*Je[1]+te-Ne.offsetHeight/2})}):Ae(),r.getAttrib(i,n)||i.setAttribute(n,Tn)},Ae=function(){P(),i&&i.removeAttribute(n),Be(O,function(N,H){var V=r.get("mceResizeHandle"+H);V&&(r.unbind(V),r.remove(V))})},ct=function(N){var H,V,te=function(oe,we){if(oe)do if(oe===we)return!0;while(oe=oe.parentNode)};if(!(y||t.removed)){if(a(r.select("img[data-mce-selected],hr[data-mce-selected]"),function(oe){oe.removeAttribute(n)}),V=N.type==="mousedown"?N.target:e.getNode(),V=r.$(V).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],te(V,I)&&(k(),H=e.getStart(!0),te(H,V)&&te(e.getEnd(!0),V))){Te(V);return}Ae()}},rt=function(N){return gk(di(t.getBody(),N))},P=function(){Be(O,function(N){N.elm&&(r.unbind(N.elm),delete N.elm)})},k=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};t.on("init",function(){if(k(),ae.browser.isIE()||ae.browser.isEdge()){t.on("mousedown click",function(V){var te=V.target,oe=te.nodeName;!y&&/^(TABLE|IMG|HR)$/.test(oe)&&!rt(te)&&(V.button!==2&&t.selection.select(te,oe==="TABLE"),V.type==="mousedown"&&t.nodeChanged())});var N=function(V){var te=function(oe){Ye.setEditorTimeout(t,function(){return t.selection.select(oe)})};if(rt(V.target)||$t(V.target)){V.preventDefault(),te(V.target);return}/^(TABLE|IMG|HR)$/.test(V.target.nodeName)&&(V.preventDefault(),V.target.tagName==="IMG"&&te(V.target))};r.bind(I,"mscontrolselect",N),t.on("remove",function(){return r.unbind(I,"mscontrolselect",N)})}var H=Ye.throttle(function(V){t.composing||ct(V)});t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",H),t.on("keyup compositionend",function(V){i&&i.nodeName==="TABLE"&&H(V)}),t.on("hide blur",Ae),t.on("contextmenu longpress",F,!0)}),t.on("remove",P);var D=function(){i=o=s=null};return{isResizable:W,showResizeRect:Te,hideResizeRect:Ae,updateResizeRect:ct,destroy:D}},hk=function(e){return rn(e)||xe(e)},yk=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},bk=function(e,t,n){var r,a=n.elementFromPoint(e,t),i=n.body.createTextRange();if((!a||a.tagName==="HTML")&&(a=n.body),i.moveToElementText(a),r=B.toArray(i.getClientRects()),r=r.sort(function(o,u){return o=Math.abs(Math.max(o.top-t,o.bottom-t)),u=Math.abs(Math.max(u.top-t,u.bottom-t)),o-u}),r.length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch{}}return null},Ck=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return xe(yk(n,t,hk))?null:e},Rs=function(e,t,n){var r,a,i=n;if(i.caretPositionFromPoint)a=i.caretPositionFromPoint(e,t),a&&(r=n.createRange(),r.setStart(a.offsetNode,a.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch{r=bk(e,t,n)}return Ck(r,n.body)}return r},Bs=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},wk=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},sm=function(e,t,n){return wk(e,t,n)!==null},Ek=function(e,t,n){return sm(e,t,function(r){return r.nodeName===n})},Ds=function(e){return e&&e.nodeName==="TABLE"},Sk=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},xk=function(e,t){return At(e)&&sm(e,t,dn)===!1},lm=function(e,t,n){for(var r=new Ie(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(De(t))return!0},kk=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},Nk=function(e,t){for(;t&&t!==e;){if(xe(t))return!0;t=t.parentNode}return!1},Ps=function(e,t,n,r,a){var i,o=e.getRoot(),u,f=e.schema.getNonEmptyElements(),s=e.getParent(a.parentNode,e.isBlock)||o;if(r&&De(a)&&t&&e.isEmpty(s))return b.some(T(a.parentNode,e.nodeIndex(a)));for(var c=new Ie(a,s);u=c[r?"prev":"next"]();){if(e.getContentEditableParent(u)==="false"||xk(u,o))return b.none();if(Q(u)&&u.nodeValue.length>0)return Ek(u,o,"A")===!1?b.some(T(u,r?u.nodeValue.length:0)):b.none();if(e.isBlock(u)||f[u.nodeName.toLowerCase()])return b.none();i=u}return n&&i?b.some(T(i,0)):b.none()},cm=function(e,t,n,r){var a,i,o=e.getRoot(),u,f,s=!1;a=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var c=ie(a)&&i===a.childNodes.length,l=e.schema.getNonEmptyElements();if(f=n,At(a))return b.none();if(ie(a)&&i>a.childNodes.length-1&&(f=!1),uf(a)&&(a=o,i=0),a===o){if(f&&(u=a.childNodes[i>0?i-1:0],u&&(At(u)||l[u.nodeName]||Ds(u))))return b.none();if(a.hasChildNodes()){if(i=Math.min(!f&&i>0?i-1:i,a.childNodes.length-1),a=a.childNodes[i],i=Q(a)&&c?a.data.length:0,!t&&a===o.lastChild&&Ds(a)||Nk(o,a)||At(a))return b.none();if(a.hasChildNodes()&&Ds(a)===!1){u=a;var v=new Ie(a,o);do{if(xe(u)||At(u)){s=!1;break}if(Q(u)&&u.nodeValue.length>0){i=f?0:u.nodeValue.length,a=u,s=!0;break}if(l[u.nodeName.toLowerCase()]&&!Sk(u)){i=e.nodeIndex(u),a=u.parentNode,f||i++,s=!0;break}}while(u=f?v.next():v.prev())}}}return t&&(Q(a)&&i===0&&Ps(e,c,t,!0,a).each(function(p){a=p.container(),i=p.offset(),s=!0}),ie(a)&&(u=a.childNodes[i],u||(u=a.childNodes[i-1]),u&&De(u)&&!kk(u,"A")&&!lm(e,u,!1)&&!lm(e,u,!0)&&Ps(e,c,t,!0,u).each(function(p){a=p.container(),i=p.offset(),s=!0}))),f&&!t&&Q(a)&&i===a.nodeValue.length&&Ps(e,c,t,!1,a).each(function(p){a=p.container(),i=p.offset(),s=!0}),s?b.some(T(a,i)):b.none()},Ao=function(e,t){var n=t.collapsed,r=t.cloneRange(),a=T.fromRangeStart(t);return cm(e,n,!0,r).each(function(i){(!n||!T.isAbove(a,i))&&r.setStart(i.container(),i.offset())}),n||cm(e,n,!1,r).each(function(i){r.setEnd(i.container(),i.offset())}),n&&r.collapse(!0),Bs(t,r)?b.none():b.some(r)},To=function(e,t){return e.splitText(t)},Ro=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,a=e.endOffset;return t===r&&Q(t)?n>0&&n<t.nodeValue.length&&(r=To(t,n),t=r.previousSibling,a>n?(a=a-n,t=r=To(r,a).previousSibling,a=r.nodeValue.length,n=0):a=0):(Q(t)&&n>0&&n<t.nodeValue.length&&(t=To(t,n),n=0),Q(r)&&a>0&&a<r.nodeValue.length&&(r=To(r,a).previousSibling,a=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:a}},pi=function(e){var t=function(a,i){return ci(e,a,i)},n=Ro,r=function(a){return Ao(e,a).fold(he,function(i){return a.setStart(i.startContainer,i.startOffset),a.setEnd(i.endContainer,i.endOffset),!0})};return{walk:t,split:n,normalize:r}};pi.compareRanges=Bs,pi.getCaretRangeFromPoint=Rs,pi.getSelectedNode=po,pi.getNode=la;var Ak=function(e,t){var n=function(u,f){if(!Fr(f)&&!f.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+f);var s=u.dom;zi(s)&&(s.style[e]=f+"px")},r=function(u){var f=t(u);if(f<=0||f===null){var s=wn(u,e);return parseFloat(s)||0}return f},a=r,i=function(u,f){return zt(f,function(s,c){var l=wn(u,c),v=l===void 0?0:parseInt(l,10);return isNaN(v)?s:s+v},0)},o=function(u,f,s){var c=i(u,s),l=f>c?f-c:0;return l};return{set:n,get:r,getOuter:a,aggregate:i,max:o}},Tk=Ak("height",function(e){var t=e.dom;return Ha(e)?t.getBoundingClientRect().height:t.offsetHeight}),Rk=function(e){return Tk.get(e)},vm=function(e,t){var n=e.view(t);return n.fold(Z([]),function(r){var a=e.owner(r),i=vm(e,a);return[r].concat(i)})},Bk=function(e,t){var n=t.owner(e);return vm(t,n)},Dk=function(e){var t,n=e.dom===document?b.none():b.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return n.map(x.fromDom)},Pk=function(e){return Hr(e)},Ok=Object.freeze({__proto__:null,view:Dk,owner:Pk}),_k=function(e){var t=x.fromDom(document),n=af(t),r=Bk(e,Ok),a=rf(e),i=kc(r,function(o,u){var f=rf(u);return{left:o.left+f.left,top:o.top+f.top}},{left:0,top:0});return Vr(i.left+a.left+n.left,i.top+a.top+n.top)},Os=function(e){return Oe(e)==="textarea"},Lk=function(e,t){var n=e.fire("ScrollIntoView",t);return n.isDefaultPrevented()},Ik=function(e,t){e.fire("AfterScrollIntoView",t)},$k=function(e,t){var n=Nt(e);if(n.length===0||Os(e))return{element:e,offset:t};if(t<n.length&&!Os(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return Os(r)?{element:e,offset:t}:Oe(r)==="img"?{element:r,offset:1}:Lt(r)?{element:r,offset:As(r).length}:{element:r,offset:Nt(r).length}},dm=function(e,t){var n=$0(e),r=Rk(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},Fk=function(e,t){var n=$k(e,t),r=x.fromHtml('<span data-mce-bogus="all">'+Ve+"</span>");return qt(n.element,r),dm(r,function(){return Xe(r)})},Mk=function(e){return dm(x.fromDom(e),fe)},pm=function(e,t,n,r){zk(e,function(a,i){return Uk(e,t,n,r)},n)},mm=function(e,t,n,r,a){var i={elm:r.element.dom,alignToTop:a};if(!Lk(e,i)){var o=af(t).top;n(t,o,r,a),Ik(e,i)}},Uk=function(e,t,n,r){var a=x.fromDom(e.getBody()),i=x.fromDom(e.getDoc());K0(a);var o=Fk(x.fromDom(n.startContainer),n.startOffset);mm(e,i,t,o,r),o.cleanup()},gm=function(e,t,n,r){var a=x.fromDom(e.getDoc());mm(e,a,n,Mk(t),r)},zk=function(e,t,n){var r=n.startContainer,a=n.startOffset,i=n.endContainer,o=n.endOffset;t(x.fromDom(r),x.fromDom(i));var u=e.dom.createRng();u.setStart(r,a),u.setEnd(i,o),e.selection.setRng(n)},_s=function(e,t,n,r){var a=e.pos;if(n)wv(a.left,a.top,r);else{var i=a.top-t+e.height;wv(a.left,i,r)}},hm=function(e,t,n,r,a){var i=n+t,o=r.pos.top,u=r.bottom,f=u-o>=n;if(o<t)_s(r,n,a!==!1,e);else if(o>i){var s=f?a!==!1:a===!0;_s(r,n,s,e)}else u>i&&!f&&_s(r,n,a===!0,e)},ym=function(e,t,n,r){var a=e.dom.defaultView.innerHeight;hm(e,t,a,n,r)},bm=function(e,t,n,r){var a=e.dom.defaultView.innerHeight;hm(e,t,a,n,r);var i=_k(n.element),o=xv(window);i.top<o.y?Ev(n.element,r!==!1):i.top>o.bottom&&Ev(n.element,r===!0)},Hk=function(e,t,n){return pm(e,ym,t,n)},Vk=function(e,t,n){return gm(e,t,ym,n)},qk=function(e,t,n){return pm(e,bm,t,n)},Wk=function(e,t,n){return gm(e,t,bm,n)},jk=function(e,t,n){var r=e.inline?Vk:Wk;r(e,t,n)},Bo=function(e,t,n){var r=e.inline?Hk:qk;r(e,t,n)},Kk=function(){return x.fromDom(document)},Gk=function(e){return e.dom.focus()},Cm=function(e){var t=ur(e).dom;return e.dom===t.activeElement},Ls=function(e){return e===void 0&&(e=Kk()),b.from(e.dom.activeElement).map(x.fromDom)},Xk=function(e){return Ls(ur(e)).filter(function(t){return e.dom.contains(t.dom)})},Yk=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},Qk={create:Yk},Is=_n.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Zk=function(e,t,n,r){return e.fold(t,n,r)},Jk=function(e){return e.fold(Ut,Ut,Ut)},eN=Is.before,tN=Is.on,nN=Is.after,rN={before:eN,on:tN,after:nN,cata:Zk,getStart:Jk},Do=_n.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),aN=function(e){return Do.exact(e.start,e.soffset,e.finish,e.foffset)},iN=function(e){return e.match({domRange:function(t){return x.fromDom(t.startContainer)},relative:function(t,n){return rN.getStart(t)},exact:function(t,n,r,a){return t}})},oN=Do.domRange,uN=Do.relative,fN=Do.exact,sN=function(e){var t=iN(e);return vv(t)},lN=Qk.create,wm={domRange:oN,relative:uN,exact:fN,exactFromRange:aN,getWin:sN,range:lN},cN=Ht().browser,Em=function(e,t){var n=Lt(t)?As(t).length:Nt(t).length+1;return e>n?n:e<0?0:e},vN=function(e){return wm.range(e.start,Em(e.soffset,e.start),e.finish,Em(e.foffset,e.finish))},Sm=function(e,t){return!Mi(t.dom)&&(Pn(e,t)||Se(e,t))},$s=function(e){return function(t){return Sm(e,t.start)&&Sm(e,t.finish)}},xm=function(e){return e.inline===!0||cN.isIE()},km=function(e){return wm.range(x.fromDom(e.startContainer),e.startOffset,x.fromDom(e.endContainer),e.endOffset)},dN=function(e){var t=e.getSelection(),n=!t||t.rangeCount===0?b.none():b.from(t.getRangeAt(0));return n.map(km)},pN=function(e){var t=vv(e);return dN(t.dom).filter($s(e))},mN=function(e,t){return b.from(t).filter($s(e)).map(vN)},gN=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),b.some(t)}catch{return b.none()}},Po=function(e){var t=xm(e)?pN(x.fromDom(e.getBody())):b.none();e.bookmark=t.isSome()?t:e.bookmark},hN=function(e,t){var n=x.fromDom(e.getBody()),r=xm(e)?b.from(t):b.none(),a=r.map(km).filter($s(n));e.bookmark=a.isSome()?a:e.bookmark},Fs=function(e){var t=e.bookmark?e.bookmark:b.none();return t.bind(function(n){return mN(x.fromDom(e.getBody()),n)}).bind(gN)},yN=function(e){Fs(e).each(function(t){return e.selection.setRng(t)})},bN=function(e){var t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1},Nm={isEditorUIElement:bN},CN=function(e){return e.type==="nodechange"&&e.selectionChange},wN=function(e,t){var n=function(){t.throttle()};Ce.DOM.bind(document,"mouseup",n),e.on("remove",function(){Ce.DOM.unbind(document,"mouseup",n)})},EN=function(e){e.on("focusout",function(){Po(e)})},SN=function(e,t){e.on("mouseup touchend",function(n){t.throttle()})},xN=function(e,t){var n=Ht().browser;n.isIE()?EN(e):SN(e,t),e.on("keyup NodeChange",function(r){CN(r)||Po(e)})},kN=function(e){var t=Kf(function(){Po(e)},0);e.on("init",function(){e.inline&&wN(e,t),xN(e,t)}),e.on("remove",function(){t.cancel()})},mi,Ms=Ce.DOM,NN=function(e){return Nm.isEditorUIElement(e)},AN=function(e){var t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Oo=function(e,t){var n=O1(e),r=Ms.getParent(t,function(a){return NN(a)||(n?e.dom.is(a,n):!1)});return r!==null},TN=function(e){try{var t=ur(x.fromDom(e.getElement()));return Ls(t).fold(function(){return document.body},function(n){return n.dom})}catch{return document.body}},RN=function(e,t){var n=t.editor;kN(n),n.on("focusin",function(){var r=e.focusedEditor;r!==n&&(r&&r.fire("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.fire("focus",{blurredEditor:r}),n.focus(!0))}),n.on("focusout",function(){Ye.setEditorTimeout(n,function(){var r=e.focusedEditor;!Oo(n,TN(n))&&r===n&&(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),mi||(mi=function(r){var a=e.activeEditor;a&&P0(r).each(function(i){i.ownerDocument===document&&i!==document.body&&!Oo(a,i)&&e.focusedEditor===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Ms.bind(document,"focusin",mi))},BN=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Ms.unbind(document,"focusin",mi),mi=null)},DN=function(e){e.on("AddEditor",j(RN,e)),e.on("RemoveEditor",j(BN,e))},PN=function(e,t){return e.dom.getParent(t,function(n){return e.dom.getContentEditable(n)==="true"})},ON=function(e){return e.collapsed?b.from(la(e.startContainer,e.startOffset)).map(x.fromDom):b.none()},_N=function(e,t){return ON(t).bind(function(n){return Sw(n)?b.some(n):Pn(e,n)===!1?b.some(e):b.none()})},Am=function(e,t){_N(x.fromDom(e.getBody()),t).bind(function(n){return st(n.dom)}).fold(function(){e.selection.normalize()},function(n){return e.selection.setRng(n.toRange())})},Us=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},LN=function(e){return Cm(e)||Xk(e).isSome()},IN=function(e){return e.iframeElement&&Cm(x.fromDom(e.iframeElement))},$N=function(e){var t=e.getBody();return t&&LN(x.fromDom(t))},FN=function(e){var t=ur(x.fromDom(e.getElement()));return Ls(t).filter(function(n){return!AN(n.dom)&&Oo(e,n.dom)}).isSome()},wr=function(e){return e.inline?$N(e):IN(e)},MN=function(e){return wr(e)||FN(e)},UN=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&wr(e)===!1&&Fs(e).each(function(i){e.selection.setRng(i),r=i});var a=PN(e,t.getNode());if(e.$.contains(n,a)){Us(a),Am(e,r),zs(e);return}e.inline||(ae.opera||Us(n),e.getWin().focus()),(ae.gecko||e.inline)&&(Us(n),Am(e,r)),zs(e)},zs=function(e){return e.editorManager.setActive(e)},zN=function(e,t){e.removed||(t?zs(e):UN(e))},Tm=function(e,t,n,r,a){var i=n?t.startContainer:t.endContainer,o=n?t.startOffset:t.endOffset;return b.from(i).map(x.fromDom).map(function(u){return!r||!t.collapsed?Ii(u,a(u,o)).getOr(u):u}).bind(function(u){return nn(u)?b.some(u):Vt(u).filter(nn)}).map(function(u){return u.dom}).getOr(e)},Rm=function(e,t,n){return Tm(e,t,!0,n,function(r,a){return Math.min(A0(r),a)})},Bm=function(e,t,n){return Tm(e,t,!1,n,function(r,a){return a>0?a-1:a})},Dm=function(e,t){for(var n=e;e&&Q(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},HN=function(e,t){var n,r,a;if(!t)return e;r=t.startContainer,a=t.endContainer;var i=t.startOffset,o=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===a&&o-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),r.nodeType===3&&a.nodeType===3&&(r.length===i?r=Dm(r.nextSibling,!0):r=r.parentNode,o===0?a=Dm(a.previousSibling,!1):a=a.parentNode,r&&r===a))?r:n&&n.nodeType===3?n.parentNode:n},VN=function(e,t,n,r){var a,i=[],o=e.getRoot();if(n=e.getParent(n||Rm(o,t,t.collapsed),e.isBlock),r=e.getParent(r||Bm(o,t,t.collapsed),e.isBlock),n&&n!==o&&i.push(n),n&&r&&n!==r){a=n;for(var u=new Ie(n,o);(a=u.next())&&a!==r;)e.isBlock(a)&&i.push(a)}return r&&n!==r&&r!==o&&i.push(r),i},qN=function(e,t,n){return b.from(t).map(function(r){var a=e.nodeIndex(r),i=e.createRng();return i.setStart(r.parentNode,a),i.setEnd(r.parentNode,a+1),n&&(xs(e,i,r,!0),xs(e,i,r,!1)),i})},Hs=function(e,t){return ke(t,function(n){var r=e.fire("GetSelectionRange",{range:n});return r.range!==n?r.range:n})},WN={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},_o=function(e,t,n){var r=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[a];if(i)return i;for(var o=e.parent;o&&o!==t;o=o.parent)if(i=o[a],i)return i}},jN=function(e){if(!sr(e.value))return!1;var t=e.parent;return!(t&&(t.name!=="span"||t.attr("style"))&&/^[ ]+$/.test(e.value))},Pm=function(e){var t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},Ft=function(){function e(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,WN[t]||1);return n&&Be(n,function(a,i){r.attr(i,a)}),r},e.prototype.replace=function(t){var n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n},e.prototype.attr=function(t,n){var r=this,a;if(typeof t!="string")return t!=null&&Be(t,function(o,u){r.attr(u,o)}),r;if(a=r.attributes){if(n!==void 0){if(n===null){if(t in a.map){delete a.map[t];for(var i=a.length;i--;)if(a[i].name===t)return a.splice(i,1),r}return r}if(t in a.map){for(var i=a.length;i--;)if(a[i].name===t){a[i].value=n;break}}else a.push({name:t,value:n});return a.map[t]=n,r}return a.map[t]}},e.prototype.clone=function(){var t=this,n=new e(t.name,t.type),r;if(r=t.attributes){var a=[];a.map={};for(var i=0,o=r.length;i<o;i++){var u=r[i];u.name!=="id"&&(a[a.length]={name:u.name,value:u.value},a.map[u.name]=u.value)}n.attributes=a}return n.value=t.value,n.shortEnded=t.shortEnded,n},e.prototype.wrap=function(t){var n=this;return n.parent.insert(t,n),t.append(n),n},e.prototype.unwrap=function(){for(var t=this,n=t.firstChild;n;){var r=n.next;t.insert(n,t,!0),n=r}t.remove()},e.prototype.remove=function(){var t=this,n=t.parent,r=t.next,a=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):a.next=r,n.lastChild===t?(n.lastChild=a,a&&(a.next=null)):r.prev=a,t.parent=t.next=t.prev=null),t},e.prototype.append=function(t){var n=this;t.parent&&t.remove();var r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},e.prototype.insert=function(t,n,r){t.parent&&t.remove();var a=n.parent||this;return r?(n===a.firstChild?a.firstChild=t:n.prev.next=t,t.prev=n.prev,t.next=n,n.prev=t):(n===a.lastChild?a.lastChild=t:n.next.prev=t,t.next=n.next,t.prev=n,n.next=t),t.parent=a,t},e.prototype.getAll=function(t){for(var n=this,r=[],a=n.firstChild;a;a=_o(a,n))a.name===t&&r.push(a);return r},e.prototype.empty=function(){var t=this;if(t.firstChild){for(var n=[],r=t.firstChild;r;r=_o(r,t))n.push(r);for(var a=n.length;a--;){var r=n[a];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}return t.firstChild=t.lastChild=null,t},e.prototype.isEmpty=function(t,n,r){n===void 0&&(n={});var a=this,i=a.firstChild;if(Pm(a))return!1;if(i)do{if(i.type===1){if(i.attr("data-mce-bogus"))continue;if(t[i.name]||Pm(i))return!1}if(i.type===8||i.type===3&&!jN(i)||i.type===3&&i.parent&&n[i.parent.name]&&sr(i.value)||r&&r(i))return!1}while(i=_o(i,a));return!0},e.prototype.walk=function(t){return _o(this,null,t)},e}(),KN=function(e){for(var t=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,n=[],r={},a=Dd("img"),i,o=0,u=0;i=t.exec(e);){var f=i[0],s=a+"_"+u++;r[s]=f,o<i.index&&n.push(e.substr(o,i.index-o)),n.push(s),o=i.index+f.length}var c=new RegExp(a+"_[0-9]+","g");return o===0?{prefix:a,uris:r,html:e,re:c}:(o<e.length&&n.push(e.substr(o)),{prefix:a,uris:r,html:n.join(""),re:c})},Vs=function(e,t){return e.replace(t.re,function(n){return xt(t.uris,n).getOr(n)})},GN=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?b.some({type:t[1],data:decodeURIComponent(t[2])}):b.none()},XN=["img","video"],YN=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},QN=function(e,t){var n=Ri(e)?ze(XN,t):e;return!n},ZN=function(e,t,n){return e.allow_html_data_urls?!1:/^data:image\//i.test(t)?QN(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t)},qs=function(e,t,n){var r=1,a,i,o=e.getShortEndedElements(),u=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;for(u.lastIndex=a=n;i=u.exec(t);){if(a=u.lastIndex,i[1]==="/")r--;else if(!i[1]){if(i[2]in o)continue;r++}if(r===0)break}return a},JN=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},eA=function(e,t,n){n===void 0&&(n=0);var r=e.toLowerCase();if(r.indexOf("[if ",n)!==-1&&JN(r,n)){var a=r.indexOf("[endif]",n);return r.indexOf(">",a)}else if(t){var i=r.indexOf(">",n);return i!==-1?i:r.length}else{var o=/--!?>/g;o.lastIndex=n;var u=o.exec(e);return u?u.index+u[0].length:r.length}},tA=function(e,t){var n=e.exec(t);if(n){var r=n[1],a=n[2];return typeof r=="string"&&r.toLowerCase()==="data-mce-bogus"?a:null}else return null},Lo=function(e,t){t===void 0&&(t=Fn()),e=e||{},e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var n=e.comment?e.comment:fe,r=e.cdata?e.cdata:fe,a=e.text?e.text:fe,i=e.start?e.start:fe,o=e.end?e.end:fe,u=e.pi?e.pi:fe,f=e.doctype?e.doctype:fe,s=function(l,v){v===void 0&&(v="html");for(var p=l.html,m,g=0,d,y,h=[],C,w,S,R,L,I,K,X,O,ee,M,G,F,z,W,_,q,le=0,ge=cr.decode,de=B.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Te=/((java|vb)script|mhtml):/i,Ae=v==="html"?0:1,ct=function(ye){var pe,Me;for(pe=h.length;pe--&&h[pe].name!==ye;);if(pe>=0){for(Me=h.length-1;Me>=pe;Me--)ye=h[Me],ye.valid&&o(ye.name);h.length=pe}},rt=function(ye,pe){return a(Vs(ye,l),pe)},P=function(ye){ye!==""&&(ye.charAt(0)===">"&&(ye=" "+ye),!e.allow_conditional_comments&&ye.substr(0,3).toLowerCase()==="[if"&&(ye=" "+ye),n(Vs(ye,l)))},k=function(ye){return Vs(ye,l)},D=function(ye,pe){var Me=ye||"",Jt=!Ur(Me,"--"),en=eA(p,Jt,pe);return ye=p.substr(pe,en-pe),P(Jt?Me+ye:ye),en+1},N=function(ye,pe,Me,Jt,en){var Ot,tr,Da=/[\s\u0000-\u001F]+/g;if(pe=pe.toLowerCase(),Me=k(pe in we?pe:ge(Me||Jt||en||"")),Le&&!L&&YN(pe)===!1){if(Ot=M[pe],!Ot&&G){for(tr=G.length;tr--&&(Ot=G[tr],!Ot.pattern.test(pe)););tr===-1&&(Ot=null)}if(!Ot||Ot.validValues&&!(Me in Ot.validValues))return}if(de[pe]&&!e.allow_script_urls){var nr=Me.replace(Da,"");try{nr=decodeURIComponent(nr)}catch{nr=unescape(nr)}if(Te.test(nr)||ZN(e,nr,ye))return}L&&(pe in de||pe.indexOf("on")===0)||(C.map[pe]=Me,C.push({name:pe,value:Me}))},H=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),V=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,te=t.getShortEndedElements(),oe=e.self_closing_elements||t.getSelfClosingElements(),we=t.getBoolAttrs(),Le=e.validate,at=e.remove_internals,Tn=e.fix_self_closing,Je=t.getSpecialElements(),it=p+">";m=H.exec(it);){var Ne=m[0];if(g<m.index&&rt(ge(p.substr(g,m.index-g))),d=m[7])d=d.toLowerCase(),d.charAt(0)===":"&&(d=d.substr(1)),ct(d);else if(d=m[8]){if(m.index+Ne.length>p.length){rt(ge(p.substr(m.index))),g=m.index+Ne.length;continue}d=d.toLowerCase(),d.charAt(0)===":"&&(d=d.substr(1)),I=d in te,Tn&&oe[d]&&h.length>0&&h[h.length-1].name===d&&ct(d);var yn=tA(V,m[9]);if(yn!==null){if(yn==="all"){g=qs(t,p,H.lastIndex),H.lastIndex=g;continue}X=!1}if(!Le||(K=t.getElementRule(d))){if(X=!0,Le&&(M=K.attributes,G=K.attributePatterns),(ee=m[9])?(L=ee.indexOf("data-mce-type")!==-1,L&&at&&(X=!1),C=[],C.map={},ee.replace(V,function(ye,pe,Me,Jt,en){return N(d,pe,Me,Jt,en),""})):(C=[],C.map={}),Le&&!L){if(F=K.attributesRequired,z=K.attributesDefault,W=K.attributesForced,_=K.removeEmptyAttrs,_&&!C.length&&(X=!1),W)for(w=W.length;w--;)O=W[w],R=O.name,q=O.value,q==="{$uid}"&&(q="mce_"+le++),C.map[R]=q,C.push({name:R,value:q});if(z)for(w=z.length;w--;)O=z[w],R=O.name,R in C.map||(q=O.value,q==="{$uid}"&&(q="mce_"+le++),C.map[R]=q,C.push({name:R,value:q}));if(F){for(w=F.length;w--&&!(F[w]in C.map););w===-1&&(X=!1)}if(O=C.map["data-mce-bogus"]){if(O==="all"){g=qs(t,p,H.lastIndex),H.lastIndex=g;continue}X=!1}}X&&i(d,C,I)}else X=!1;if(y=Je[d]){y.lastIndex=g=m.index+Ne.length,(m=y.exec(p))?(X&&(S=p.substr(g,m.index-g)),g=m.index+m[0].length):(S=p.substr(g),g=p.length),X&&(S.length>0&&rt(S,!0),o(d)),H.lastIndex=g;continue}I||(!ee||ee.indexOf("/")!==ee.length-1?h.push({name:d,valid:X}):X&&o(d))}else if(d=m[1])P(d);else if(d=m[2]){var vt=Ae===1||e.preserve_cdata||h.length>0&&t.isValidChild(h[h.length-1].name,"#cdata");if(vt)r(d);else{g=D("",m.index+2),H.lastIndex=g;continue}}else if(d=m[3])f(d);else if((d=m[4])||Ne==="<!"){g=D(d,m.index+Ne.length),H.lastIndex=g;continue}else if(d=m[5])if(Ae===1)u(d,m[6]);else{g=D("?",m.index+2),H.lastIndex=g;continue}g=m.index+Ne.length}for(g<p.length&&rt(ge(p.substr(g))),w=h.length-1;w>=0;w--)d=h[w],d.valid&&o(d.name)},c=function(l,v){v===void 0&&(v="html"),s(KN(l),v)};return{parse:c}};Lo.findEndTag=qs;var nA=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},Om=function(e,t){var n=t,r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,a,i,o,u,f=e.schema;n=nA(e.getTempAttrs(),n);for(var s=f.getShortEndedElements();u=r.exec(n);)i=r.lastIndex,o=u[0].length,s[u[1]]?a=i:a=Lo.findEndTag(f,n,i),n=n.substring(0,i-o)+n.substring(a),r.lastIndex=i-o;return In(n)},rA=Om,aA=function(e,t){var n=Ze(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+n+`>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},iA=function(e,t,n,r){var a;return t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),t.format==="raw"?a=B.trim(rA(e.serializer,r.innerHTML)):t.format==="text"?a=e.dom.isEmpty(r)?"":In(r.innerText||r.textContent):t.format==="tree"?a=e.serializer.serialize(r,t):a=aA(e,e.serializer.serialize(r,t)),!ze(["text","tree"],t.format)&&!ji(x.fromDom(r))?t.content=B.trim(a):t.content=a,t.no_events||e.fire("GetContent",t),t.content},oA=function(e,t,n){return b.from(e.getBody()).fold(Z(t.format==="tree"?new Ft("body",11):""),function(r){return iA(e,t,n,r)})},uA=B.each,_m=function(e){var t=function(n,r){if(n.nodeName!==r.nodeName)return!1;var a=function(o){var u={};return uA(e.getAttribs(o),function(f){var s=f.nodeName.toLowerCase();s.indexOf("_")!==0&&s!=="style"&&s.indexOf("data-")!==0&&(u[s]=e.getAttrib(o,s))}),u},i=function(o,u){var f,s;for(s in o)if(o.hasOwnProperty(s)){if(f=u[s],typeof f=="undefined"||o[s]!==f)return!1;delete u[s]}for(s in u)if(u.hasOwnProperty(s))return!1;return!0};return!i(a(n),a(r))||!i(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(r,"style")))?!1:!Ct(n)&&!Ct(r)};return{compare:t}},Lm=B.makeMap,Im=function(e){var t=[];e=e||{};var n=e.indent,r=Lm(e.indent_before||""),a=Lm(e.indent_after||""),i=cr.getEncodeFunc(e.entity_encoding||"raw",e.entities),o=e.element_format==="html";return{start:function(u,f,s){var c,l,v,p;if(n&&r[u]&&t.length>0&&(p=t[t.length-1],p.length>0&&p!==`
`&&t.push(`
`)),t.push("<",u),f)for(c=0,l=f.length;c<l;c++)v=f[c],t.push(" ",v.name,'="',i(v.value,!0),'"');!s||o?t[t.length]=">":t[t.length]=" />",s&&n&&a[u]&&t.length>0&&(p=t[t.length-1],p.length>0&&p!==`
`&&t.push(`
`))},end:function(u){var f;t.push("</",u,">"),n&&a[u]&&t.length>0&&(f=t[t.length-1],f.length>0&&f!==`
`&&t.push(`
`))},text:function(u,f){u.length>0&&(t[t.length]=f?u:i(u))},cdata:function(u){t.push("<![CDATA[",u,"]]>")},comment:function(u){t.push("<!--",u,"-->")},pi:function(u,f){f?t.push("<?",u," ",i(f),"?>"):t.push("<?",u,"?>"),n&&t.push(`
`)},doctype:function(u){t.push("<!DOCTYPE",u,">",n?`
`:"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},Ca=function(e,t){t===void 0&&(t=Fn());var n=Im(e);e=e||{},e.validate="validate"in e?e.validate:!0;var r=function(a){var i=e.validate,o={3:function(f){n.text(f.value,f.raw)},8:function(f){n.comment(f.value)},7:function(f){n.pi(f.name,f.value)},10:function(f){n.doctype(f.value)},4:function(f){n.cdata(f.value)},11:function(f){if(f=f.firstChild)do u(f);while(f=f.next)}};n.reset();var u=function(f){var s=o[f.type],c,l,v,p,m,g,d,y,h;if(s)s(f);else{if(c=f.name,l=f.shortEnded,v=f.attributes,i&&v&&v.length>1&&(g=[],g.map={},h=t.getElementRule(f.name),h)){for(d=0,y=h.attributesOrder.length;d<y;d++)p=h.attributesOrder[d],p in v.map&&(m=v.map[p],g.map[p]=m,g.push({name:p,value:m}));for(d=0,y=v.length;d<y;d++)p=v[d].name,p in g.map||(m=v.map[p],g.map[p]=m,g.push({name:p,value:m}));v=g}if(n.start(f.name,v,l),!l){if(f=f.firstChild)do u(f);while(f=f.next);n.end(c)}}};return a.type===1&&!e.inner?u(a):o[11](a),n.getContent()};return{serialize:r}},$m=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Y(e,function(t){$m.add(t)})})();var Fm=["font","text-decoration","text-emphasis"],Ws=function(e,t){return ir(e.parseStyle(e.getAttrib(t,"style")))},fA=function(e){return $m.has(e)},sA=function(e,t){return La(Ws(e,t),function(n){return!fA(n)})},lA=function(e){return ve(e,function(t){return gt(Fm,function(n){return Ur(t,n)})})},cA=function(e,t,n){var r=Ws(e,t),a=Ws(e,n),i=function(o){var u=e.getStyle(t,o),f=e.getStyle(n,o);return Ic(u)&&Ic(f)&&u!==f};return gt(r,function(o){var u=function(s){return gt(s,function(c){return c===o})};if(!u(a)&&u(Fm)){var f=lA(a);return gt(f,i)}else return i(o)})},Mm=function(e,t,n){return b.from(n.container()).filter(Q).exists(function(r){var a=e?0:-1;return t(r.data.charAt(n.offset()+a))})},js=j(Mm,!0,ma),Ks=j(Mm,!1,ma),vA=function(e){var t=e.container();return Q(t)&&(t.data.length===0||hf(t.data)&&vi.isBookmarkNode(t.parentNode))},Gn=function(e,t){return function(n){return b.from(os(e?0:-1,n)).filter(t).isSome()}},Um=function(e){return H0(e)&&wn(x.fromDom(e),"display")==="block"},zm=function(e){return xe(e)&&!U0(e)},dA=Gn(!0,Um),pA=Gn(!1,Um),wa=Gn(!0,$t),Ea=Gn(!1,$t),Hm=Gn(!0,Wr),Vm=Gn(!1,Wr),Xn=Gn(!0,zm),Yn=Gn(!1,zm),mA=function(e){for(var t=[],n=e.dom;n;)t.push(x.fromDom(n)),n=n.lastChild;return t},gA=function(e){var t=dt(e,"br"),n=ve(mA(e).slice(-1),Gr);t.length===n.length&&Y(n,Xe)},Sa=function(e){nf(e),Ge(e,x.fromHtml('<br data-mce-bogus="1">'))},hA=function(e){ef(e).each(function(t){or(t).each(function(n){an(e)&&Gr(t)&&an(n)&&Xe(t)})})},yA=function(e){return e.slice(0,-1)},bA=function(e,t,n){return Pn(t,e)?yA(k0(e,function(r){return n(r)||Se(r,t)})):[]},qm=function(e,t){return bA(e,t,he)},kn=function(e,t){return[e].concat(qm(e,t))},Gs=function(e,t,n){return $p(e,t,n,vA)},Wm=function(e,t){return ot(kn(x.fromDom(t.container()),e),an)},jm=function(e,t,n){return Gs(e,t.dom,n).forall(function(r){return Wm(t,n).fold(function(){return sn(r,n,t.dom)===!1},function(a){return sn(r,n,t.dom)===!1&&Pn(a,x.fromDom(r.container()))})})},Km=function(e,t,n){return Wm(t,n).fold(function(){return Gs(e,t.dom,n).forall(function(r){return sn(r,n,t.dom)===!1})},function(r){return Gs(e,r.dom,n).isNone()})},Xs=j(Km,!1),Gm=j(Km,!0),CA=j(jm,!1),wA=j(jm,!0),EA=function(e){return bo(e).exists(Gr)},Io=function(e,t,n){var r=ve(kn(x.fromDom(n.container()),t),an),a=St(r).getOr(t);return Bt(e,a.dom,n).filter(EA)},Ys=function(e,t){return bo(t).exists(Gr)||Io(!0,e,t).isSome()},Qs=function(e,t){return dx(t).exists(Gr)||Io(!1,e,t).isSome()},SA=j(Io,!1),xA=j(Io,!0),Xm=function(e){return T.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Ym=function(e,t){var n=ve(kn(x.fromDom(t.container()),e),an);return St(n).getOr(e)},Qm=function(e,t){return Xm(t)?Ks(t):Ks(t)||cn(Ym(e,t).dom,t).exists(Ks)},Zm=function(e,t){return Xm(t)?js(t):js(t)||Yt(Ym(e,t).dom,t).exists(js)},kA=function(e){return ze(["pre","pre-wrap"],e)},Zs=function(e){return bo(e).bind(function(t){return Hi(t,nn)}).exists(function(t){return kA(wn(t,"white-space"))})},NA=function(e,t){return cn(e.dom,t).isNone()},AA=function(e,t){return Yt(e.dom,t).isNone()},TA=function(e,t){return NA(e,t)||AA(e,t)||Xs(e,t)||Gm(e,t)||Qs(e,t)||Ys(e,t)},RA=function(e,t){return Zs(t)?!1:TA(e,t)||Qm(e,t)||Zm(e,t)},$o=function(e,t){return Zs(t)?!1:Xs(e,t)||CA(e,t)||Qs(e,t)||Qm(e,t)},BA=function(e){var t=e.container(),n=e.offset();return Q(t)&&n<t.data.length?T(t,n+1):e},Fo=function(e,t){return Zs(t)?!1:Gm(e,t)||wA(e,t)||Ys(e,t)||Zm(e,t)},Jm=function(e,t){return $o(e,t)||Fo(e,BA(t))},eg=function(e,t){return li(e.charAt(t))},DA=function(e){var t=e.container();return Q(t)&&ut(t.data,ht)},PA=function(e){var t=e.split("");return ke(t,function(n,r){return li(n)&&r>0&&r<t.length-1&&vs(t[r-1])&&vs(t[r+1])?" ":n}).join("")},OA=function(e,t){var n=t.data,r=T(t,0);return eg(n,0)&&!Jm(e,r)?(t.data=" "+n.slice(1),!0):!1},_A=function(e){var t=e.data,n=PA(t);return n!==t?(e.data=n,!0):!1},LA=function(e,t){var n=t.data,r=T(t,n.length-1);return eg(n,n.length-1)&&!Jm(e,r)?(t.data=n.slice(0,-1)+" ",!0):!1},IA=function(e,t){return b.some(t).filter(DA).bind(function(n){var r=n.container(),a=OA(e,r)||_A(r)||LA(e,r);return a?b.some(n):b.none()})},tg=function(e){var t=x.fromDom(e.getBody());e.selection.isCollapsed()&&IA(t,T.fromRangeStart(e.selection.getRng())).each(function(n){e.selection.setRng(n.toRange())})},$A=function(e,t,n){var r=zt(e,function(a,i){return ma(i)||li(i)?a.previousCharIsSpace||a.str===""&&t||a.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:a.str+ht}:{previousCharIsSpace:!0,str:a.str+" "}:{previousCharIsSpace:!1,str:a.str+i}},{previousCharIsSpace:!1,str:""});return r.str},ng=function(e,t,n){if(n!==0){var r=x.fromDom(e),a=ja(r,an).getOr(r),i=e.data.slice(t,t+n),o=t+n>=e.data.length&&Fo(a,T(e,e.data.length)),u=t===0&&$o(a,T(e,0));e.replaceData(t,n,$A(i,u,o))}},Mo=function(e,t){var n=e.data.slice(t),r=n.length-HC(n).length;return ng(e,t,r)},Js=function(e,t){var n=e.data.slice(0,t),r=n.length-Lc(n).length;return ng(e,t-r,r)},el=function(e,t,n,r){r===void 0&&(r=!0);var a=Lc(e.data).length,i=r?e:t,o=r?t:e;return r?i.appendData(o.data):i.insertData(0,o.data),Xe(x.fromDom(o)),n&&Mo(i,a),i},FA=function(e,t){var n=e.container(),r=e.offset();return T.isTextPosition(e)===!1&&n===t.parentNode&&r>T.before(t).offset()},MA=function(e,t){return FA(t,e)?T(t.container(),t.offset()-1):t},UA=function(e){return Q(e)?T(e,0):T.before(e)},zA=function(e){return Q(e)?T(e,e.data.length):T.after(e)},rg=function(e){return on(e.previousSibling)?b.some(zA(e.previousSibling)):e.previousSibling?vn(e.previousSibling):b.none()},ag=function(e){return on(e.nextSibling)?b.some(UA(e.nextSibling)):e.nextSibling?st(e.nextSibling):b.none()},HA=function(e,t){var n=T.before(t.previousSibling?t.previousSibling:t.parentNode);return cn(e,n).fold(function(){return Yt(e,T.after(t))},b.some)},VA=function(e,t){return Yt(e,T.after(t)).fold(function(){return cn(e,T.before(t))},b.some)},qA=function(e,t){return rg(t).orThunk(function(){return ag(t)}).orThunk(function(){return HA(e,t)})},WA=function(e,t){return ag(t).orThunk(function(){return rg(t)}).orThunk(function(){return VA(e,t)})},jA=function(e,t,n){return e?WA(t,n):qA(t,n)},KA=function(e,t,n){return jA(e,t,n).map(j(MA,n))},ig=function(e,t,n){n.fold(function(){e.focus()},function(r){e.selection.setRng(r.toRange(),t)})},GA=function(e){return function(t){return t.dom===e}},XA=function(e,t){return t&&Ke(e.schema.getBlockElements(),Oe(t))},YA=function(e){if(yt(e)){var t=x.fromHtml('<br data-mce-bogus="1">');return nf(e),Ge(e,t),b.some(T.before(t.dom))}else return b.none()},QA=function(e,t,n){var r=or(e).filter(Lt),a=Ua(e).filter(Lt);return Xe(e),AS(r,a,t,function(i,o,u){var f=i.dom,s=o.dom,c=f.data.length;return el(f,s,n),u.container()===s?T(f,c):u}).orThunk(function(){return n&&(r.each(function(i){return Js(i.dom,i.dom.length)}),a.each(function(i){return Mo(i.dom,0)})),t})},ZA=function(e,t){return Ke(e.schema.getTextInlineElements(),Oe(t))},Er=function(e,t,n,r){r===void 0&&(r=!0);var a=KA(t,e.getBody(),n.dom),i=ja(n,j(XA,e),GA(e.getBody())),o=QA(n,a,ZA(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(YA).fold(function(){r&&ig(e,t,o)},function(u){r&&ig(e,t,b.some(u))})},gi=function(e,t){return{start:e,end:t}},JA=function(e,t,n){return{rng:e,table:t,cells:n}},tl=_n.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),eT=function(e){return function(t){return Se(e,t)}},Uo=function(e,t){return cf(x.fromDom(e),"td,th",t)},hi=function(e,t){return Vi(e,"table",t)},og=function(e){return!Se(e.start,e.end)},nl=function(e,t){return hi(e.start,t).bind(function(n){return hi(e.end,t).bind(function(r){return TS(Se(n,r),n)})})},tT=function(e,t){return!og(e)&&nl(e,t).exists(function(n){var r=n.dom.rows;return r.length===1&&r[0].cells.length===1})},zo=function(e){return dt(e,"td,th")},nT=function(e,t){var n=Uo(e.startContainer,t),r=Uo(e.endContainer,t);return pt(n,r,gi)},rT=function(e,t){return hi(e.start,t).bind(function(n){return Rn(zo(n)).map(function(r){return gi(e.start,r)})})},aT=function(e,t){var n=Uo(t.startContainer,e),r=Uo(t.endContainer,e);return t.collapsed?b.none():pt(n,r,gi).fold(function(){return n.fold(function(){return r.bind(function(a){return hi(a,e).bind(function(i){return St(zo(i)).map(function(o){return gi(o,a)})})})},function(a){return hi(a,e).bind(function(i){return Rn(zo(i)).map(function(o){return gi(a,o)})})})},function(a){return ug(e,a)?b.none():rT(a,e)})},ug=function(e,t){return nl(t,e).isSome()},iT=function(e,t){return nl(e,t).map(function(n){return JA(e,n,zo(n))})},oT=function(e,t,n){return e.filter(function(r){return og(r)&&ug(n,r)}).orThunk(function(){return aT(n,t)}).bind(function(r){return iT(r,n)})},fg=function(e,t){return Di(e,function(n){return Se(n,t)})},uT=function(e){return pt(fg(e.cells,e.rng.start),fg(e.cells,e.rng.end),function(t,n){return e.cells.slice(t,n+1)})},fT=function(e,t,n){return e.filter(function(r){return tT(r,n)&&Ss(r.start,t)}).map(function(r){return r.start})},sT=function(e){return uT(e).map(function(t){var n=e.cells;return t.length===n.length?tl.removeTable(e.table):tl.emptyCells(t)})},lT=function(e,t){var n=eT(e),r=nT(t,n);return fT(r,t,n).map(function(a){return tl.deleteCellSelection(t,a)}).orThunk(function(){return oT(r,t,n).bind(sT)})},sg=function(e){var t=w0(e)?or(e):ef(e);return t.bind(sg).orThunk(function(){return b.some(e)})},lg=function(e,t){return Y(t,Sa),e.selection.setCursorLocation(t[0].dom,0),!0},cg=function(e,t,n){t.deleteContents();var r=sg(n).getOr(n),a=x.fromDom(e.dom.getParent(r.dom,e.dom.isBlock));if(yt(a)&&(Sa(a),e.selection.setCursorLocation(a.dom,0)),!Se(n,a)){var i=Vt(a).is(n)?[]:N0(a);Y(i.concat(Nt(n)),function(o){!Se(o,a)&&!Pn(o,a)&&Xe(o)})}return!0},cT=function(e,t){return Er(e,!1,t),!0},vT=function(e,t,n){return lT(t,n).map(function(r){return r.fold(j(cT,e),j(lg,e),j(cg,e))})},dT=function(e,t){return Ho(e,t)},pT=function(e,t,n,r){return rl(t,r).fold(function(){return vT(e,t,n)},function(a){return dT(e,a)}).getOr(!1)},mT=function(e,t){var n=x.fromDom(e.getBody()),r=e.selection.getRng(),a=ba(e);return a.length!==0?lg(e,a):pT(e,n,r,t)},vg=function(e,t){return ot(kn(t,e),Wi)},rl=function(e,t){return ot(kn(t,e),function(n){return Oe(n)==="caption"})},gT=function(e,t,n,r,a){return Eo(n,e.getBody(),a).bind(function(i){return vg(t,x.fromDom(i.getNode())).map(function(o){return Se(o,r)===!1})})},Ho=function(e,t){return Sa(t),e.selection.setCursorLocation(t.dom,0),b.some(!0)},hT=function(e,t,n,r){return st(e.dom).bind(function(a){return vn(e.dom).map(function(i){return t?n.isEqual(a)&&r.isEqual(i):n.isEqual(i)&&r.isEqual(a)})}).getOr(!0)},yT=function(e,t){return Ho(e,t)},bT=function(e,t,n){return rl(e,x.fromDom(n.getNode())).map(function(r){return Se(r,t)===!1})},CT=function(e,t,n,r,a){return Eo(n,e.getBody(),a).bind(function(i){return hT(r,n,a,i)?yT(e,r):bT(t,r,i)}).or(b.some(!0))},wT=function(e,t,n,r){var a=T.fromRangeStart(e.selection.getRng());return vg(n,r).bind(function(i){return yt(i)?Ho(e,i):gT(e,n,t,i,a)}).getOr(!1)},ET=function(e,t,n,r){var a=T.fromRangeStart(e.selection.getRng());return yt(r)?Ho(e,r):CT(e,n,t,r,a)},dg=function(e,t){return e?Hm(t):Vm(t)},ST=function(e,t){var n=T.fromRangeStart(e.selection.getRng());return dg(t,n)||Bt(t,e.getBody(),n).exists(function(r){return dg(t,r)})},xT=function(e,t,n){var r=x.fromDom(e.getBody());return rl(r,n).fold(function(){return wT(e,t,r,n)||ST(e,t)},function(a){return ET(e,t,r,a).getOr(!1)})},Vo=function(e,t){var n=x.fromDom(e.selection.getStart(!0)),r=ba(e);return e.selection.isCollapsed()&&r.length===0?xT(e,t,n):mT(e,n)},kT=function(e,t,n,r){var a=document.createRange();return a.setStart(e,t),a.setEnd(n,r),a},NT=function(e){var t=T.fromRangeStart(e),n=T.fromRangeEnd(e),r=e.commonAncestorContainer;return Bt(!1,r,n).map(function(a){return!sn(t,n,r)&&sn(t,a,r)?kT(t.container(),t.offset(),a.container(),a.offset()):e}).getOr(e)},al=function(e){return e.collapsed?e:NT(e)},AT=function(e){return e.firstChild&&e.firstChild===e.lastChild},TT=function(e){return e.name==="br"||e.value===ht},RT=function(e,t){var n=e.getBlockElements();return n[t.name]&&AT(t)&&TT(t.firstChild)},BT=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||RT(e,t))},DT=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),BT(e,r)&&(r=r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},PT=function(e){var t=e.firstChild,n=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode.removeChild(t),n&&n.id==="mce_marker"&&n.parentNode.removeChild(n),e},OT=function(e,t,n){var r=t.serialize(n),a=e.createFragment(r);return PT(a)},_T=function(e){return B.grep(e.childNodes,function(t){return t.nodeName==="LI"})},LT=function(e){return e.data===ht||De(e)},IT=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&LT(e.firstChild)},$T=function(e){return!e.firstChild||IT(e)},FT=function(e){return e.length>0&&$T(e[e.length-1])?e.slice(0,-1):e},il=function(e,t){var n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},MT=function(e,t){return!!il(e,t)},UT=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},zT=function(e,t){var n=T.before(e),r=Xt(t),a=r.next(n);return a?a.toRange():null},pg=function(e,t){var n=T.after(e),r=Xt(t),a=r.prev(n);return a?a.toRange():null},HT=function(e,t,n,r){var a=UT(e,r),i=e.parentNode;return i.insertBefore(a[0],e),B.each(t,function(o){i.insertBefore(o,e)}),i.insertBefore(a[1],e),i.removeChild(e),pg(t[t.length-1],n)},VT=function(e,t,n){var r=e.parentNode;return B.each(t,function(a){r.insertBefore(a,e)}),zT(e,n)},qT=function(e,t,n,r){return r.insertAfter(t.reverse(),e),pg(t[0],n)},WT=function(e,t,n,r){var a=OT(t,e,r),i=il(t,n.startContainer),o=FT(_T(a.firstChild)),u=1,f=2,s=t.getRoot(),c=function(l){var v=T.fromRangeStart(n),p=Xt(t.getRoot()),m=l===u?p.prev(v):p.next(v);return m?il(t,m.getNode())!==i:!0};return c(u)?VT(i,o,s):c(f)?qT(i,o,s,t):HT(i,o,s,n)},jT=function(e,t,n){var r=x.fromDom(e.getRoot());return $o(r,T.fromRangeStart(t))?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Fo(r,T.fromRangeEnd(t))?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},ol=Av,KT=function(e,t,n){if(n!==null){var r=e.getParent(t.endContainer,ol);return n===r&&Ss(x.fromDom(n),t)}else return!1},GT=function(e,t,n){if(n.getAttribute("data-mce-bogus")==="all")n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,a=n.lastChild;!r||r===a&&r.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t)}},XT=function(e,t){b.from(e.getParent(t,"td,th")).map(x.fromDom).each(hA)},YT=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var a=e.getBody(),i=_m(r);B.each(r.select("*[data-mce-fragment]"),function(o){var u=mt(n[o.nodeName.toLowerCase()]);if(u&&sA(r,o))for(var f=o.parentNode;mt(f)&&f!==a;f=f.parentNode){var s=cA(r,o,f);if(s)break;if(i.compare(f,o)){r.remove(o,!0);break}}})}},QT=function(e){for(var t=e;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},ZT=function(e){B.each(e.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},JT=function(e){return!!e.getAttribute("data-mce-fragment")},eR=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},tR=function(e,t){var n,r=e.dom,a=e.selection,i,o=function(v){for(var p=e.getBody();v&&v!==p;v=v.parentNode)if(r.getContentEditable(v)==="false")return v;return null};if(!!t){a.scrollIntoView(t);var u=o(t);if(u){r.remove(t),a.select(u);return}var f=r.createRng(),s=t.previousSibling;s&&s.nodeType===3?(f.setStart(s,s.nodeValue.length),ae.ie||(i=t.nextSibling,i&&i.nodeType===3&&(s.appendData(i.data),i.parentNode.removeChild(i)))):(f.setStartBefore(t),f.setEndBefore(t));var c=function(v){var p=T.fromRangeStart(v),m=Xt(e.getBody());if(p=m.next(p),p)return p.toRange()},l=r.getParent(t,r.isBlock);r.remove(t),l&&r.isEmpty(l)&&(e.$(l).empty(),f.setStart(l,0),f.setEnd(l,0),!ol(l)&&!JT(l)&&(n=c(f))?(f=n,r.remove(l)):r.add(l,r.create("br",{"data-mce-bogus":"1"}))),a.setRng(f)}},nR=function(e){var t=e.dom,n=al(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,ol);KT(t,n,r)?cg(e,n,x.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},rR=function(e,t,n){var r,a,i,o,u,f,s=e.selection,c=e.dom;/^ | $/.test(t)&&(t=jT(c,s.getRng(),t));var l=e.parser,v=n.merge,p=Ca({validate:R1(e)},e.schema),m='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(i={content:t,format:"html",selection:!0,paste:n.paste},i=e.fire("BeforeSetContent",i),i.isDefaultPrevented()){e.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:n.paste});return}t=i.content,t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,m),u=s.getRng();var g=u.startContainer||(u.parentElement?u.parentElement():null),d=e.getBody();g===d&&s.isCollapsed()&&c.isBlock(d.firstChild)&&eR(e,d.firstChild)&&c.isEmpty(d.firstChild)&&(u=c.createRng(),u.setStart(d.firstChild,0),u.setEnd(d.firstChild,0),s.setRng(u)),s.isCollapsed()||nR(e),r=s.getNode();var y={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},h=l.parse(t,y);if(n.paste===!0&&DT(e.schema,h)&&MT(c,r)){u=WT(p,c,s.getRng(),h),s.setRng(u),e.fire("SetContent",i);return}if(QT(h),f=h.lastChild,f.attr("id")==="mce_marker"){for(o=f,f=f.prev;f;f=f.walk(!0))if(f.type===3||!c.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(o,f,f.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(r),!y.invalid)t=p.serialize(h),GT(e,t,r);else{for(e.selection.setContent(m),r=s.getNode(),a=e.getBody(),r.nodeType===9?r=f=a:f=r;f!==a;)r=f,f=f.parentNode;t=r===a?a.innerHTML:c.getOuterHTML(r),t=p.serialize(l.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return p.serialize(h)}))),r===a?c.setHTML(a,t):c.setOuterHTML(r,t)}YT(e,v),tR(e,c.get("mce_marker")),ZT(e.getBody()),XT(c,s.getStart()),e.fire("SetContent",i),e.addVisual()},ul=function(e,t){t(e),e.firstChild&&ul(e.firstChild,t),e.next&&ul(e.next,t)},aR=function(e,t,n){var r={},a={},i=[];n.firstChild&&ul(n.firstChild,function(f){Y(e,function(s){s.name===f.name&&(r[s.name]?r[s.name].nodes.push(f):r[s.name]={filter:s,nodes:[f]})}),Y(t,function(s){typeof f.attr(s.name)=="string"&&(a[s.name]?a[s.name].nodes.push(f):a[s.name]={filter:s,nodes:[f]})})});for(var o in r)r.hasOwnProperty(o)&&i.push(r[o]);for(var u in a)a.hasOwnProperty(u)&&i.push(a[u]);return i},iR=function(e,t,n){var r=aR(e,t,n);Y(r,function(a){Y(a.filter.callbacks,function(i){i(a.nodes,a.filter.name,{})})})},oR="html",fl=function(e){return e instanceof Ft},uR=function(e){wr(e)&&st(e.getBody()).each(function(t){var n=t.getNode(),r=Wr(n)?st(n).getOr(t):t;e.selection.setRng(r.toRange())})},sl=function(e,t){e.dom.setHTML(e.getBody(),t),uR(e)},fR=function(e,t,n,r){var a,i;return n.length===0||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',t.nodeName==="TABLE"?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>"),a=Ze(e),a&&e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())?(n=i,n=e.dom.createHTML(a,ri(e),n)):n||(n='<br data-mce-bogus="1">'),sl(e,n),e.fire("SetContent",r)):(r.format!=="raw"&&(n=Ca({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=ji(x.fromDom(t))?n:B.trim(n),sl(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},sR=function(e,t,n,r){iR(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var a=Ca({validate:e.validate},e.schema).serialize(n);return r.content=ji(x.fromDom(t))?a:B.trim(a),sl(e,r.content),r.no_events||e.fire("SetContent",r),n},lR=function(e,t,n){return n.format=n.format?n.format:oR,n.set=!0,n.content=fl(t)?"":t,n.no_events||e.fire("BeforeSetContent",n),fl(t)||(t=n.content),b.from(e.getBody()).fold(Z(t),function(r){return fl(t)?sR(e,r,t,n):fR(e,r,t,n)})},cR=function(e,t){return ow(e,t).isSome()},mg=function(e){return We(e)?e:he},vR=function(e,t,n){for(var r=e.dom,a=mg(n);r.parentNode;){r=r.parentNode;var i=x.fromDom(r),o=t(i);if(o.isSome())return o;if(a(i))break}return b.none()},ll=function(e,t,n){var r=t(e),a=mg(n);return r.orThunk(function(){return a(e)?b.none():vR(e,t,a)})},cl=hs,gg=function(e,t,n){var r=e.formatter.get(n);if(r){for(var a=0;a<r.length;a++)if(r[a].inherit===!1&&e.dom.is(t,r[a].selector))return!0}return!1},vl=function(e,t,n,r){var a=e.dom.getRoot();return t===a?!1:(t=e.dom.getParent(t,function(i){return gg(e,i,n)?!0:i.parentNode===a||!!pn(e,i,n,r,!0)}),pn(e,t,n,r))},hg=function(e,t,n){if(cl(t,n.inline)||cl(t,n.block))return!0;if(n.selector)return t.nodeType===1&&e.is(t,n.selector)},yg=function(e,t,n,r,a,i){var o,u,f=n[r],s;if(n.onmatch)return n.onmatch(t,n,r);if(f){if(typeof f.length=="undefined"){for(o in f)if(f.hasOwnProperty(o)&&(r==="attributes"?u=e.getAttrib(t,o):u=So(e,t,o),a&&!u&&!n.exact||(!a||n.exact)&&!cl(u,ys(e,xn(f[o],i),o))))return}else for(s=0;s<f.length;s++)if(r==="attributes"?e.getAttrib(t,f[s]):So(e,t,f[s]))return n}return n},pn=function(e,t,n,r,a){var i=e.formatter.get(n),o,u,f,s,c=e.dom;if(i&&t){for(u=0;u<i.length;u++)if(o=i[u],hg(e.dom,t,o)&&yg(c,t,o,"attributes",a,r)&&yg(c,t,o,"styles",a,r)){if(s=o.classes){for(f=0;f<s.length;f++)if(!e.dom.hasClass(t,xn(s[f],r)))return}return o}}},dl=function(e,t,n,r){if(r)return vl(e,r,t,n);if(r=e.selection.getNode(),vl(e,r,t,n))return!0;var a=e.selection.getStart();return!!(a!==r&&vl(e,a,t,n))},dR=function(e,t,n){var r=[],a={},i=e.selection.getStart();return e.dom.getParent(i,function(o){for(var u=0;u<t.length;u++){var f=t[u];!a[f]&&pn(e,o,f,n)&&(a[f]=!0,r.push(f))}},e.dom.getRoot()),r},pR=function(e,t){var n=function(a){return Se(a,x.fromDom(e.getBody()))},r=function(a,i){return pn(e,a.dom,i)?b.some(i):b.none()};return b.from(e.selection.getStart(!0)).bind(function(a){return ll(x.fromDom(a),function(i){return xC(t,function(o){return r(i,o)})},n)}).getOrNull()},mR=function(e,t){var n=e.formatter.get(t),r,a,i,o,u,f=e.dom;if(n)for(r=e.selection.getStart(),a=xo(f,r),o=n.length-1;o>=0;o--){if(u=n[o].selector,!u||n[o].defaultBlock)return!0;for(i=a.length-1;i>=0;i--)if(f.is(a[i],u))return!0}return!1},gR=function(e,t,n){return zt(n,function(r,a){var i=Mx(e,a);return e.formatter.matchNode(t,a,{},i)?r.concat([a]):r},[])},xa=Ve,bg="_mce_caret",hR=function(e,t){return e.importNode(t,!0)},yR=function(e){for(var t=[];e;){if(e.nodeType===3&&e.nodeValue!==xa||e.childNodes.length>1)return[];e.nodeType===1&&t.push(e),e=e.firstChild}return t},Cg=function(e){return yR(e).length>0},wg=function(e){if(e){var t=new Ie(e,e);for(e=t.current();e;e=t.next())if(Q(e))return e}return null},pl=function(e){var t=x.fromTag("span");return On(t,{id:bg,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ge(t,x.fromText(xa)),t},bR=function(e){var t=wg(e);return t&&t.nodeValue.charAt(0)===xa&&t.deleteData(0,1),t},ml=function(e,t,n){n===void 0&&(n=!0);var r=e.dom,a=e.selection;if(Cg(t))Er(e,!1,x.fromDom(t),n);else{var i=a.getRng(),o=r.getParent(t,r.isBlock),u=i.startContainer,f=i.startOffset,s=i.endContainer,c=i.endOffset,l=bR(t);r.remove(t,!0),u===l&&f>0&&i.setStart(l,f-1),s===l&&c>0&&i.setEnd(l,c-1),o&&r.isEmpty(o)&&Sa(x.fromDom(o)),a.setRng(i)}},gl=function(e,t,n){n===void 0&&(n=!0);var r=e.dom,a=e.selection;if(t)ml(e,t,n);else if(t=Cr(e.getBody(),a.getStart()),!t)for(;t=r.get(bg);)ml(e,t,!1)},CR=function(e,t,n){var r=e.dom,a=r.getParent(n,j(ms,e));a&&r.isEmpty(a)?n.parentNode.replaceChild(t,n):(gA(x.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},Eg=function(e,t){return e.appendChild(t),t},Sg=function(e,t){var n=kc(e,function(r,a){return Eg(r,a.cloneNode(!1))},t);return Eg(n,n.ownerDocument.createTextNode(xa))},wR=function(e,t,n,r,a,i){var o=e.formatter,u=e.dom,f=ve(ir(o.get()),function(v){return v!==r&&!ut(v,"removeformat")}),s=gR(e,n,f),c=ve(s,function(v){return!Ux(e,v,r)});if(c.length>0){var l=n.cloneNode(!1);return u.add(t,l),o.remove(r,a,l,i),u.remove(l),b.some(l)}else return b.none()},ER=function(e,t,n){var r,a,i=e.selection,o=i.getRng(),u=o.startOffset,f=o.startContainer,s=f.nodeValue;r=Cr(e.getBody(),i.getStart()),r&&(a=wg(r));var c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(s&&u>0&&u<s.length&&c.test(s.charAt(u))&&c.test(s.charAt(u-1))){var l=i.getBookmark();o.collapse(!0);var v=ya(e,o,e.formatter.get(t));v=Ro(v),e.formatter.apply(t,n,v),i.moveToBookmark(l)}else(!r||a.nodeValue!==xa)&&(r=hR(e.getDoc(),pl(!0).dom),a=r.firstChild,o.insertNode(r),u=1),e.formatter.apply(t,n,r),i.setCursorLocation(a,u)},SR=function(e,t,n,r){var a=e.dom,i=e.selection,o,u,f,s=[],c=i.getRng(),l=c.startContainer,v=c.startOffset;for(u=l,l.nodeType===3&&(v!==l.nodeValue.length&&(o=!0),u=u.parentNode);u;){if(pn(e,u,t,n,r)){f=u;break}u.nextSibling&&(o=!0),s.push(u),u=u.parentNode}if(!!f)if(o){var p=i.getBookmark();c.collapse(!0);var m=ya(e,c,e.formatter.get(t),!0);m=Ro(m),e.formatter.remove(t,n,m,r),i.moveToBookmark(p)}else{var g=Cr(e.getBody(),f),d=pl(!1).dom;CR(e,d,g!==null?g:f);var y=wR(e,d,f,t,n,r),h=Sg(s.concat(y.toArray()),d);ml(e,g,!1),i.setCursorLocation(h,1),a.isEmpty(f)&&a.remove(f)}},xR=function(e,t){var n=e.selection,r=e.getBody();gl(e,null,!1),(t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===xa&&gl(e,Cr(r,n.getStart())),(t===37||t===39)&&gl(e,Cr(r,n.getStart()))},kR=function(e){e.on("mouseup keydown",function(t){xR(e,t.keyCode)})},NR=function(e,t){var n=pl(!1),r=Sg(t,n.dom);return qt(x.fromDom(e),n),Xe(x.fromDom(e)),T(r,0)},AR=function(e,t){var n=e.schema.getTextInlineElements();return n.hasOwnProperty(Oe(t))&&!dn(t.dom)&&!qr(t.dom)},TR=function(e){return dn(e.dom)&&Cg(e.dom)},qo={},xg=Mr,kg=Fa,RR=function(e,t){var n=qo[e];n||(qo[e]=[]),qo[e].push(t)},BR=function(e,t){kg(qo[e],function(n){n(t)})};RR("pre",function(e){var t=e.selection.getRng(),n,r=function(o){return i(o.previousSibling)&&Bc(n,o.previousSibling)!==-1},a=function(o,u){re(u).remove(),re(o).append("<br><br>").append(u.childNodes)},i=It(["pre"]);t.collapsed||(n=e.selection.getSelectedBlocks(),kg(xg(xg(n,i),r),function(o){a(o.previousSibling,o)}))});var hl=B.each,yl=function(e){return ie(e)&&!Ct(e)&&!dn(e)&&!qr(e)},Ng=function(e,t){var n;for(n=e;n;n=n[t]){if(Q(n)&&n.nodeValue.length!==0)return e;if(ie(n)&&!Ct(n))return n}return e},Ag=function(e,t,n){var r,a,i=_m(e);if(t&&n&&(t=Ng(t,"previousSibling"),n=Ng(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)a=r,r=r.nextSibling,t.appendChild(a);return e.remove(n),B.each(B.grep(n.childNodes),function(o){t.appendChild(o)}),t}return n},Tg=function(e,t,n,r){if(r&&t.merge_siblings!==!1){var a=Ag(e,ps(r),r);Ag(e,a,ps(a,!0))}},DR=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";hl(e.select(r,n),function(a){yl(a)&&hl(t.styles,function(i,o){e.setStyle(a,o,"")})})}},bl=function(e,t,n){hl(e.childNodes,function(r){yl(r)&&(t(r)&&n(r),r.hasChildNodes()&&bl(r,t,n))})},PR=function(e,t){t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},Rg=function(e,t){return function(n){return!!(n&&So(e,n,t))}},Bg=function(e,t,n){return function(r){e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),PR(e,r)}},yi=_n.generate([{keep:[]},{rename:["name"]},{removed:[]}]),OR=/^(src|href|style)$/,Cl=B.each,ka=hs,_R=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},Dg=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},Pg=function(e,t,n){var r,a;if(r=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"],ie(r)){var i=r.childNodes.length-1;!n&&a&&a--,r=r.childNodes[a>i?i:a]}return Q(r)&&n&&a>=r.nodeValue.length&&(r=new Ie(r,e.getBody()).next()||r),Q(r)&&!n&&a===0&&(r=new Ie(r,e.getBody()).prev()||r),r},Og=function(e,t){var n=t?"firstChild":"lastChild";if(_R(e)&&e[n]){var r=e[n];return e.nodeName==="TR"&&r[n]||r}return e},wl=function(e,t,n,r){var a=e.create(n,r);return t.parentNode.insertBefore(a,t),a.appendChild(t),a},_g=function(e,t,n,r,a){var i=x.fromDom(t),o=x.fromDom(e.create(r,a)),u=n?pv(i):dv(i);return $i(o,u),n?(qt(i,o),yv(o,i)):(za(i,o),Ge(o,i)),o.dom},LR=function(e,t,n){if(ka(t,n.inline)||ka(t,n.block))return!0;if(n.selector)return ie(t)&&e.is(t,n.selector)},IR=function(e,t){return t.links&&e.nodeName==="A"},Wo=function(e,t,n,r){return t=ps(t,n,r),!t||t.nodeName==="BR"||e.isBlock(t)},$R=function(e,t,n){var r=t.parentNode,a,i=e.dom,o=Ze(e);n.block&&(o?r===i.getRoot()&&(!n.list_block||!ka(t,n.list_block))&&Y(Bn(t.childNodes),function(u){ga(e,o,u.nodeName.toLowerCase())?a?a.appendChild(u):(a=wl(i,u,o),i.setAttribs(a,e.settings.forced_root_block_attrs)):a=0}):i.isBlock(t)&&!i.isBlock(r)&&(!Wo(i,t,!1)&&!Wo(i,t.firstChild,!0,!0)&&t.insertBefore(i.create("br"),t.firstChild),!Wo(i,t,!0)&&!Wo(i,t.lastChild,!1,!0)&&t.appendChild(i.create("br")))),!(n.selector&&n.inline&&!ka(n.inline,t))&&i.remove(t,!0)},Lg=function(e,t,n,r,a){var i,o=e.dom;if(!LR(o,r,t)&&!IR(r,t))return yi.keep();var u=r;if(t.inline&&t.remove==="all"&&_t(t.preserve_attributes)){var f=ve(o.getAttribs(u),function(v){return ze(t.preserve_attributes,v.name.toLowerCase())});if(o.removeAllAttribs(u),Y(f,function(v){return o.setAttrib(u,v.name,v.value)}),f.length>0)return yi.rename("span")}if(t.remove!=="all"){Cl(t.styles,function(v,p){v=ys(o,xn(v,n),p+""),Fr(p)&&(p=v,a=null),(t.remove_similar||!a||ka(So(o,a,p),v))&&o.setStyle(u,p,""),i=!0}),i&&o.getAttrib(u,"style")===""&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),Cl(t.attributes,function(v,p){var m;if(v=xn(v,n),Fr(p)&&(p=v,a=null),t.remove_similar||!a||ka(o.getAttrib(a,p),v)){if(p==="class"&&(v=o.getAttrib(u,p),v&&(m="",Y(v.split(/\s+/),function(g){/mce\-\w+/.test(g)&&(m+=(m?" ":"")+g)}),m))){o.setAttrib(u,p,m);return}if(OR.test(p)&&u.removeAttribute("data-mce-"+p),p==="style"&&It(["li"])(u)&&o.getStyle(u,"list-style-type")==="none"){u.removeAttribute(p),o.setStyle(u,"list-style-type","none");return}p==="class"&&u.removeAttribute("className"),u.removeAttribute(p)}}),Cl(t.classes,function(v){v=xn(v,n),(!a||o.hasClass(a,v))&&o.removeClass(u,v)});for(var s=o.getAttribs(u),c=0;c<s.length;c++){var l=s[c].nodeName;if(l.indexOf("_")!==0&&l.indexOf("data-")!==0)return yi.keep()}}return t.remove!=="none"?($R(e,u,t),yi.removed()):yi.keep()},Sr=function(e,t,n,r,a){return Lg(e,t,n,r,a).fold(he,function(i){return e.dom.rename(r,i),!0},je)},FR=function(e,t,n,r,a){var i;return Y(xo(e.dom,t.parentNode).reverse(),function(o){if(!i&&o.id!=="_start"&&o.id!=="_end"){var u=pn(e,o,n,r,a);u&&u.split!==!1&&(i=o)}}),i},MR=function(e,t,n,r){return Lg(e,t,n,r,r).fold(Z(r),function(a){var i=e.dom.createFragment();return i.appendChild(r),e.dom.rename(r,a)},Z(null))},UR=function(e,t,n,r,a,i,o,u){var f,s,c,l=e.dom;if(n){for(var v=n.parentNode,p=r.parentNode;p&&p!==v;p=p.parentNode){f=l.clone(p,!1);for(var m=0;m<t.length&&(f=MR(e,t[m],u,f),f!==null);m++);f&&(s&&f.appendChild(s),c||(c=f),s=f)}i&&(!o.mixed||!l.isBlock(n))&&(r=l.split(n,r)),s&&(a.parentNode.insertBefore(s,a),c.appendChild(a),o.inline&&Tg(l,o,u,s))}return r},Ig=function(e,t,n,r,a){var i=e.formatter.get(t),o=i[0],u=!0,f=e.dom,s=e.selection,c=function(y){var h=FR(e,y,t,n,a);return UR(e,i,h,y,y,!0,o,n)},l=function(y){return Ct(y)&&ie(y)&&(y.id==="_start"||y.id==="_end")},v=function(y){var h,C,w=y.parentNode;Q(y)&&jp(f,w)&&Sr(e,o,n,w,w),ie(y)&&f.getContentEditable(y)&&(h=u,u=f.getContentEditable(y)==="true",C=!0);var S=Bn(y.childNodes);if(u&&!C)for(var R=0;R<i.length&&!Sr(e,i[R],n,y,y);R++);if(o.deep&&S.length){for(var R=0;R<S.length;R++)v(S[R]);C&&(u=h)}},p=function(y){var h=f.get(y?"_start":"_end"),C=h[y?"firstChild":"lastChild"];return l(C)&&(C=C[y?"firstChild":"lastChild"]),Q(C)&&C.data.length===0&&(C=y?h.previousSibling||h.nextSibling:h.nextSibling||h.previousSibling),f.remove(h,!0),C},m=function(y){var h,C,w=ya(e,y,i,y.collapsed);if(o.split){if(w=Ro(w),h=Pg(e,w,!0),C=Pg(e,w),h!==C){if(h=Og(h,!0),C=Og(C,!1),Dg(f,h,C)){var S=b.from(h.firstChild).getOr(h);c(_g(f,S,!0,"span",{id:"_start","data-mce-type":"bookmark"})),p(!0);return}if(Dg(f,C,h)){var S=b.from(C.lastChild).getOr(C);c(_g(f,S,!1,"span",{id:"_end","data-mce-type":"bookmark"})),p(!1);return}h=wl(f,h,"span",{id:"_start","data-mce-type":"bookmark"}),C=wl(f,C,"span",{id:"_end","data-mce-type":"bookmark"});var R=f.createRng();R.setStartAfter(h),R.setEndBefore(C),ci(f,R,function(L){Y(L,function(I){!Ct(I)&&!Ct(I.parentNode)&&c(I)})}),c(h),c(C),h=p(!0),C=p()}else h=C=c(h);w.startContainer=h.parentNode?h.parentNode:h,w.startOffset=f.nodeIndex(h),w.endContainer=C.parentNode?C.parentNode:C,w.endOffset=f.nodeIndex(C)+1}ci(f,w,function(L){Y(L,function(I){v(I);var K=["underline","line-through","overline"];Y(K,function(X){ie(I)&&e.dom.getStyle(I,"text-decoration")===X&&I.parentNode&&qp(f,I.parentNode)===X&&Sr(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:X}},null,I)})})})};if(r){if(ds(r)){var g=f.createRng();g.setStartBefore(r),g.setEndAfter(r),m(g)}else m(r);return}if(f.getContentEditable(s.getNode())==="false"){r=s.getNode();for(var d=0;d<i.length&&!(i[d].ceFalseOverride&&Sr(e,i[d],n,r,r));d++);return}!s.isCollapsed()||!o.inline||ba(e).length?(Ns(s,!0,function(){ks(e,m)}),o.inline&&dl(e,t,n,s.getStart())&&Vp(f,s,s.getRng()),e.nodeChanged()):SR(e,t,n,a)},$g=B.each,zR=function(e,t,n,r){var a=function(i){if(i.nodeType===1&&i.parentNode&&i.parentNode.nodeType===1){var o=qp(e,i.parentNode);e.getStyle(i,"color")&&o?e.setStyle(i,"text-decoration",o):e.getStyle(i,"text-decoration")===o&&e.setStyle(i,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(B.walk(r,a,"childNodes"),a(r))},HR=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&bl(r,Rg(e,"fontSize"),Bg(e,"backgroundColor",xn(t.styles.backgroundColor,n)))},VR=function(e,t,n,r){(t.inline==="sub"||t.inline==="sup")&&(bl(r,Rg(e,"fontSize"),Bg(e,"fontSize","")),e.remove(e.select(t.inline==="sup"?"sub":"sup",r),!0))},qR=function(e,t,n,r){$g(t,function(a){$g(e.dom.select(a.inline,r),function(i){!yl(i)||Sr(e,a,n,i,a.exact?i:null)}),DR(e.dom,a,r)})},WR=function(e,t,n,r,a){pn(e,a.parentNode,n,r)&&Sr(e,t,r,a)||t.merge_with_parents&&e.dom.getParent(a.parentNode,function(i){if(pn(e,i,n,r))return Sr(e,t,r,a),!0})},Qt=B.each,Fg=function(e,t){return $a(e,t)},jR=function(e){return e&&e.nodeType===1&&!Ct(e)&&!dn(e)&&!qr(e)},KR=function(e,t,n,r){if(P1(e)&&Cs(t)){var a=ue(ue({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=cR(x.fromDom(n),function(o){return dn(o.dom)});return $a(a,r)&&yt(x.fromDom(n.parentNode),!1)&&!i}else return!1},El=function(e,t,n,r){var a=e.formatter.get(t),i=a[0],o=!r&&e.selection.isCollapsed(),u=e.dom,f=e.selection,s=function(h,C){if(C=C||i,h){if(C.onformat&&C.onformat(h,C,n,r),Qt(C.styles,function(S,R){u.setStyle(h,R,xn(S,n))}),C.styles){var w=u.getAttrib(h,"style");w&&u.setAttrib(h,"data-mce-style",w)}Qt(C.attributes,function(S,R){u.setAttrib(h,R,xn(S,n))}),Qt(C.classes,function(S){S=xn(S,n),u.hasClass(h,S)||u.addClass(h,S)})}},c=function(h,C){var w=!1;return bs(i)?(Qt(h,function(S){if(!("collapsed"in S&&S.collapsed!==o)&&u.is(C,S.selector)&&!dn(C))return s(C,S),w=!0,!1}),w):!1},l=function(h,C,w,S){var R=[],L=!0,I=i.inline||i.block,K=h.create(I);s(K),ci(h,C,function(X){var O,ee=function(M){var G=!1,F=L,z=M.nodeName.toLowerCase(),W=M.parentNode.nodeName.toLowerCase();if(ie(M)&&h.getContentEditable(M)&&(F=L,L=h.getContentEditable(M)==="true",G=!0),De(M)&&!KR(e,i,M,W)){O=null,Wp(i)&&h.remove(M);return}if(i.wrapper&&pn(e,M,t,n)){O=null;return}if(L&&!G&&Wp(i)&&!i.wrapper&&ms(e,z)&&ga(e,W,I)){var _=h.rename(M,I);s(_),R.push(_),O=null;return}if(bs(i)){var q=c(a,M);if(Q(M)&&jp(h,M.parentNode)&&c(a,M.parentNode),!Fg(i,"inline")||q){O=null;return}}L&&!G&&ga(e,I,z)&&ga(e,W,I)&&!(!S&&M.nodeType===3&&M.nodeValue.length===1&&M.nodeValue.charCodeAt(0)===65279)&&!dn(M)&&(!Fg(i,"inline")||!h.isBlock(M))?(O||(O=h.clone(K,!1),M.parentNode.insertBefore(O,M),R.push(O)),O.appendChild(M)):(O=null,Qt(B.grep(M.childNodes),ee),G&&(L=F),O=null)};Qt(X,ee)}),i.links===!0&&Qt(R,function(X){var O=function(ee){ee.nodeName==="A"&&s(ee,i),Qt(B.grep(ee.childNodes),O)};O(X)}),Qt(R,function(X){var O=function(F){var z=0;return Qt(F.childNodes,function(W){!Fx(W)&&!Ct(W)&&z++}),z},ee=function(F){var z=!1;return Qt(F.childNodes,function(W){if(jR(W))return z=W,!1}),z},M=function(F){var z,W=ee(F);return W&&!Ct(W)&&hg(h,W,i)&&(z=h.clone(W,!1),s(z),h.replace(z,F,!0),h.remove(W,!0)),z||F},G=O(X);if((R.length>1||!h.isBlock(X))&&G===0){h.remove(X,!0);return}(Cs(i)||i.wrapper)&&(!i.exact&&G===1&&(X=M(X)),qR(e,a,n,X),WR(e,i,t,n,X),HR(h,i,n,X),zR(h,i,n,X),VR(h,i,n,X),Tg(h,i,n,X))})};if(u.getContentEditable(f.getNode())==="false"){r=f.getNode();for(var v=0,p=a.length;v<p;v++){var m=a[v];if(m.ceFalseOverride&&bs(m)&&u.is(r,m.selector)){s(r,m);return}}return}if(i){if(r)if(ds(r)){if(!c(a,r)){var g=u.createRng();g.setStartBefore(r),g.setEndAfter(r),l(u,ya(e,g,a),null,!0)}}else l(u,r,null,!0);else if(!o||!Cs(i)||ba(e).length){var d=f.getNode(),y=a[0];!e.settings.forced_root_block&&y.defaultBlock&&!u.getParent(d,u.isBlock)&&El(e,y.defaultBlock),f.setRng(al(f.getRng())),Ns(f,!0,function(h){ks(e,function(C,w){var S=w?C:ya(e,C,a);l(u,S)})}),Vp(u,f,f.getRng()),e.nodeChanged()}else ER(e,t,n);BR(t,e)}},GR=function(e,t){var n=_e({});e.set({}),t.on("NodeChange",function(r){XR(t,r.element,n,e.get())})},XR=function(e,t,n,r){var a=ir(n.get()),i={},o={},u=ve(xo(e.dom,t),function(s){return s.nodeType===1&&!s.getAttribute("data-mce-bogus")});Be(r,function(s,c){B.each(u,function(l){if(e.formatter.matchNode(l,c,{},s.similar))return a.indexOf(c)===-1&&(Y(s.callbacks,function(v){v(!0,{node:l,format:c,parents:u})}),i[c]=s.callbacks),o[c]=s.callbacks,!1;if(gg(e,l,c))return!1})});var f=YR(n.get(),o,t,u);n.set(ue(ue({},i),f))},YR=function(e,t,n,r){return Rc(e,function(a,i){return Ke(t,i)?!0:(Y(a,function(o){o(!1,{node:n,format:i,parents:r})}),!1)}).t},QR=function(e,t,n,r){var a=e.get();Y(t.split(","),function(i){a[i]||(a[i]={similar:r,callbacks:[]}),a[i].callbacks.push(n)}),e.set(a)},ZR=function(e,t,n){var r=e.get();Y(t.split(","),function(a){r[a].callbacks=ve(r[a].callbacks,function(i){return i!==n}),r[a].callbacks.length===0&&delete r[a]}),e.set(r)},JR=function(e,t,n,r,a){return t.get()===null&&GR(t,e),QR(t,n,r,a),{unbind:function(){return ZR(t,n,r)}}},eB=function(e,t,n,r){var a=e.formatter.get(t);dl(e,t,n,r)&&(!("toggle"in a[0])||a[0].toggle)?Ig(e,t,n,r):El(e,t,n,r)},Sl=function(e,t){var n=t||document,r=n.createDocumentFragment();return Y(e,function(a){r.appendChild(a.dom)}),x.fromDom(r)},xl=function(e,t,n){return{element:e,width:t,rows:n}},Mg=function(e,t){return{element:e,cells:t}},tB=function(e,t){return{x:e,y:t}},Ug=function(e,t){var n=parseInt(qa(e,t),10);return isNaN(n)?1:n},nB=function(e,t,n,r,a){for(var i=Ug(a,"rowspan"),o=Ug(a,"colspan"),u=e.rows,f=n;f<n+i;f++){u[f]||(u[f]=Mg(_d(r),[]));for(var s=t;s<t+o;s++){var c=u[f].cells;c[s]=f===n&&s===t?a:oa(a)}}},rB=function(e,t,n){var r=e.rows,a=r[n]?r[n].cells:[];return!!a[t]},aB=function(e,t,n){for(;rB(e,t,n);)t++;return t},zg=function(e){return zt(e,function(t,n){return n.cells.length>t?n.cells.length:t},0)},Hg=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var a=n[r].cells,i=0;i<a.length;i++)if(Se(a[i],t))return b.some(tB(i,r));return b.none()},Vg=function(e,t,n,r,a){for(var i=[],o=e.rows,u=n;u<=a;u++){var f=o[u].cells,s=t<r?f.slice(t,r+1):f.slice(r,t+1);i.push(Mg(o[u].element,s))}return i},iB=function(e,t,n){var r=t.x,a=t.y,i=n.x,o=n.y,u=a<o?Vg(e,r,a,i,o):Vg(e,r,o,i,a);return xl(e.element,zg(u),u)},oB=function(e,t){var n=oa(e.element),r=x.fromTag("tbody");return $i(r,t),Ge(n,r),n},uB=function(e){return ke(e.rows,function(t){var n=ke(t.cells,function(a){var i=_d(a);return fr(i,"colspan"),fr(i,"rowspan"),i}),r=oa(t.element);return $i(r,n),r})},fB=function(e){var t=xl(oa(e),0,[]);return Y(dt(e,"tr"),function(n,r){Y(dt(n,"td,th"),function(a,i){nB(t,aB(t,i,r),r,n,a)})}),xl(t.element,zg(t.rows),t.rows)},sB=function(e){return oB(e,uB(e))},lB=function(e,t,n){return Hg(e,t).bind(function(r){return Hg(e,n).map(function(a){return iB(e,r,a)})})},cB=function(e){return ot(e,function(t){return Oe(t)==="ul"||Oe(t)==="ol"})},vB=function(e,t){return ot(e,function(n){return Oe(n)==="li"&&Ss(n,t)}).fold(Z([]),function(n){return cB(e).map(function(r){var a=x.fromTag(Oe(r)),i=Ia(Dv(r),function(o,u){return Ur(u,"list-style")});return j0(a,i),[x.fromTag("li"),a]}).getOr([])})},dB=function(e,t){var n=zt(t,function(r,a){return Ge(a,r),a},e);return t.length>0?Sl([n]):n},pB=function(e){return Ka(e)?Vt(e).filter(mf).fold(Z([]),function(t){return[e,t]}):mf(e)?[e]:[]},mB=function(e,t){var n=x.fromDom(t.commonAncestorContainer),r=kn(n,e),a=ve(r,function(u){return pf(u)||ww(u)}),i=vB(r,t),o=a.concat(i.length?i:pB(n));return ke(o,oa)},qg=function(){return Sl([])},gB=function(e,t){return dB(x.fromDom(t.cloneContents()),mB(e,t))},hB=function(e,t){return Vi(t,"table",j(Se,e))},yB=function(e,t){return hB(e,t[0]).bind(function(n){var r=t[0],a=t[t.length-1],i=fB(n);return lB(i,r,a).map(function(o){return Sl([sB(o)])})}).getOrThunk(qg)},bB=function(e,t){return t.length>0&&t[0].collapsed?qg():gB(e,t[0])},CB=function(e,t){var n=rm(t,e);return n.length>0?yB(e,n):bB(e,t)},wB=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},jo=function(e,t){return t>=0&&t<e.length&&ma(e.charAt(t))},Wg=function(e,t){var n=In(e.innerText);return t?wB(n):n},EB=function(e){return e.map(function(t){return t.nodeName}).getOr("div").toLowerCase()},SB=function(e){return b.from(e.selection.getRng()).map(function(t){var n=b.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),a=EB(n),i=ae.browser.isIE()&&a!=="pre",o=e.dom.add(r,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),u=Wg(o,i),f=In(o.textContent);if(e.dom.remove(o),jo(f,0)||jo(f,f.length-1)){var s=n.getOr(r),c=Wg(s,i),l=c.indexOf(u);if(l===-1)return u;var v=jo(c,l-1),p=jo(c,l+u.length);return(v?" ":"")+u+(p?" ":"")}else return u}).getOr("")},xB=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),i=Hs(e,ws(a)),o=t.contextual?CB(x.fromDom(e.getBody()),i).dom:n.cloneContents();return o&&r.appendChild(o),e.selection.serializer.serialize(r,t)},kB=function(e,t,n){if(n===void 0&&(n={}),n.get=!0,n.format=t,n.selection=!0,n=e.fire("BeforeGetContent",n),n.isDefaultPrevented())return e.fire("GetContent",n),n.content;if(n.format==="text")return SB(e);n.getInner=!0;var r=xB(e,n);return n.format==="tree"?r:(n.content=e.selection.isCollapsed()?"":r,e.fire("GetContent",n),n.content)},kl=0,jg=1,Kg=2,NB=function(e,t){var n=e.length+t.length+2,r=new Array(n),a=new Array(n),i=function(c,l,v){return{start:c,end:l,diag:v}},o=function(c,l,v,p,m){var g=f(c,l,v,p);if(g===null||g.start===l&&g.diag===l-p||g.end===c&&g.diag===c-v)for(var d=c,y=v;d<l||y<p;)d<l&&y<p&&e[d]===t[y]?(m.push([kl,e[d]]),++d,++y):l-c>p-v?(m.push([Kg,e[d]]),++d):(m.push([jg,t[y]]),++y);else{o(c,g.start,v,g.start-g.diag,m);for(var h=g.start;h<g.end;++h)m.push([kl,e[h]]);o(g.end,l,g.end-g.diag,p,m)}},u=function(c,l,v,p){for(var m=c;m-l<p&&m<v&&e[m]===t[m-l];)++m;return i(c,m,l)},f=function(c,l,v,p){var m=l-c,g=p-v;if(m===0||g===0)return null;var d=m-g,y=g+m,h=(y%2===0?y:y+1)/2;r[1+h]=c,a[1+h]=l+1;var C,w,S,R,L;for(C=0;C<=h;++C){for(w=-C;w<=C;w+=2){for(S=w+h,w===-C||w!==C&&r[S-1]<r[S+1]?r[S]=r[S+1]:r[S]=r[S-1]+1,R=r[S],L=R-c+v-w;R<l&&L<p&&e[R]===t[L];)r[S]=++R,++L;if(d%2!==0&&d-C<=w&&w<=d+C&&a[S-d]<=r[S])return u(a[S-d],w+c-v,l,p)}for(w=d-C;w<=d+C;w+=2){for(S=w+h-d,w===d-C||w!==d+C&&a[S+1]<=a[S-1]?a[S]=a[S+1]-1:a[S]=a[S-1],R=a[S]-1,L=R-c+v-w;R>=c&&L>=v&&e[R]===t[L];)a[S]=R--,L--;if(d%2===0&&-C<=w&&w<=C&&a[S]<=r[S+d])return u(a[S],w+c-v,l,p)}}},s=[];return o(0,e.length,0,t.length,s),s},Gg=function(e){return ie(e)?e.outerHTML:Q(e)?cr.encodeRaw(e.data,!1):z0(e)?"<!--"+e.data+"-->":""},AB=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},TB=function(e,t,n){var r=AB(t);if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.insertBefore(r,a)}else e.appendChild(r)},RB=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},BB=function(e,t){var n=0;Y(e,function(r){r[0]===kl?n++:r[0]===jg?(TB(t,r[1],n),n++):r[0]===Kg&&RB(t,n)})},DB=function(e){return ve(ke(Bn(e.childNodes),Gg),function(t){return t.length>0})},PB=function(e,t){var n=ke(Bn(t.childNodes),Gg);return BB(NB(n,e),t),t},Xg=_e(b.none()),OB=function(){return Xg.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument("undo");return Xg.set(b.some(e)),e})},_B=function(e){return e.indexOf("</iframe>")!==-1},LB=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},IB=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Nl=function(e){var t=DB(e.getBody()),n=_a(t,function(a){var i=Om(e.serializer,a);return i.length>0?[i]:[]}),r=n.join("");return _B(r)?LB(n):IB(r)},Al=function(e,t,n){t.type==="fragmented"?PB(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Tl=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},Yg=function(e){var t=x.fromTag("body",OB());return Pd(t,Tl(e)),Y(dt(t,"*[data-mce-bogus]"),bv),kS(t)},$B=function(e,t){return Tl(e)===Tl(t)},FB=function(e,t){return Yg(e)===Yg(t)},Ko=function(e,t){return!e||!t?!1:$B(e,t)?!0:FB(e,t)},Rl=function(e){return e.get()===0},Go=function(e,t,n){Rl(n)&&(e.typing=t)},Qg=function(e,t){e.typing&&(Go(e,!1,t),e.add())},MB=function(e){e.typing&&(e.typing=!1,e.add())},UB=function(e,t,n){Rl(t)&&n.set(b.some(op(e.selection)))},zB=function(e,t,n,r,a,i,o){var u=Nl(e);if(i=i||{},i=B.extend(i,u),Rl(r)===!1||e.removed)return null;var f=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:f,originalEvent:o}).isDefaultPrevented()||f&&Ko(f,i))return null;t.data[n.get()]&&a.get().each(function(v){t.data[n.get()].beforeBookmark=v});var s=H1(e);if(s&&t.data.length>s){for(var c=0;c<t.data.length-1;c++)t.data[c]=t.data[c+1];t.data.length--,n.set(t.data.length)}i.bookmark=op(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var l={level:i,lastLevel:f,originalEvent:o};return n.get()>0?(e.setDirty(!0),e.fire("AddUndo",l),e.fire("change",l)):e.fire("AddUndo",l),i},HB=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},VB=function(e,t,n,r,a){if(t.transact(r)){var i=t.data[n.get()].bookmark,o=t.data[n.get()-1];Al(e,o,!0),t.transact(a)&&(t.data[n.get()-1].beforeBookmark=i)}},qB=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],Al(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},WB=function(e,t,n,r){var a;return t.typing&&(t.add(),t.typing=!1,Go(t,!1,n)),r.get()>0&&(r.set(r.get()-1),a=t.data[r.get()],Al(e,a,!0),e.setDirty(!0),e.fire("Undo",{level:a})),a},jB=function(e){e.clear(),e.add()},KB=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!Ko(Nl(e),t.data[0])},GB=function(e,t){return t.get()<e.data.length-1&&!e.typing},XB=function(e,t,n){return Qg(e,t),e.beforeChange(),e.ignore(n),e.add()},YB=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},QB=function(e,t){var n=e.dom,r=mt(t)?t:e.getBody();Oa(e.hasVisual)&&(e.hasVisual=G1(e)),Y(n.select("table,a",r),function(a){switch(a.nodeName){case"TABLE":var i=X1(e),o=n.getAttrib(a,"border");(!o||o==="0")&&e.hasVisual?n.addClass(a,i):n.removeClass(a,i);break;case"A":if(!n.getAttrib(a,"href")){var u=n.getAttrib(a,"name")||a.id,f=Y1(e);u&&e.hasVisual?n.addClass(a,f):n.removeClass(a,f)}break}}),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})},Zg=function(e){return{undoManager:{beforeChange:function(t,n){return UB(e,t,n)},addUndoLevel:function(t,n,r,a,i,o){return zB(e,t,n,r,a,i,o)},undo:function(t,n,r){return WB(e,t,n,r)},redo:function(t,n){return qB(e,t,n)},clear:function(t,n){return HB(e,t,n)},reset:function(t){return jB(t)},hasUndo:function(t,n){return KB(e,t,n)},hasRedo:function(t,n){return GB(t,n)},transact:function(t,n,r){return XB(t,n,r)},ignore:function(t,n){return YB(t,n)},extra:function(t,n,r,a){return VB(e,t,n,r,a)}},formatter:{match:function(t,n,r){return dl(e,t,n,r)},matchAll:function(t,n){return dR(e,t,n)},matchNode:function(t,n,r,a){return pn(e,t,n,r,a)},canApply:function(t){return mR(e,t)},closest:function(t){return pR(e,t)},apply:function(t,n,r){return El(e,t,n,r)},remove:function(t,n,r,a){return Ig(e,t,n,r,a)},toggle:function(t,n,r){return eB(e,t,n,r)},formatChanged:function(t,n,r,a){return JR(e,t,n,r,a)}},editor:{getContent:function(t,n){return oA(e,t,n)},setContent:function(t,n){return lR(e,t,n)},insertContent:function(t,n){return rR(e,t,n)},addVisual:function(t){return QB(e,t)}},selection:{getContent:function(t,n){return kB(e,t,n)}},raw:{getModel:function(){return b.none()}}}},ZB=function(e){var t=function(s){return $r(s)?s:{}},n=Ec("Unimplemented feature for rtc"),r=e.undoManager,a=e.formatter,i=e.editor,o=e.selection,u=e.raw,f=fe;return{undoManager:{beforeChange:f,addUndoLevel:n,undo:function(){return r.undo()},redo:function(){return r.redo()},clear:function(){return r.clear()},reset:function(){return r.reset()},hasUndo:function(){return r.hasUndo()},hasRedo:function(){return r.hasRedo()},transact:function(s,c,l){return r.transact(l)},ignore:function(s,c){return r.ignore(c)},extra:function(s,c,l,v){return r.extra(l,v)}},formatter:{match:function(s,c,l){return a.match(s,t(c))},matchAll:n,matchNode:n,canApply:function(s){return a.canApply(s)},closest:function(s){return a.closest(s)},apply:function(s,c,l){return a.apply(s,t(c))},remove:function(s,c,l,v){return a.remove(s,t(c))},toggle:function(s,c,l){return a.toggle(s,t(c))},formatChanged:function(s,c,l,v){return a.formatChanged(c,l,v)}},editor:{getContent:function(s,c){return i.getContent(s)},setContent:function(s,c){return i.setContent(s,c)},insertContent:function(s,c){return i.insertContent(s)},addVisual:f},selection:{getContent:function(s,c){return o.getContent(c)}},raw:{getModel:function(){return b.some(u.getRawModel())}}}},JB=function(){var e=Z(null),t=Z("");return{undoManager:{beforeChange:fe,addUndoLevel:e,undo:e,redo:e,clear:fe,reset:fe,hasUndo:he,hasRedo:he,transact:e,ignore:fe,extra:fe},formatter:{match:he,matchAll:Z([]),matchNode:he,canApply:he,closest:t,apply:fe,remove:fe,toggle:fe,formatChanged:Z({unbind:fe})},editor:{getContent:t,setContent:t,insertContent:fe,addVisual:fe},selection:{getContent:t},raw:{getModel:Z(b.none())}}},xr=function(e){return Ke(e.plugins,"rtc")},eD=function(e){return xt(e.plugins,"rtc").bind(function(t){return b.from(t.setup)})},tD=function(e){var t=e;return eD(e).fold(function(){return t.rtcInstance=Zg(e),b.none()},function(n){return b.some(n().then(function(r){return t.rtcInstance=ZB(r),r.rtc.isRemote},function(r){return t.rtcInstance=JB(),He.reject(r)}))})},Bl=function(e){return e.rtcInstance?e.rtcInstance:Zg(e)},Pe=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},nD=function(e,t,n){Pe(e).undoManager.beforeChange(t,n)},rD=function(e,t,n,r,a,i,o){return Pe(e).undoManager.addUndoLevel(t,n,r,a,i,o)},aD=function(e,t,n,r){return Pe(e).undoManager.undo(t,n,r)},iD=function(e,t,n){return Pe(e).undoManager.redo(t,n)},oD=function(e,t,n){Pe(e).undoManager.clear(t,n)},uD=function(e,t){Pe(e).undoManager.reset(t)},fD=function(e,t,n){return Pe(e).undoManager.hasUndo(t,n)},sD=function(e,t,n){return Pe(e).undoManager.hasRedo(t,n)},lD=function(e,t,n,r){return Pe(e).undoManager.transact(t,n,r)},cD=function(e,t,n){Pe(e).undoManager.ignore(t,n)},vD=function(e,t,n,r,a){Pe(e).undoManager.extra(t,n,r,a)},dD=function(e,t,n,r){return Pe(e).formatter.match(t,n,r)},pD=function(e,t,n){return Pe(e).formatter.matchAll(t,n)},mD=function(e,t,n,r,a){return Pe(e).formatter.matchNode(t,n,r,a)},gD=function(e,t){return Pe(e).formatter.canApply(t)},hD=function(e,t){return Pe(e).formatter.closest(t)},yD=function(e,t,n,r){Pe(e).formatter.apply(t,n,r)},bD=function(e,t,n,r,a){Pe(e).formatter.remove(t,n,r,a)},CD=function(e,t,n,r){Pe(e).formatter.toggle(t,n,r)},wD=function(e,t,n,r,a){return a===void 0&&(a=!1),Pe(e).formatter.formatChanged(t,n,r,a)},ED=function(e,t,n){return Bl(e).editor.getContent(t,n)},SD=function(e,t,n){return Bl(e).editor.setContent(t,n)},xD=function(e,t,n){return Bl(e).editor.insertContent(t,n)},kD=function(e,t,n){return Pe(e).selection.getContent(t,n)},ND=function(e,t){return Pe(e).editor.addVisual(t)},AD=function(e,t){t===void 0&&(t={});var n=t.format?t.format:"html";return kD(e,n,t)},Jg=function(e){return e.dom.length===0?(Xe(e),b.none()):b.some(e)},TD=function(e,t){return e.filter(function(n){return vi.isBookmarkNode(n.dom)}).bind(t?Ua:or)},RD=function(e,t,n,r){var a=e.dom,i=t.dom,o=r?a.length:i.length;r?(el(a,i,!1,!r),n.setStart(i,o)):(el(i,a,!1,!r),n.setEnd(i,o))},BD=function(e,t){Vt(e).each(function(n){var r=e.dom;t&&$o(n,T(r,0))?Mo(r,0):!t&&Fo(n,T(r,r.length))&&Js(r,r.length)})},eh=function(e,t,n,r){e.bind(function(a){var i=r?Js:Mo;return i(a.dom,r?a.dom.length:0),t.filter(Lt).map(function(o){return RD(a,o,n,r)})}).orThunk(function(){var a=TD(t,r).or(t).filter(Lt);return a.map(function(i){return BD(i,r)})})},DD=function(e,t){var n=b.from(t.firstChild).map(x.fromDom),r=b.from(t.lastChild).map(x.fromDom);e.deleteContents(),e.insertNode(t);var a=n.bind(or).filter(Lt).bind(Jg),i=r.bind(Ua).filter(Lt).bind(Jg);eh(a,n,e,!0),eh(i,r,e,!1),e.collapse(!1)},PD=function(e,t){return ue(ue({format:"html"},e),{set:!0,selection:!0,content:t})},OD=function(e,t){if(t.format!=="raw"){var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,ue(ue({isRootContent:!0,forced_root_block:!1},a),t));return Ca({validate:e.validate},e.schema).serialize(i)}else return t.content},_D=function(e,t,n){n===void 0&&(n={});var r=PD(n,t);if(!r.no_events&&(r=e.fire("BeforeSetContent",r),r.isDefaultPrevented())){e.fire("SetContent",r);return}n.content=OD(e,r);var a=e.selection.getRng();DD(a,a.createContextualFragment(n.content)),e.selection.setRng(a),Bo(e,a),r.no_events||e.fire("SetContent",r)},th=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=ve(e[t],function(a){return a!==n});r.length===0?delete e[t]:e[t]=r}};function LD(e,t){var n,r;return{selectorChangedWithUnbind:function(a,i){return n||(n={},r={},t.on("NodeChange",function(o){var u=o.element,f=e.getParents(u,null,e.getRoot()),s={};B.each(n,function(c,l){B.each(f,function(v){if(e.is(v,l))return r[l]||(B.each(c,function(p){p(!0,{node:v,selector:l,parents:f})}),r[l]=c),s[l]=c,!1})}),B.each(r,function(c,l){s[l]||(delete r[l],B.each(c,function(v){v(!1,{node:u,selector:l,parents:f})}))})})),n[a]||(n[a]=[]),n[a].push(i),{unbind:function(){th(n,a,i),th(r,a,i)}}}}}var nh=function(e){return!!e.select},rh=function(e){return!!(e&&e.ownerDocument)&&Pn(x.fromDom(e.ownerDocument),x.fromDom(e))},ID=function(e){return e?nh(e)?!0:rh(e.startContainer)&&rh(e.endContainer):!1},ah=function(e,t,n,r){var a,i,o=LD(e,r).selectorChangedWithUnbind,u=function(_,q){var le=e.createRng();mt(_)&&mt(q)?(le.setStart(_,q),le.setEnd(_,q),C(le),d(!1)):(xs(e,le,r.getBody(),!0),C(le))},f=function(_){return AD(r,_)},s=function(_,q){return _D(r,_,q)},c=function(_){return Rm(r.getBody(),h(),_)},l=function(_){return Bm(r.getBody(),h(),_)},v=function(_,q){return z.getBookmark(_,q)},p=function(_){return z.moveToBookmark(_)},m=function(_,q){return qN(e,_,q).each(C),_},g=function(){var _=h(),q=y();return!_||_.item?!1:_.compareEndPoints?_.compareEndPoints("StartToEnd",_)===0:!q||_.collapsed},d=function(_){var q=h();q.collapse(!!_),C(q)},y=function(){return t.getSelection?t.getSelection():t.document.selection},h=function(){var _,q,le,ge=function(Ae,ct,rt){try{return ct.compareBoundaryPoints(Ae,rt)}catch{return-1}},de=t.document;if(r.bookmark!==void 0&&wr(r)===!1){var Te=Fs(r);if(Te.isSome())return Te.map(function(Ae){return Hs(r,[Ae])[0]}).getOr(de.createRange())}try{(_=y())&&!Mi(_.anchorNode)&&(_.rangeCount>0?q=_.getRangeAt(0):q=_.createRange?_.createRange():de.createRange(),q=Hs(r,[q])[0])}catch{}return q||(q=de.createRange?de.createRange():de.body.createTextRange()),q.setStart&&q.startContainer.nodeType===9&&q.collapsed&&(le=e.getRoot(),q.setStart(le,0),q.setEnd(le,0)),a&&i&&(ge(q.START_TO_START,q,a)===0&&ge(q.END_TO_END,q,a)===0?q=i:(a=null,i=null)),q},C=function(_,q){var le;if(!!ID(_)){var ge=nh(_)?_:null;if(ge){i=null;try{ge.select()}catch{}return}var de=y(),Te=r.fire("SetSelectionRange",{range:_,forward:q});if(_=Te.range,de){i=_;try{de.removeAllRanges(),de.addRange(_)}catch{}q===!1&&de.extend&&(de.collapse(_.endContainer,_.endOffset),de.extend(_.startContainer,_.startOffset)),a=de.rangeCount>0?de.getRangeAt(0):null}!_.collapsed&&_.startContainer===_.endContainer&&de.setBaseAndExtent&&!ae.ie&&_.endOffset-_.startOffset<2&&_.startContainer.hasChildNodes()&&(le=_.startContainer.childNodes[_.startOffset],le&&le.tagName==="IMG"&&(de.setBaseAndExtent(_.startContainer,_.startOffset,_.endContainer,_.endOffset),(de.anchorNode!==_.startContainer||de.focusNode!==_.endContainer)&&de.setBaseAndExtent(le,0,le,1))),r.fire("AfterSetSelectionRange",{range:_,forward:q})}},w=function(_){return s(e.getOuterHTML(_)),_},S=function(){return HN(r.getBody(),h())},R=function(_,q){return VN(e,h(),_,q)},L=function(){var _=y(),q=_==null?void 0:_.anchorNode,le=_==null?void 0:_.focusNode;if(!_||!q||!le||Mi(q)||Mi(le))return!0;var ge=e.createRng();ge.setStart(q,_.anchorOffset),ge.collapse(!0);var de=e.createRng();return de.setStart(le,_.focusOffset),de.collapse(!0),ge.compareBoundaryPoints(ge.START_TO_START,de)<=0},I=function(){var _=h(),q=y();if(!Kx(q)&&No(r)){var le=Ao(e,_);return le.each(function(ge){C(ge,L())}),le.getOr(_)}return _},K=function(_,q){return o(_,q),F},X=function(){for(var _,q=e.getRoot();q&&q.nodeName!=="BODY";){if(q.scrollHeight>q.clientHeight){_=q;break}q=q.parentNode}return _},O=function(_,q){return jk(r,_,q)},ee=function(_,q){return C(Rs(_,q,r.getDoc()))},M=function(){var _=h();return _.collapsed?T.fromRangeStart(_).getClientRects()[0]:_.getBoundingClientRect()},G=function(){t=a=i=null,W.destroy()},F={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:d,setCursorLocation:u,getContent:f,setContent:s,getBookmark:v,moveToBookmark:p,select:m,isCollapsed:g,isForward:L,setNode:w,getNode:S,getSel:y,setRng:C,getRng:h,getStart:c,getEnd:l,getSelectedBlocks:R,normalize:I,selectorChanged:K,selectorChangedWithUnbind:o,getScrollContainer:X,scrollIntoView:O,placeCaretAt:ee,getBoundingClientRect:M,destroy:G},z=vi(F),W=fm(F,r);return F.bookmarkManager=z,F.controlSelection=W,F},$D=function(e,t){Y(t,function(n){e.attr(n,null)})},FD=function(e,t,n){e.addNodeFilter("font",function(r){Y(r,function(a){var i=t.parse(a.attr("style")),o=a.attr("color"),u=a.attr("face"),f=a.attr("size");o&&(i.color=o),u&&(i["font-family"]=u),f&&(i["font-size"]=n[parseInt(a.attr("size"),10)-1]),a.name="span",a.attr("style",t.serialize(i)),$D(a,["color","face","size"])})})},MD=function(e,t){e.addNodeFilter("strike",function(n){Y(n,function(r){var a=t.parse(r.attr("style"));a["text-decoration"]="line-through",r.name="span",r.attr("style",t.serialize(a))})})},UD=function(e,t){var n=Af();t.convert_fonts_to_spans&&FD(e,n,B.explode(t.font_size_legacy_values)),MD(e,n)},zD=function(e,t){t.inline_styles&&UD(e,t)},HD=function(e){return new He(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){a.status===200?t(a.response):r()},a.onerror=r,a.send()}catch{r()}})},Dl=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},ih=function(e,t){var n;try{n=atob(t)}catch{return b.none()}for(var r=new Uint8Array(n.length),a=0;a<r.length;a++)r[a]=n.charCodeAt(a);return b.some(new Blob([r],{type:e}))},VD=function(e){return new He(function(t){var n=Dl(e),r=n.type,a=n.data;ih(r,a).fold(function(){return t(new Blob([]))},t)})},oh=function(e){return e.indexOf("blob:")===0?HD(e):e.indexOf("data:")===0?VD(e):null},qD=function(e){return new He(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},WD=0,Pl=function(e){return(e||"blobid")+WD++},jD=function(e,t,n,r){var a,i;if(t.src.indexOf("blob:")===0){i=e.getByUri(t.src),i?n({image:t,blobInfo:i}):oh(t.src).then(function(s){qD(s).then(function(c){a=Dl(c).data,i=e.create(Pl(),s,a),e.add(i),n({image:t,blobInfo:i})})},function(s){r(s)});return}var o=Dl(t.src),u=o.data,f=o.type;a=u,i=e.getByData(a,f),i?n({image:t,blobInfo:i}):oh(t.src).then(function(s){i=e.create(Pl(),s,a),e.add(i),n({image:t,blobInfo:i})},function(s){r(s)})},KD=function(e){return e?Bn(e.getElementsByTagName("img")):[]},GD=function(e,t){var n={},r=function(a,i){i||(i=je);var o=ve(KD(a),function(f){var s=f.src;return!ae.fileApi||f.hasAttribute("data-mce-bogus")||f.hasAttribute("data-mce-placeholder")||!s||s===ae.transparentSrc?!1:s.indexOf("blob:")===0?!e.isUploaded(s)&&i(f):s.indexOf("data:")===0?i(f):!1}),u=ke(o,function(f){if(n[f.src]!==void 0)return new He(function(c){n[f.src].then(function(l){if(typeof l=="string")return l;c({image:f,blobInfo:l.blobInfo})})});var s=new He(function(c,l){jD(t,f,c,l)}).then(function(c){return delete n[c.image.src],c}).catch(function(c){return delete n[f.src],c});return n[f.src]=s,s});return He.all(u)};return{findAll:r}},uh=function(e,t,n,r){var a=e.padd_empty_with_br||t.insert;a&&n[r.name]?r.empty().append(new Ft("br",1)).shortEnded=!0:r.empty().append(new Ft("#text",3)).value=ht},XD=function(e){return fh(e,"#text")&&e.firstChild.value===ht},fh=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},YD=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},bi=function(e,t,n,r){return r.isEmpty(t,n,function(a){return YD(e,a)})},QD=function(e,t){return e&&(t[e.name]||e.name==="br")},ZD=function(e){return e.attr("data-mce-bogus")},JD=function(e){return e.attr("src")===ae.transparentSrc||e.attr("data-mce-placeholder")},eP=function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),Be(e.attributes.map,function(r,a){n.setAttribute(a,r)}),t.images_dataimg_filter(n)}else return!0},tP=function(e,t){var n=t.blob_cache,r=function(a){var i=a.attr("src");JD(a)||ZD(a)||GN(i).filter(function(){return eP(a,t)}).bind(function(o){var u=o.type,f=o.data;return b.from(n.getByData(f,u)).orThunk(function(){return ih(u,f).map(function(s){var c=n.create(Pl(),s,f);return n.add(c),c})})}).each(function(o){a.attr("src",o.blobUri())})};n&&e.addAttributeFilter("src",function(a){return Y(a,r)})},nP=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(r,a,i){var o,u=r.length,f,s=B.extend({},n.getBlockElements()),c=n.getNonEmptyElements(),l,v,p,m,g=n.getWhiteSpaceElements(),d,y;for(s.body=1,o=0;o<u;o++)if(f=r[o],l=f.parent,s[f.parent.name]&&f===l.lastChild){for(p=f.prev;p;){if(m=p.name,m!=="span"||p.attr("data-mce-type")!=="bookmark"){m==="br"&&(f=null);break}p=p.prev}f&&(f.remove(),bi(n,c,g,l)&&(d=n.getElementRule(l.name),d&&(d.removeEmpty?l.remove():d.paddEmpty&&uh(t,i,s,l))))}else{for(v=f;l&&l.firstChild===v&&l.lastChild===v&&(v=l,!s[l.name]);)l=l.parent;v===l&&t.padd_empty_with_br!==!0&&(y=new Ft("#text",3),y.value=ht,f.replace(y))}}),e.addAttributeFilter("href",function(r){var a=r.length,i=function(f){var s=f.split(" ").filter(function(c){return c.length>0});return s.concat(["noopener"]).sort().join(" ")},o=function(f){var s=f?B.trim(f):"";return/\b(noopener)\b/g.test(s)?s:i(s)};if(!t.allow_unsafe_link_target)for(;a--;){var u=r[a];u.name==="a"&&u.attr("target")==="_blank"&&u.attr("rel",o(u.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(r){for(var a=r.length,i,o,u,f;a--;)if(f=r[a],f.name==="a"&&f.firstChild&&!f.attr("href")){u=f.parent,i=f.lastChild;do o=i.prev,u.insert(i,f),i=o;while(i)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(r){for(var a=r.length,i,o;a--;)if(i=r[a],o=i.parent,o.name==="ul"||o.name==="ol")if(i.prev&&i.prev.name==="li")i.prev.append(i);else{var u=new Ft("li",1);u.attr("style","list-style-type: none"),i.wrap(u)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(r){for(var a=r.length,i,o,u,f,s,c=n.getValidClasses(),l,v;a--;){for(i=r[a],o=i.attr("class").split(" "),s="",u=0;u<o.length;u++)f=o[u],v=!1,l=c["*"],l&&l[f]&&(v=!0),l=c[i.name],!v&&l&&l[f]&&(v=!0),v&&(s&&(s+=" "),s+=f);s.length||(s=null),i.attr("class",s)}}),tP(e,t)},sh=B.makeMap,lh=B.each,ch=B.explode,rP=B.extend,Ol=function(e,t){t===void 0&&(t=Fn());var n={},r=[],a={},i={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var o=function(m){var g,d,y,h,C,w,S,R,L,I,K,X=sh("tr,td,th,tbody,thead,tfoot,table"),O=t.getNonEmptyElements(),ee=t.getWhiteSpaceElements(),M=t.getTextBlockElements(),G=t.getSpecialElements();for(g=0;g<m.length;g++)if(d=m[g],!(!d.parent||d.fixed)){if(M[d.name]&&d.parent.name==="li"){for(I=d.next;I&&M[I.name];){I.name="li",I.fixed=!0,d.parent.insert(I,d.parent);I=I.next}d.unwrap(d);continue}for(h=[d],y=d.parent;y&&!t.isValidChild(y.name,d.name)&&!X[y.name];y=y.parent)h.push(y);if(y&&h.length>1){for(h.reverse(),C=w=u(h[0].clone()),L=0;L<h.length-1;L++){for(t.isValidChild(w.name,h[L].name)?(S=u(h[L].clone()),w.append(S)):S=w,R=h[L].firstChild;R&&R!==h[L+1];)K=R.next,S.append(R),R=K;w=S}bi(t,O,ee,C)?y.insert(d,h[0],!0):(y.insert(C,h[0],!0),y.insert(d,C)),y=h[0],(bi(t,O,ee,y)||fh(y,"br"))&&y.empty().remove()}else if(d.parent){if(d.name==="li"){if(I=d.prev,I&&(I.name==="ul"||I.name==="ol")){I.append(d);continue}if(I=d.next,I&&(I.name==="ul"||I.name==="ol")){I.insert(d,I.firstChild,!0);continue}d.wrap(u(new Ft("ul",1)));continue}t.isValidChild(d.parent.name,"div")&&t.isValidChild("div",d.name)?d.wrap(u(new Ft("div",1))):G[d.name]?d.empty().remove():d.unwrap()}}},u=function(m){var g,d,y;for(d=m.name,(d in n)&&(y=a[d],y?y.push(m):a[d]=[m]),g=r.length;g--;)d=r[g].name,d in m.attributes.map&&(y=i[d],y?y.push(m):i[d]=[m]);return m},f=function(m,g){lh(ch(m),function(d){var y=n[d];y||(n[d]=y=[]),y.push(g)})},s=function(){var m=[];for(var g in n)n.hasOwnProperty(g)&&m.push({name:g,callbacks:n[g]});return m},c=function(m,g){lh(ch(m),function(d){var y;for(y=0;y<r.length;y++)if(r[y].name===d){r[y].callbacks.push(g);return}r.push({name:d,callbacks:[g]})})},l=function(){return[].concat(r)},v=function(m,g){var d,y,h,C,w,S,R,L=[],I,K,X=function(k){return k===!1?"":k===!0?"p":k};g=g||{},a={},i={};var O=rP(sh("script,style,head,html,body,title,meta,param"),t.getBlockElements()),ee=t.getNonEmptyElements(),M=t.children,G=e.validate,F="forced_root_block"in g?g.forced_root_block:e.forced_root_block,z=X(F),W=t.getWhiteSpaceElements(),_=/^[ \t\r\n]+/,q=/[ \t\r\n]+$/,le=/[ \t\r\n]+/g,ge=/^[ \t\r\n]+$/;I=W.hasOwnProperty(g.context)||W.hasOwnProperty(e.root_name);var de=function(){var k=P.firstChild,D,N,H=function(V){V&&(k=V.firstChild,k&&k.type===3&&(k.value=k.value.replace(_,"")),k=V.lastChild,k&&k.type===3&&(k.value=k.value.replace(q,"")))};if(!!t.isValidChild(P.name,z.toLowerCase())){for(;k;)D=k.next,k.type===3||k.type===1&&k.name!=="p"&&!O[k.name]&&!k.attr("data-mce-type")?(N||(N=Te(z,1),N.attr(e.forced_root_block_attrs),P.insert(N,k)),N.append(k)):(H(N),N=null),k=D;H(N)}},Te=function(k,D){var N=new Ft(k,D),H;return k in n&&(H=a[k],H?H.push(N):a[k]=[N]),N},Ae=function(k){var D,N,H,V,te=t.getBlockElements();for(D=k.prev;D&&D.type===3;){if(H=D.value.replace(q,""),H.length>0){D.value=H;return}if(N=D.next,N){if(N.type===3&&N.value.length){D=D.prev;continue}if(!te[N.name]&&N.name!=="script"&&N.name!=="style"){D=D.prev;continue}}V=D.prev,D.remove(),D=V}},ct=function(k){var D,N={};for(D in k)D!=="li"&&D!=="p"&&(N[D]=k[D]);return N},rt=Lo({validate:G,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:ct(t.getSelfClosingElements()),cdata:function(k){K.append(Te("#cdata",4)).value=k},text:function(k,D){var N;I||(k=k.replace(le," "),QD(K.lastChild,O)&&(k=k.replace(_,""))),k.length!==0&&(N=Te("#text",3),N.raw=!!D,K.append(N).value=k)},comment:function(k){K.append(Te("#comment",8)).value=k},pi:function(k,D){K.append(Te(k,7)).value=D,Ae(K)},doctype:function(k){var D=K.append(Te("#doctype",10));D.value=k,Ae(K)},start:function(k,D,N){var H,V,te,oe,we=G?t.getElementRule(k):{};if(we){for(H=Te(we.outputName||k,1),H.attributes=D,H.shortEnded=N,K.append(H),oe=M[K.name],oe&&M[H.name]&&!oe[H.name]&&L.push(H),V=r.length;V--;)te=r[V].name,te in D.map&&(S=i[te],S?S.push(H):i[te]=[H]);O[k]&&Ae(H),N||(K=H),!I&&W[k]&&(I=!0)}},end:function(k){var D,N,H,V,te=G?t.getElementRule(k):{};if(te){if(O[k]&&!I){if(D=K.firstChild,D&&D.type===3)if(N=D.value.replace(_,""),N.length>0)D.value=N,D=D.next;else for(H=D.next,D.remove(),D=H;D&&D.type===3;)N=D.value,H=D.next,(N.length===0||ge.test(N))&&(D.remove(),D=H),D=H;if(D=K.lastChild,D&&D.type===3)if(N=D.value.replace(q,""),N.length>0)D.value=N,D=D.prev;else for(H=D.prev,D.remove(),D=H;D&&D.type===3;)N=D.value,H=D.prev,(N.length===0||ge.test(N))&&(D.remove(),D=H),D=H}if(I&&W[k]&&(I=!1),te.removeEmpty&&bi(t,ee,W,K)){V=K.parent,O[K.name]?K.empty().remove():K.unwrap(),K=V;return}te.paddEmpty&&(XD(K)||bi(t,ee,W,K))&&uh(e,g,O,K),K=K.parent}}},t),P=K=new Ft(g.context||e.root_name,11);if(rt.parse(m,g.format),G&&L.length&&(g.context?g.invalid=!0:o(L)),z&&(P.name==="body"||g.isRootContent)&&de(),!g.invalid){for(R in a)if(!!a.hasOwnProperty(R)){for(S=n[R],d=a[R],C=d.length;C--;)d[C].parent||d.splice(C,1);for(y=0,h=S.length;y<h;y++)S[y](d,R,g)}for(y=0,h=r.length;y<h;y++)if(S=r[y],S.name in i){for(d=i[S.name],C=d.length;C--;)d[C].parent||d.splice(C,1);for(C=0,w=S.callbacks.length;C<w;C++)S.callbacks[C](d,S.name,g)}}return P},p={schema:t,addAttributeFilter:c,getAttributeFilters:l,addNodeFilter:f,getNodeFilters:s,filterNode:u,parse:v};return nP(p,e),zD(p,e),p},aP=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(r,a){for(var i=r.length,o;i--;)o=r[i],o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(a,null)}),e.addAttributeFilter("src,href,style",function(r,a){for(var i=r.length,o,u,f="data-mce-"+a,s=t.url_converter,c=t.url_converter_scope;i--;)o=r[i],u=o.attr(f),u!==void 0?(o.attr(a,u.length>0?u:null),o.attr(f,null)):(u=o.attr(a),a==="style"?u=n.serializeStyle(n.parseStyle(u),o.name):s&&(u=s.call(c,u,a,o.name)),o.attr(a,u.length>0?u:null))}),e.addAttributeFilter("class",function(r){for(var a=r.length,i,o;a--;)i=r[a],o=i.attr("class"),o&&(o=i.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),i.attr("class",o.length>0?o:null))}),e.addAttributeFilter("data-mce-type",function(r,a,i){for(var o=r.length,u;o--;)if(u=r[o],u.attr("data-mce-type")==="bookmark"&&!i.cleanup){var f=b.from(u.firstChild).exists(function(s){return!hf(s.value)});f?u.unwrap():u.remove()}}),e.addNodeFilter("noscript",function(r){for(var a=r.length,i;a--;)i=r[a].firstChild,i&&(i.value=cr.decode(i.value))}),e.addNodeFilter("script,style",function(r,a){for(var i=r.length,o,u,f,s=function(c){return c.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};i--;)o=r[i],u=o.firstChild?o.firstChild.value:"",a==="script"?(f=o.attr("type"),f&&o.attr("type",f==="mce-no/type"?null:f.replace(/^mce\-/,"")),t.element_format==="xhtml"&&u.length>0&&(o.firstChild.value=`// <![CDATA[
`+s(u)+`
// ]]>`)):t.element_format==="xhtml"&&u.length>0&&(o.firstChild.value=`<!--
`+s(u)+`
-->`)}),e.addNodeFilter("#comment",function(r){for(var a=r.length,i;a--;)i=r[a],t.preserve_cdata&&i.value.indexOf("[CDATA[")===0?(i.name="#cdata",i.type=4,i.value=n.decode(i.value.replace(/^\[CDATA\[|\]\]$/g,""))):i.value.indexOf("mce:protected ")===0&&(i.name="#text",i.type=3,i.raw=!0,i.value=unescape(i.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(r,a){for(var i=r.length,o;i--;)o=r[i],o.type===7?o.remove():o.type===1&&a==="input"&&!o.attr("type")&&o.attr("type","text")}),e.addAttributeFilter("data-mce-type",function(r){Y(r,function(a){a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(r,a){for(var i=r.length;i--;)r[i].attr(a,null)})},iP=function(e){var t=function(a){return a&&a.name==="br"},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},oP=function(e,t,n){var r,a,i=e.dom;t=t.cloneNode(!0);var o=document.implementation;return o.createHTMLDocument&&(r=o.createHTMLDocument(""),B.each(t.nodeName==="BODY"?t.childNodes:[t],function(u){r.body.appendChild(r.importNode(u,!0))}),t.nodeName!=="BODY"?t=r.body.firstChild:t=r.body,a=i.doc,i.doc=r),ik(e,ue(ue({},n),{node:t})),a&&(i.doc=a),t},uP=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},fP=function(e,t,n){return uP(e,n)?oP(e,t,n):t},sP=function(e,t,n){B.inArray(t,n)===-1&&(e.addAttributeFilter(n,function(r,a){for(var i=r.length;i--;)r[i].attr(a,null)}),t.push(n))},lP=function(e,t,n){if(!t.no_events&&e){var r=ok(e,ue(ue({},t),{content:n}));return r.content}else return n},cP=function(e,t,n){var r=In(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||ji(x.fromDom(t))?r:B.trim(r)},vP=function(e,t,n){var r=n.selection?ue({forced_root_block:!1},n):n,a=e.parse(t,r);return iP(a),a},dP=function(e,t,n){var r=Ca(e,t);return r.serialize(n)},pP=function(e,t,n,r,a){var i=dP(t,n,r);return lP(e,a,i)},mP=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:Ce.DOM,a=t&&t.schema?t.schema:Fn(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var i=Ol(e,a);aP(i,e,r);var o=function(u,f){f===void 0&&(f={});var s=ue({format:"html"},f),c=fP(t,u,s),l=cP(r,c,s),v=vP(i,l,s);return s.format==="tree"?v:pP(t,e,a,v,s)};return{schema:a,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:o,addRules:function(u){a.addValidElements(u)},setRules:function(u){a.setValidElements(u)},addTempAttr:j(sP,i,n),getTempAttrs:Z(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},vh=function(e,t){var n=mP(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},gP="html",hP=function(e,t){t===void 0&&(t={});var n=t.format?t.format:gP;return ED(e,t,n)},_l=function(e,t,n){return n===void 0&&(n={}),SD(e,t,n)},Xo=Ce.DOM,yP=function(e){Xo.setStyle(e.id,"display",e.orgDisplay)},Yo=function(e){return b.from(e).each(function(t){return t.destroy()})},bP=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},CP=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),Xo.unbind(t,"submit reset",e.formEventDelegate))},wP=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&a&&Xo.remove(a.nextSibling),uk(e),e.editorManager.remove(e),!e.inline&&r&&yP(e),fk(e),Xo.remove(e.getContainer()),Yo(t),Yo(n),e.destroy()}},EP=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Yo(n),Yo(r)),CP(e),bP(e),e.destroyed=!0}},SP=Object.prototype.hasOwnProperty,xP=function(e,t){var n=$r(e)&&$r(t);return n?dh(e,t):t},kP=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length===0)throw new Error("Can't merge zero objects");for(var r={},a=0;a<t.length;a++){var i=t[a];for(var o in i)SP.call(i,o)&&(r[o]=e(r[o],i[o]))}return r}},dh=kP(xP),NP=function(e,t){return{sections:Z(e),settings:Z(t)}},Ll=Ht().deviceType,AP=Ll.isTouch(),ph=Ll.isPhone(),TP=Ll.isTablet(),RP=["lists","autolink","autosave"],mh={table_grid:!1,object_resizing:!1,resize:!1},Ci=function(e){var t=_t(e)?e.join(" "):e,n=ke(Ue(t)?t.split(" "):[],Yu);return ve(n,function(r){return r.length>0})},BP=function(e){return ve(e,j(ze,RP))},DP=function(e,t){var n=Rc(t,function(r,a){return ze(e,a)});return NP(n.t,n.f)},PP=function(e,t,n){n===void 0&&(n={});var r=e.sections(),a=r.hasOwnProperty(t)?r[t]:{};return B.extend({},n,a)},Qo=function(e,t){return e.sections().hasOwnProperty(t)},OP=function(e,t,n){var r=e.sections();return Qo(e,t)&&r[t].theme===n},_P=function(e,t){return Qo(e,t)?e.sections()[t]:{}},gh=function(e,t){return xt(e,"toolbar_mode").orThunk(function(){return xt(e,"toolbar_drawer").map(function(n){return n===!1?"wrap":n})}).getOr(t)},LP=function(e,t,n,r,a){var i={id:t,theme:"silver",toolbar_mode:gh(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a};return ue(ue({},i),r?mh:{})},IP=function(e,t){var n={resize:!1,toolbar_mode:gh(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return ue(ue(ue({},mh),n),t?r:{})},$P=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?B.extend({},e.external_plugins,n):n},FP=function(e,t){return[].concat(Ci(e)).concat(Ci(t))},MP=function(e,t,n,r){return e&&OP(t,"mobile","mobile")?BP(r):e&&Qo(t,"mobile")?r:n},UP=function(e,t,n,r){var a=Ci(n.forced_plugins),i=Ci(r.plugins),o=_P(t,"mobile"),u=o.plugins?Ci(o.plugins):i,f=MP(e,t,i,u),s=FP(a,f);if(ae.browser.isIE()&&ze(s,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return B.extend(r,{plugins:s.join(" ")})},zP=function(e,t){return e&&Qo(t,"mobile")},HP=function(e,t,n,r,a){var i=e?{mobile:IP(a.mobile||{},t)}:{},o=DP(["mobile"],dh(i,a)),u=B.extend(n,r,o.settings(),zP(e,o)?PP(o,"mobile"):{},{validate:!0,external_plugins:$P(r,o.settings())});return UP(e,o,r,u)},VP=function(e,t,n,r,a){var i=LP(a,t,n,AP,e);return HP(ph||TP,ph,i,r,a)},kr=function(e,t,n){return b.from(t.settings[n]).filter(e)},qP=function(e){var t={};return typeof e=="string"?Y(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(n){var r=n.split("=");r.length>1?t[B.trim(r[0])]=B.trim(r[1]):t[B.trim(r[0])]=B.trim(r[0])}):t=e,t},WP=function(e){return function(t){return _t(t)&&La(t,e)}},jP=function(e,t,n,r){var a=t in e.settings?e.settings[t]:n;return r==="hash"?qP(a):r==="string"?kr(Ue,e,t).getOr(n):r==="number"?kr(Fr,e,t).getOr(n):r==="boolean"?kr(wc,e,t).getOr(n):r==="object"?kr($r,e,t).getOr(n):r==="array"?kr(_t,e,t).getOr(n):r==="string[]"?kr(WP(Ue),e,t).getOr(n):r==="function"?kr(We,e,t).getOr(n):a},KP=function(){var e={},t=function(a,i){e[a]=i},n=function(a){return e[a]?e[a]:{icons:{}}},r=function(a){return Ke(e,a)};return{add:t,get:n,has:r}},Zo=KP(),hh=function(e,t){var n=t.dom;return n[e]},yh=function(e,t){return parseInt(wn(t,e),10)},GP=j(hh,"clientWidth"),XP=j(hh,"clientHeight"),YP=j(yh,"margin-top"),QP=j(yh,"margin-left"),ZP=function(e){return e.dom.getBoundingClientRect()},JP=function(e,t,n){var r=GP(e),a=XP(e);return t>=0&&n>=0&&t<=r&&n<=a},eO=function(e,t,n,r){var a=ZP(t),i=e?a.left+t.dom.clientLeft+QP(t):0,o=e?a.top+t.dom.clientTop+YP(t):0,u=n-i,f=r-o;return{x:u,y:f}},bh=function(e,t,n){var r=x.fromDom(e.getBody()),a=e.inline?r:x0(r),i=eO(e.inline,a,t,n);return JP(a,i.x,i.y)},tO=function(e){return b.from(e).map(x.fromDom)},nO=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return tO(t).map(Ha).getOr(!1)},rO=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},Ch=function(e){var t=[],n=function(){var v=e.theme;return v&&v.getNotificationManagerImpl?v.getNotificationManagerImpl():rO()},r=function(){return b.from(t[0])},a=function(v,p){return v.type===p.type&&v.text===p.text&&!v.progressBar&&!v.timeout&&!p.progressBar&&!p.timeout},i=function(){t.length>0&&n().reposition(t)},o=function(v){t.push(v)},u=function(v){Di(t,function(p){return p===v}).each(function(p){t.splice(p,1)})},f=function(v,p){if(p===void 0&&(p=!0),!(e.removed||!nO(e)))return p&&e.fire("BeforeOpenNotification",{notification:v}),ot(t,function(m){return a(n().getArgs(m),v)}).getOrThunk(function(){e.editorManager.setActive(e);var m=n().open(v,function(){u(m),i(),r().fold(function(){return e.focus()},function(g){return Gk(x.fromDom(g.getEl()))})});return o(m),i(),e.fire("OpenNotification",{notification:ue({},m)}),m})},s=function(){r().each(function(v){n().close(v),u(v),i()})},c=function(){return t},l=function(v){v.on("SkinLoaded",function(){var p=T1(v);p&&f({text:p,type:"warning",timeout:0},!1)}),v.on("ResizeEditor ResizeWindow NodeChange",function(){Ye.requestAnimationFrame(i)}),v.on("remove",function(){Y(t.slice(),function(p){n().close(p)})})};return l(e),{open:f,close:s,getNotifications:c}},Zt=bt.PluginManager,Qn=bt.ThemeManager;function aO(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var wh=function(e){var t=[],n=function(){var g=e.theme;return g&&g.getWindowManagerImpl?g.getWindowManagerImpl():aO()},r=function(g,d){return function(){for(var y=[],h=0;h<arguments.length;h++)y[h]=arguments[h];return d?d.apply(g,y):void 0}},a=function(g){e.fire("OpenWindow",{dialog:g})},i=function(g){e.fire("CloseWindow",{dialog:g})},o=function(g){t.push(g),a(g)},u=function(g){i(g),t=ve(t,function(d){return d!==g}),t.length===0&&e.focus()},f=function(){return b.from(t[t.length-1])},s=function(g){e.editorManager.setActive(e),Po(e);var d=g();return o(d),d},c=function(g,d){return s(function(){return n().open(g,d,u)})},l=function(g){return s(function(){return n().openUrl(g,u)})},v=function(g,d,y){var h=n();h.alert(g,r(y||h,d))},p=function(g,d,y){var h=n();h.confirm(g,r(y||h,d))},m=function(){f().each(function(g){n().close(g),u(g)})};return e.on("remove",function(){Y(t,function(g){n().close(g)})}),{open:c,openUrl:l,alert:v,confirm:p,close:m}},Eh=function(e,t){e.notificationManager.open({type:"error",text:t})},Jo=function(e,t){e._skinLoaded?Eh(e,t):e.on("SkinLoaded",function(){Eh(e,t)})},iO=function(e,t){Jo(e,Kt.translate(["Failed to upload image: {0}",t]))},Il=function(e,t,n){um(e,t,{message:n}),console.error(n)},$l=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},Fl=function(e,t,n){Il(e,"PluginLoadError",$l("plugin",t,n))},oO=function(e,t,n){Il(e,"IconsLoadError",$l("icons",t,n))},uO=function(e,t,n){Il(e,"LanguageLoadError",$l("language",t,n))},fO=function(e,t,n){var r=Kt.translate(["Failed to initialize plugin: {0}",t]);um(e,"PluginLoadError",{message:r}),eu(r,n),Jo(e,r)},eu=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,Ku([e],t)):r.log.apply(r,Ku([e],t)))},sO=function(e){return/^[a-z0-9\-]+$/i.test(e)},lO=function(e){return Sh(e,S1(e))},cO=function(e){return Sh(e,pp(e))},Sh=function(e,t){var n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,a="content"+r+".css",i=e.inline===!0;return ke(t,function(o){return sO(o)&&!i?n+"/"+o+"/"+a:e.documentBaseURI.toAbsolute(o)})},vO=function(e){e.contentCSS=e.contentCSS.concat(lO(e),cO(e))},xh=function(){var e=1,t=2,n={},r=function(v,p){return{status:v,resultUri:p}},a=function(v){return v in n},i=function(v){var p=n[v];return p?p.resultUri:null},o=function(v){return a(v)?n[v].status===e:!1},u=function(v){return a(v)?n[v].status===t:!1},f=function(v){n[v]=r(e,null)},s=function(v,p){n[v]=r(t,p)},c=function(v){delete n[v]},l=function(){n={}};return{hasBlobUri:a,getResultUri:i,isPending:o,isUploaded:u,markPending:f,markUploaded:s,removeFailed:c,destroy:l}},dO=0,pO=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},t=new Date().getTime();return"s"+t.toString(36)+e()+e()+e()},kh=function(e){return e+dO+++pO()},mO=function(){var e=[],t=function(l){var v={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return v[l.toLowerCase()]||"dat"},n=function(l,v,p,m,g){if(Ue(l)){var d=l;return r({id:d,name:m,filename:g,blob:v,base64:p})}else{if($r(l))return r(l);throw new Error("Unknown input type")}},r=function(l){if(!l.blob||!l.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var v=l.id||kh("blobid"),p=l.name||v,m=l.blob;return{id:Z(v),name:Z(p),filename:Z(l.filename||p+"."+t(m.type)),blob:Z(m),base64:Z(l.base64),blobUri:Z(l.blobUri||URL.createObjectURL(m)),uri:Z(l.uri)}},a=function(l){o(l.id())||e.push(l)},i=function(l){return ot(e,l).getOrUndefined()},o=function(l){return i(function(v){return v.id()===l})},u=function(l){return i(function(v){return v.blobUri()===l})},f=function(l,v){return i(function(p){return p.base64()===l&&p.blob().type===v})},s=function(l){e=ve(e,function(v){return v.blobUri()===l?(URL.revokeObjectURL(v.blobUri()),!1):!0})},c=function(){Y(e,function(l){URL.revokeObjectURL(l.blobUri())}),e=[]};return{create:n,add:a,get:o,getByUri:u,getByData:f,findFirst:i,removeByUri:s,destroy:c}},gO=function(e,t){var n={},r=function(m,g){return m?m.replace(/\/$/,"")+"/"+g.replace(/^\//,""):g},a=function(m,g,d,y){var h=new XMLHttpRequest;h.open("POST",t.url),h.withCredentials=t.credentials,h.upload.onprogress=function(w){y(w.loaded/w.total*100)},h.onerror=function(){d("Image upload failed due to a XHR Transport error. Code: "+h.status)},h.onload=function(){if(h.status<200||h.status>=300){d("HTTP Error: "+h.status);return}var w=JSON.parse(h.responseText);if(!w||typeof w.location!="string"){d("Invalid JSON: "+h.responseText);return}g(r(t.basePath,w.location))};var C=new FormData;C.append("file",m.blob(),m.filename()),h.send(C)},i=function(){return new He(function(m){m([])})},o=function(m,g){return{url:g,blobInfo:m,status:!0}},u=function(m,g,d){return{url:"",blobInfo:m,status:!1,error:{message:g,options:d}}},f=function(m,g){B.each(n[m],function(d){d(g)}),delete n[m]},s=function(m,g,d){return e.markPending(m.blobUri()),new He(function(y){var h,C;try{var w=function(){h&&(h.close(),C=fe)},S=function(L){w(),e.markUploaded(m.blobUri(),L),f(m.blobUri(),o(m,L)),y(o(m,L))},R=function(L,I){var K=I||{};w(),e.removeFailed(m.blobUri()),f(m.blobUri(),u(m,L,K)),y(u(m,L,K))};C=function(L){L<0||L>100||b.from(h).orThunk(function(){return b.from(d).map(dC)}).each(function(I){h=I,I.progressBar.value(L)})},g(m,S,R,C)}catch(L){y(u(m,L.message,{}))}})},c=function(m){return m===a},l=function(m){var g=m.blobUri();return new He(function(d){n[g]=n[g]||[],n[g].push(d)})},v=function(m,g){return m=B.grep(m,function(d){return!e.isUploaded(d.blobUri())}),He.all(B.map(m,function(d){return e.isPending(d.blobUri())?l(d):s(d,t.handler,g)}))},p=function(m,g){return!t.url&&c(t.handler)?i():v(m,g)};return We(t.handler)===!1&&(t.handler=a),{upload:p}},Nh=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},Ah=function(e,t){return gO(t,{url:g1(e),basePath:h1(e),credentials:y1(e),handler:b1(e)})},hO=function(e){var t=xh(),n=Ah(e,t);return{upload:function(r,a){return a===void 0&&(a=!0),n.upload(r,a?Nh(e):void 0)}}},yO=function(e){var t=_e(null);e.on("change AddUndo",function(r){t.set(ue({},r.level))});var n=function(){var r=e.undoManager.data;Rn(r).filter(function(a){return!Ko(t.get(),a)}).each(function(a){e.setDirty(!0),e.fire("change",{level:a,lastLevel:Vu(r,r.length-2).getOrNull()})})};return{fireIfChanged:n}},bO=function(e){var t=mO(),n,r,a=xh(),i=[],o=yO(e),u=function(w){return function(S){return e.selection?w(S):[]}},f=function(w){return w+(w.indexOf("?")===-1?"?":"&")+new Date().getTime()},s=function(w,S,R){var L=0;do L=w.indexOf(S,L),L!==-1&&(w=w.substring(0,L)+R+w.substr(L+S.length),L+=R.length-S.length+1);while(L!==-1);return w},c=function(w,S,R){var L='src="'+R+'"'+(R===ae.transparentSrc?' data-mce-placeholder="1"':"");return w=s(w,'src="'+S+'"',L),w=s(w,'data-mce-src="'+S+'"','data-mce-src="'+R+'"'),w},l=function(w,S){Y(e.undoManager.data,function(R){R.type==="fragmented"?R.fragments=ke(R.fragments,function(L){return c(L,w,S)}):R.content=c(R.content,w,S)})},v=function(w,S){var R=e.convertURL(S,"src");l(w.src,S),e.$(w).attr({src:d1(e)?f(S):S,"data-mce-src":R})},p=function(w){return n||(n=Ah(e,a)),y().then(u(function(S){var R=ke(S,function(L){return L.blobInfo});return n.upload(R,Nh(e)).then(u(function(L){var I=[],K=ke(L,function(X,O){var ee=S[O].blobInfo,M=S[O].image;return X.status&&p1(e)?(t.removeByUri(M.src),v(M,X.url)):X.error&&(X.error.options.remove&&(l(M.getAttribute("src"),ae.transparentSrc),I.push(M)),iO(e,X.error.message)),{element:M,status:X.status,uploadUri:X.url,blobInfo:ee}});return K.length>0&&o.fireIfChanged(),I.length>0&&(xr(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){Y(I,function(X){e.dom.remove(X),t.removeByUri(X.src)})})),w&&w(K),K}))}))},m=function(w){if(sp(e))return p(w)},g=function(w){if(La(i,function(R){return R(w)})===!1)return!1;if(w.getAttribute("src").indexOf("data:")===0){var S=v1(e);return S(w)}return!0},d=function(w){i.push(w)},y=function(){return r||(r=GD(a,t)),r.findAll(e.getBody(),g).then(u(function(w){return w=ve(w,function(S){return typeof S=="string"?(Jo(e,S),!1):!0}),Y(w,function(S){l(S.image.src,S.blobInfo.blobUri()),S.image.src=S.blobInfo.blobUri(),S.image.removeAttribute("data-mce-src")}),w}))},h=function(){t.destroy(),a.destroy(),r=n=null},C=function(w){return w.replace(/src="(blob:[^"]+)"/g,function(S,R){var L=a.getResultUri(R);if(L)return'src="'+L+'"';var I=t.getByUri(R);if(I||(I=zt(e.editorManager.get(),function(X,O){return X||O.editorUpload&&O.editorUpload.blobCache.getByUri(R)},null)),I){var K=I.blob();return'src="data:'+K.type+";base64,"+I.base64()+'"'}return S})};return e.on("SetContent",function(){sp(e)?m():y()}),e.on("RawSaveContent",function(w){w.content=C(w.content)}),e.on("GetContent",function(w){w.source_view||w.format==="raw"||w.format==="tree"||(w.content=C(w.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(w){Y(w,function(S){var R=S.attr("src");if(!t.getByUri(R)){var L=a.getResultUri(R);L&&S.attr("src",L)}})})}),{blobCache:t,addFilter:d,uploadImages:p,uploadImagesAuto:m,scanForImages:y,destroy:h}},CO=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(n,r,a){return ie(n)&&n.hasAttribute("href")},onformat:function(n,r,a){B.each(a,function(i,o){e.setAttrib(n,o,i)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return B.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(n){t[n]={block:n,remove:"all"}}),t},wO=function(e){var t={},n=function(o){return o?t[o]:t},r=function(o){return Ke(t,o)},a=function(o,u){o&&(typeof o!="string"?B.each(o,function(f,s){a(s,f)}):(_t(u)||(u=[u]),B.each(u,function(f){typeof f.deep=="undefined"&&(f.deep=!f.selector),typeof f.split=="undefined"&&(f.split=!f.selector||f.inline),typeof f.remove=="undefined"&&f.selector&&!f.inline&&(f.remove="none"),f.selector&&f.inline&&(f.mixed=!0,f.block_expand=!0),typeof f.classes=="string"&&(f.classes=f.classes.split(/\s+/))}),t[o]=u))},i=function(o){return o&&t[o]&&delete t[o],t};return a(CO(e.dom)),a(B1(e)),{get:n,has:r,register:a,unregister:i}},tu=B.each,tt=Ce.DOM,Th=function(e,t){var n,r,a,i=t&&t.schema||Fn({}),o=function(c,l){l.classes.length&&tt.addClass(c,l.classes.join(" ")),tt.setAttribs(c,l.attrs)},u=function(c){r=typeof c=="string"?{name:c,classes:[],attrs:{}}:c;var l=tt.create(r.name);return o(l,r),l},f=function(c,l){var v=typeof c!="string"?c.nodeName.toLowerCase():c,p=i.getElementRule(v),m=p&&p.parentsRequired;return m&&m.length?l&&B.inArray(m,l)!==-1?l:m[0]:!1},s=function(c,l,v){var p,m,g=l.length>0&&l[0],d=g&&g.name,y=f(c,d);if(y)d===y?(m=l[0],l=l.slice(1)):m=y;else if(g)m=l[0],l=l.slice(1);else if(!v)return c;return m&&(p=u(m),p.appendChild(c)),v&&(p||(p=tt.create("div"),p.appendChild(c)),B.each(v,function(h){var C=u(h);p.insertBefore(C,c)})),s(p,l,m&&m.siblings)};return e&&e.length?(r=e[0],n=u(r),a=tt.create("div"),a.appendChild(s(n,e.slice(1),r.siblings)),a):""},EO=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=B.trim(e),e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(r,a,i,o,u){switch(a){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":B.inArray("checked disabled enabled read-only required".split(" "),i)!==-1&&(n.attrs[i]=i);break}if(o==="["){var f=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);f&&(n.attrs[f[1]]=f[2])}return""})),n.name=t||"div",n},SO=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),B.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var n=B.map(t.split(/(?:~\+|~|\+)/),EO),r=n.pop();return n.length&&(r.siblings=n),r}).reverse())},xO=function(e,t){var n,r,a="",i,o=D1(e);if(o==="")return"";var u=function(l){return l.replace(/%(\w+)/g,"")};if(typeof t=="string"){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){var f=xt(t,"preview");if(f.is(!1))return"";o=f.getOr(o)}n=t.block||t.inline||"span";var s=SO(t.selector);s.length?(s[0].name||(s[0].name=n),n=t.selector,r=Th(s,e)):r=Th([n],e);var c=tt.select(n,r)[0]||r.firstChild;return tu(t.styles,function(l,v){var p=u(l);p&&tt.setStyle(c,v,p)}),tu(t.attributes,function(l,v){var p=u(l);p&&tt.setAttrib(c,v,p)}),tu(t.classes,function(l){var v=u(l);tt.hasClass(c,v)||tt.addClass(c,v)}),e.fire("PreviewFormats"),tt.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),i=tt.getStyle(e.getBody(),"fontSize",!0),i=/px$/.test(i)?parseInt(i,10):0,tu(o.split(" "),function(l){var v=tt.getStyle(c,l,!0);if(!(l==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(v)&&(v=tt.getStyle(e.getBody(),l,!0),tt.toHex(v).toLowerCase()==="#ffffff"))&&!(l==="color"&&tt.toHex(v).toLowerCase()==="#000000")){if(l==="font-size"&&/em|%$/.test(v)){if(i===0)return;var p=parseFloat(v)/(/%$/.test(v)?100:1);v=p*i+"px"}l==="border"&&v&&(a+="padding:0 2px;"),a+=l+":"+v+";"}}),e.fire("AfterPreviewFormats"),tt.remove(r),a},kO=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Rh=function(e){var t=wO(e),n=_e(null);return kO(e),kR(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(r,a,i){yD(e,r,a,i)},remove:function(r,a,i,o){bD(e,r,a,i,o)},toggle:function(r,a,i){CD(e,r,a,i)},match:function(r,a,i){return dD(e,r,a,i)},closest:function(r){return hD(e,r)},matchAll:function(r,a){return pD(e,r,a)},matchNode:function(r,a,i,o){return mD(e,r,a,i,o)},canApply:function(r){return gD(e,r)},formatChanged:function(r,a,i){return wD(e,n,r,a,i)},getCssText:j(xO,e)}},NO=function(e,t,n){var r=_e(!1),a=function(f){Go(t,!1,n),t.add({},f)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(f){var s=f.command.toLowerCase();s!=="undo"&&s!=="redo"&&s!=="mcerepaint"&&(Qg(t,n),t.beforeChange())}),e.on("ExecCommand",function(f){var s=f.command.toLowerCase();s!=="undo"&&s!=="redo"&&s!=="mcerepaint"&&a(f)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",function(f){var s=f.keyCode;f.isDefaultPrevented()||((s>=33&&s<=36||s>=37&&s<=40||s===45||f.ctrlKey)&&(a(),e.nodeChanged()),(s===46||s===8)&&e.nodeChanged(),r.get()&&t.typing&&Ko(Nl(e),t.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",function(f){var s=f.keyCode;if(!f.isDefaultPrevented()){if(s>=33&&s<=36||s>=37&&s<=40||s===45){t.typing&&a(f);return}var c=f.ctrlKey&&!f.altKey||f.metaKey;(s<16||s>20)&&s!==224&&s!==91&&!t.typing&&!c&&(t.beforeChange(),Go(t,!0,n),t.add({},f),r.set(!0))}}),e.on("mousedown",function(f){t.typing&&a(f)});var i=function(f){return f.inputType==="insertReplacementText"},o=function(f){return f.inputType==="insertText"&&f.data===null},u=function(f){return f.inputType==="insertFromPaste"||f.inputType==="insertFromDrop"};e.on("input",function(f){f.inputType&&(i(f)||o(f)||u(f))&&a(f)}),e.on("AddUndo Undo Redo ClearUndos",function(f){f.isDefaultPrevented()||e.nodeChanged()})},AO=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Bh=function(e){var t=_e(b.none()),n=_e(0),r=_e(0),a={data:[],typing:!1,beforeChange:function(){nD(e,n,t)},add:function(i,o){return rD(e,a,r,n,t,i,o)},undo:function(){return aD(e,a,n,r)},redo:function(){return iD(e,r,a.data)},clear:function(){oD(e,a,r)},reset:function(){uD(e,a)},hasUndo:function(){return fD(e,a,r)},hasRedo:function(){return sD(e,a,r)},transact:function(i){return lD(e,a,n,i)},ignore:function(i){cD(e,n,i)},extra:function(i,o){vD(e,a,r,i,o)}};return xr(e)||NO(e,a,n),AO(e),a},TO=[9,27,J.HOME,J.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,J.DOWN,J.UP,J.LEFT,J.RIGHT].concat(ae.browser.isFirefox()?[224]:[]),Dh="data-mce-placeholder",Ph=function(e){return e.type==="keydown"||e.type==="keyup"},Oh=function(e){var t=e.keyCode;return t===J.BACKSPACE||t===J.DELETE},RO=function(e){if(Ph(e)){var t=e.keyCode;return!Oh(e)&&(J.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||ze(TO,t))}else return!1},BO=function(e){return Ph(e)&&!(Oh(e)||e.type==="keyup"&&e.keyCode===229)},DO=function(e,t,n){if(yt(x.fromDom(t),!1)){var r=n==="",a=t.firstElementChild;return a?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:r?!e.isBlock(a):n===a.nodeName.toLowerCase():!0}else return!1},PO=function(e){var t=e.dom,n=Ze(e),r=A1(e),a=function(i,o){if(!RO(i)){var u=e.getBody(),f=BO(i)?!1:DO(t,u,n),s=t.getAttrib(u,Dh)!=="";(s!==f||o)&&(t.setAttrib(u,Dh,f?r:null),t.setAttrib(u,"aria-placeholder",f?r:null),mk(e,f),e.on(f?"keydown":"keyup",a),e.off(f?"keyup":"keydown",a))}};r&&e.on("init",function(i){a(i,!0),e.on("change SetContent ExecCommand",a),e.on("paste",function(o){return Ye.setEditorTimeout(e,function(){return a(o)})})})},OO=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,_O=function(e){return OO.test(e)},Nr=function(e,t){return zr(x.fromDom(t),k1(e))},LO=function(e){return Ce.DOM.getStyle(e,"direction",!0)==="rtl"||_O(e.textContent)},IO=function(e,t,n){return ve(Ce.DOM.getParents(n.container(),"*",t),e)},Zn=function(e,t,n){var r=IO(e,t,n);return b.from(r[r.length-1])},$O=function(e,t,n){var r=Kn(t,e),a=Kn(n,e);return r&&r===a},FO=function(e){return yf(e)||bf(e)},Dt=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?Qr(n)?Q(n.nextSibling)?T(n.nextSibling,0):T.after(n):yf(t)?T(n,r+1):t:Qr(n)?Q(n.previousSibling)?T(n.previousSibling,n.previousSibling.data.length):T.before(n):bf(t)?T(n,r-1):t},_h=j(Dt,!0),Lh=j(Dt,!1),MO=function(e){return function(t){return Se(e,x.fromDom(t.dom.parentNode))}},nu=function(e,t){return Pn(e,t)?Hi(t,function(n){return Wv(n)||Ka(n)},MO(e)):b.none()},UO=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},Ih=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),UO(e))},zO=function(e,t,n){return pt(st(n),vn(n),function(r,a){var i=Dt(!0,r),o=Dt(!1,a),u=Dt(!1,t);return e?Yt(n,u).exists(function(f){return f.isEqual(o)&&t.isEqual(i)}):cn(n,u).exists(function(f){return f.isEqual(i)&&t.isEqual(o)})}).getOr(!0)},HO=function(e,t){return{block:e,position:t}},VO=function(e,t){return{from:e,to:t}},Ml=function(e,t){var n=x.fromDom(e),r=x.fromDom(t.container());return nu(n,r).map(function(a){return HO(a,t)})},qO=function(e){return Se(e.from.block,e.to.block)===!1},WO=function(e){return Vt(e.from.block).bind(function(t){return Vt(e.to.block).filter(function(n){return Se(t,n)})}).isSome()},jO=function(e){return xe(e.from.block.dom)===!1&&xe(e.to.block.dom)===!1},KO=function(e,t,n){return De(n.position.getNode())&&yt(n.block)===!1?pa(!1,n.block.dom).bind(function(r){return r.isEqual(n.position)?Bt(t,e,r).bind(function(a){return Ml(e,a)}):b.some(n)}).getOr(n):n},GO=function(e,t,n){var r=Ml(e,T.fromRangeStart(n)),a=r.bind(function(i){return Bt(t,e,i.position).bind(function(o){return Ml(e,o).map(function(u){return KO(e,t,u)})})});return pt(r,a,VO).filter(function(i){return qO(i)&&WO(i)&&jO(i)})},XO=function(e,t,n){return n.collapsed?GO(e,t,n):b.none()},YO=function(e){var t=Nt(e);return Di(t,an).fold(function(){return t},function(n){return t.slice(0,n)})},$h=function(e){var t=YO(e);return Y(t,Xe),t},Fh=function(e,t){var n=kn(t,e);return ot(n.reverse(),function(r){return yt(r)}).each(Xe)},QO=function(e){return ve(dv(e),function(t){return!yt(t)}).length===0},ZO=function(e,t,n,r){if(yt(n))return Sa(n),st(n.dom);QO(r)&&yt(t)&&qt(r,x.fromTag("br"));var a=cn(n.dom,T.before(r.dom));return Y($h(t),function(i){qt(r,i)}),Fh(e,t),a},JO=function(e,t,n){if(yt(n))return Xe(n),yt(t)&&Sa(t),st(t.dom);var r=vn(n.dom);return Y($h(t),function(a){Ge(n,a)}),Fh(e,t),r},e_=function(e,t){var n=kn(t,e);return b.from(n[n.length-1])},t_=function(e,t){return Pn(t,e)?e_(t,e):b.none()},Mh=function(e,t){pa(e,t.dom).map(function(n){return n.getNode()}).map(x.fromDom).filter(Gr).each(Xe)},Uh=function(e,t,n){return Mh(!0,t),Mh(!1,n),t_(t,n).fold(j(JO,e,t,n),j(ZO,e,t,n))},zh=function(e,t,n,r){return t?Uh(e,r,n):Uh(e,n,r)},ru=function(e,t){var n=x.fromDom(e.getBody()),r=XO(n.dom,t,e.selection.getRng()).bind(function(a){return zh(n,t,a.from.block,a.to.block)});return r.each(function(a){e.selection.setRng(a.toRange())}),r.isSome()},n_=function(e,t){var n=t.getRng();return pt(nu(e,x.fromDom(n.startContainer)),nu(e,x.fromDom(n.endContainer)),function(r,a){return Se(r,a)===!1?(n.deleteContents(),zh(e,!0,r,a).each(function(i){t.setRng(i.toRange())}),!0):!1}).getOr(!1)},Hh=function(e,t){var n=x.fromDom(t),r=j(Se,e);return ja(n,Wi,r).isSome()},r_=function(e,t){return Hh(e,t.startContainer)||Hh(e,t.endContainer)},a_=function(e,t){var n=cn(e.dom,T.fromRangeStart(t)).isNone(),r=Yt(e.dom,T.fromRangeEnd(t)).isNone();return!r_(e,t)&&n&&r},i_=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},o_=function(e){var t=x.fromDom(e.getBody()),n=e.selection.getRng();return a_(t,n)?i_(e):n_(t,e.selection)},au=function(e,t){return e.selection.isCollapsed()?!1:o_(e)},u_=rn,f_=xe,Nn=function(e,t,n,r,a){return b.from(t._selectionOverrides.showCaret(e,n,r,a))},s_=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},Na=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?b.none():b.some(s_(t))},Vh=function(e,t,n){var r=us(1,e.getBody(),t),a=T.fromRangeStart(r),i=a.getNode();if(oi(i))return Nn(1,e,i,!a.isAtEnd(),!1);var o=a.getNode(!0);if(oi(o))return Nn(1,e,o,!1,!1);var u=e.dom.getParent(a.getNode(),function(f){return f_(f)||u_(f)});return oi(u)?Nn(1,e,u,!1,n):b.none()},Ul=function(e,t,n){return t.collapsed?Vh(e,t,n).getOr(t):t},l_=function(e){return Xn(e)||wa(e)},c_=function(e){return Yn(e)||Ea(e)},v_=function(e,t){Q(t)&&t.data.length===0&&e.remove(t)},qh=function(e,t,n,r,a,i){return Nn(r,e,i.getNode(!a),a,!0).each(function(o){if(t.collapsed){var u=t.cloneRange();a?u.setEnd(o.startContainer,o.startOffset):u.setStart(o.endContainer,o.endOffset),u.deleteContents()}else t.deleteContents();e.selection.setRng(o)}),v_(e.dom,n),!0},d_=function(e,t){var n=e.selection.getRng();if(!Q(n.commonAncestorContainer))return!1;var r=t?Fe.Forwards:Fe.Backwards,a=Xt(e.getBody()),i=j(fs,t?a.next:a.prev),o=t?l_:c_,u=si(r,e.getBody(),n),f=Dt(t,i(u));if(!f||!Co(u,f))return!1;if(o(f))return qh(e,n,u.getNode(),r,t,f);var s=i(f);return s&&o(s)&&Co(f,s)?qh(e,n,u.getNode(),r,t,s):!1},iu=function(e,t){return d_(e,t)},p_=function(e){return Wi(x.fromDom(e))||Ka(x.fromDom(e))},wt=_n.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),m_=function(e,t){var n=t.getNode(e===!1),r=e?"after":"before";return ie(n)&&n.getAttribute("data-mce-caret")===r},g_=function(e,t,n,r){var a=function(i){return pf(x.fromDom(i))&&!sn(n,r,e)};return Rp(!t,n).fold(function(){return Rp(t,r).fold(he,a)},a)},Wh=function(e,t,n,r){var a=r.getNode(t===!1);return nu(x.fromDom(e),x.fromDom(n.getNode())).map(function(i){return yt(i)?wt.remove(i.dom):wt.moveToElement(a)}).orThunk(function(){return b.some(wt.moveToElement(a))})},jh=function(e,t,n){return Bt(t,e,n).bind(function(r){return p_(r.getNode())||g_(e,t,n,r)?b.none():t&&xe(r.getNode())||t===!1&&xe(r.getNode(!0))?Wh(e,t,n,r):t&&Yn(n)||t===!1&&Xn(n)?b.some(wt.moveToPosition(r)):b.none()})},h_=function(e,t){return e&&xe(t.nextSibling)?b.some(wt.moveToElement(t.nextSibling)):e===!1&&xe(t.previousSibling)?b.some(wt.moveToElement(t.previousSibling)):b.none()},y_=function(e,t,n){return n.fold(function(r){return b.some(wt.remove(r))},function(r){return b.some(wt.moveToElement(r))},function(r){return sn(t,r,e)?b.none():b.some(wt.moveToPosition(r))})},b_=function(e,t,n){return m_(t,n)?h_(t,n.getNode(t===!1)).fold(function(){return jh(e,t,n)},b.some):jh(e,t,n).bind(function(r){return y_(e,n,r)})},C_=function(e,t,n){var r=us(t?1:-1,e,n),a=T.fromRangeStart(r),i=x.fromDom(e);return t===!1&&Yn(a)?b.some(wt.remove(a.getNode(!0))):t&&Xn(a)?b.some(wt.remove(a.getNode())):t===!1&&Xn(a)&&Qs(i,a)?SA(i,a).map(function(o){return wt.remove(o.getNode())}):t&&Yn(a)&&Ys(i,a)?xA(i,a).map(function(o){return wt.remove(o.getNode())}):b_(e,t,a)},w_=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),Er(e,t,x.fromDom(n)),!0}},E_=function(e,t){return function(n){var r=t?T.before(n):T.after(n);return e.selection.setRng(r.toRange()),!0}},S_=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},Kh=function(e,t){return b.from(di(e.getBody(),t))},x_=function(e,t){var n=e.selection.getNode();return Kh(e,n).filter(xe).fold(function(){return C_(e.getBody(),t,e.selection.getRng()).exists(function(r){return r.fold(w_(e,t),E_(e,t),S_(e))})},je)},k_=function(e){Y(dt(e,".mce-offscreen-selection"),Xe)},N_=function(e,t){var n=e.selection.getNode();if(xe(n)){var r=Kh(e,n.parentNode).filter(xe);return r.fold(function(){return k_(x.fromDom(e.getBody())),Er(e,t,x.fromDom(e.selection.getNode())),Ih(e),!0},je)}return!1},Gh=function(e){var t=e.dom,n=e.selection,r=di(e.getBody(),n.getNode());if(rn(r)&&t.isBlock(r)&&t.isEmpty(r)){var a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(a),n.setRng(T.before(a).toRange())}return!0},ou=function(e,t){return e.selection.isCollapsed()?x_(e,t):N_(e,t)},A_=function(e,t){var n=T.fromRangeStart(e.selection.getRng());return Bt(t,e.getBody(),n).filter(function(r){return t?dA(r):pA(r)}).bind(function(r){return b.from(os(t?0:-1,r))}).exists(function(r){return e.selection.select(r),!0})},uu=function(e,t){return e.selection.isCollapsed()?A_(e,t):!1},Aa=Q,Xh=function(e){return Aa(e)&&e.data[0]===Ve},Yh=function(e){return Aa(e)&&e.data[e.data.length-1]===Ve},Qh=function(e){return e.ownerDocument.createTextNode(Ve)},T_=function(e){if(Aa(e.previousSibling))return Yh(e.previousSibling)||e.previousSibling.appendData(Ve),e.previousSibling;if(Aa(e))return Xh(e)||e.insertData(0,Ve),e;var t=Qh(e);return e.parentNode.insertBefore(t,e),t},R_=function(e){if(Aa(e.nextSibling))return Xh(e.nextSibling)||e.nextSibling.insertData(0,Ve),e.nextSibling;if(Aa(e))return Yh(e)||e.appendData(Ve),e;var t=Qh(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},fu=function(e,t){return e?T_(t):R_(t)},B_=j(fu,!0),D_=j(fu,!1),Zh=function(e,t){return Q(e.container())?fu(t,e.container()):fu(t,e.getNode())},Jh=function(e,t){var n=t.get();return n&&e.container()===n&&Qr(n)},zl=function(e,t){return t.fold(function(n){hr(e.get());var r=B_(n);return e.set(r),b.some(T(r,r.length-1))},function(n){return st(n).map(function(r){if(Jh(r,e))return T(e.get(),1);hr(e.get());var a=Zh(r,!0);return e.set(a),T(a,1)})},function(n){return vn(n).map(function(r){if(Jh(r,e))return T(e.get(),e.get().length-1);hr(e.get());var a=Zh(r,!1);return e.set(a),T(a,a.length-1)})},function(n){hr(e.get());var r=D_(n);return e.set(r),b.some(T(r,1))})},ey=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return b.none()},nt=_n.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),ty=function(e,t){var n=Kn(t,e);return n||e},P_=function(e,t,n){var r=_h(n),a=ty(t,r.container());return Zn(e,a,r).fold(function(){return Yt(a,r).bind(j(Zn,e,a)).map(function(i){return nt.before(i)})},b.none)},O_=function(e,t){return Cr(e,t)===null},ny=function(e,t,n){return Zn(e,t,n).filter(j(O_,t))},__=function(e,t,n){var r=Lh(n);return ny(e,t,r).bind(function(a){var i=cn(a,r);return i.isNone()?b.some(nt.start(a)):b.none()})},L_=function(e,t,n){var r=_h(n);return ny(e,t,r).bind(function(a){var i=Yt(a,r);return i.isNone()?b.some(nt.end(a)):b.none()})},I_=function(e,t,n){var r=Lh(n),a=ty(t,r.container());return Zn(e,a,r).fold(function(){return cn(a,r).bind(j(Zn,e,a)).map(function(i){return nt.after(i)})},b.none)},ry=function(e){return LO(Hl(e))===!1},mn=function(e,t,n){var r=ey([P_,__,L_,I_],[e,t,n]);return r.filter(ry)},Hl=function(e){return e.fold(Ut,Ut,Ut,Ut)},ay=function(e){return e.fold(Z("before"),Z("start"),Z("end"),Z("after"))},su=function(e){return e.fold(nt.before,nt.before,nt.after,nt.after)},Vl=function(e){return e.fold(nt.start,nt.start,nt.end,nt.end)},$_=function(e,t){return ay(e)===ay(t)&&Hl(e)===Hl(t)},F_=function(e,t,n,r,a,i){return pt(Zn(t,n,r),Zn(t,n,a),function(o,u){return o!==u&&$O(n,o,u)?nt.after(e?o:u):i}).getOr(i)},M_=function(e,t){return e.fold(je,function(n){return!$_(n,t)})},U_=function(e,t,n,r,a){var i=Dt(e,a),o=Bt(e,n,i).map(j(Dt,e)),u=o.fold(function(){return r.map(su)},function(f){return mn(t,n,f).map(j(F_,e,t,n,i,f)).filter(j(M_,r))});return u.filter(ry)},z_=function(e,t){return e?t.fold(ar(b.some,nt.start),b.none,ar(b.some,nt.after),b.none):t.fold(b.none,ar(b.some,nt.before),b.none,ar(b.some,nt.end))},ql=function(e,t,n,r){var a=Dt(e,r),i=mn(t,n,a);return mn(t,n,a).bind(j(z_,e)).orThunk(function(){return U_(e,t,n,i,r)})};j(ql,!1),j(ql,!0);var H_=function(e){return We(e.selection.getSel().modify)},iy=function(e,t,n){var r=e?1:-1;return t.setRng(T(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},V_=function(e,t){var n=t.selection.getRng(),r=e?T.fromRangeEnd(n):T.fromRangeStart(n);return H_(t)?e&&yf(r)?iy(!0,t.selection,r):!e&&bf(r)?iy(!1,t.selection,r):!1:!1},gn;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(gn||(gn={}));var lu=function(e,t){return e===Fe.Backwards?Pi(t):t},q_=function(e,t,n){return e===Fe.Forwards?t.next(n):t.prev(n)},W_=function(e,t,n,r){return De(r.getNode(t===Fe.Forwards))?gn.Br:sn(n,r)===!1?gn.Block:gn.Wrap},oy=function(e,t,n,r){for(var a=Xt(n),i=r,o,u=[];i&&(o=q_(t,a,i),!!o);){if(De(o.getNode(!1)))return t===Fe.Forwards?{positions:lu(t,u).concat([o]),breakType:gn.Br,breakAt:b.some(o)}:{positions:lu(t,u),breakType:gn.Br,breakAt:b.some(o)};if(!o.isVisible()){i=o;continue}if(e(i,o)){var f=W_(n,t,i,o);return{positions:lu(t,u),breakType:f,breakAt:b.some(o)}}u.push(o),i=o}return{positions:lu(t,u),breakType:gn.Eol,breakAt:b.none()}},uy=function(e,t,n,r){return t(n,r).breakAt.map(function(a){var i=t(n,a).positions;return e===Fe.Backwards?i.concat(a):[a].concat(i)}).getOr([])},Wl=function(e,t){return zt(e,function(n,r){return n.fold(function(){return b.some(r)},function(a){return pt(St(a.getClientRects()),St(r.getClientRects()),function(i,o){var u=Math.abs(t-i.left),f=Math.abs(t-o.left);return f<=u?r:a}).or(n)})},b.none())},fy=function(e,t){return St(t.getClientRects()).bind(function(n){return Wl(e,n.left)})},wi=j(oy,T.isAbove,-1),Ei=j(oy,T.isBelow,1),j_=function(e,t){return wi(e,t).breakAt.isNone()},K_=function(e,t){return Ei(e,t).breakAt.isNone()},G_=j(uy,-1,wi),X_=j(uy,1,Ei),Y_=function(e){return st(e).map(function(t){return[t].concat(Ei(e,t).positions)}).getOr([])},Q_=function(e){return vn(e).map(function(t){return wi(e,t).positions.concat(t)}).getOr([])},Z_=function(e){var t=function(r){return ke(r,function(a){return a=mr(a),a.node=e,a})};if(ie(e))return t(e.getClientRects());if(Q(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},jl=function(e){return _a(e,Z_)},Ar;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Ar||(Ar={}));var J_=function(e,t,n,r){for(;r=va(r,e,Xi,t);)if(n(r))return},sy=function(e,t,n,r,a,i){var o=0,u=[],f=function(l){var v,p,m;for(m=jl([l]),e===-1&&(m=m.reverse()),v=0;v<m.length;v++)if(p=m[v],!n(p,s)){if(u.length>0&&t(p,Dn(u))&&o++,p.line=o,a(p))return!0;u.push(p)}},s=Dn(i.getClientRects());if(!s)return u;var c=i.getNode();return f(c),J_(e,r,f,c),u},eL=function(e,t){return t.line>e},tL=function(e,t){return t.line===e},nL=j(sy,Ar.Up,fa,sa),rL=j(sy,Ar.Down,sa,fa),aL=function(e,t,n,r){var a=Xt(t),i,o,u,f,s=[],c=0,l,v=function(m){return Dn(m.getClientRects())};e===1?(i=a.next,o=sa,u=fa,f=T.after(r)):(i=a.prev,o=fa,u=sa,f=T.before(r));var p=v(f);do if(!!f.isVisible()&&(l=v(f),!u(l,p))){if(s.length>0&&o(l,Dn(s))&&c++,l=mr(l),l.position=f,l.line=c,n(l))return s;s.push(l)}while(f=i(f));return s},ly=function(e){return function(t){return eL(e,t)}},Kl=function(e){return function(t){return tL(e,t)}},iL=xe,cy=va,Gl=function(e,t){return Math.abs(e.left-t)},Xl=function(e,t){return Math.abs(e.right-t)},vy=function(e,t){return e>=t.left&&e<=t.right},oL=function(e,t){return e>=t.top&&e<=t.bottom},cu=function(e,t){return Oi(e,function(n,r){var a=Math.min(Gl(n,t),Xl(n,t)),i=Math.min(Gl(r,t),Xl(r,t));return vy(t,r)?r:vy(t,n)?n:i===a&&iL(r.node)||i<a?r:n})},dy=function(e,t,n,r,a){var i=cy(r,e,Xi,t,!a);do if(!i||n(i))return;while(i=cy(i,e,Xi,t))},uL=function(e,t,n){n===void 0&&(n=!0);var r=[],a=function(i,o){var u=ve(jl([o]),function(f){return!i(f,t)});return r=r.concat(u),u.length===0};return r.push(t),dy(Ar.Up,e,j(a,fa),t.node,n),dy(Ar.Down,e,j(a,sa),t.node,n),r},fL=function(e){return ve(Bn(e.getElementsByTagName("*")),yr)},sL=function(e,t){return{node:e.node,before:Gl(e,t)<Xl(e,t)}},lL=function(e,t,n){var r=jl(fL(e)),a=ve(r,j(oL,n)),i=cu(a,t);if(i){var o=!Wr(i.node)&&!$t(i.node);if(i=cu(uL(e,i,o),t),i&&yr(i.node))return sL(i,t)}return null},An=function(e,t){e.selection.setRng(t),Bo(e,e.selection.getRng())},Yl=function(e,t,n){return b.some(Ul(e,t,n))},py=function(e,t,n,r,a,i){var o=t===Fe.Forwards,u=Xt(e.getBody()),f=j(fs,o?u.next:u.prev),s=o?r:a;if(!n.collapsed){var c=po(n);if(i(c))return Nn(t,e,c,t===Fe.Backwards,!1)}var l=si(t,e.getBody(),n);if(s(l))return Na(e,l.getNode(!o));var v=Dt(o,f(l)),p=Pw(n);if(!v)return p?b.some(n):b.none();if(s(v))return Nn(t,e,v.getNode(!o),o,!1);var m=f(v);return m&&s(m)&&Co(v,m)?Nn(t,e,m.getNode(!o),o,!1):p?Yl(e,v.toRange(),!1):b.none()},my=function(e,t,n,r,a,i){var o=si(t,e.getBody(),n),u=Dn(o.getClientRects()),f=t===Ar.Down;if(!u)return b.none();var s=f?rL:nL,c=s(e.getBody(),ly(1),o),l=ve(c,Kl(1)),v=u.left,p=cu(l,v);if(p&&i(p.node)){var m=Math.abs(v-p.left),g=Math.abs(v-p.right);return Nn(t,e,p.node,m<g,!1)}var d;if(r(o)?d=o.getNode():a(o)?d=o.getNode(!0):d=po(n),d){var y=aL(t,e.getBody(),ly(1),d),h=cu(ve(y,Kl(1)),v);if(h||(h=Dn(ve(y,Kl(0))),h))return Yl(e,h.position.toRange(),!1)}return l.length===0?Ql(e,f).filter(f?a:r).map(function(C){return Ul(e,C.toRange(),!1)}):b.none()},Ql=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var a=T.fromRangeEnd(n),i=Ei(r,a);return Rn(i.positions)}else{var a=T.fromRangeStart(n),i=wi(r,a);return St(i.positions)}},gy=function(e,t,n){return Ql(e,t).filter(n).exists(function(r){return e.selection.setRng(r.toRange()),!0})},vu=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},hy=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},yy=function(e,t,n){return zl(t,n).map(function(r){return vu(e,r),n})},cL=function(e,t,n){var r=e.getBody(),a=T.fromRangeStart(e.selection.getRng()),i=j(Nr,e),o=ql(n,i,r,a);return o.bind(function(u){return yy(e,t,u)})},vL=function(e,t,n){var r=ke(dt(x.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(o){return o.dom}),a=ve(r,e),i=ve(n,e);Y(Nc(a,i),j(hy,!1)),Y(Nc(i,a),j(hy,!0))},dL=function(e,t){if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){var n=T.fromRangeStart(e.selection.getRng());T.isTextPosition(n)&&FO(n)===!1&&(vu(e,nx(t.get(),n)),t.set(null))}},pL=function(e,t,n,r){if(t.selection.isCollapsed()){var a=ve(r,e);Y(a,function(i){var o=T.fromRangeStart(t.selection.getRng());mn(e,t.getBody(),o).bind(function(u){return yy(t,n,u)})})}},by=function(e,t,n){return ii(e)?cL(e,t,n).isSome():!1},Cy=function(e,t,n){return ii(t)?V_(e,t):!1},mL=function(e){var t=_e(null),n=j(Nr,e);return e.on("NodeChange",function(r){ii(e)&&!(ae.browser.isIE()&&r.initial)&&(vL(n,e.dom,r.parents),dL(e,t),pL(n,e,t,r.parents))}),t},gL=j(Cy,!0),hL=j(Cy,!1),du=function(e,t,n){if(ii(e)){var r=Ql(e,t).getOrThunk(function(){var a=e.selection.getRng();return t?T.fromRangeEnd(a):T.fromRangeStart(a)});return mn(j(Nr,e),e.getBody(),r).exists(function(a){var i=su(a);return zl(n,i).exists(function(o){return vu(e,o),!0})})}else return!1},yL=function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},bL=function(e){return pt(st(e),vn(e),function(t,n){var r=Dt(!0,t),a=Dt(!1,n);return Yt(e,r).forall(function(i){return i.isEqual(a)})}).getOr(!0)},wy=function(e,t){return function(n){return zl(t,n).exists(function(r){return vu(e,r),!0})}},Ey=function(e,t,n,r){var a=e.getBody(),i=j(Nr,e);e.undoManager.ignore(function(){e.selection.setRng(yL(n,r)),e.execCommand("Delete"),mn(i,a,T.fromRangeStart(e.selection.getRng())).map(Vl).map(wy(e,t))}),e.nodeChanged()},CL=function(e,t){var n=Kn(t,e);return n||e},wL=function(e,t,n,r){var a=CL(e.getBody(),r.container()),i=j(Nr,e),o=mn(i,a,r);return o.bind(function(u){return n?u.fold(Z(b.some(Vl(u))),b.none,Z(b.some(su(u))),b.none):u.fold(b.none,Z(b.some(su(u))),b.none,Z(b.some(Vl(u))))}).map(wy(e,t)).getOrThunk(function(){var u=Eo(n,a,r),f=u.bind(function(s){return mn(i,a,s)});return pt(o,f,function(){return Zn(i,a,r).exists(function(s){return bL(s)?(Er(e,n,x.fromDom(s)),!0):!1})}).orThunk(function(){return f.bind(function(s){return u.map(function(c){return n?Ey(e,t,r,c):Ey(e,t,c,r),!0})})}).getOr(!1)})},pu=function(e,t,n){if(e.selection.isCollapsed()&&ii(e)){var r=T.fromRangeStart(e.selection.getRng());return wL(e,t,n,r)}return!1},EL=function(e,t){var n=kn(t,e);return Di(n,an).fold(Z(n),function(r){return n.slice(0,r)})},SL=function(e){return Nt(e).length===1},xL=function(e,t,n,r){var a=j(AR,t),i=ke(ve(r,a),function(u){return u.dom});if(i.length===0)Er(t,e,n);else{var o=NR(n.dom,i);t.selection.setRng(o.toRange())}},kL=function(e,t){var n=x.fromDom(e.getBody()),r=x.fromDom(e.selection.getStart()),a=ve(EL(n,r),SL);return Rn(a).exists(function(i){var o=T.fromRangeStart(e.selection.getRng());return zO(t,o,i.dom)&&!TR(i)?(xL(t,e,i,a),!0):!1})},mu=function(e,t){return e.selection.isCollapsed()?kL(e,t):!1},Zl=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),Er(e,t,x.fromDom(n)),!0},NL=function(e,t){var n=t?wa:Ea,r=t?Fe.Forwards:Fe.Backwards,a=si(r,e.getBody(),e.selection.getRng());return n(a)?Zl(e,t,a.getNode(!t)):b.from(Dt(t,a)).filter(function(i){return n(i)&&Co(a,i)}).exists(function(i){return Zl(e,t,i.getNode(!t))})},AL=function(e,t){var n=e.selection.getNode();return $t(n)?Zl(e,t,n):!1},gu=function(e,t){return e.selection.isCollapsed()?NL(e,t):AL(e,t)},TL=function(e){return Hi(e,function(t){return rn(t.dom)||xe(t.dom)}).exists(function(t){return rn(t.dom)})},Jl=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},Sy=function(e,t){var n=e||Ew(t)?"margin":"padding",r=wn(t,"direction")==="rtl"?"-right":"-left";return n+r},RL=function(e,t,n,r,a,i){var o=Sy(n,x.fromDom(i));if(t==="outdent"){var u=Math.max(0,Jl(i.style[o])-r);e.setStyle(i,o,u?u+a:"")}else{var u=Jl(i.style[o])+r+a;e.setStyle(i,o,u)}},BL=function(e,t){return La(t,function(n){var r=Sy(dp(e),n),a=sf(n,r).map(Jl).getOr(0),i=e.dom.getContentEditable(n.dom);return i!=="false"&&a>0})},xy=function(e){var t=Ny(e);return!e.mode.isReadOnly()&&(t.length>1||BL(e,t))},ky=function(e){return mf(e)||Ka(e)},DL=function(e){return Vt(e).map(ky).getOr(!1)},Ny=function(e){return ve(ke(e.selection.getSelectedBlocks(),x.fromDom),function(t){return!ky(t)&&!DL(t)&&TL(t)})},Ay=function(e,t){var n=e.dom,r=e.selection,a=e.formatter,i=E1(e),o=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),f=dp(e),s=Ze(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&s===""&&!n.getParent(r.getNode(),n.isBlock)&&a.apply("div"),Y(Ny(e),function(c){RL(n,t,f,u,o,c.dom)})},Ty=function(e,t){if(e.selection.isCollapsed()&&xy(e)){var n=e.dom,r=e.selection.getRng(),a=T.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(i!==null&&Xs(x.fromDom(i),a))return Ay(e,"outdent"),!0}return!1},Ry=function(e,t){e.getDoc().execCommand(t,!1,null)},PL=function(e,t){if(!Ty(e)){if(ou(e,!1))return;if(iu(e,!1))return;if(pu(e,t,!1))return;if(ru(e,!1))return;if(Vo(e))return;if(uu(e,!1))return;if(gu(e,!1))return;if(au(e))return;if(mu(e,!1))return;Ry(e,"Delete"),Ih(e)}},OL=function(e,t){if(!ou(e,!0)){if(iu(e,!0))return;if(pu(e,t,!0))return;if(ru(e,!0))return;if(Vo(e))return;if(uu(e,!0))return;if(gu(e,!0))return;if(au(e))return;if(mu(e,!0))return;Ry(e,"ForwardDelete")}},_L=function(e,t){e.addCommand("delete",function(){PL(e,t)}),e.addCommand("forwardDelete",function(){OL(e,t)})},By=5,LL=400,Dy=function(e){return e.touches===void 0||e.touches.length!==1?b.none():b.some(e.touches[0])},IL=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>By||r>By},$L=function(e){var t=_e(b.none()),n=_e(!1),r=Nd(function(a){e.fire("longpress",ue(ue({},a),{type:"longpress"})),n.set(!0)},LL);e.on("touchstart",function(a){Dy(a).each(function(i){r.cancel();var o={x:i.clientX,y:i.clientY,target:a.target};r.throttle(a),n.set(!1),t.set(b.some(o))})},!0),e.on("touchmove",function(a){r.cancel(),Dy(a).each(function(i){t.get().each(function(o){IL(i,o)&&(t.set(b.none()),n.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(a){r.cancel(),a.type!=="touchcancel"&&t.get().filter(function(i){return i.target.isEqualNode(a.target)}).each(function(){n.get()?a.preventDefault():e.fire("tap",ue(ue({},a),{type:"tap"}))})},!0)},ec=function(e,t){return e.hasOwnProperty(t.nodeName)},FL=function(e,t){return Q(t)?!0:ie(t)?!ec(e,t)&&!Ct(t):!1},ML=function(e,t,n){return gt(qm(x.fromDom(n),x.fromDom(t)),function(r){return ec(e,r.dom)})},UL=function(e,t){if(Q(t)){if(t.nodeValue.length===0)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||ec(e,t.nextSibling)))return!0}return!1},zL=function(e){var t=e.dom,n=e.selection,r=e.schema,a=r.getBlockElements(),i=n.getStart(),o=e.getBody(),u,f,s,c=Ze(e);if(!(!i||!ie(i)||!c)){var l=o.nodeName.toLowerCase();if(!(!r.isValidChild(l,c.toLowerCase())||ML(a,o,i))){var v=n.getRng(),p=v.startContainer,m=v.startOffset,g=v.endContainer,d=v.endOffset,y=wr(e);for(i=o.firstChild;i;)if(FL(a,i)){if(UL(a,i)){f=i,i=i.nextSibling,t.remove(f);continue}u||(u=t.create(c,ri(e)),i.parentNode.insertBefore(u,i),s=!0),f=i,i=i.nextSibling,u.appendChild(f)}else u=null,i=i.nextSibling;s&&y&&(v.setStart(p,m),v.setEnd(g,d),n.setRng(v),e.nodeChanged())}}},HL=function(e){Ze(e)&&e.on("NodeChange",j(zL,e))},VL=function(e){return qi(x.fromDom(e.getBody()),"*[data-mce-caret]").fold(Z(null),function(t){return t.dom})},qL=function(e){e.selection.setRng(e.selection.getRng())},Py=function(e,t){t.hasAttribute("data-mce-caret")&&(Cf(t),qL(e),e.selection.scrollIntoView(t))},WL=function(e,t){var n=VL(e);if(!!n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Py(e,n);return}jv(n)&&(Py(e,n),e.undoManager.add())}},jL=function(e){e.on("keyup compositionstart",j(WL,e))},Oy=xe,KL=function(e,t,n){return py(t,e,n,Xn,Yn,Oy)},GL=function(e,t,n){var r=function(i){return Xn(i)||Hm(i)},a=function(i){return Yn(i)||Vm(i)};return my(t,e,n,r,a,Oy)},XL=function(e){var t=e.dom.create(Ze(e));return(!ae.ie||ae.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},_y=function(e,t,n){var r=Xt(e.getBody()),a=j(fs,t===1?r.next:r.prev);if(n.collapsed&&z1(e)){var i=e.dom.getParent(n.startContainer,"PRE");if(!i)return;var o=a(T.fromRangeStart(n));if(!o){var u=XL(e);t===1?e.$(i).after(u):e.$(i).before(u),e.selection.select(u,!0),e.selection.collapse()}}},YL=function(e,t){var n=t?Fe.Forwards:Fe.Backwards,r=e.selection.getRng();return KL(n,e,r).orThunk(function(){return _y(e,n,r),b.none()})},QL=function(e,t){var n=t?1:-1,r=e.selection.getRng();return GL(n,e,r).orThunk(function(){return _y(e,n,r),b.none()})},Ly=function(e,t){return YL(e,t).exists(function(n){return An(e,n),!0})},Iy=function(e,t){return QL(e,t).exists(function(n){return An(e,n),!0})},$y=function(e,t){var n=t?Yn:Xn;return gy(e,t,n)},ZL=function(e){return ze(["figcaption"],Oe(e))},Fy=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},My=function(e,t,n){n?Ge(e,t):yv(e,t)},JL=function(e,t){var n=x.fromTag("br");return My(e,n,t),Fy(n)},eI=function(e,t,n,r){var a=x.fromTag(n),i=x.fromTag("br");return On(a,r),Ge(a,i),My(e,a,t),Fy(i)},tI=function(e,t,n,r){return t===""?JL(e,r):eI(e,r,t,n)},nI=function(e,t){var n=j(Se,t);return Hi(x.fromDom(e.container()),an,n).filter(ZL)},rI=function(e,t,n){return t?K_(e.dom,n):j_(e.dom,n)},aI=function(e,t){var n=x.fromDom(e.getBody()),r=T.fromRangeStart(e.selection.getRng()),a=Ze(e),i=ri(e);return nI(r,n).exists(function(){if(rI(n,t,r)){var o=tI(n,a,i,t);return e.selection.setRng(o),!0}else return!1})},Uy=function(e,t){return e.selection.isCollapsed()?aI(e,t):!1},iI=function(e){return ke(e,function(t){return ue({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:fe},t)})},oI=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},uI=function(e,t){return _a(iI(e),function(n){return oI(n,t)?[n]:[]})},se=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},Ta=function(e,t){return ot(uI(e,t),function(n){return n.action()})},zy=function(e,t){var n=t?Fe.Forwards:Fe.Backwards,r=e.selection.getRng();return py(e,n,r,wa,Ea,$t).exists(function(a){return An(e,a),!0})},Hy=function(e,t){var n=t?1:-1,r=e.selection.getRng();return my(e,n,r,wa,Ea,$t).exists(function(a){return An(e,a),!0})},Vy=function(e,t){var n=t?Ea:wa;return gy(e,t,n)},fI=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}},sI=function(e,t){return _a(t,function(n){var r=fI(mr(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]})},lI=function(e,t,n){return zt(e,function(r,a){return r.fold(function(){return b.some(a)},function(i){var o=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n)),u=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-n));return b.some(u<o?a:i)})},b.none())},qy=function(e,t,n,r,a){var i=dt(x.fromDom(n),"td,th,caption").map(function(u){return u.dom}),o=ve(sI(e,i),function(u){return t(u,a)});return lI(o,r,a).map(function(u){return u.cell})},cI=function(e){return e.bottom},vI=function(e){return e.top},dI=function(e,t){return e.y<t},pI=function(e,t){return e.y>t},mI=j(qy,cI,dI),gI=j(qy,vI,pI),hI=function(e,t){return St(t.getClientRects()).bind(function(n){return mI(e,n.left,n.top)}).bind(function(n){return fy(Q_(n),t)})},yI=function(e,t){return Rn(t.getClientRects()).bind(function(n){return gI(e,n.left,n.top)}).bind(function(n){return fy(Y_(n),t)})},bI=function(e,t,n){return n.breakAt.exists(function(r){return e(t,r).breakAt.isSome()})},CI=function(e){return e.breakType===gn.Wrap&&e.positions.length===0},wI=function(e){return e.breakType===gn.Br&&e.positions.length===1},Wy=function(e,t,n){var r=e(t,n);return CI(r)||!De(n.getNode())&&wI(r)?!bI(e,t,r):r.breakAt.isNone()},EI=j(Wy,wi),SI=j(Wy,Ei),xI=function(e,t,n){var r=T.fromRangeStart(t);return pa(!e,n).exists(function(a){return a.isEqual(r)})},kI=function(e,t,n,r){var a=e.selection.getRng(),i=t?1:-1;return Sp()&&xI(t,a,n)?(Nn(i,e,n,!t,!1).each(function(o){An(e,o)}),!0):!1},NI=function(e,t,n){return hI(t,n).orThunk(function(){return St(n.getClientRects()).bind(function(r){return Wl(G_(e,T.before(t)),r.left)})}).getOr(T.before(t))},AI=function(e,t,n){return yI(t,n).orThunk(function(){return St(n.getClientRects()).bind(function(r){return Wl(X_(e,T.after(t)),r.left)})}).getOr(T.after(t))},jy=function(e,t){var n=t.getNode(e);return ie(n)&&n.nodeName==="TABLE"?b.some(n):b.none()},TI=function(e,t,n,r){var a=Ze(t);a?t.undoManager.transact(function(){var i=x.fromTag(a);On(i,ri(t)),Ge(i,x.fromTag("br")),e?za(x.fromDom(n),i):qt(x.fromDom(n),i);var o=t.dom.createRng();o.setStart(i.dom,0),o.setEnd(i.dom,0),An(t,o)}):An(t,r.toRange())},Ky=function(e,t,n){var r=jy(!!t,n),a=t===!1;r.fold(function(){return An(e,n.toRange())},function(i){return pa(a,e.getBody()).filter(function(o){return o.isEqual(n)}).fold(function(){return An(e,n.toRange())},function(o){return TI(t,e,i,n)})})},RI=function(e,t,n,r){var a=e.selection.getRng(),i=T.fromRangeStart(a),o=e.getBody();if(!t&&EI(r,i)){var u=NI(o,n,i);return Ky(e,t,u),!0}else if(t&&SI(r,i)){var u=AI(o,n,i);return Ky(e,t,u),!0}else return!1},Gy=function(e,t,n){return b.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(r){return b.from(e.dom.getParent(r,"table")).map(function(a){return n(e,t,a,r)})}).getOr(!1)},Xy=function(e,t){return Gy(e,t,kI)},Yy=function(e,t){return Gy(e,t,RI)},BI=function(e,t,n){var r=Ht().os;Ta([{keyCode:J.RIGHT,action:se(Ly,e,!0)},{keyCode:J.LEFT,action:se(Ly,e,!1)},{keyCode:J.UP,action:se(Iy,e,!1)},{keyCode:J.DOWN,action:se(Iy,e,!0)},{keyCode:J.RIGHT,action:se(Xy,e,!0)},{keyCode:J.LEFT,action:se(Xy,e,!1)},{keyCode:J.UP,action:se(Yy,e,!1)},{keyCode:J.DOWN,action:se(Yy,e,!0)},{keyCode:J.RIGHT,action:se(zy,e,!0)},{keyCode:J.LEFT,action:se(zy,e,!1)},{keyCode:J.UP,action:se(Hy,e,!1)},{keyCode:J.DOWN,action:se(Hy,e,!0)},{keyCode:J.RIGHT,action:se(by,e,t,!0)},{keyCode:J.LEFT,action:se(by,e,t,!1)},{keyCode:J.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:se(gL,e,t)},{keyCode:J.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:se(hL,e,t)},{keyCode:J.UP,action:se(Uy,e,!1)},{keyCode:J.DOWN,action:se(Uy,e,!0)}],n).each(function(a){n.preventDefault()})},DI=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&BI(e,t,n)})},PI=function(e,t,n){Ta([{keyCode:J.BACKSPACE,action:se(Ty,e,!1)},{keyCode:J.BACKSPACE,action:se(ou,e,!1)},{keyCode:J.DELETE,action:se(ou,e,!0)},{keyCode:J.BACKSPACE,action:se(iu,e,!1)},{keyCode:J.DELETE,action:se(iu,e,!0)},{keyCode:J.BACKSPACE,action:se(pu,e,t,!1)},{keyCode:J.DELETE,action:se(pu,e,t,!0)},{keyCode:J.BACKSPACE,action:se(Vo,e,!1)},{keyCode:J.DELETE,action:se(Vo,e,!0)},{keyCode:J.BACKSPACE,action:se(uu,e,!1)},{keyCode:J.DELETE,action:se(uu,e,!0)},{keyCode:J.BACKSPACE,action:se(gu,e,!1)},{keyCode:J.DELETE,action:se(gu,e,!0)},{keyCode:J.BACKSPACE,action:se(au,e,!1)},{keyCode:J.DELETE,action:se(au,e,!0)},{keyCode:J.BACKSPACE,action:se(ru,e,!1)},{keyCode:J.DELETE,action:se(ru,e,!0)},{keyCode:J.BACKSPACE,action:se(mu,e,!1)},{keyCode:J.DELETE,action:se(mu,e,!0)}],n).each(function(r){n.preventDefault()})},OI=function(e,t){Ta([{keyCode:J.BACKSPACE,action:se(Gh,e)},{keyCode:J.DELETE,action:se(Gh,e)}],t)},_I=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&PI(e,t,n)}),e.on("keyup",function(n){n.isDefaultPrevented()===!1&&OI(e,n)})},LI=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Si=function(e,t){var n,r=t,a=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!!t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var o=LI(t.firstChild);o&&/^(UL|OL|DL)$/.test(o.nodeName)&&t.insertBefore(a.doc.createTextNode(ht),t.firstChild)}var u=a.createRng();if(t.normalize(),t.hasChildNodes()){for(var f=new Ie(t,t);n=f.current();){if(Q(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=f.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else De(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),Bo(e,u)}},II=function(e,t){var n=e.getRoot(),r,a;for(r=t;r!==n&&e.getContentEditable(r)!=="false";)e.getContentEditable(r)==="true"&&(a=r),r=r.parentNode;return r!==n?a:n},tc=function(e){return b.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},$I=function(e){return tc(e).fold(Z(""),function(t){return t.nodeName.toUpperCase()})},FI=function(e){return tc(e).filter(function(t){return Ka(x.fromDom(t))}).isSome()},MI=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},UI=function(e){var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},Qy=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},Zy=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},zI=function(e){return Zy(e)&&Zy(e.parentNode)},hu=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},yu=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!ie(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},HI=function(e,t,n,r,a){var i=e.dom,o=e.selection.getRng();if(n!==e.getBody()){zI(n)&&(a="LI");var u=a?t(a):i.create("BR");if(yu(n,r,!0)&&yu(n,r,!1))if(Qy(n,"LI")){var f=hu(n);i.insertAfter(u,f),UI(n)?i.remove(f):i.remove(n)}else i.replace(u,n);else if(yu(n,r,!0))Qy(n,"LI")?(i.insertAfter(u,hu(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n),i.remove(r);else if(yu(n,r,!1))i.insertAfter(u,hu(n)),i.remove(r);else{n=hu(n);var s=o.cloneRange();s.setStartAfter(r),s.setEndAfter(n);var c=s.extractContents();a==="LI"&&MI(c,"LI")?(u=c.firstChild,i.insertAfter(c,n)):(i.insertAfter(c,n),i.insertAfter(u,n)),i.remove(r)}Si(e,u)}},VI=function(e){Y(Td(x.fromDom(e),Lt),function(t){var n=t.dom;n.nodeValue=In(n.nodeValue)})},qI=function(e,t){return t&&t.nodeName==="A"&&e.isEmpty(t)},WI=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},nc=function(e){e.innerHTML='<br data-mce-bogus="1">'},rc=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},Jy=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true"},jI=function(e,t,n){var r=n,a=[],i;if(!!r){for(;r=r.firstChild;){if(e.isBlock(r))return;ie(r)&&!t[r.nodeName.toLowerCase()]&&a.push(r)}for(i=a.length;i--;)r=a[i],(!r.hasChildNodes()||r.firstChild===r.lastChild&&r.firstChild.nodeValue===""||qI(e,r))&&e.remove(r)}},ac=function(e,t,n){return Q(t)===!1?n:e?n===1&&t.data.charAt(n-1)===Ve?0:n:n===t.data.length-1&&t.data.charAt(n)===Ve?t.data.length:n},KI=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,ac(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,ac(!1,e.endContainer,e.endOffset)),t},GI=function(e){do Q(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},eb=function(e,t){var n=e.getRoot(),r,a;for(r=t;r!==n&&e.getContentEditable(r)!=="false";)e.getContentEditable(r)==="true"&&(a=r),r=r.parentNode;return r!==n?a:n},XI=function(e,t,n){var r=e.dom;b.from(n.style).map(r.parseStyle).each(function(f){var s=Dv(x.fromDom(t)),c=ue(ue({},s),f);r.setStyles(t,c)});var a=b.from(n.class).map(function(f){return f.split(/\s+/)}),i=b.from(t.className).map(function(f){return ve(f.split(/\s+/),function(s){return s!==""})});pt(a,i,function(f,s){var c=ve(s,function(v){return!ze(f,v)}),l=Ku(f,c);r.setAttrib(t,"class",l.join(" "))});var o=["style","class"],u=Ia(n,function(f,s){return!ze(o,s)});r.setAttribs(t,u)},xi=function(e,t){var n=Ze(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=ri(e);XI(e,t,r)}},YI=function(e,t,n,r,a){var i,o,u,f,s,c,l=t||"P",v=e.dom,p=eb(v,r);if(o=v.getParent(r,v.isBlock),!o||!Jy(v,o)){if(o=o||p,o===e.getBody()||WI(o)?c=o.nodeName.toLowerCase():c=o.parentNode.nodeName.toLowerCase(),!o.hasChildNodes())return i=v.create(l),xi(e,i),o.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(f=r;f.parentNode!==o;)f=f.parentNode;for(;f&&!v.isBlock(f);)u=f,f=f.previousSibling;if(u&&e.schema.isValidChild(c,l.toLowerCase())){for(i=v.create(l),xi(e,i),u.parentNode.insertBefore(i,u),f=u;f&&!v.isBlock(f);)s=f.nextSibling,i.appendChild(f),f=s;n.setStart(r,a),n.setEnd(r,a)}}return r},QI=function(e,t){t.normalize();var n=t.lastChild;(!n||/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},ZI=function(e,t){var n,r,a,i,o,u,f,s,c,l,v=e.dom,p=e.schema,m=p.getNonEmptyElements(),g=e.selection.getRng(),d=function(L){var I=r,K,X,O,ee=p.getTextInlineElements();if(L||s==="TABLE"||s==="HR"?K=v.create(L||c):K=i.cloneNode(!1),O=K,f1(e)===!1)v.setAttrib(K,"style",null),v.setAttrib(K,"class",null);else do if(ee[I.nodeName]){if(dn(I)||Ct(I))continue;X=I.cloneNode(!1),v.setAttrib(X,"id",""),K.hasChildNodes()?(X.appendChild(K.firstChild),K.appendChild(X)):(O=X,K.appendChild(X))}while((I=I.parentNode)&&I!==S);return xi(e,K),nc(O),K},y=function(L){var I,K,X=ac(L,r,a);if(Q(r)&&(L?X>0:X<r.nodeValue.length))return!1;if(r.parentNode===i&&l&&!L||L&&ie(r)&&r===i.firstChild)return!0;if(rc(r,"TABLE")||rc(r,"HR"))return l&&!L||!l&&L;var O=new Ie(r,i);for(Q(r)&&(L&&X===0?O.prev():!L&&X===r.nodeValue.length&&O.next());I=O.current();){if(ie(I)){if(!I.getAttribute("data-mce-bogus")&&(K=I.nodeName.toLowerCase(),m[K]&&K!=="br"))return!1}else if(Q(I)&&!sr(I.nodeValue))return!1;L?O.prev():O.next()}return!0},h=function(){/^(H[1-6]|PRE|FIGURE)$/.test(s)&&R!=="HGROUP"?o=d(c):o=d(),s1(e)&&Jy(v,f)&&v.isEmpty(i)?o=v.split(f,i):v.insertAfter(o,i),Si(e,o)};Ao(v,g).each(function(L){g.setStart(L.startContainer,L.startOffset),g.setEnd(L.endContainer,L.endOffset)}),r=g.startContainer,a=g.startOffset,c=Ze(e);var C=!!(t&&t.shiftKey),w=!!(t&&t.ctrlKey);ie(r)&&r.hasChildNodes()&&(l=a>r.childNodes.length-1,r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r,l&&Q(r)?a=r.nodeValue.length:a=0);var S=eb(v,r);if(!!S){(c&&!C||!c&&C)&&(r=YI(e,c,g,r,a)),i=v.getParent(r,v.isBlock),f=i?v.getParent(i.parentNode,v.isBlock):null,s=i?i.nodeName.toUpperCase():"";var R=f?f.nodeName.toUpperCase():"";if(R==="LI"&&!w&&(i=f,f=f.parentNode,s=R),/^(LI|DT|DD)$/.test(s)&&v.isEmpty(i)){HI(e,d,f,i,c);return}c&&i===e.getBody()||(c=c||"P",Yr(i)?(o=Cf(i),v.isEmpty(i)&&nc(i),xi(e,o),Si(e,o)):y()?h():y(!0)?(o=i.parentNode.insertBefore(d(),i),Si(e,rc(i,"HR")?o:i)):(n=KI(g).cloneRange(),n.setEndAfter(i),u=n.extractContents(),VI(u),GI(u),o=u.firstChild,v.insertAfter(u,i),jI(v,m,o),QI(v,i),v.isEmpty(i)&&nc(i),o.normalize(),v.isEmpty(o)?(v.remove(o),h()):(xi(e,o),Si(e,o))),v.setAttrib(o,"id",""),e.fire("NewBlock",{newBlock:o}))}},JI=function(e,t,n){for(var r=new Ie(t,n),a,i=e.getNonEmptyElements();a=r.next();)if(i[a.nodeName.toLowerCase()]||a.length>0)return!0},tb=function(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Bo(e,r)},e$=function(e,t){var n=e.selection,r=e.dom,a=n.getRng(),i,o;Ao(r,a).each(function(m){a.setStart(m.startContainer,m.startOffset),a.setEnd(m.endContainer,m.endOffset)});var u=a.startOffset,f=a.startContainer;if(f.nodeType===1&&f.hasChildNodes()){var s=u>f.childNodes.length-1;f=f.childNodes[Math.min(u,f.childNodes.length-1)]||f,s&&f.nodeType===3?u=f.nodeValue.length:u=0}var c=r.getParent(f,r.isBlock),l=c?r.getParent(c.parentNode,r.isBlock):null,v=l?l.nodeName.toUpperCase():"",p=!!(t&&t.ctrlKey);v==="LI"&&!p&&(c=l),f&&f.nodeType===3&&u>=f.nodeValue.length&&(JI(e.schema,f,c)||(i=r.create("br"),a.insertNode(i),a.setStartAfter(i),a.setEndAfter(i),o=!0)),i=r.create("br"),es(r,a,i),tb(e,i,o),e.undoManager.add()},t$=function(e,t){var n=x.fromTag("br");qt(x.fromDom(t),n),e.undoManager.add()},n$=function(e,t){a$(e.getBody(),t)||za(x.fromDom(t),x.fromTag("br"));var n=x.fromTag("br");za(x.fromDom(t),n),tb(e,n.dom,!1),e.undoManager.add()},r$=function(e){return De(e.getNode())},a$=function(e,t){return r$(T.after(t))?!0:Yt(e,T.after(t)).map(function(n){return De(n.getNode())}).getOr(!1)},nb=function(e){return e&&e.nodeName==="A"&&"href"in e},i$=function(e){return e.fold(he,nb,nb,he)},o$=function(e){var t=j(Nr,e),n=T.fromRangeStart(e.selection.getRng());return mn(t,e.getBody(),n).filter(i$)},u$=function(e,t){t.fold(fe,j(t$,e),j(n$,e),fe)},rb=function(e,t){var n=o$(e);n.isSome()?n.each(j(u$,e)):e$(e,t)},ab=function(e,t){return tc(e).filter(function(n){return t.length>0&&zr(x.fromDom(n),t)}).isSome()},f$=function(e){return ab(e,o1(e))},s$=function(e){return ab(e,u1(e))},Et=_n.generate([{br:[]},{block:[]},{none:[]}]),l$=function(e,t){return s$(e)},ic=function(e){return function(t,n){var r=Ze(t)==="";return r===e}},ib=function(e){return function(t,n){return FI(t)===e}},ob=function(e,t){return function(n,r){var a=$I(n)===e.toUpperCase();return a===t}},bu=function(e){return ob("pre",e)},c$=function(){return ob("summary",!0)},Cu=function(e){return function(t,n){return i1(t)===e}},v$=function(e,t){return f$(e)},ki=function(e,t){return t},ub=function(e){var t=Ze(e),n=II(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},Pt=function(e,t){return function(n,r){var a=zt(e,function(i,o){return i&&o(n,r)},!0);return a?b.some(t):b.none()}},d$=function(e,t){return ey([Pt([l$],Et.none()),Pt([c$()],Et.br()),Pt([bu(!0),Cu(!1),ki],Et.br()),Pt([bu(!0),Cu(!1)],Et.block()),Pt([bu(!0),Cu(!0),ki],Et.block()),Pt([bu(!0),Cu(!0)],Et.br()),Pt([ib(!0),ki],Et.br()),Pt([ib(!0)],Et.block()),Pt([ic(!0),ki,ub],Et.block()),Pt([ic(!0)],Et.br()),Pt([v$],Et.br()),Pt([ic(!1),ki],Et.br()),Pt([ub],Et.block())],[e,!!(t&&t.shiftKey)]).getOr(Et.none())},fb=function(e,t){d$(e,t).fold(function(){rb(e,t)},function(){ZI(e,t)},fe)},p$=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),MB(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),fb(e,t)}))},m$=function(e){e.on("keydown",function(t){t.keyCode===J.ENTER&&p$(e,t)})},g$=function(e,t,n){Ta([{keyCode:J.END,action:se($y,e,!0)},{keyCode:J.HOME,action:se($y,e,!1)},{keyCode:J.END,action:se(Vy,e,!0)},{keyCode:J.HOME,action:se(Vy,e,!1)},{keyCode:J.END,action:se(du,e,!0,t)},{keyCode:J.HOME,action:se(du,e,!1,t)}],n).each(function(r){n.preventDefault()})},h$=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&g$(e,t,n)})},y$=Ht().browser,b$=function(e){var t=Kf(function(){e.composing||tg(e)},0);y$.isIE()&&(e.on("keypress",function(n){t.throttle()}),e.on("remove",function(n){t.cancel()}))},C$=function(e){b$(e),e.on("input",function(t){t.isComposing===!1&&tg(e)})},w$=Ht(),E$=function(e,t,n){Ta([{keyCode:J.PAGE_UP,action:se(du,e,!1,t)},{keyCode:J.PAGE_DOWN,action:se(du,e,!0,t)}],n)},sb=function(e){return e.stopImmediatePropagation()},lb=function(e){return e.keyCode===J.PAGE_UP||e.keyCode===J.PAGE_DOWN},cb=function(e,t,n){n&&!e.get()?t.on("NodeChange",sb,!0):!n&&e.get()&&t.off("NodeChange",sb),e.set(n)},S$=function(e,t){if(!w$.os.isOSX()){var n=_e(!1);e.on("keydown",function(r){lb(r)&&cb(n,e,!0)}),e.on("keyup",function(r){r.isDefaultPrevented()===!1&&E$(e,t,r),lb(r)&&n.get()&&(cb(n,e,!1),e.nodeChanged())})}},vb=function(e,t){var n=t.container(),r=t.offset();return Q(n)?(n.insertData(r,e),b.some(T(n,r+e.length))):bo(t).map(function(a){var i=x.fromText(e);return t.isAtEnd()?za(a,i):qt(a,i),T(i.dom,e.length)})},x$=j(vb,ht),k$=j(vb," "),N$=function(e){return function(t){return t.fold(function(n){return cn(e.dom,T.before(n))},function(n){return st(n)},function(n){return vn(n)},function(n){return Yt(e.dom,T.after(n))})}},A$=function(e,t){return function(n){return RA(e,n)?x$(t):k$(t)}},T$=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},R$=function(e){var t=T.fromRangeStart(e.selection.getRng()),n=x.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=j(Nr,e),a=T.fromRangeStart(e.selection.getRng());return mn(r,e.getBody(),a).bind(N$(n)).bind(A$(n,t)).exists(T$(e))}else return!1},B$=function(e,t){Ta([{keyCode:J.SPACEBAR,action:se(R$,e)}],t).each(function(n){t.preventDefault()})},D$=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&B$(e,t)})},P$=function(e){var t=mL(e);return jL(e),DI(e,t),_I(e,t),m$(e),D$(e),C$(e),h$(e,t),S$(e,t),t},O$=function(e){return xr(e)?_e(null):P$(e)},_$=function(){function e(t){this.lastPath=[],this.editor=t;var n,r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(a){var i=t.selection.getRng(),o={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};(a.type==="nodechange"||!Bs(o,n))&&t.fire("SelectionChange"),n=o}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var a=t.selection.getStart(!0);!a||!ae.range&&t.selection.isCollapsed()||No(t)&&!r.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(a){!a.isDefaultPrevented()&&No(t)&&(t.selection.getNode().nodeName==="IMG"?Ye.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}return e.prototype.nodeChanged=function(t){var n=this.editor.selection,r,a,i;this.editor.initialized&&n&&!V1(this.editor)&&!this.editor.mode.isReadOnly()&&(i=this.editor.getBody(),r=n.getStart(!0)||i,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,i))&&(r=i),a=[],this.editor.dom.getParent(r,function(o){if(o===i)return!0;a.push(o)}),t=t||{},t.element=r,t.parents=a,this.editor.fire("NodeChange",t))},e.prototype.isSameElementPath=function(t){var n,r=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(r.length===this.lastPath.length){for(n=r.length;n>=0&&r[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=r,!0}return this.lastPath=r,!1},e}(),L$=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},I$=function(e){e.parser.addNodeFilter("details",function(t){Y(t,function(n){n.attr("data-mce-open",n.attr("open")),n.attr("open","open")})}),e.serializer.addNodeFilter("details",function(t){Y(t,function(n){var r=n.attr("data-mce-open");n.attr("open",Ue(r)?r:null),n.attr("data-mce-open",null)})})},$$=function(e){L$(e),I$(e)},db=function(e){return ie(e)&&Wv(x.fromDom(e))},F$=function(e){var t=e.selection.getRng(),n=T.fromRangeStart(t),r=T.fromRangeEnd(t);if(T.isElementPosition(n)){var a=n.container();db(a)&&st(a).each(function(i){return t.setStart(i.container(),i.offset())})}if(T.isElementPosition(r)){var a=n.container();db(a)&&vn(a).each(function(o){return t.setEnd(o.container(),o.offset())})}e.selection.setRng(al(t))},M$=function(e){e.on("click",function(t){t.detail>=3&&F$(e)})},U$=function(){var e=_e(b.none()),t=function(){return e.set(b.none())},n=function(i){return e.set(b.some(i))},r=function(){return e.get().isSome()},a=function(i){return e.get().each(i)};return{clear:t,set:n,isSet:r,on:a}},pb=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,a=n.defaultView;return{top:t.top+a.pageYOffset-r.clientTop,left:t.left+a.pageXOffset-r.clientLeft}},z$=function(e){return e.inline?pb(e.getBody()):{left:0,top:0}},H$=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},V$=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:a},q$=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=pb(e.getContentAreaContainer()),r=V$(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},W$=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},j$=function(e,t){return W$(z$(e),H$(e),q$(e,t))},wu=xe,K$=rn,G$=function(e,t){return wu(t)&&t!==e},X$=function(e,t,n){return t===n||e.dom.isChildOf(t,n)?!1:!wu(t)},Y$=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},Q$=function(e,t,n,r){var a=e.dom,i=t.cloneNode(!0);a.setStyles(i,{width:n,height:r}),a.setAttrib(i,"data-mce-selected",null);var o=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),a.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o},Z$=function(e,t){e.parentNode!==t&&t.appendChild(e)},J$=function(e,t,n,r,a,i){var o=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>a&&(o=t.pageX+n-a),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-o+"px",e.style.height=r-u+"px"},mb=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},eF=function(e){return e.button===0},tF=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},nF=function(e,t){return function(n){if(eF(n)){var r=ot(t.dom.getParents(n.target),DS(wu,K$)).getOr(null);if(G$(t.getBody(),r)){var a=t.dom.getPos(r),i=t.getBody(),o=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:o.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:o.offsetHeight)-2,relX:n.pageX-a.x,relY:n.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Q$(t,r,r.offsetWidth,r.offsetHeight)})}}}},rF=function(e,t){var n=Ye.throttle(function(r,a){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(r,a)},0);return t.on("remove",n.stop),function(r){return e.on(function(a){var i=Math.max(Math.abs(r.screenX-a.screenX),Math.abs(r.screenY-a.screenY));if(!a.dragging&&i>10){var o=t.fire("dragstart",{target:a.element});if(o.isDefaultPrevented())return;a.dragging=!0,t.focus()}if(a.dragging){var u=tF(a,j$(t,r));Z$(a.ghost,t.getBody()),J$(a.ghost,u,a.width,a.height,a.maxX,a.maxY),n(r.clientX,r.clientY)}})}},aF=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return n.nodeType===3?n.parentNode:n},iF=function(e,t){return function(n){e.on(function(r){if(r.dragging&&X$(t,aF(t.selection),r.element)){var a=Y$(r.element),i=t.fire("drop",{clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||t.undoManager.transact(function(){mb(r.element),t.insertContent(t.dom.getOuterHTML(a)),t._selectionOverrides.hideFakeCaret()})}}),gb(e)}},oF=function(e,t){return function(){e.on(function(n){n.dragging&&t.fire("dragend")}),gb(e)}},gb=function(e){e.on(function(t){mb(t.ghost)}),e.clear()},uF=function(e){var t=U$(),n=Ce.DOM,r=document,a=nF(t,e),i=rF(t,e),o=iF(t,e),u=oF(t,e);e.on("mousedown",a),e.on("mousemove",i),e.on("mouseup",o),n.bind(r,"mousemove",i),n.bind(r,"mouseup",u),e.on("remove",function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",u)})},fF=function(e){e.on("drop",function(t){var n=typeof t.clientX!="undefined"?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(wu(n)||e.dom.getContentEditableParent(n)==="false")&&t.preventDefault()})},sF=function(e){var t=function(a){if(!a.isDefaultPrevented()){var i=a.dataTransfer;i&&(ze(i.types,"Files")||i.files.length>0)&&(a.preventDefault(),a.type==="drop"&&Jo(e,"Dropped file type is not supported"))}},n=function(a){Oo(e,a.target)&&t(a)},r=function(){var a=Ce.DOM,i=e.dom,o=document,u=e.inline?e.getBody():e.getDoc(),f=["drop","dragover"];Y(f,function(s){a.bind(o,s,n),i.bind(u,s,t)}),e.on("remove",function(){Y(f,function(s){a.unbind(o,s,n),i.unbind(u,s,t)})})};e.on("init",function(){Ye.setEditorTimeout(e,r,0)})},lF=function(e){uF(e),fF(e),K1(e)&&sF(e)},cF=function(e){var t=Kf(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var n=e.selection.getRng();if(n.collapsed){var r=Ul(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},vF=function(e){e.on("init",function(){e.on("focusin",function(t){var n=t.target;if($t(n)){var r=di(e.getBody(),n),a=xe(r)?r:n;e.selection.getNode()!==a&&Na(e,a).each(function(i){return e.selection.setRng(i)})}})})},hb=rn,Tr=xe,Eu=function(e,t){return di(e.getBody(),t)},dF=function(e){var t=e.selection,n=e.dom,r=n.isBlock,a=e.getBody(),i=fx(e,a,r,function(){return wr(e)}),o="sel-"+n.uniqueId(),u="data-mce-selected",f,s=function(O){return n.hasClass(O,"mce-offscreen-selection")},c=function(O){return O!==a&&(Tr(O)||$t(O))&&n.isChildOf(O,a)},l=function(O){return Xn(O)||Yn(O)||wa(O)||Ea(O)},v=function(){var O=n.get(o);return O&&O.getElementsByTagName("*")[0]},p=function(O){O&&t.setRng(O)},m=t.getRng,g=function(O,ee,M,G){G===void 0&&(G=!0);var F=e.fire("ShowCaret",{target:ee,direction:O,before:M});return F.isDefaultPrevented()?null:(G&&t.scrollIntoView(ee,O===-1),i.show(M,ee))},d=function(O){O.hasAttribute("data-mce-caret")&&(Cf(O),p(m()),t.scrollIntoView(O))},y=function(){e.on("mouseup",function(F){var z=m();z.collapsed&&bh(e,F.clientX,F.clientY)&&Vh(e,z,!1).each(p)}),e.on("click",function(F){var z=Eu(e,F.target);z&&(Tr(z)&&(F.preventDefault(),e.focus()),hb(z)&&n.isChildOf(z,t.getNode())&&I())}),e.on("blur NewBlock",I),e.on("ResizeWindow FullscreenStateChanged",i.reposition);var O=function(F){var z=Xt(F);if(!F.firstChild)return!1;var W=T.before(F.firstChild),_=z.next(W);return _&&!l(_)},ee=function(F,z){var W=n.getParent(F,r),_=n.getParent(z,r);return W===_},M=function(F,z){var W=n.getParent(F,r),_=n.getParent(z,r);return W&&F!==_&&n.isChildOf(W,_)&&Tr(Eu(e,W))===!1?!0:W&&!ee(W,_)&&O(W)};e.on("tap",function(F){var z=F.target,W=Eu(e,z);Tr(W)?(F.preventDefault(),Na(e,W).each(L)):c(z)&&Na(e,z).each(L)},!0),e.on("mousedown",function(F){var z=F.target;if(!(z!==a&&z.nodeName!=="HTML"&&!n.isChildOf(z,a))&&bh(e,F.clientX,F.clientY)!==!1){var W=Eu(e,z);if(W)Tr(W)?(F.preventDefault(),Na(e,W).each(L)):(I(),!(hb(W)&&F.shiftKey)&&!Ts(F.clientX,F.clientY,t.getRng())&&(X(),t.placeCaretAt(F.clientX,F.clientY)));else if(c(z))Na(e,z).each(L);else if(yr(z)===!1){I(),X();var _=lL(a,F.clientX,F.clientY);if(_&&!M(z,_.node)){F.preventDefault();var q=g(1,_.node,_.before,!1);e.getBody().focus(),p(q)}}}}),e.on("keypress",function(F){J.modifierPressed(F)||Tr(t.getNode())&&F.preventDefault()}),e.on("GetSelectionRange",function(F){var z=F.range;if(f){if(!f.parentNode){f=null;return}z=z.cloneRange(),z.selectNode(f),F.range=z}}),e.on("SetSelectionRange",function(F){F.range=w(F.range);var z=L(F.range,F.forward);z&&(F.range=z)});var G=function(F){return F.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(F){var z=F.range,W=z.startContainer.parentNode;!C(z)&&!G(W)&&X(),s(W)||I()}),e.on("copy",function(F){var z=F.clipboardData;if(!F.isDefaultPrevented()&&F.clipboardData&&!ae.ie){var W=v();W&&(F.preventDefault(),z.clearData(),z.setData("text/html",W.outerHTML),z.setData("text/plain",W.outerText||W.innerText))}}),lF(e),cF(e),vF(e)},h=function(O){return At(O)||Ki(O)||Gi(O)},C=function(O){return h(O.startContainer)||h(O.endContainer)},w=function(O){var ee=e.schema.getShortEndedElements(),M=n.createRng(),G=O.startContainer,F=O.startOffset,z=O.endContainer,W=O.endOffset;return Ke(ee,G.nodeName.toLowerCase())?F===0?M.setStartBefore(G):M.setStartAfter(G):M.setStart(G,F),Ke(ee,z.nodeName.toLowerCase())?W===0?M.setEndBefore(z):M.setEndAfter(z):M.setEnd(z,W),M},S=function(O,ee,M){var G=e.$,F=qi(x.fromDom(e.getBody()),"#"+o).fold(function(){return G([])},function(_){return G([_.dom])});F.length===0&&(F=G('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o),F.appendTo(e.getBody()));var z=n.createRng();ee===M&&ae.ie?(F.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(ee),z.setStartAfter(F[0].firstChild.firstChild),z.setEndAfter(ee)):(F.empty().append(ht).append(ee).append(ht),z.setStart(F[0].firstChild,1),z.setEnd(F[0].lastChild,0)),F.css({top:n.getPos(O,e.getBody()).y}),F[0].focus();var W=t.getSel();return W.removeAllRanges(),W.addRange(z),z},R=function(O){var ee=O.cloneNode(!0),M=e.fire("ObjectSelected",{target:O,targetClone:ee});if(M.isDefaultPrevented())return null;var G=S(O,M.targetClone,ee),F=x.fromDom(O);return Y(dt(x.fromDom(e.getBody()),"*[data-mce-selected]"),function(z){Se(F,z)||fr(z,u)}),n.getAttrib(O,u)||O.setAttribute(u,"1"),f=O,X(),G},L=function(O,ee){if(!O)return null;if(O.collapsed){if(!C(O)){var M=ee?1:-1,G=si(M,a,O),F=G.getNode(!ee);if(yr(F))return g(M,F,ee?!G.isAtEnd():!1,!1);var z=G.getNode(ee);if(yr(z))return g(M,z,ee?!1:!G.isAtEnd(),!1)}return null}var W=O.startContainer,_=O.startOffset,q=O.endOffset;if(W.nodeType===3&&_===0&&Tr(W.parentNode)&&(W=W.parentNode,_=n.nodeIndex(W),W=W.parentNode),W.nodeType!==1)return null;if(q===_+1&&W===O.endContainer){var le=W.childNodes[_];if(c(le))return R(le)}return null},I=function(){f&&f.removeAttribute(u),qi(x.fromDom(e.getBody()),"#"+o).each(Xe),f=null},K=function(){i.destroy(),f=null},X=function(){i.hide()};return ae.ceFalse&&!xr(e)&&y(),{showCaret:g,showBlockCaretContainer:d,hideFakeCaret:X,destroy:K}},pF=function(e){var t=B.each,n=J.BACKSPACE,r=J.DELETE,a=e.dom,i=e.selection,o=e.parser,u=ae.gecko,f=ae.ie,s=ae.webkit,c="data:text/mce-internal,",l=f?"Text":"URL",v=function(P,k){try{e.getDoc().execCommand(P,!1,k)}catch{}},p=function(P){return P.isDefaultPrevented()},m=function(P){var k,D;P.dataTransfer&&(e.selection.isCollapsed()&&P.target.tagName==="IMG"&&i.select(P.target),k=e.selection.getContent(),k.length>0&&(D=c+escape(e.id)+","+escape(k),P.dataTransfer.setData(l,D)))},g=function(P){var k;return P.dataTransfer&&(k=P.dataTransfer.getData(l),k&&k.indexOf(c)>=0)?(k=k.substr(c.length).split(","),{id:unescape(k[0]),html:unescape(k[1])}):null},d=function(P,k){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:P,internal:k}):e.execCommand("mceInsertContent",!1,P)},y=function(){var P=function(D){var N=a.create("body"),H=D.cloneContents();return N.appendChild(H),i.serializer.serialize(N,{format:"html"})},k=function(D){var N=P(D),H=a.createRng();H.selectNode(e.getBody());var V=P(H);return N===V};e.on("keydown",function(D){var N=D.keyCode,H,V;if(!p(D)&&(N===r||N===n)){if(H=e.selection.isCollapsed(),V=e.getBody(),H&&!a.isEmpty(V)||!H&&!k(e.selection.getRng()))return;D.preventDefault(),e.setContent(""),V.firstChild&&a.isBlock(V.firstChild)?e.selection.setCursorLocation(V.firstChild,0):e.selection.setCursorLocation(V,0),e.nodeChanged()}})},h=function(){e.shortcuts.add("meta+a",null,"SelectAll")},C=function(){e.inline||a.bind(e.getDoc(),"mousedown mouseup",function(P){var k;if(P.target===e.getDoc().documentElement)if(k=i.getRng(),e.getBody().focus(),P.type==="mousedown"){if(At(k.startContainer))return;i.placeCaretAt(P.clientX,P.clientY)}else i.setRng(k)})},w=function(){e.on("keydown",function(P){if(!p(P)&&P.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&i.getRng().startOffset===0){var k=i.getNode(),D=k.previousSibling;if(k.nodeName==="HR"){a.remove(k),P.preventDefault();return}D&&D.nodeName&&D.nodeName.toLowerCase()==="hr"&&(a.remove(D),P.preventDefault())}}})},S=function(){Range.prototype.getClientRects||e.on("mousedown",function(P){if(!p(P)&&P.target.nodeName==="HTML"){var k=e.getBody();k.blur(),Ye.setEditorTimeout(e,function(){k.focus()})}})},R=function(){e.on("click",function(P){var k=P.target;/^(IMG|HR)$/.test(k.nodeName)&&a.getContentEditableParent(k)!=="false"&&(P.preventDefault(),e.selection.select(k),e.nodeChanged()),k.nodeName==="A"&&a.hasClass(k,"mce-item-anchor")&&(P.preventDefault(),i.select(k))})},L=function(){var P=function(){var D=a.getAttribs(i.getStart().cloneNode(!1));return function(){var N=i.getStart();N!==e.getBody()&&(a.setAttrib(N,"style",null),t(D,function(H){N.setAttributeNode(H.cloneNode(!0))}))}},k=function(){return!i.isCollapsed()&&a.getParent(i.getStart(),a.isBlock)!==a.getParent(i.getEnd(),a.isBlock)};e.on("keypress",function(D){var N;if(!p(D)&&(D.keyCode===8||D.keyCode===46)&&k())return N=P(),e.getDoc().execCommand("delete",!1,null),N(),D.preventDefault(),!1}),a.bind(e.getDoc(),"cut",function(D){var N;!p(D)&&k()&&(N=P(),Ye.setEditorTimeout(e,function(){N()}))})},I=function(){e.on("keydown",function(P){if(!p(P)&&P.keyCode===n&&i.isCollapsed()&&i.getRng().startOffset===0){var k=i.getNode().previousSibling;if(k&&k.nodeName&&k.nodeName.toLowerCase()==="table")return P.preventDefault(),!1}})},K=function(){e.on("keydown",function(P){var k,D;if(!(p(P)||P.keyCode!==J.BACKSPACE)){k=i.getRng();var N=k.startContainer,H=k.startOffset,V=a.getRoot();if(D=N,!(!k.collapsed||H!==0)){for(;D&&D.parentNode&&D.parentNode.firstChild===D&&D.parentNode!==V;)D=D.parentNode;D.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,D),k=a.createRng(),k.setStart(N,0),k.setEnd(N,0),i.setRng(k))}}})},X=function(){var P=function(){v("StyleWithCSS",!1),v("enableInlineTableEditing",!1),mp(e)||v("enableObjectResizing",!1)};q1(e)||e.on("BeforeExecCommand mousedown",P)},O=function(){var P=function(){t(a.select("a"),function(k){var D=k.parentNode,N=a.getRoot();if(D.lastChild===k){for(;D&&!a.isBlock(D);){if(D.parentNode.lastChild!==D||D===N)return;D=D.parentNode}a.add(D,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(k){(k.type==="setcontent"||k.command==="mceInsertLink")&&P()})},ee=function(){Ze(e)&&e.on("init",function(){v("DefaultParagraphSeparator",Ze(e))})},M=function(){e.on("keyup focusin mouseup",function(P){J.modifierPressed(P)||i.normalize()},!0)},G=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},F=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},z=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(P){var k;if(P.target.nodeName==="HTML"){if(ae.ie>11){e.getBody().focus();return}k=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(k),e.selection.normalize(),e.nodeChanged()}}))},W=function(){ae.mac&&e.on("keydown",function(P){if(J.metaKeyPressed(P)&&!P.shiftKey&&(P.keyCode===37||P.keyCode===39)){P.preventDefault();var k=e.selection.getSel();k.modify("move",P.keyCode===37?"backward":"forward","lineboundary")}})},_=function(){v("AutoUrlDetect",!1)},q=function(){e.on("click",function(P){var k=P.target;do if(k.tagName==="A"){P.preventDefault();return}while(k=k.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},le=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(P){P.preventDefault()})})},ge=function(){o.addNodeFilter("br",function(P){for(var k=P.length;k--;)P[k].attr("class")==="Apple-interchange-newline"&&P[k].remove()})},de=function(){e.on("dragstart",function(P){m(P)}),e.on("drop",function(P){if(!p(P)){var k=g(P);if(k&&k.id!==e.id){P.preventDefault();var D=Rs(P.x,P.y,e.getDoc());i.setRng(D),d(k.html,!0)}}})},Te=fe,Ae=function(){if(!u||e.removed)return!1;var P=e.selection.getSel();return!P||!P.rangeCount||P.rangeCount===0},ct=function(){s&&(R(),le(),h(),ae.iOS&&(F(),z(),q())),u&&(S(),X(),G(),W())},rt=function(){K(),y(),ae.windowsPhone||M(),s&&(C(),R(),ee(),le(),I(),ge(),ae.iOS?(F(),z(),q()):h()),ae.ie>=11&&(z(),I()),ae.ie&&(h(),_(),de()),u&&(w(),S(),L(),X(),O(),G(),W(),I())};return xr(e)?ct():rt(),{refreshContentEditable:Te,isHidden:Ae}},oc=Ce.DOM,mF=function(e,t){var n=x.fromDom(e.getBody()),r=tf(ur(n)),a=x.fromTag("style");Cn(a,"type","text/css"),Ge(a,x.fromText(t)),Ge(r,a),e.on("remove",function(){Xe(a)})},gF=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},yb=function(e){return Ia(e,function(t){return Oa(t)===!1})},bb=function(e){var t=e.settings,n=e.editorUpload.blobCache;return yb({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:gF(e),validate:!0,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})},hF=function(e){var t=e.settings;return ue(ue({},bb(e)),yb({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))},yF=function(e){var t=Ol(bb(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(n,r){for(var a=n.length,i,o,u=e.dom,f="data-mce-"+r;a--;)if(i=n[a],o=i.attr(r),o&&!i.attr(f)){if(o.indexOf("data:")===0||o.indexOf("blob:")===0)continue;r==="style"?(o=u.serializeStyle(u.parseStyle(o),i.name),o.length||(o=null),i.attr(f,o),i.attr(r,o)):r==="tabindex"?(i.attr(f,o),i.attr(r,null)):i.attr(f,e.convertURL(o,r,i.name))}}),t.addNodeFilter("script",function(n){for(var r=n.length;r--;){var a=n[r],i=a.attr("type")||"no/type";i.indexOf("mce-")!==0&&a.attr("type","mce-"+i)}}),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",function(n){for(var r=n.length;r--;){var a=n[r];a.type=8,a.name="#comment",a.value="[CDATA["+e.dom.encode(a.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(n){for(var r=n.length,a=e.schema.getNonEmptyElements();r--;){var i=n[r];i.isEmpty(a)&&i.getAll("br").length===0&&(i.append(new Ft("br",1)).shortEnded=!0)}}),t},bF=function(e){e.settings.auto_focus&&Ye.setEditorTimeout(e,function(){var t;e.settings.auto_focus===!0?t=e:t=e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},CF=function(e){var t=e.dom.getRoot();!e.inline&&(!No(e)||e.selection.getStart(!0)===t)&&st(t).each(function(n){var r=n.getNode(),a=Wr(r)?st(r).getOr(n):n;ae.browser.isIE()?hN(e,a.toRange()):e.selection.setRng(a.toRange())})},wF=function(e){e.bindPendingEventDelegates(),e.initialized=!0,pk(e),e.focus(!0),CF(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),bF(e)},Cb=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},EF=function(e,t,n){var r=[new He(function(a,i){return Cb(e).loadAll(t,a,i)})];return e.inline?r:r.concat([new He(function(a,i){return e.ui.styleSheetLoader.loadAll(n,a,i)})])},SF=function(e,t){var n=Cb(e),r=pp(e),a=function(){n.unloadAll(t),e.inline||e.ui.styleSheetLoader.unloadAll(r)},i=function(){e.removed?a():(e.on("remove",a),wF(e))};He.all(EF(e,t,r)).then(i).catch(i)},uc=function(e){var t=e.settings,n=e.getDoc(),r=e.getBody();!t.browser_spellcheck&&!t.gecko_spellcheck&&(n.body.spellcheck=!1,oc.setAttrib(r,"spellcheck","false")),e.quirks=pF(e),dk(e);var a=x1(e);if(a!==void 0&&(r.dir=a),t.protect&&e.on("BeforeSetContent",function(o){B.each(t.protect,function(u){o.content=o.content.replace(u,function(f){return"<!--mce:protected "+escape(f)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),xr(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(o){e.composing=o.type==="compositionstart"}),e.contentStyles.length>0){var i="";B.each(e.contentStyles,function(o){i+=o+`\r
`}),e.dom.addStyle(i)}SF(e,e.contentCSS),t.content_style&&mF(e,t.content_style)},fc=function(e,t){var n=e.settings,r=e.getElement(),a=e.getDoc();n.inline||(e.getElement().style.visibility=e.orgVisibility),!t&&!e.inline&&(a.open(),a.write(e.iframeHTML),a.close()),e.inline&&(oc.addClass(r,"mce-content-body"),e.contentDocument=a=document,e.contentWindow=window,e.bodyElement=r,e.contentAreaContainer=r);var i=e.getBody();i.disabled=!0,e.readonly=!!n.readonly,e.readonly||(e.inline&&oc.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable=e.getParam("content_editable_state",!0)),i.disabled=!1,e.editorUpload=bO(e),e.schema=Fn(n),e.dom=Ce(a,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:C1(e),referrerPolicy:cp(e),onSetAttrib:function(u){e.fire("SetAttrib",u)}}),e.parser=yF(e),e.serializer=vh(hF(e),e),e.selection=ah(e.dom,e.getWin(),e.serializer,e),e.annotator=om(e),e.formatter=Rh(e),e.undoManager=Bh(e),e._nodeChangeDispatcher=new _$(e),e._selectionOverrides=dF(e),$L(e),$$(e),xr(e)||M$(e);var o=O$(e);_L(e,o),HL(e),PO(e),vk(e),tD(e).fold(function(){uc(e)},function(u){e.setProgressState(!0),u.then(function(f){e.setProgressState(!1),uc(e)},function(f){e.notificationManager.open({type:"error",text:String(f)}),uc(e)})})},Ni=Ce.DOM,xF=function(e,t){if(document.domain!==window.location.hostname&&ae.browser.isIE()){var n=kh("mce");e[n]=function(){fc(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return Ni.setAttrib(t,"src",r),!0}return!1},kF=function(e,t,n,r){var a=x.fromTag("iframe");return On(a,r),On(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),co(a,"tox-edit-area__iframe"),a},NF=function(e){var t=t1(e)+"<html><head>";n1(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=r1(e),r=a1(e);return fp(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+fp(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>',t},AF=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=kF(e.id,n,t.height,e1(e)).dom;r.onload=function(){r.onload=null,e.fire("load")};var a=xF(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=NF(e),Ni.add(t.iframeContainer,r),a},TF=function(e,t){var n=AF(e,t);t.editorContainer&&(Ni.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Ni.isHidden(t.editorContainer)),e.getElement().style.display="none",Ni.setAttrib(e.id,"aria-hidden","true"),n||fc(e)},wb=Ce.DOM,Eb=function(e,t,n){var r=Zt.get(n),a=Zt.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=B.trim(n),r&&B.inArray(t,n)===-1){if(B.each(Zt.dependencies(n),function(o){Eb(e,t,o)}),e.plugins[n])return;try{var i=new r(e,a,e.$);e.plugins[n]=i,i.init&&(i.init(e,a),t.push(n))}catch(o){fO(e,n,o)}}},Sb=function(e){return e.replace(/^\-/,"")},RF=function(e){var t=[];B.each(rs(e).split(/[ ,]/),function(n){Eb(e,t,Sb(n))})},BF=function(e){var t=B.trim(lp(e)),n=e.ui.registry.getAll().icons,r=ue(ue({},Zo.get("default").icons),Zo.get(t).icons);Be(r,function(a,i){Ke(n,i)||e.ui.registry.addIcon(i,a)})},DF=function(e){var t=ai(e);if(Ue(t)){e.settings.theme=Sb(t);var n=Qn.get(t);e.theme=new n(e,Qn.urls[t]),e.theme.init&&e.theme.init(e,Qn.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},PF=function(e){return e.theme.renderUI()},OF=function(e){var t=e.getElement(),n=ai(e),r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},xb=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},_F=function(e){var t=wb.create("div");return wb.insertAfter(t,e),xb(t)},LF=function(e){var t=e.getElement();return e.inline?xb(null):_F(t)},IF=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,Ue(ai(e))?PF(e):We(ai(e))?OF(e):LF(e)},$F=function(e,t){var n={show:b.from(t.show).getOr(fe),hide:b.from(t.hide).getOr(fe),disable:b.from(t.disable).getOr(fe),isDisabled:b.from(t.isDisabled).getOr(he),enable:function(){e.mode.isReadOnly()||b.from(t.enable).map(pC)}};e.ui=ue(ue({},e.ui),n)},kb=function(e){e.fire("ScriptsLoaded"),BF(e),DF(e),RF(e);var t=IF(e);$F(e,b.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,vO(e),e.inline?fc(e):TF(e,n)},Rr=Ce.DOM,Nb=function(e){return e.charAt(0)==="-"},FF=function(e,t){var n=vp(t),r=w1(t);if(Kt.hasCode(n)===!1&&n!=="en"){var a=r!==""?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(a,fe,void 0,function(){uO(t,a,n)})}},MF=function(e,t,n,r){var a=ai(t);if(Ue(a)){if(!Nb(a)&&!Qn.urls.hasOwnProperty(a)){var i=_1(t);i?Qn.load(a,t.documentBaseURI.toAbsolute(i)):Qn.load(a,"themes/"+a+"/theme"+n+".js")}e.loadQueue(function(){Qn.waitFor(a,r)})}else r()},UF=function(e){return b.from(m1(e)).filter(function(t){return t.length>0}).map(function(t){return{url:t,name:b.none()}})},Ab=function(e,t,n){return b.from(t).filter(function(r){return r.length>0&&!Zo.has(r)}).map(function(r){return{url:e.editorManager.baseURL+"/icons/"+r+"/icons"+n+".js",name:b.some(r)}})},zF=function(e,t,n){var r=Ab(t,"default",n),a=UF(t).orThunk(function(){return Ab(t,lp(t),"")});Y(NS([r,a]),function(i){e.add(i.url,fe,void 0,function(){oO(t,i.url,i.name.getOrUndefined())})})},HF=function(e,t){B.each(j1(e),function(n,r){Zt.load(r,n,fe,void 0,function(){Fl(e,n,r)}),e.settings.plugins+=" "+r}),B.each(rs(e).split(/[ ,]/),function(n){if(n=B.trim(n),n&&!Zt.urls[n])if(Nb(n)){n=n.substr(1,n.length);var r=Zt.dependencies(n);B.each(r,function(i){var o={prefix:"plugins/",resource:i,suffix:"/plugin"+t+".js"},u=Zt.createUrl(o,i);Zt.load(u.resource,u,fe,void 0,function(){Fl(e,u.prefix+u.resource+u.suffix,u.resource)})})}else{var a={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};Zt.load(n,a,fe,void 0,function(){Fl(e,a.prefix+a.resource+a.suffix,n)})}})},VF=function(e,t){var n=Sn.ScriptLoader;MF(n,e,t,function(){FF(n,e),zF(n,e,t),HF(e,t),n.loadQueue(function(){e.removed||kb(e)},e,function(){e.removed||kb(e)})})},qF=function(e,t){return qv.forElement(e,{contentCssCors:W1(t),referrerPolicy:cp(t)})},WF=function(e){var t=e.id;Kt.setCode(vp(e));var n=function(){Rr.unbind(window,"ready",n),e.render()};if(!ta.Event.domLoaded){Rr.bind(window,"ready",n);return}if(!!e.getElement()&&!!ae.contentEditable){var r=x.fromDom(e.getElement()),a=q0(r);e.on("remove",function(){xc(r.dom.attributes,function(o){return fr(r,o.name)}),On(r,a)}),e.ui.styleSheetLoader=qF(r,e),L1(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||Rr.getParent(t,"form");i&&(e.formElement=i,I1(e)&&!of(e.getElement())&&(Rr.insertAfter(Rr.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(o){e.fire(o.type,o)},Rr.bind(i,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),$1(e)&&!i.submit.nodeType&&!i.submit.length&&!i._mceOldSubmit&&(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=wh(e),e.notificationManager=Ch(e),F1(e)&&e.on("GetContent",function(o){o.save&&(o.content=Rr.encode(o.content))}),M1(e)&&e.on("submit",function(){e.initialized&&e.save()}),U1(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),VF(e,e.suffix)}},jF=function(e,t){return ND(e,t)},KF={"font-size":"size","font-family":"face"},GF=function(e,t,n){var r=function(i){return sf(i,e).orThunk(function(){return Oe(i)==="font"?xt(KF,e).bind(function(o){return Rv(i,o)}):b.none()})},a=function(i){return Se(x.fromDom(t),i)};return ll(x.fromDom(n),function(i){return r(i)},a)},XF=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},YF=function(e,t){return b.from(Ce.DOM.getStyle(t,e,!0))},Tb=function(e){return function(t,n){return b.from(n).map(x.fromDom).filter(nn).bind(function(r){return GF(e,t,r.dom).or(YF(e,r.dom))}).getOr("")}},QF=Tb("font-size"),ZF=ar(XF,Tb("font-family")),JF=function(e){return st(e.getBody()).map(function(t){var n=t.container();return Q(n)?n.parentNode:n})},eM=function(e){return b.from(e.selection.getRng()).bind(function(t){var n=e.getBody(),r=t.startContainer===n&&t.startOffset===0;return r?b.none():b.from(e.selection.getStart(!0))})},sc=function(e,t){return eM(e).orThunk(j(JF,e)).map(x.fromDom).filter(nn).map(t)},Rb=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=l1(e),a=c1(e);return a?a[n-1]||t:r[n-1]||t}else return t}else return t},tM=function(e){var t=e.split(/\s*,\s*/);return ke(t,function(n){return n.indexOf(" ")!==-1&&!(Ur(n,'"')||Ur(n,"'"))?"'"+n+"'":n}).join(",")},nM=function(e,t){var n=Rb(e,t);e.formatter.toggle("fontname",{value:tM(n)}),e.nodeChanged()},rM=function(e){return sc(e,function(t){return ZF(e.getBody(),t.dom)}).getOr("")},aM=function(e,t){e.formatter.toggle("fontsize",{value:Rb(e,t)}),e.nodeChanged()},iM=function(e){return sc(e,function(t){return QF(e.getBody(),t.dom)}).getOr("")},oM=function(e){return sc(e,function(t){var n=x.fromDom(e.getBody()),r=ll(t,function(i){return sf(i,"line-height")},j(Se,n)),a=function(){var i=parseFloat(wn(t,"line-height")),o=parseFloat(wn(t,"font-size"));return String(i/o)};return r.getOrThunk(a)}).getOr("")},uM=function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},fM=function(e){var t;return typeof e!="string"?(t=B.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},sM=function(e,t){var n=fM(t);xD(e,n.content,n.details)},Su=B.each,lM=B.map,cM=B.inArray,Bb=function(){function e(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return e.prototype.execCommand=function(t,n,r,a){var i,o=!1,u=this;if(!u.editor.removed){if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)&&(!a||!a.skip_focus)?u.editor.focus():yN(u.editor),a=u.editor.fire("BeforeExecCommand",{command:t,ui:n,value:r}),a.isDefaultPrevented())return!1;var f=t.toLowerCase();if(i=u.commands.exec[f])return i(f,n,r),u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(Su(this.editor.plugins,function(s){if(s.execCommand&&s.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),o=!0,!1}),o)return o;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{o=u.editor.getDoc().execCommand(t,n,r)}catch{}return o?(u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0):!1}},e.prototype.queryCommandState=function(t){var n;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),n=this.commands.state[t])return n(t);try{return this.editor.getDoc().queryCommandState(t)}catch{}return!1}},e.prototype.queryCommandValue=function(t){var n;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),n=this.commands.value[t])return n(t);try{return this.editor.getDoc().queryCommandValue(t)}catch{}}},e.prototype.addCommands=function(t,n){n===void 0&&(n="exec");var r=this;Su(t,function(a,i){Su(i.toLowerCase().split(","),function(o){r.commands[n][o]=a})})},e.prototype.addCommand=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.exec[t]=function(i,o,u,f){return n.call(r||a.editor,o,u,f)}},e.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch{}return!1},e.prototype.addQueryStateHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.state[t]=function(){return n.call(r||a.editor)}},e.prototype.addQueryValueHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.value[t]=function(){return n.call(r||a.editor)}},e.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},e.prototype.execNativeCommand=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=null),this.editor.getDoc().execCommand(t,n,r)},e.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},e.prototype.toggleFormat=function(t,n){this.editor.formatter.toggle(t,n?{value:n}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(t){var n=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":fe,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(a){var i=t.getDoc(),o;try{n.execNativeCommand(a)}catch{o=!0}if(a==="paste"&&!i.queryCommandEnabled(a)&&(o=!0),o||!i.queryCommandSupported(a)){var u=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");ae.mac&&(u=u.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:u,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var a=t.dom.getParent(t.selection.getStart(),"a");a&&t.dom.remove(a,!0);return}t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var i=a.substring(7);i==="full"&&(i="justify"),Su("left,center,right,justify".split(","),function(o){i!==o&&t.formatter.remove("align"+o)}),i!=="none"&&n.toggleFormat("align"+i)},"InsertUnorderedList,InsertOrderedList":function(a){var i;n.execNativeCommand(a);var o=t.dom.getParent(t.selection.getNode(),"ol,ul");o&&(i=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(n.storeSelection(),t.dom.split(i,o),n.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){n.toggleFormat(a)},"ForeColor,HiliteColor":function(a,i,o){n.toggleFormat(a,o)},FontName:function(a,i,o){nM(t,o)},FontSize:function(a,i,o){aM(t,o)},LineHeight:function(a,i,o){uM(t,o)},RemoveFormat:function(a){t.formatter.remove(a)},mceBlockQuote:function(){n.toggleFormat("blockquote")},FormatBlock:function(a,i,o){return n.toggleFormat(o||"p")},mceCleanup:function(){var a=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(a)},mceRemoveNode:function(a,i,o){var u=o||t.selection.getNode();u!==t.getBody()&&(n.storeSelection(),t.dom.remove(u,!0),n.restoreSelection())},mceSelectNodeDepth:function(a,i,o){var u=0;t.dom.getParent(t.selection.getNode(),function(f){if(f.nodeType===1&&u++===o)return t.selection.select(f),!1},t.getBody())},mceSelectNode:function(a,i,o){t.selection.select(o)},mceInsertContent:function(a,i,o){sM(t,o)},mceInsertRawHTML:function(a,i,o){t.selection.setContent("tiny_mce_marker");var u=t.getContent();t.setContent(u.replace(/tiny_mce_marker/g,function(){return o}))},mceInsertNewLine:function(a,i,o){fb(t,o)},mceToggleFormat:function(a,i,o){n.toggleFormat(o)},mceSetContent:function(a,i,o){t.setContent(o)},"Indent,Outdent":function(a){Ay(t,a)},mceRepaint:fe,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(a,i,o){t.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(a,i,o){typeof o=="string"&&(o={href:o});var u=t.dom.getParent(t.selection.getNode(),"a");o.href=o.href.replace(/ /g,"%20"),(!u||!o.href)&&t.formatter.remove("link"),o.href&&t.formatter.apply("link",o,u)},selectAll:function(){var a=t.dom.getParent(t.selection.getStart(),rn);if(a){var i=t.dom.createRng();i.selectNodeContents(a),t.selection.setRng(i)}},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(a,i,o){return rb(t,o),!0}});var r=function(a){return function(){var i=t.selection,o=i.isCollapsed()?[t.dom.getParent(i.getNode(),t.dom.isBlock)]:i.getSelectedBlocks(),u=lM(o,function(f){return!!t.formatter.matchNode(f,a)});return cM(u,!0)!==-1}};n.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return n.isFormatMatch(a)},mceBlockQuote:function(){return n.isFormatMatch("blockquote")},Outdent:function(){return xy(t)},"InsertUnorderedList,InsertOrderedList":function(a){var i=t.dom.getParent(t.selection.getNode(),"ul,ol");return i&&(a==="insertunorderedlist"&&i.tagName==="UL"||a==="insertorderedlist"&&i.tagName==="OL")}},"state"),n.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),n.addQueryValueHandler("FontName",function(){return rM(t)},this),n.addQueryValueHandler("FontSize",function(){return iM(t)},this),n.addQueryValueHandler("LineHeight",function(){return oM(t)},this)},e}(),Br="data-mce-contenteditable",vM=function(e,t,n){Ad(e,t)&&n===!1?gS(e,t):n&&co(e,t)},lc=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch{}},xu=function(e,t){e.dom.contentEditable=t?"true":"false"},dM=function(e){Y(dt(e,'*[contenteditable="true"]'),function(t){Cn(t,Br,"true"),xu(t,!1)})},pM=function(e){Y(dt(e,"*["+Br+'="true"]'),function(t){fr(t,Br),xu(t,!0)})},mM=function(e){b.from(e.selection.getNode()).each(function(t){t.removeAttribute("data-mce-selected")})},gM=function(e){e.selection.setRng(e.selection.getRng())},hM=function(e,t){var n=x.fromDom(e.getBody());vM(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),mM(e),e.readonly=!0,xu(n,!1),dM(n)):(e.readonly=!1,xu(n,!0),pM(n),lc(e,"StyleWithCSS",!1),lc(e,"enableInlineTableEditing",!1),lc(e,"enableObjectResizing",!1),MN(e)&&e.focus(),gM(e),e.nodeChanged())},Dr=function(e){return e.readonly},Db=function(e){e.parser.addAttributeFilter("contenteditable",function(t){Dr(e)&&Y(t,function(n){n.attr(Br,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Br,function(t){Dr(e)&&Y(t,function(n){n.attr("contenteditable",n.attr(Br))})}),e.serializer.addTempAttr(Br)},yM=function(e){e.serializer?Db(e):e.on("PreInit",function(){Db(e)})},bM=function(e){return e.type==="click"},CM=function(e,t){var n=function(r){return Se(r,x.fromDom(e.getBody()))};return cf(t,"a",n).bind(function(r){return Rv(r,"href")})},wM=function(e,t){if(bM(t)&&!J.metaKeyPressed(t)){var n=x.fromDom(t.target);CM(e,n).each(function(r){if(t.preventDefault(),/^#/.test(r)){var a=e.dom.select(r+',[name="'+zC(r,"#")+'"]');a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},EM=function(e){e.on("ShowCaret",function(t){Dr(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){Dr(e)&&t.preventDefault()})},SM=B.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),cc=function(){function e(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||he}return e.isNative=function(t){return!!SM[t.toLowerCase()]},e.prototype.fire=function(t,n){var r=t.toLowerCase(),a=n||{};a.type=r,a.target||(a.target=this.scope),a.preventDefault||(a.preventDefault=function(){a.isDefaultPrevented=je},a.stopPropagation=function(){a.isPropagationStopped=je},a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=je},a.isDefaultPrevented=he,a.isPropagationStopped=he,a.isImmediatePropagationStopped=he),this.settings.beforeFire&&this.settings.beforeFire(a);var i=this.bindings[r];if(i)for(var o=0,u=i.length;o<u;o++){var f=i[o];if(f.once&&this.off(r,f.func),a.isImmediatePropagationStopped())return a.stopPropagation(),a;if(f.func.call(this.scope,a)===!1)return a.preventDefault(),a}return a},e.prototype.on=function(t,n,r,a){if(n===!1&&(n=he),n){var i={func:n};a&&B.extend(i,a);for(var o=t.toLowerCase().split(" "),u=o.length;u--;){var f=o[u],s=this.bindings[f];s||(s=this.bindings[f]=[],this.toggleEvent(f,!0)),r?s.unshift(i):s.push(i)}}return this},e.prototype.off=function(t,n){var r=this;if(t)for(var a=t.toLowerCase().split(" "),i=a.length;i--;){var o=a[i],u=this.bindings[o];if(!o)return Be(this.bindings,function(s,c){r.toggleEvent(c,!1),delete r.bindings[c]}),this;if(u){if(!n)u.length=0;else for(var f=u.length;f--;)u[f].func===n&&(u=u.slice(0,f).concat(u.slice(f+1)),this.bindings[o]=u);u.length||(this.toggleEvent(t,!1),delete this.bindings[o])}}else Be(this.bindings,function(s,c){r.toggleEvent(c,!1)}),this.bindings={};return this},e.prototype.once=function(t,n,r){return this.on(t,n,r,{once:!0})},e.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||this.bindings[t].length===0)},e}(),Ai=function(e){return e._eventDispatcher||(e._eventDispatcher=new cc({scope:e,toggleEvent:function(t,n){cc.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},ku={fire:function(e,t,n){var r=this;if(r.removed&&e!=="remove"&&e!=="detach")return t;var a=Ai(r).fire(e,t);if(n!==!1&&r.parent)for(var i=r.parent();i&&!a.isPropagationStopped();)i.fire(e,a,!1),i=i.parent();return a},on:function(e,t,n){return Ai(this).on(e,t,n)},off:function(e,t){return Ai(this).off(e,t)},once:function(e,t){return Ai(this).once(e,t)},hasEventListeners:function(e){return Ai(this).has(e)}},Nu=Ce.DOM,Pr,Au=function(e,t){if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=gp(e);return n?(e.eventRoot||(e.eventRoot=Nu.select(n)[0]),e.eventRoot):e.getBody()},xM=function(e){return!e.hidden&&!Dr(e)},Pb=function(e,t,n){xM(e)?e.fire(t,n):Dr(e)&&wM(e,n)},Ob=function(e,t){var n;if(e.delegates||(e.delegates={}),!(e.delegates[t]||e.removed)){var r=Au(e,t);if(gp(e)){if(Pr||(Pr={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Pr&&(Be(Pr,function(a,i){e.dom.unbind(Au(e,i))}),Pr=null)})),Pr[t])return;n=function(a){for(var i=a.target,o=e.editorManager.get(),u=o.length;u--;){var f=o[u].getBody();(f===i||Nu.isChildOf(i,f))&&Pb(o[u],t,a)}},Pr[t]=n,Nu.bind(r,t,n)}else n=function(a){Pb(e,t,a)},Nu.bind(r,t,n),e.delegates[t]=n}},_b=ue(ue({},ku),{bindPendingEventDelegates:function(){var e=this;B.each(e._pendingNativeEvents,function(t){Ob(e,t)})},toggleNativeEvent:function(e,t){var n=this;e==="focus"||e==="blur"||(t?n.initialized?Ob(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(Au(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(Be(e.delegates,function(r,a){e.dom.unbind(Au(e,a),a,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),kM=["design","readonly"],Lb=function(e,t,n,r){var a=n[t.get()],i=n[r];try{i.activate()}catch(o){console.error("problem while activating editor mode "+r+":",o);return}a.deactivate(),a.editorReadOnly!==i.editorReadOnly&&hM(e,i.editorReadOnly),t.set(r),sk(e,r)},NM=function(e,t,n,r){if(r!==n.get()){if(!Ke(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?Lb(e,n,t,r):e.on("init",function(){return Lb(e,n,t,r)})}},AM=function(e,t,n){var r;if(ze(kM,t))throw new Error("Cannot override default mode "+t);return ue(ue({},e),(r={},r[t]=ue(ue({},n),{deactivate:function(){try{n.deactivate()}catch(a){console.error("problem while deactivating editor mode "+t+":",a)}}}),r))},TM=function(e){var t=_e("design"),n=_e({design:{activate:fe,deactivate:fe,editorReadOnly:!1},readonly:{activate:fe,deactivate:fe,editorReadOnly:!0}});return yM(e),EM(e),{isReadOnly:function(){return Dr(e)},set:function(r){return NM(e,n.get(),t,r)},get:function(){return t.get()},register:function(r,a){n.set(AM(n.get(),r,a))}}},vc=B.each,dc=B.explode,RM={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Ib=B.makeMap("alt,ctrl,shift,meta,access"),BM=function(e){var t,n={};vc(dc(e.toLowerCase(),"+"),function(a){a in Ib?n[a]=!0:/^[0-9]{2,}$/.test(a)?n.keyCode=parseInt(a,10):(n.charCode=a.charCodeAt(0),n.keyCode=RM[a]||a.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in Ib)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,ae.mac?n.ctrl=!0:n.shift=!0),n.meta&&(ae.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},$b=function(){function e(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var n=this;t.on("keyup keypress keydown",function(r){(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(vc(n.shortcuts,function(a){if(n.matchShortcut(r,a))return n.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(a),!0}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}return e.prototype.add=function(t,n,r,a){var i=this,o=i.normalizeCommandFunc(r);return vc(dc(B.trim(t)),function(u){var f=i.createShortcut(u,n,o,a);i.shortcuts[f.id]=f}),!0},e.prototype.remove=function(t){var n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1},e.prototype.normalizeCommandFunc=function(t){var n=this,r=t;return typeof r=="string"?function(){n.editor.execCommand(r,!1,null)}:B.isArray(r)?function(){n.editor.execCommand(r[0],r[1],r[2])}:r},e.prototype.createShortcut=function(t,n,r,a){var i=B.map(dc(t,">"),BM);return i[i.length-1]=B.extend(i[i.length-1],{func:r,scope:a||this.editor}),B.extend(i[0],{desc:this.editor.translate(n),subpatterns:i.slice(1)})},e.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},e.prototype.isFunctionKey=function(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123},e.prototype.matchShortcut=function(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},e}(),DM=function(){var e={},t={},n={},r={},a={},i={},o={},u=function(s,c){return function(l,v){return s[l.toLowerCase()]=ue(ue({},v),{type:c})}},f=function(s,c){return r[s.toLowerCase()]=c};return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(a,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(o,"sidebar"),addIcon:f,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:a,contextToolbars:i,sidebars:o}}}},PM=function(){var e=DM();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Fb=B.each,OM=B.trim,_M="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),LM={ftp:21,http:80,https:443,mailto:25},Or=function(){function e(t,n){t=OM(t),this.settings=n||{};var r=this.settings.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}var i=t.indexOf("//")===0;if(t.indexOf("/")===0&&!i&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var o=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")t="//mce_host"+a.toAbsPath(o,t);else{var u=/([^#?]*)([#?]?.*)/.exec(t);t=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(o,u[1])+u[2]}}t=t.replace(/@@/g,"(mce_at)");var f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);Fb(_M,function(s,c){var l=f[c];l&&(l=l.replace(/\(mce_at\)/g,"@@")),a[s]=l}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),i&&(a.protocol="")}return e.parseDataUri=function(t){var n,r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(n=a[1]),{type:n,data:r[1]}},e.getDocumentBaseUrl=function(t){var n;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?n=t.href:n=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n},e.prototype.setPath=function(t){var n=/^(.*?)\/?(\w+)?$/.exec(t);this.path=n[0],this.directory=n[1],this.file=n[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if(t==="./")return t;var r=new e(t,{base_uri:this});if(r.host!=="mce_host"&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&r.protocol!=="")return r.getURI();var a=this.getURI(),i=r.getURI();return a===i||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===i?a:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var n=LM[this.protocol];if(n&&(this.port||n)==(t.port||n))return!0}return!1},e.prototype.toRelPath=function(t,n){var r=0,a="",i,o,u=t.substring(0,t.lastIndexOf("/")).split("/"),f=n.split("/");if(u.length>=f.length){for(i=0,o=u.length;i<o;i++)if(i>=f.length||u[i]!==f[i]){r=i+1;break}}if(u.length<f.length){for(i=0,o=f.length;i<o;i++)if(i>=u.length||u[i]!==f[i]){r=i+1;break}}if(r===1)return n;for(i=0,o=u.length-(r-1);i<o;i++)a+="../";for(i=r-1,o=f.length;i<o;i++)i!==r-1?a+="/"+f[i]:a+=f[i];return a},e.prototype.toAbsPath=function(t,n){var r,a=0,i=[],o,u=/\/$/.test(n)?"/":"",f=t.split("/"),s=n.split("/");for(Fb(f,function(c){c&&i.push(c)}),f=i,r=s.length-1,i=[];r>=0;r--)if(!(s[r].length===0||s[r]===".")){if(s[r]===".."){a++;continue}if(a>0){a--;continue}i.push(s[r])}return r=f.length-a,r<=0?o=Pi(i).join("/"):o=f.slice(0,r).join("/")+"/"+Pi(i).join("/"),o.indexOf("/")!==0&&(o="/"+o),u&&o.lastIndexOf("/")!==o.length-1&&(o+=u),o},e.prototype.getURI=function(t){t===void 0&&(t=!1);var n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source},e}(),_r=Ce.DOM,Mb=B.extend,IM=B.each,Ub=B.resolve,$M=ae.ie,Tu=function(){function e(t,n,r){var a=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,Mb(this,_b),this.settings=VP(this,t,this.documentBaseUrl,r.defaultSettings,n),this.settings.suffix&&(r.suffix=this.settings.suffix),this.suffix=r.suffix,this.settings.base_url&&r._setBaseUrl(this.settings.base_url),this.baseUri=r.baseURI,this.settings.referrer_policy&&(Sn.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ce.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),bt.languageLoad=this.settings.language_load,bt.baseURL=r.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new Or(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new $b(this),this.editorCommands=new Bb(this),this.settings.cache_suffix&&(ae.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:PM(),styleSheetLoader:void 0,show:fe,hide:fe,enable:fe,disable:fe,isDisabled:he};var i=this,o=TM(i);this.mode=o,this.setMode=o.set,r.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=re.overrideDefaults(function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}})}return e.prototype.render=function(){WF(this)},e.prototype.focus=function(t){zN(this,t)},e.prototype.hasFocus=function(){return wr(this)},e.prototype.execCallback=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=this,i=a.settings[t],o;if(!!i)return a.callbackLookup&&(o=a.callbackLookup[t])&&(i=o.func,o=o.scope),typeof i=="string"&&(o=i.replace(/\.\w+$/,""),o=o?Ub(o):0,i=Ub(i),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[t]={func:i,scope:o}),i.apply(o||a,n)},e.prototype.translate=function(t){return Kt.translate(t)},e.prototype.getParam=function(t,n,r){return jP(this,t,n,r)},e.prototype.hasPlugin=function(t,n){var r=ze(rs(this).split(/[ ,]/),t);return r?n?Zt.get(t)!==void 0:!0:!1},e.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},e.prototype.addCommand=function(t,n,r){this.editorCommands.addCommand(t,n,r)},e.prototype.addQueryStateHandler=function(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)},e.prototype.addQueryValueHandler=function(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)},e.prototype.addShortcut=function(t,n,r,a){this.shortcuts.add(t,n,r,a)},e.prototype.execCommand=function(t,n,r,a){return this.editorCommands.execCommand(t,n,r,a)},e.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},e.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},e.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},e.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(_r.show(t.getContainer()),_r.hide(t.id)),t.load(),t.fire("show"))},e.prototype.hide=function(){var t=this,n=t.getDoc();t.hidden||($M&&n&&!t.inline&&n.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(_r.hide(t.getContainer()),_r.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(t,n){this.fire("ProgressState",{state:t,time:n})},e.prototype.load=function(t){var n=this,r=n.getElement(),a;if(n.removed)return"";if(r){t=t||{},t.load=!0;var i=of(r)?r.value:r.innerHTML;return a=n.setContent(i,t),t.element=r,t.no_events||n.fire("LoadContent",t),t.element=r=null,a}},e.prototype.save=function(t){var n=this,r=n.getElement(),a,i;if(!(!r||!n.initialized||n.removed))return t=t||{},t.save=!0,t.element=r,a=t.content=n.getContent(t),t.no_events||n.fire("SaveContent",t),t.format==="raw"&&n.fire("RawSaveContent",t),a=t.content,of(r)?r.value=a:((t.is_removing||!n.inline)&&(r.innerHTML=a),(i=_r.getParent(n.id,"form"))&&IM(i.elements,function(o){if(o.name===n.id)return o.value=a,!1})),t.element=r=null,t.set_dirty!==!1&&n.setDirty(!1),a},e.prototype.setContent=function(t,n){return _l(this,t,n)},e.prototype.getContent=function(t){return hP(this,t)},e.prototype.insertContent=function(t,n){n&&(t=Mb({content:t},n)),this.execCommand("mceInsertContent",!1,t)},e.prototype.resetContent=function(t){t===void 0?_l(this,this.startContent,{format:"raw"}):_l(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(t){var n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.fire("dirty")},e.prototype.getContainer=function(){var t=this;return t.container||(t.container=_r.get(t.editorContainer||t.id+"_parent")),t.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=_r.get(this.id)),this.targetElm},e.prototype.getWin=function(){var t=this,n;return t.contentWindow||(n=t.iframeElement,n&&(t.contentWindow=n.contentWindow)),t.contentWindow},e.prototype.getDoc=function(){var t=this,n;return t.contentDocument||(n=t.getWin(),n&&(t.contentDocument=n.document)),t.contentDocument},e.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},e.prototype.convertURL=function(t,n,r){var a=this,i=a.settings;return i.urlconverter_callback?a.execCallback("urlconverter_callback",t,r,!0,n):!i.convert_urls||r&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:i.relative_urls?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,i.remove_script_host),t)},e.prototype.addVisual=function(t){jF(this,t)},e.prototype.remove=function(){wP(this)},e.prototype.destroy=function(t){EP(this,t)},e.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Mt=Ce.DOM,FM=B.explode,hn=B.each,MM=B.extend,UM=0,zb=!1,Ru,Jn=[],lt=[],zM=function(e){return e!=="length"},Hb=function(e){var t=e.type;hn(er.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e);break}})},Vb=function(e){e!==zb&&(e?re(window).on("resize scroll",Hb):re(window).off("resize scroll",Hb),zb=e)},qb=function(e){var t=lt;delete Jn[e.id];for(var n=0;n<Jn.length;n++)if(Jn[n]===e){Jn.splice(n,1);break}return lt=ve(lt,function(r){return e!==r}),er.activeEditor===e&&(er.activeEditor=lt.length>0?lt[0]:null),er.focusedEditor===e&&(er.focusedEditor=null),t.length!==lt.length},HM=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(qb(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},VM=document.compatMode!=="CSS1Compat",er=ue(ue({},ku),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:re,majorVersion:"5",minorVersion:"8.2",releaseDate:"2021-06-23",editors:Jn,i18n:Kt,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,t,n,r="";n=Or.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,r=a.suffix;else{for(var i=document.getElementsByTagName("script"),o=0;o<i.length;o++){var u=i[o].src||"";if(u!==""){var f=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){f.indexOf(".min")!==-1&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}}if(!t&&document.currentScript){var u=document.currentScript.src;u.indexOf(".min")!==-1&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new Or(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new Or(e.baseURL),e.suffix=r,DN(e)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;r!==void 0&&Be(r,function(a,i){bt.PluginManager.urls[i]=a})},init:function(e){var t=this,n,r=B.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=function(l,v){return l.inline&&v.tagName.toLowerCase()in r},i=function(l){var v=l.id;return v||(v=xt(l,"name").filter(function(p){return!Mt.get(p)}).getOrThunk(Mt.uniqueId),l.setAttribute("id",v)),v},o=function(l){var v=e[l];if(!!v)return v.apply(t,[])},u=function(l,v){return v.constructor===RegExp?v.test(l.className):Mt.hasClass(l,v)},f=function(l){var v=[];if(ae.browser.isIE()&&ae.browser.version.major<11)return eu("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(VM)return eu("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(l.types)return hn(l.types,function(m){v=v.concat(Mt.select(m.selector))}),v;if(l.selector)return Mt.select(l.selector);if(l.target)return[l.target];switch(l.mode){case"exact":var p=l.elements||"";p.length>0&&hn(FM(p),function(m){var g=Mt.get(m);g?v.push(g):hn(document.forms,function(d){hn(d.elements,function(y){y.name===m&&(m="mce_editor_"+UM++,Mt.setAttrib(y,"id",m),v.push(y))})})});break;case"textareas":case"specific_textareas":hn(Mt.select("textarea"),function(m){l.editor_deselector&&u(m,l.editor_deselector)||(!l.editor_selector||u(m,l.editor_selector))&&v.push(m)});break}return v},s=function(l){n=l},c=function(){var l=0,v=[],p,m=function(g,d,y){var h=new Tu(g,d,t);v.push(h),h.on("init",function(){++l===p.length&&s(v)}),h.targetElm=h.targetElm||y,h.render()};if(Mt.unbind(window,"ready",c),o("onpageload"),p=re.unique(f(e)),e.types){hn(e.types,function(g){B.each(p,function(d){return Mt.is(d,g.selector)?(m(i(d),MM({},e,g),d),!1):!0})});return}B.each(p,function(g){HM(t.get(g.id))}),p=B.grep(p,function(g){return!t.get(g.id)}),p.length===0?s([]):hn(p,function(g){a(e,g)?eu("Could not initialize inline editor on invalid inline target element",g):m(i(g),e,g)})};return t.settings=e,Mt.bind(window,"ready",c),new He(function(l){n?l(n):s=function(v){l(v)}})},get:function(e){return arguments.length===0?lt.slice(0):Ue(e)?ot(lt,function(t){return t.id===e}).getOr(null):Fr(e)&&lt[e]?lt[e]:null},add:function(e){var t=this,n=Jn[e.id];return n===e||(t.get(e.id)===null&&(zM(e.id)&&(Jn[e.id]=e),Jn.push(e),lt.push(e)),Vb(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),Ru||(Ru=function(r){var a=t.fire("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",Ru))),e},createEditor:function(e,t){return this.add(new Tu(e,t,this))},remove:function(e){var t=this,n,r;if(!e){for(n=lt.length-1;n>=0;n--)t.remove(lt[n]);return}if(Ue(e)){hn(Mt.select(e),function(a){r=t.get(a.id),r&&t.remove(r)});return}return r=e,cC(t.get(r.id))?null:(qb(r)&&t.fire("RemoveEditor",{editor:r}),lt.length===0&&window.removeEventListener("beforeunload",Ru),r.remove(),Vb(lt.length>0),r)},execCommand:function(e,t,n){var r=this,a=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new Tu(n,r.settings,r).render(),!0;case"mceRemoveEditor":return a&&a.remove(),!0;case"mceToggleEditor":return a?(a.isHidden()?a.show():a.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}return r.activeEditor?r.activeEditor.execCommand(e,t,n):!1},triggerSave:function(){hn(lt,function(e){e.save()})},addI18n:function(e,t){Kt.add(e,t)},translate:function(e){return Kt.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Or(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Or(this.baseURL)}});er.setup();var Wb=Math.min,Ra=Math.max,Bu=Math.round,jb=function(e,t,n){var r=t.x,a=t.y,i=e.w,o=e.h,u=t.w,f=t.h,s=(n||"").split("");return s[0]==="b"&&(a+=f),s[1]==="r"&&(r+=u),s[0]==="c"&&(a+=Bu(f/2)),s[1]==="c"&&(r+=Bu(u/2)),s[3]==="b"&&(a-=o),s[4]==="r"&&(r-=i),s[3]==="c"&&(a-=Bu(o/2)),s[4]==="c"&&(r-=Bu(i/2)),Ba(r,a,i,o)},qM=function(e,t,n,r){var a,i;for(i=0;i<r.length;i++)if(a=jb(e,t,r[i]),a.x>=n.x&&a.x+a.w<=n.w+n.x&&a.y>=n.y&&a.y+a.h<=n.h+n.y)return r[i];return null},WM=function(e,t,n){return Ba(e.x-t,e.y-n,e.w+t*2,e.h+n*2)},jM=function(e,t){var n=Ra(e.x,t.x),r=Ra(e.y,t.y),a=Wb(e.x+e.w,t.x+t.w),i=Wb(e.y+e.h,t.y+t.h);return a-n<0||i-r<0?null:Ba(n,r,a-n,i-r)},KM=function(e,t,n){var r=e.x,a=e.y,i=e.x+e.w,o=e.y+e.h,u=t.x+t.w,f=t.y+t.h,s=Ra(0,t.x-r),c=Ra(0,t.y-a),l=Ra(0,i-u),v=Ra(0,o-f);return r+=s,a+=c,n&&(i+=s,o+=c,r-=l,a-=v),i-=l,o-=v,Ba(r,a,i-r,o-a)},Ba=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},GM=function(e){return Ba(e.left,e.top,e.width,e.height)},XM={inflate:WM,relativePosition:jb,findBestRelativePosition:qM,intersect:jM,clamp:KM,create:Ba,fromClientRect:GM},YM=function(e,t,n){n===void 0&&(n=1e3);var r=!1,a=null,i=function(s){return function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];r||(r=!0,a!==null&&(clearTimeout(a),a=null),s.apply(null,c))}},o=i(e),u=i(t),f=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];!r&&a===null&&(a=setTimeout(function(){return u.apply(null,s)},n))};return{start:f,resolve:o,reject:u}},QM=function(){var e={},t={},n=function(a,i){var o='Script at URL "'+i+'" failed to load',u='Script at URL "'+i+"\" did not call `tinymce.Resource.add('"+a+"', data)` within 1 second";if(e[a]!==void 0)return e[a];var f=new He(function(s,c){var l=YM(s,c);t[a]=l.resolve,Sn.ScriptLoader.loadScript(i,function(){return l.start(u)},function(){return l.reject(o)})});return e[a]=f,f},r=function(a,i){t[a]!==void 0&&(t[a](i),delete t[a]),e[a]=He.resolve(i)};return{load:n,add:r}},ZM=QM(),Du=B.each,JM=B.extend,Kb,pc,Gb=function(){};Gb.extend=Kb=function(e){var t=this,n=t.prototype,r=function(){var u,f,s,c=this;if(!pc&&(c.init&&c.init.apply(c,arguments),f=c.Mixins,f))for(u=f.length;u--;)s=f[u],s.init&&s.init.apply(c,arguments)},a=function(){return this},i=function(u,f){return function(){var s=this,c=s._super;s._super=n[u];var l=f.apply(s,arguments);return s._super=c,l}};pc=!0;var o=new t;return pc=!1,e.Mixins&&(Du(e.Mixins,function(u){for(var f in u)f!=="init"&&(e[f]=u[f])}),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&Du(e.Methods.split(","),function(u){e[u]=a}),e.Properties&&Du(e.Properties.split(","),function(u){var f="_"+u;e[u]=function(s){var c=this;return s!==void 0?(c[f]=s,c):c[f]}}),e.Statics&&Du(e.Statics,function(u,f){r[f]=u}),e.Defaults&&n.Defaults&&(e.Defaults=JM({},n.Defaults,e.Defaults)),Be(e,function(u,f){typeof u=="function"&&n[f]?o[f]=i(f,u):o[f]=u}),r.prototype=o,r.constructor=r,r.extend=Kb,r};var Pu=Math.min,Ou=Math.max,Lr=Math.round,eU=function(e){var t={},n=0,r=0,a=0,i=function(l,v,p){var m,g,d;m=0,g=0,d=0,l=l/255,v=v/255,p=p/255;var y=Pu(l,Pu(v,p)),h=Ou(l,Ou(v,p));if(y===h)return d=y,{h:0,s:0,v:d*100};var C=l===y?v-p:p===y?l-v:p-l;return m=l===y?3:p===y?1:5,m=60*(m-C/(h-y)),g=(h-y)/h,d=h,{h:Lr(m),s:Lr(g*100),v:Lr(d*100)}},o=function(l,v,p){if(l=(parseInt(l,10)||0)%360,v=parseInt(v,10)/100,p=parseInt(p,10)/100,v=Ou(0,Pu(v,1)),p=Ou(0,Pu(p,1)),v===0){n=r=a=Lr(255*p);return}var m=l/60,g=p*v,d=g*(1-Math.abs(m%2-1)),y=p-g;switch(Math.floor(m)){case 0:n=g,r=d,a=0;break;case 1:n=d,r=g,a=0;break;case 2:n=0,r=g,a=d;break;case 3:n=0,r=d,a=g;break;case 4:n=d,r=0,a=g;break;case 5:n=g,r=0,a=d;break;default:n=r=a=0}n=Lr(255*(n+y)),r=Lr(255*(r+y)),a=Lr(255*(a+y))},u=function(){var l=function(v){return v=parseInt(v,10).toString(16),v.length>1?v:"0"+v};return"#"+l(n)+l(r)+l(a)},f=function(){return{r:n,g:r,b:a}},s=function(){return i(n,r,a)},c=function(l){var v;return typeof l=="object"?"r"in l?(n=l.r,r=l.g,a=l.b):"v"in l&&o(l.h,l.s,l.v):(v=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(l))?(n=parseInt(v[1],10),r=parseInt(v[2],10),a=parseInt(v[3],10)):(v=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(l))?(n=parseInt(v[1],16),r=parseInt(v[2],16),a=parseInt(v[3],16)):(v=/#([0-F])([0-F])([0-F])/gi.exec(l))&&(n=parseInt(v[1]+v[1],16),r=parseInt(v[2]+v[2],16),a=parseInt(v[3]+v[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,a=a<0?0:a>255?255:a,t};return e&&c(e),t.toRgb=f,t.toHsv=s,t.toHex=u,t.parse=c,t},tU=function(e){var t=JSON.stringify(e);return Ue(t)?t.replace(/[\u0080-\uFFFF]/g,function(n){var r=n.charCodeAt(0).toString(16);return"\\u"+"0000".substring(r.length)+r}):t},mc={serialize:tU,parse:function(e){try{return JSON.parse(e)}catch{}}},nU={callbacks:{},count:0,send:function(e){var t=this,n=Ce.DOM,r=e.count!==void 0?e.count:t.count,a="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(a),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:a,src:e.url,type:"text/javascript"}),t.count++}},_u=ue(ue({},ku),{send:function(e){var t,n=0,r=function(){!e.async||t.readyState===4||n++>1e4?(e.success&&n<1e4&&t.status===200?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):Ye.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",_u.fire("beforeInitialize",{settings:e}),t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&B.each(e.requestheaders,function(a){t.setRequestHeader(a.key,a.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=_u.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();Ye.setTimeout(r,10)}}),Xb=B.extend,rU=function(){function e(t){this.settings=Xb({},t),this.count=0}return e.sendRPC=function(t){return new e().send(t)},e.prototype.send=function(t){var n=t.error,r=t.success,a=Xb(this.settings,t);a.success=function(i,o){i=mc.parse(i),typeof i=="undefined"&&(i={error:"JSON Parse error."}),i.error?n.call(a.error_scope||a.scope,i.error,o):r.call(a.success_scope||a.scope,i.result)},a.error=function(i,o){n&&n.call(a.error_scope||a.scope,i,o)},a.data=mc.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),a.content_type="application/json",_u.send(a)},e}(),aU=function(){return function(){var e={},t=[],n={getItem:function(r){var a=e[r];return a||null},setItem:function(r,a){t.push(r),e[r]=String(a)},key:function(r){return t[r]},removeItem:function(r){t=t.filter(function(a){return a===r}),delete e[r]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()},Ti;try{var gc="__storage_test__";Ti=window.localStorage,Ti.setItem(gc,gc),Ti.removeItem(gc)}catch{Ti=aU()}var iU=Ti,oU={geom:{Rect:XM},util:{Promise:He,Delay:Ye,Tools:B,VK:J,URI:Or,Class:Gb,EventDispatcher:cc,Observable:ku,I18n:Kt,XHR:_u,JSON:mc,JSONRequest:rU,JSONP:nU,LocalStorage:iU,Color:eU,ImageUploader:hO},dom:{EventUtils:ta,Sizzle:me,DomQuery:re,TreeWalker:Ie,TextSeeker:Id,DOMUtils:Ce,ScriptLoader:Sn,RangeUtils:pi,Serializer:vh,StyleSheetLoader:Vv,ControlSelection:fm,BookmarkManager:vi,Selection:ah,Event:ta.Event},html:{Styles:Af,Entities:cr,Node:Ft,Schema:Fn,SaxParser:Lo,DomParser:Ol,Writer:Im,Serializer:Ca},Env:ae,AddOnManager:bt,Annotator:om,Formatter:Rh,UndoManager:Bh,EditorCommands:Bb,WindowManager:wh,NotificationManager:Ch,EditorObservable:_b,Shortcuts:$b,Editor:Tu,FocusManager:Nm,EditorManager:er,DOM:Ce.DOM,ScriptLoader:Sn.ScriptLoader,PluginManager:Zt,ThemeManager:Qn,IconManager:Zo,Resource:ZM,trim:B.trim,isArray:B.isArray,is:B.is,toArray:B.toArray,makeMap:B.makeMap,each:B.each,map:B.map,grep:B.grep,inArray:B.inArray,extend:B.extend,create:B.create,walk:B.walk,createNS:B.createNS,resolve:B.resolve,explode:B.explode,_addCacheSuffix:B._addCacheSuffix,isOpera:ae.opera,isWebKit:ae.webkit,isIE:ae.ie,isGecko:ae.gecko,isMac:ae.mac},Yb=B.extend(er,oU),uU=function(e){try{rC.exports=e}catch{}},fU=function(e){window.tinymce=e,window.tinyMCE=e};fU(Yb),uU(Yb)})()})(nC);var mU=nC.exports;export{tC as c,mU as t};
