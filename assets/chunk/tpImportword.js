import{c as A1}from"./pinia.js";import{J as EL,G as _L,u as xL,y as O1,a6 as NL,ab as PL,ac as AL,ad as OL,_ as T1,F as B1}from"./vue.js";var I1={exports:{}};(function(Fe){(function(){var Je=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},et=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},wt=function(e,t){var r=Array.prototype.slice.call(e);return r.sort(t)},dt=function(e,t){return Lt(function(r,n){return e.eq(t(r),t(n))})},Lt=function(e){return{eq:e}},Wr=Lt(function(e,t){return e===t}),Qe=Wr,vt=function(e){return Lt(function(t,r){if(t.length!==r.length)return!1;for(var n=t.length,a=0;a<n;a++)if(!e.eq(t[a],r[a]))return!1;return!0})},pr=function(e,t){return dt(vt(e),function(r){return wt(r,t)})},vn=function(e){return Lt(function(t,r){var n=Object.keys(t),a=Object.keys(r);if(!pr(Qe).eq(n,a))return!1;for(var i=n.length,o=0;o<i;o++){var u=n[o];if(!e.eq(t[u],r[u]))return!1}return!0})},pn=Lt(function(e,t){if(e===t)return!0;var r=Je(e),n=Je(t);return r!==n?!1:et(r)?e===t:r==="array"?vt(pn).eq(e,t):r==="object"?vn(pn).eq(e,t):!1}),$a=function(e){var t=typeof e;return e===null?"null":t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},ja=function(e){return function(t){return $a(t)===e}},hn=function(e){return function(t){return typeof t===e}},de=function(e){return function(t){return e===t}},Ct=ja("string"),Tn=ja("object"),Dt=ja("array"),sr=de(null),sn=hn("boolean"),Bn=de(void 0),Ua=function(e){return e==null},lr=function(e){return!Ua(e)},Qt=hn("function"),fa=hn("number"),ot=function(){},mn=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e(t.apply(null,r))}},uf=function(e,t){return function(r){return e(t(r))}},qe=function(e){return function(){return e}},Lr=function(e){return e};function Be(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=t.concat(n);return e.apply(null,i)}}var Oo=function(e){return function(t){return!e(t)}},Lu=function(e){return function(){throw new Error(e)}},sf=function(e){return e()},Ti=function(e){e()},Et=qe(!1),Jt=qe(!0),Ha=function(){return To},To=function(){var e=function(a){return a.isNone()},t=function(a){return a()},r=function(a){return a},n={fold:function(a,i){return a()},is:Et,isSome:Et,isNone:Jt,getOr:r,getOrThunk:t,getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},getOrNull:qe(null),getOrUndefined:qe(void 0),or:r,orThunk:t,map:Ha,each:ot,bind:Ha,exists:Et,forall:Jt,filter:Ha,equals:e,equals_:e,toArray:function(){return[]},toString:qe("none()")};return n}(),Bo=function(e){var t=qe(e),r=function(){return a},n=function(i){return i(e)},a={fold:function(i,o){return o(e)},is:function(i){return e===i},isSome:Jt,isNone:Et,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:r,orThunk:r,map:function(i){return Bo(i(e))},each:function(i){i(e)},bind:n,exists:n,forall:n,filter:function(i){return i(e)?a:To},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(i){return i.is(e)},equals_:function(i,o){return i.fold(Et,function(u){return o(e,u)})}};return a},zu=function(e){return e==null?To:Bo(e)},R={some:Bo,none:Ha,from:zu},Wa=Array.prototype.slice,lf=Array.prototype.indexOf,Mu=Array.prototype.push,Ro=function(e,t){return lf.call(e,t)},ff=function(e,t){var r=Ro(e,t);return r===-1?R.none():R.some(r)},er=function(e,t){return Ro(e,t)>-1},Br=function(e,t){for(var r=0,n=e.length;r<n;r++){var a=e[r];if(t(a,r))return!0}return!1},It=function(e,t){for(var r=e.length,n=new Array(r),a=0;a<r;a++){var i=e[a];n[a]=t(i,a)}return n},He=function(e,t){for(var r=0,n=e.length;r<n;r++){var a=e[r];t(a,r)}},Do=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];t(n,r)}},cf=function(e,t){for(var r=[],n=[],a=0,i=e.length;a<i;a++){var o=e[a],u=t(o,a)?r:n;u.push(o)}return{pass:r,fail:n}},mt=function(e,t){for(var r=[],n=0,a=e.length;n<a;n++){var i=e[n];t(i,n)&&r.push(i)}return r},$u=function(e,t,r){return Do(e,function(n){r=t(r,n)}),r},Qr=function(e,t,r){return He(e,function(n){r=t(r,n)}),r},nt=function(e,t,r){for(var n=0,a=e.length;n<a;n++){var i=e[n];if(t(i,n))return R.some(i);if(r(i,n))break}return R.none()},hr=function(e,t){return nt(e,t,Et)},Bi=function(e,t){for(var r=0,n=e.length;r<n;r++){var a=e[r];if(t(a,r))return R.some(r)}return R.none()},ju=function(e){for(var t=[],r=0,n=e.length;r<n;++r){if(!Dt(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);Mu.apply(t,e[r])}return t},Va=function(e,t){return ju(It(e,t))},qa=function(e,t){for(var r=0,n=e.length;r<n;++r){var a=e[r];if(t(a,r)!==!0)return!1}return!0},Ri=function(e){var t=Wa.call(e,0);return t.reverse(),t},ca=function(e,t){return mt(e,function(r){return!er(t,r)})},df=function(e,t){for(var r={},n=0,a=e.length;n<a;n++){var i=e[n];r[String(i)]=t(i,n)}return r},vf=function(e,t){var r=Wa.call(e,0);return r.sort(t),r},Io=function(e,t){return t>=0&&t<e.length?R.some(e[t]):R.none()},zr=function(e){return Io(e,0)},Rn=function(e){return Io(e,e.length-1)},Dn=Qt(Array.from)?Array.from:function(e){return Wa.call(e)},pf=function(e,t){for(var r=0;r<e.length;r++){var n=t(e[r],r);if(n.isSome())return n}return R.none()},In=Object.keys,hf=Object.hasOwnProperty,Ut=function(e,t){for(var r=In(e),n=0,a=r.length;n<a;n++){var i=r[n],o=e[i];t(o,i)}},Uu=function(e,t){return mf(e,function(r,n){return{k:n,v:t(r,n)}})},mf=function(e,t){var r={};return Ut(e,function(n,a){var i=t(n,a);r[i.k]=i.v}),r},Di=function(e){return function(t,r){e[r]=t}},Hu=function(e,t,r,n){var a={};return Ut(e,function(i,o){(t(i,o)?r:n)(i,o)}),a},Wu=function(e,t){var r={},n={};return Hu(e,t,Di(r),Di(n)),{t:r,f:n}},Ka=function(e,t){var r={};return Hu(e,t,Di(r),ot),r},Vu=function(e,t){var r=[];return Ut(e,function(n,a){r.push(t(n,a))}),r},gf=function(e){return Vu(e,function(t){return t})},Mr=function(e,t){return nr(e,t)?R.from(e[t]):R.none()},nr=function(e,t){return hf.call(e,t)},Ga=function(e,t){return nr(e,t)&&e[t]!==void 0&&e[t]!==null},bf=function(e,t,r){return r===void 0&&(r=pn),vn(r).eq(e,t)},Fo=Array.isArray,yf=function(e){if(Fo(e))return e;for(var t=[],r=0,n=e.length;r<n;r++)t[r]=e[r];return t},Za=function(e,t,r){var n,a;if(!e)return!1;if(r=r||e,e.length!==void 0){for(n=0,a=e.length;n<a;n++)if(t.call(r,e[n],n,e)===!1)return!1}else for(n in e)if(e.hasOwnProperty(n)&&t.call(r,e[n],n,e)===!1)return!1;return!0},da=function(e,t){var r=[];return Za(e,function(n,a){r.push(t(n,a,e))}),r},va=function(e,t){var r=[];return Za(e,function(n,a){(!t||t(n,a,e))&&r.push(n)}),r},qu=function(e,t){if(e){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1},Ft=function(e,t,r,n){for(var a=Bn(r)?e[0]:r,i=0;i<e.length;i++)a=t.call(n,a,e[i],i);return a},Mt=function(e,t,r){var n,a;for(n=0,a=e.length;n<a;n++)if(t.call(r,e[n],n,e))return n;return-1},gn=function(e){return e[e.length-1]},st=function(){return st=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},st.apply(this,arguments)};function wf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Lo(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,u=i.length;o<u;o++,a++)n[a]=i[o];return n}var Ku=function(e){var t=!1,r;return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return t||(t=!0,r=e.apply(null,n)),r}},Gu=function(e,t,r,n){var a=e.isiOS()&&/ipad/i.test(r)===!0,i=e.isiOS()&&!a,o=e.isiOS()||e.isAndroid(),u=o||n("(pointer:coarse)"),s=a||!i&&o&&n("(min-device-width:768px)"),c=i||o&&!s,m=t.isSafari()&&e.isiOS()&&/safari/i.test(r)===!1,h=!c&&!s&&!m;return{isiPad:qe(a),isiPhone:qe(i),isTablet:qe(s),isPhone:qe(c),isTouch:qe(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:qe(m),isDesktop:qe(h)}},zo=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.test(t))return n}},Mo=function(e,t){var r=zo(e,t);if(!r)return{major:0,minor:0};var n=function(a){return Number(t.replace(r,"$"+a))};return Qn(n(1),n(2))},Xa=function(e,t){var r=String(t).toLowerCase();return e.length===0?pa():Mo(e,r)},pa=function(){return Qn(0,0)},Qn=function(e,t){return{major:e,minor:t}},Fn={nu:Qn,detect:Xa,unknown:pa},Zu=function(e,t){var r=String(t).toLowerCase();return hr(e,function(n){return n.search(r)})},Cf=function(e,t){return Zu(e,t).map(function(r){var n=Fn.detect(r.versionRegexes,t);return{current:r.name,version:n}})},kf=function(e,t){return Zu(e,t).map(function(r){var n=Fn.detect(r.versionRegexes,t);return{current:r.name,version:n}})},Xu={detectBrowser:Cf,detectOs:kf},Sf=function(e,t){return e.substring(t)},Ii=function(e,t,r){return t===""||e.length>=t.length&&e.substr(r,r+t.length)===t},Ef=function(e,t){return Jn(e,t)?Sf(e,t.length):e},mr=function(e,t){return e.indexOf(t)!==-1},Jn=function(e,t){return Ii(e,t,0)},$o=function(e){return function(t){return t.replace(e,"")}},Ya=$o(/^\s+|\s+$/g),jo=$o(/^\s+/g),Yu=$o(/\s+$/g),Qu=function(e){return e.length>0},Uo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,bn=function(e){return function(t){return mr(t,e)}},_f=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return mr(e,"edge/")&&mr(e,"chrome")&&mr(e,"safari")&&mr(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Uo],search:function(e){return mr(e,"chrome")&&!mr(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return mr(e,"msie")||mr(e,"trident")}},{name:"Opera",versionRegexes:[Uo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:bn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:bn("firefox")},{name:"Safari",versionRegexes:[Uo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(mr(e,"safari")||mr(e,"mobile/"))&&mr(e,"applewebkit")}}],xf=[{name:"Windows",search:bn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return mr(e,"iphone")||mr(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:bn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:bn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:bn("linux"),versionRegexes:[]},{name:"Solaris",search:bn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:bn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:bn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ju={browsers:qe(_f),oses:qe(xf)},es="Edge",Ho="Chrome",Fi="IE",Wo="Opera",ts="Firefox",rs="Safari",Nf=function(){return Vo({current:void 0,version:Fn.unknown()})},Vo=function(e){var t=e.current,r=e.version,n=function(a){return function(){return t===a}};return{current:t,version:r,isEdge:n(es),isChrome:n(Ho),isIE:n(Fi),isOpera:n(Wo),isFirefox:n(ts),isSafari:n(rs)}},ns={unknown:Nf,nu:Vo,edge:qe(es),chrome:qe(Ho),ie:qe(Fi),opera:qe(Wo),firefox:qe(ts),safari:qe(rs)},as="Windows",is="iOS",qo="Android",os="Linux",b="OSX",f="Solaris",l="FreeBSD",v="ChromeOS",p=function(){return d({current:void 0,version:Fn.unknown()})},d=function(e){var t=e.current,r=e.version,n=function(a){return function(){return t===a}};return{current:t,version:r,isWindows:n(as),isiOS:n(is),isAndroid:n(qo),isOSX:n(b),isLinux:n(os),isSolaris:n(f),isFreeBSD:n(l),isChromeOS:n(v)}},y={unknown:p,nu:d,windows:qe(as),ios:qe(is),android:qe(qo),linux:qe(os),osx:qe(b),solaris:qe(f),freebsd:qe(l),chromeos:qe(v)},E=function(e,t){var r=Ju.browsers(),n=Ju.oses(),a=Xu.detectBrowser(r,e).fold(ns.unknown,ns.nu),i=Xu.detectOs(n,e).fold(y.unknown,y.nu),o=Gu(i,a,e,t);return{browser:a,os:i,deviceType:o}},k={detect:E},A=function(e){return window.matchMedia(e).matches},D=Ku(function(){return k.detect(navigator.userAgent,A)}),F=function(){return D()},U=navigator.userAgent,P=F(),I=P.browser,H=P.os,O=P.deviceType,L=/WebKit/.test(U)&&!I.isEdge(),$="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,X=U.indexOf("Windows Phone")!==-1,Y={opera:I.isOpera(),webkit:L,ie:I.isIE()||I.isEdge()?I.version.major:!1,gecko:I.isFirefox(),mac:H.isOSX()||H.isiOS(),iOS:O.isiPad()||O.isiPhone(),android:H.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:I.isIE()?document.documentMode||7:10,fileApi:$,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!I.isIE(),desktop:O.isDesktop(),windowsPhone:X,browser:{current:I.current,version:I.version,isChrome:I.isChrome,isEdge:I.isEdge,isFirefox:I.isFirefox,isIE:I.isIE,isOpera:I.isOpera,isSafari:I.isSafari},os:{current:H.current,version:H.version,isAndroid:H.isAndroid,isChromeOS:H.isChromeOS,isFreeBSD:H.isFreeBSD,isiOS:H.isiOS,isLinux:H.isLinux,isOSX:H.isOSX,isSolaris:H.isSolaris,isWindows:H.isWindows},deviceType:{isDesktop:O.isDesktop,isiPad:O.isiPad,isiPhone:O.isiPhone,isPhone:O.isPhone,isTablet:O.isTablet,isTouch:O.isTouch,isWebView:O.isWebView}},re=/^\s*|\s*$/g,Pe=function(e){return e==null?"":(""+e).replace(re,"")},me=function(e,t){return t?t==="array"&&Fo(e)?!0:typeof e===t:e!==void 0},Oe=function(e,t,r){var n;for(e=e||[],t=t||",",typeof e=="string"&&(e=e.split(t)),r=r||{},n=e.length;n--;)r[e[n]]={};return r},pe=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ue=function(e,t,r){var n=this,a,i,o,u=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var s=e[3].match(/(^|\.)(\w+)$/i)[2],c=n.createNS(e[3].replace(/\.\w+$/,""),r);if(!c[s]){if(e[2]==="static"){c[s]=t,this.onCreate&&this.onCreate(e[2],e[3],c[s]);return}t[s]||(t[s]=function(){},u=1),c[s]=t[s],n.extend(c[s].prototype,t),e[5]&&(a=n.resolve(e[5]).prototype,i=e[5].match(/\.(\w+)$/i)[1],o=c[s],u?c[s]=function(){return a[i].apply(this,arguments)}:c[s]=function(){return this.parent=a[i],o.apply(this,arguments)},c[s].prototype[s]=c[s],n.each(a,function(m,h){c[s].prototype[h]=a[h]}),n.each(t,function(m,h){a[h]?c[s].prototype[h]=function(){return this.parent=a[h],m.apply(this,arguments)}:h!==s&&(c[s].prototype[h]=m)})),n.each(t.static,function(m,h){c[s][h]=m})}},lt=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++){var a=t[n];for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];o!==void 0&&(e[i]=o)}}return e},Z=function(e,t,r,n){n=n||this,e&&(r&&(e=e[r]),Za(e,function(a,i){if(t.call(n,a,i,r)===!1)return!1;Z(a,t,r,n)}))},Ce=function(e,t){var r,n;for(t=t||window,e=e.split("."),r=0;r<e.length;r++)n=e[r],t[n]||(t[n]={}),t=t[n];return t},N=function(e,t){var r,n;for(t=t||window,e=e.split("."),r=0,n=e.length;r<n&&(t=t[e[r]],!!t);r++);return t},_e=function(e,t){return!e||me(e,"array")?e:da(e.split(t||","),Pe)},ht=function(e){var t=Y.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e},V={trim:Pe,isArray:Fo,is:me,toArray:yf,makeMap:Oe,each:Za,map:da,grep:va,inArray:qu,hasOwn:pe,extend:lt,create:Ue,walk:Z,createNS:Ce,resolve:N,explode:_e,_addCacheSuffix:ht},bt=function(e,t){var r=t||document,n=r.createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return fe(n.childNodes[0])},Me=function(e,t){var r=t||document,n=r.createElement(e);return fe(n)},ft=function(e,t){var r=t||document,n=r.createTextNode(e);return fe(n)},fe=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},se=function(e,t,r){return R.from(e.dom.elementFromPoint(t,r)).map(fe)},W={fromHtml:bt,fromTag:Me,fromText:ft,fromDom:fe,fromPoint:se},Ze=function(e,t){var r=[],n=function(i){return r.push(i),t(i)},a=t(e);do a=a.bind(n);while(a.isSome());return r},Ve=function(e,t,r){return(e.compareDocumentPosition(t)&r)!==0},qt=function(e,t){return Ve(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},gr=8,kt=9,At=11,Zt=1,Kt=3,Er=function(e,t){var r=e.dom;if(r.nodeType!==Zt)return!1;var n=r;if(n.matches!==void 0)return n.matches(t);if(n.msMatchesSelector!==void 0)return n.msMatchesSelector(t);if(n.webkitMatchesSelector!==void 0)return n.webkitMatchesSelector(t);if(n.mozMatchesSelector!==void 0)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Vr=function(e){return e.nodeType!==Zt&&e.nodeType!==kt&&e.nodeType!==At||e.childElementCount===0},w=function(e,t){var r=t===void 0?document:t.dom;return Vr(r)?[]:It(r.querySelectorAll(e),W.fromDom)},ke=function(e,t){var r=t===void 0?document:t.dom;return Vr(r)?R.none():R.from(r.querySelector(e)).map(W.fromDom)},ae=function(e,t){return e.dom===t.dom},q=function(e,t){var r=e.dom,n=t.dom;return r===n?!1:r.contains(n)},M=function(e,t){return qt(e.dom,t.dom)},Q=function(e,t){return F().browser.isIE()?M(e,t):q(e,t)};typeof window!="undefined"||Function("return this;")();var ye=function(e){var t=e.dom.nodeName;return t.toLowerCase()},Te=function(e){return e.dom.nodeType},oe=function(e){return function(t){return Te(t)===e}},je=function(e){return Te(e)===gr||ye(e)==="#comment"},Ke=oe(Zt),Re=oe(Kt),it=oe(kt),$t=oe(At),St=function(e){return W.fromDom(e.dom.ownerDocument)},fr=function(e){return it(e)?e:St(e)},Qa=function(e){return W.fromDom(fr(e).dom.documentElement)},Jr=function(e){return W.fromDom(fr(e).dom.defaultView)},_r=function(e){return R.from(e.dom.parentNode).map(W.fromDom)},Gt=function(e,t){for(var r=Qt(t)?t:Et,n=e.dom,a=[];n.parentNode!==null&&n.parentNode!==void 0;){var i=n.parentNode,o=W.fromDom(i);if(a.push(o),r(o)===!0)break;n=i}return a},Li=function(e){var t=function(r){return mt(r,function(n){return!ae(e,n)})};return _r(e).map(jr).map(t).getOr([])},yn=function(e){return R.from(e.dom.previousSibling).map(W.fromDom)},$r=function(e){return R.from(e.dom.nextSibling).map(W.fromDom)},Ko=function(e){return Ri(Ze(e,yn))},us=function(e){return Ze(e,$r)},jr=function(e){return It(e.dom.childNodes,W.fromDom)},zi=function(e,t){var r=e.dom.childNodes;return R.from(r[t]).map(W.fromDom)},Go=function(e){return zi(e,0)},ea=function(e){return zi(e,e.dom.childNodes.length-1)},Mi=function(e){return e.dom.childNodes.length},L1=function(e){var t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return W.fromDom(t)},Wv=function(e){return $t(e)&&lr(e.dom.host)},Vv=Qt(Element.prototype.attachShadow)&&Qt(Node.prototype.getRootNode),z1=qe(Vv),Ja=Vv?function(e){return W.fromDom(e.dom.getRootNode())}:fr,Pf=function(e){return Wv(e)?e:L1(fr(e))},M1=function(e){var t=Ja(e);return Wv(t)?R.some(t):R.none()},$1=function(e){return W.fromDom(e.dom.host)},j1=function(e){if(z1()&&lr(e.target)){var t=W.fromDom(e.target);if(Ke(t)&&U1(t)&&e.composed&&e.composedPath){var r=e.composedPath();if(r)return zr(r)}}return R.from(e.target)},U1=function(e){return lr(e.dom.shadowRoot)},wn=function(e,t){var r=_r(e);r.each(function(n){n.dom.insertBefore(t.dom,e.dom)})},Zo=function(e,t){var r=$r(e);r.fold(function(){var n=_r(e);n.each(function(a){br(a,t)})},function(n){wn(n,t)})},qv=function(e,t){var r=Go(e);r.fold(function(){br(e,t)},function(n){e.dom.insertBefore(t.dom,n.dom)})},br=function(e,t){e.dom.appendChild(t.dom)},H1=function(e,t){wn(e,t),br(t,e)},W1=function(e,t){He(t,function(r){wn(e,r)})},ss=function(e,t){He(t,function(r){br(e,r)})},Af=function(e){e.dom.textContent="",He(jr(e),function(t){yr(t)})},yr=function(e){var t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Kv=function(e){var t=jr(e);t.length>0&&W1(e,t),yr(e)},Xo=function(e){var t=Re(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;var r=t.ownerDocument;return M1(W.fromDom(t)).fold(function(){return r.body.contains(t)},uf(Xo,$1))},Gv=function(e,t){var r=function(n,a){return Gv(e+n,t+a)};return{left:e,top:t,translate:r}},$i=Gv,V1=function(e){var t=e.getBoundingClientRect();return $i(t.left,t.top)},ls=function(e,t){return e!==void 0?e:t!==void 0?t:0},q1=function(e){var t=e.dom.ownerDocument,r=t.body,n=t.defaultView,a=t.documentElement;if(r===e.dom)return $i(r.offsetLeft,r.offsetTop);var i=ls(n==null?void 0:n.pageYOffset,a.scrollTop),o=ls(n==null?void 0:n.pageXOffset,a.scrollLeft),u=ls(a.clientTop,r.clientTop),s=ls(a.clientLeft,r.clientLeft);return Of(e).translate(o-s,i-u)},Of=function(e){var t=e.dom,r=t.ownerDocument,n=r.body;return n===t?$i(n.offsetLeft,n.offsetTop):Xo(e)?V1(t):$i(0,0)},Tf=function(e){var t=e!==void 0?e.dom:document,r=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return $i(r,n)},Zv=function(e,t,r){var n=r!==void 0?r.dom:document,a=n.defaultView;a&&a.scrollTo(e,t)},Xv=function(e,t){var r=F().browser.isSafari();r&&Qt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},K1=function(e){var t=e===void 0?window:e;return R.from(t.visualViewport)},Yv=function(e,t,r,n){return{x:e,y:t,width:r,height:n,right:e+r,bottom:t+n}},Qv=function(e){var t=e===void 0?window:e,r=t.document,n=Tf(W.fromDom(r));return K1(t).fold(function(){var a=t.document.documentElement,i=a.clientWidth,o=a.clientHeight;return Yv(n.left,n.top,i,o)},function(a){return Yv(Math.max(a.pageLeft,n.left),Math.max(a.pageTop,n.top),a.width,a.height)})},Yo=function(e){return function(t){return!!t&&t.nodeType===e}},fs=function(e){return!!e&&!Object.getPrototypeOf(e)},at=Yo(1),ln=function(e){var t=e.map(function(r){return r.toLowerCase()});return function(r){if(r&&r.nodeName){var n=r.nodeName.toLowerCase();return er(t,n)}return!1}},cs=function(e,t){var r=t.toLowerCase().split(" ");return function(n){var a,i;if(at(n))for(a=0;a<r.length;a++){var o=n.ownerDocument.defaultView.getComputedStyle(n,null);if(i=o?o.getPropertyValue(e):null,i===r[a])return!0}return!1}},Jv=function(e){return function(t){return at(t)&&t.hasAttribute(e)}},G1=function(e,t){return function(r){return at(r)&&r.getAttribute(e)===t}},ji=function(e){return at(e)&&e.hasAttribute("data-mce-bogus")},Z1=function(e){return at(e)&&e.getAttribute("data-mce-bogus")==="all"},Ui=function(e){return at(e)&&e.tagName==="TABLE"},ep=function(e){return function(t){return!!(at(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e))}},Bf=ln(["textarea","input"]),We=Yo(3),X1=Yo(8),Rf=Yo(9),Df=Yo(11),Xt=ln(["br"]),Y1=ln(["img"]),Ln=ep("true"),zt=ep("false"),tp=ln(["td","th"]),fn=ln(["video","audio","object","embed"]),ds=function(e){return e.style!==void 0&&Qt(e.style.getPropertyValue)},rp=function(e,t,r){if(Ct(r)||sn(r)||fa(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple")},ta=function(e,t,r){rp(e.dom,t,r)},ha=function(e,t){var r=e.dom;Ut(t,function(n,a){rp(r,a,n)})},Qo=function(e,t){var r=e.dom.getAttribute(t);return r===null?void 0:r},np=function(e,t){return R.from(Qo(e,t))},Q1=function(e,t){var r=e.dom;return r&&r.hasAttribute?r.hasAttribute(t):!1},ei=function(e,t){e.dom.removeAttribute(t)},J1=function(e){return Qr(e.dom.attributes,function(t,r){return t[r.name]=r.value,t},{})},ew=function(e,t,r){if(!Ct(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);ds(e)&&e.style.setProperty(t,r)},tw=function(e,t){var r=e.dom;Ut(t,function(n,a){ew(r,a,n)})},ra=function(e,t){var r=e.dom,n=window.getComputedStyle(r),a=n.getPropertyValue(t);return a===""&&!Xo(e)?ap(r,t):a},ap=function(e,t){return ds(e)?e.style.getPropertyValue(t):""},If=function(e,t){var r=e.dom,n=ap(r,t);return R.from(n).filter(function(a){return a.length>0})},ip=function(e){var t={},r=e.dom;if(ds(r))for(var n=0;n<r.style.length;n++){var a=r.style.item(n);t[a]=r.style[a]}return t},rw=function(e){return e.dom.offsetWidth},nw=F().browser,op=function(e){return hr(e,Ke)},aw=function(e){return nw.isFirefox()&&ye(e)==="table"?op(jr(e)).filter(function(t){return ye(t)==="caption"}).bind(function(t){return op(us(t)).map(function(r){var n=r.dom.offsetTop,a=t.dom.offsetTop,i=t.dom.offsetHeight;return n<=a?-i:0})}).getOr(0):0},up=function(e,t){return e.children&&er(e.children,t)},iw=function(e,t,r){var n=0,a=0,i,o=e.ownerDocument,u;if(r=r||e,t){if(r===e&&t.getBoundingClientRect&&ra(W.fromDom(e),"position")==="static")return u=t.getBoundingClientRect(),n=u.left+(o.documentElement.scrollLeft||e.scrollLeft)-o.documentElement.clientLeft,a=u.top+(o.documentElement.scrollTop||e.scrollTop)-o.documentElement.clientTop,{x:n,y:a};for(i=t;i&&i!==r&&i.nodeType&&!up(i,r);)n+=i.offsetLeft||0,a+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!==r&&i.nodeType&&!up(i,r);)n-=i.scrollLeft||0,a-=i.scrollTop||0,i=i.parentNode;a+=aw(W.fromDom(t))}return{x:n,y:a}},sp={},lp={exports:sp};(function(e,t,r,n){(function(a){if(typeof t=="object"&&typeof r!="undefined")r.exports=a();else if(typeof e=="function"&&e.amd)e([],a);else{var i;typeof window!="undefined"?i=window:typeof A1!="undefined"?i=A1:typeof self!="undefined"?i=self:i=this,i.EphoxContactWrapper=a()}})(function(){return function(){function a(i,o,u){function s(h,g){if(!o[h]){if(!i[h]){var S=typeof n=="function"&&n;if(!g&&S)return S(h,!0);if(c)return c(h,!0);var _=new Error("Cannot find module '"+h+"'");throw _.code="MODULE_NOT_FOUND",_}var x=o[h]={exports:{}};i[h][0].call(x.exports,function(C){var B=i[h][1][C];return s(B||C)},x,x.exports,a,i,o,u)}return o[h].exports}for(var c=typeof n=="function"&&n,m=0;m<u.length;m++)s(u[m]);return s}return a}()({1:[function(a,i,o){var u=i.exports={},s,c;function m(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=m}catch{s=m}try{typeof clearTimeout=="function"?c=clearTimeout:c=h}catch{c=h}})();function g(ie){if(s===setTimeout)return setTimeout(ie,0);if((s===m||!s)&&setTimeout)return s=setTimeout,setTimeout(ie,0);try{return s(ie,0)}catch{try{return s.call(null,ie,0)}catch{return s.call(this,ie,0)}}}function S(ie){if(c===clearTimeout)return clearTimeout(ie);if((c===h||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(ie);try{return c(ie)}catch{try{return c.call(null,ie)}catch{return c.call(this,ie)}}}var _=[],x=!1,C,B=-1;function T(){!x||!C||(x=!1,C.length?_=C.concat(_):B=-1,_.length&&z())}function z(){if(!x){var ie=g(T);x=!0;for(var he=_.length;he;){for(C=_,_=[];++B<he;)C&&C[B].run();B=-1,he=_.length}C=null,x=!1,S(ie)}}u.nextTick=function(ie){var he=new Array(arguments.length-1);if(arguments.length>1)for(var ge=1;ge<arguments.length;ge++)he[ge-1]=arguments[ge];_.push(new j(ie,he)),_.length===1&&!x&&g(z)};function j(ie,he){this.fun=ie,this.array=he}j.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function G(){}u.on=G,u.addListener=G,u.once=G,u.off=G,u.removeListener=G,u.removeAllListeners=G,u.emit=G,u.prependListener=G,u.prependOnceListener=G,u.listeners=function(ie){return[]},u.binding=function(ie){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(ie){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],2:[function(a,i,o){(function(u){(function(s){var c=setTimeout;function m(){}function h(z,j){return function(){z.apply(j,arguments)}}function g(z){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof z!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],T(z,this)}function S(z,j){for(;z._state===3;)z=z._value;if(z._state===0){z._deferreds.push(j);return}z._handled=!0,g._immediateFn(function(){var G=z._state===1?j.onFulfilled:j.onRejected;if(G===null){(z._state===1?_:x)(j.promise,z._value);return}var ie;try{ie=G(z._value)}catch(he){x(j.promise,he);return}_(j.promise,ie)})}function _(z,j){try{if(j===z)throw new TypeError("A promise cannot be resolved with itself.");if(j&&(typeof j=="object"||typeof j=="function")){var G=j.then;if(j instanceof g){z._state=3,z._value=j,C(z);return}else if(typeof G=="function"){T(h(G,j),z);return}}z._state=1,z._value=j,C(z)}catch(ie){x(z,ie)}}function x(z,j){z._state=2,z._value=j,C(z)}function C(z){z._state===2&&z._deferreds.length===0&&g._immediateFn(function(){z._handled||g._unhandledRejectionFn(z._value)});for(var j=0,G=z._deferreds.length;j<G;j++)S(z,z._deferreds[j]);z._deferreds=null}function B(z,j,G){this.onFulfilled=typeof z=="function"?z:null,this.onRejected=typeof j=="function"?j:null,this.promise=G}function T(z,j){var G=!1;try{z(function(ie){G||(G=!0,_(j,ie))},function(ie){G||(G=!0,x(j,ie))})}catch(ie){if(G)return;G=!0,x(j,ie)}}g.prototype.catch=function(z){return this.then(null,z)},g.prototype.then=function(z,j){var G=new this.constructor(m);return S(this,new B(z,j,G)),G},g.all=function(z){var j=Array.prototype.slice.call(z);return new g(function(G,ie){if(j.length===0)return G([]);var he=j.length;function ge($e,ce){try{if(ce&&(typeof ce=="object"||typeof ce=="function")){var Xe=ce.then;if(typeof Xe=="function"){Xe.call(ce,function(Se){ge($e,Se)},ie);return}}j[$e]=ce,--he===0&&G(j)}catch(Se){ie(Se)}}for(var Le=0;Le<j.length;Le++)ge(Le,j[Le])})},g.resolve=function(z){return z&&typeof z=="object"&&z.constructor===g?z:new g(function(j){j(z)})},g.reject=function(z){return new g(function(j,G){G(z)})},g.race=function(z){return new g(function(j,G){for(var ie=0,he=z.length;ie<he;ie++)z[ie].then(j,G)})},g._immediateFn=typeof u=="function"?function(z){u(z)}:function(z){c(z,0)},g._unhandledRejectionFn=function(j){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",j)},g._setImmediateFn=function(j){g._immediateFn=j},g._setUnhandledRejectionFn=function(j){g._unhandledRejectionFn=j},typeof i!="undefined"&&i.exports?i.exports=g:s.Promise||(s.Promise=g)})(this)}).call(this,a("timers").setImmediate)},{timers:3}],3:[function(a,i,o){(function(u,s){var c=a("process/browser.js").nextTick,m=Function.prototype.apply,h=Array.prototype.slice,g={},S=0;o.setTimeout=function(){return new _(m.call(setTimeout,window,arguments),clearTimeout)},o.setInterval=function(){return new _(m.call(setInterval,window,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(x){x.close()};function _(x,C){this._id=x,this._clearFn=C}_.prototype.unref=_.prototype.ref=function(){},_.prototype.close=function(){this._clearFn.call(window,this._id)},o.enroll=function(x,C){clearTimeout(x._idleTimeoutId),x._idleTimeout=C},o.unenroll=function(x){clearTimeout(x._idleTimeoutId),x._idleTimeout=-1},o._unrefActive=o.active=function(x){clearTimeout(x._idleTimeoutId);var C=x._idleTimeout;C>=0&&(x._idleTimeoutId=setTimeout(function(){x._onTimeout&&x._onTimeout()},C))},o.setImmediate=typeof u=="function"?u:function(x){var C=S++,B=arguments.length<2?!1:h.call(arguments,1);return g[C]=!0,c(function(){g[C]&&(B?x.apply(null,B):x.call(null),o.clearImmediate(C))}),C},o.clearImmediate=typeof s=="function"?s:function(x){delete g[x]}}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(a,i,o){var u=a("promise-polyfill"),s=function(){return typeof window!="undefined"?window:Function("return this;")()}();i.exports={boltExport:s.Promise||u}},{"promise-polyfill":2}]},{},[4])(4)})})(void 0,sp,lp,void 0);var fp=lp.exports.boltExport,Ff=function(e){var t=R.none(),r=[],n=function(c){return Ff(function(m){a(function(h){m(c(h))})})},a=function(c){o()?s(c):r.push(c)},i=function(c){o()||(t=R.some(c),u(r),r=[])},o=function(){return t.isSome()},u=function(c){He(c,s)},s=function(c){t.each(function(m){setTimeout(function(){c(m)},0)})};return e(i),{get:a,map:n,isReady:o}},ow=function(e){return Ff(function(t){t(e)})},uw={nu:Ff,pure:ow},sw=function(e){setTimeout(function(){throw e},0)},Hi=function(e){var t=function(s){e().then(s,sw)},r=function(s){return Hi(function(){return e().then(s)})},n=function(s){return Hi(function(){return e().then(function(c){return s(c).toPromise()})})},a=function(s){return Hi(function(){return e().then(function(){return s.toPromise()})})},i=function(){return uw.nu(t)},o=function(){var s=null;return Hi(function(){return s===null&&(s=e()),s})},u=e;return{map:r,bind:n,anonBind:a,toLazy:i,toCached:o,toPromise:u,get:t}},lw=function(e){return Hi(function(){return new fp(e)})},fw=function(e){return Hi(function(){return fp.resolve(e)})},cp={nu:lw,pure:fw},cw=function(e,t){return t(function(r){var n=[],a=0,i=function(o){return function(u){n[o]=u,a++,a>=e.length&&r(n)}};e.length===0?r([]):He(e,function(o,u){o.get(i(u))})})},dw=function(e){return cw(e,cp.nu)},Wi=function(e){var t=function(g){return e===g},r=function(g){return Wi(e)},n=function(g){return Wi(e)},a=function(g){return Wi(g(e))},i=function(g){return Wi(e)},o=function(g){g(e)},u=function(g){return g(e)},s=function(g,S){return S(e)},c=function(g){return g(e)},m=function(g){return g(e)},h=function(){return R.some(e)};return{is:t,isValue:Jt,isError:Et,getOr:qe(e),getOrThunk:qe(e),getOrDie:qe(e),or:r,orThunk:n,fold:s,map:a,mapError:i,each:o,bind:u,exists:c,forall:m,toOptional:h}},Jo=function(e){var t=function(c){return c()},r=function(){return Lu(String(e))()},n=function(c){return c},a=function(c){return c()},i=function(c){return Jo(e)},o=function(c){return Jo(c(e))},u=function(c){return Jo(e)},s=function(c,m){return c(e)};return{is:Et,isValue:Et,isError:Jt,getOr:Lr,getOrThunk:t,getOrDie:r,or:n,orThunk:a,fold:s,map:i,mapError:o,each:ot,bind:u,exists:Et,forall:Jt,toOptional:R.none}},vw=function(e,t){return e.fold(function(){return Jo(t)},Wi)},dp={value:Wi,error:Jo,fromOption:vw},pw=function(e){if(!Dt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var t=[],r={};return He(e,function(n,a){var i=In(n);if(i.length!==1)throw new Error("one and only one name per case");var o=i[0],u=n[o];if(r[o]!==void 0)throw new Error("duplicate key detected:"+o);if(o==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Dt(u))throw new Error("case arguments must be an array");t.push(o),r[o]=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var m=s.length;if(m!==u.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+u.length+" ("+u+"), got "+m);var h=function(g){var S=In(g);if(t.length!==S.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+S.join(","));var _=qa(t,function(x){return er(S,x)});if(!_)throw new Error("Not all branches were specified when using match. Specified: "+S.join(", ")+`
Required: `+t.join(", "));return g[o].apply(null,s)};return{fold:function(){for(var g=[],S=0;S<arguments.length;S++)g[S]=arguments[S];if(g.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+g.length);var _=g[a];return _.apply(null,s)},match:h,log:function(g){console.log(g,{constructors:t,constructor:o,params:s})}}}}),r},ma={generate:pw};ma.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var vp=function(e){return e.fold(Lr,Lr)};function pp(e,t,r,n,a){return e(r,n)?R.some(r):Qt(a)&&a(r)?R.none():t(r,n,a)}var eu=function(e,t,r){for(var n=e.dom,a=Qt(r)?r:Et;n.parentNode;){n=n.parentNode;var i=W.fromDom(n);if(t(i))return R.some(i);if(a(i))break}return R.none()},vs=function(e,t,r){var n=function(a,i){return i(a)};return pp(n,eu,e,t,r)},hw=function(e,t){var r=e.dom;return r.parentNode?mw(W.fromDom(r.parentNode),function(n){return!ae(e,n)&&t(n)}):R.none()},mw=function(e,t){var r=function(a){return t(W.fromDom(a))},n=hr(e.dom.childNodes,r);return n.map(W.fromDom)},ps=function(e,t,r){return eu(e,function(n){return Er(n,t)},r)},hs=function(e,t){return ke(t,e)},Lf=function(e,t,r){var n=function(a,i){return Er(a,i)};return pp(n,ps,e,t,r)},gw=function(){var e=function(m,h){return function(){for(var g=[],S=0;S<arguments.length;S++)g[S]=arguments[S];m.apply(h,g)}},t=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"},r=function(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof m!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(m,e(i,this),e(o,this))},n=r.immediateFn||typeof setImmediate=="function"&&setImmediate||function(m){return setTimeout(m,1)};function a(m){var h=this;if(this._state===null){this._deferreds.push(m);return}n(function(){var g=h._state?m.onFulfilled:m.onRejected;if(g===null){(h._state?m.resolve:m.reject)(h._value);return}var S;try{S=g(h._value)}catch(_){m.reject(_);return}m.resolve(S)})}function i(m){try{if(m===this)throw new TypeError("A promise cannot be resolved with itself.");if(m&&(typeof m=="object"||typeof m=="function")){var h=m.then;if(typeof h=="function"){c(e(h,m),e(i,this),e(o,this));return}}this._state=!0,this._value=m,u.call(this)}catch(g){o.call(this,g)}}function o(m){this._state=!1,this._value=m,u.call(this)}function u(){for(var m=0,h=this._deferreds.length;m<h;m++)a.call(this,this._deferreds[m]);this._deferreds=null}function s(m,h,g,S){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof h=="function"?h:null,this.resolve=g,this.reject=S}var c=function(m,h,g){var S=!1;try{m(function(_){S||(S=!0,h(_))},function(_){S||(S=!0,g(_))})}catch(_){if(S)return;S=!0,g(_)}};return r.prototype.catch=function(m){return this.then(null,m)},r.prototype.then=function(m,h){var g=this;return new r(function(S,_){a.call(g,new s(m,h,S,_))})},r.all=function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];var g=Array.prototype.slice.call(m.length===1&&t(m[0])?m[0]:m);return new r(function(S,_){if(g.length===0)return S([]);for(var x=g.length,C=function(T,z){try{if(z&&(typeof z=="object"||typeof z=="function")){var j=z.then;if(typeof j=="function"){j.call(z,function(G){C(T,G)},_);return}}g[T]=z,--x===0&&S(g)}catch(G){_(G)}},B=0;B<g.length;B++)C(B,g[B])})},r.resolve=function(m){return m&&typeof m=="object"&&m.constructor===r?m:new r(function(h){h(m)})},r.reject=function(m){return new r(function(h,g){g(m)})},r.race=function(m){return new r(function(h,g){for(var S=0,_=m.length;S<_;S++)m[S].then(h,g)})},r},cr=window.Promise?window.Promise:gw(),zf,bw=function(e,t){for(var r=window.requestAnimationFrame,n=["ms","moz","webkit"],a=function(o){window.setTimeout(o,0)},i=0;i<n.length&&!r;i++)r=window[n[i]+"RequestAnimationFrame"];r||(r=a),r(e,t)},Mf=function(e,t){return typeof t!="number"&&(t=0),setTimeout(e,t)},hp=function(e,t){return typeof t!="number"&&(t=1),setInterval(e,t)},yw=function(e){return clearTimeout(e)},ww=function(e){return clearInterval(e)},mp=function(e,t){var r,n=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];clearTimeout(r),r=Mf(function(){e.apply(this,a)},t)};return n.stop=function(){clearTimeout(r)},n},wr={requestAnimationFrame:function(e,t){if(zf){zf.then(e);return}zf=new cr(function(r){t||(t=document.body),bw(r,t)}).then(e)},setTimeout:Mf,setInterval:hp,setEditorTimeout:function(e,t,r){return Mf(function(){e.removed||t()},r)},setEditorInterval:function(e,t,r){var n=hp(function(){e.removed?clearInterval(n):t()},r);return n},debounce:mp,throttle:mp,clearInterval:ww,clearTimeout:yw},gp=function(e,t){t===void 0&&(t={});var r=0,n={},a=W.fromDom(e),i=fr(a),o=t.maxLoadTime||5e3,u=function(C){t.referrerPolicy=C},s=function(C){br(Pf(a),C)},c=function(C){var B=Pf(a);hs(B,"#"+C).each(yr)},m=function(C){return Mr(n,C).getOrThunk(function(){return{id:"mce-u"+r++,passed:[],failed:[],count:0}})},h=function(C,B,T){var z,j=V._addCacheSuffix(C),G=m(j);n[j]=G,G.count++;var ie=function(Se,ze){for(var we=Se.length;we--;)Se[we]();G.status=ze,G.passed=[],G.failed=[],z&&(z.onload=null,z.onerror=null,z=null)},he=function(){return ie(G.passed,2)},ge=function(){return ie(G.failed,3)},Le=function(Se,ze){Se()||(Date.now()-Xe<o?wr.setTimeout(ze):ge())},$e=function(){Le(function(){for(var Se=e.styleSheets,ze=Se.length;ze--;){var we=Se[ze],xe=we.ownerNode;if(xe&&xe.id===z.id)return he(),!0}return!1},$e)};if(B&&G.passed.push(B),T&&G.failed.push(T),G.status!==1){if(G.status===2){he();return}if(G.status===3){ge();return}G.status=1;var ce=W.fromTag("link",i.dom);ha(ce,{rel:"stylesheet",type:"text/css",id:G.id});var Xe=Date.now();t.contentCssCors&&ta(ce,"crossOrigin","anonymous"),t.referrerPolicy&&ta(ce,"referrerpolicy",t.referrerPolicy),z=ce.dom,z.onload=$e,z.onerror=ge,s(ce),ta(ce,"href",j)}},g=function(C){return cp.nu(function(B){h(C,mn(B,qe(dp.value(C))),mn(B,qe(dp.error(C))))})},S=function(C,B,T){dw(It(C,g)).get(function(z){var j=cf(z,function(G){return G.isValue()});j.fail.length>0?T(j.fail.map(vp)):B(j.pass.map(vp))})},_=function(C){var B=V._addCacheSuffix(C);Mr(n,B).each(function(T){var z=--T.count;z===0&&(delete n[B],c(T.id))})},x=function(C){He(C,function(B){_(B)})};return{load:h,loadAll:S,unload:_,unloadAll:x,_setReferrerPolicy:u}},Cw=function(){var e=new WeakMap,t=function(r,n){var a=Ja(r),i=a.dom;return R.from(e.get(i)).getOrThunk(function(){var o=gp(i,n);return e.set(i,o),o})};return{forElement:t}},bp=Cw(),ar=function(){function e(t,r){this.node=t,this.rootNode=r,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},e.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},e.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},e.prototype.findSibling=function(t,r,n,a){var i,o;if(t){if(!a&&t[r])return t[r];if(t!==this.rootNode){if(i=t[n],i)return i;for(o=t.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(i=o[n],i)return i}}},e.prototype.findPreviousNode=function(t,r,n,a){var i,o,u;if(t){if(i=t[n],this.rootNode&&i===this.rootNode)return;if(i){if(!a){for(u=i[r];u;u=u[r])if(!u[r])return u}return i}if(o=t.parentNode,o&&o!==this.rootNode)return o}},e}(),kw=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Sw=["td","th"],Ew=["thead","tbody","tfoot"],_w=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],xw=["h1","h2","h3","h4","h5","h6"],Nw=["li","dd","dt"],Pw=["ul","ol","dl"],Aw=["pre","script","textarea","style"],ga=function(e){var t;return function(r){return t=t||df(e,Jt),t.hasOwnProperty(ye(r))}},Ow=ga(xw),zn=ga(kw),Tw=function(e){return ye(e)==="table"},$f=function(e){return Ke(e)&&!zn(e)},Vi=function(e){return Ke(e)&&ye(e)==="br"},yp=ga(_w),jf=ga(Pw),tu=ga(Nw),Bw=ga(Ew),ms=ga(Sw),gs=ga(Aw),Rw=function(e,t,r){return ps(e,t,r).isSome()},Uf="\uFEFF",qr="\xA0",Dw=function(e){return e===Uf},Iw=function(e){return e.replace(/\uFEFF/g,"")},dr=Uf,Hf=Dw,ba=Iw,Fw=at,qi=We,Ki=function(e){return qi(e)&&(e=e.parentNode),Fw(e)&&e.hasAttribute("data-mce-caret")},Gi=function(e){return qi(e)&&Hf(e.data)},en=function(e){return Ki(e)||Gi(e)},wp=function(e){return e.firstChild!==e.lastChild||!Xt(e.firstChild)},Lw=function(e,t){var r,n=e.ownerDocument,a=n.createTextNode(dr),i=e.parentNode;if(t){if(r=e.previousSibling,qi(r)){if(en(r))return r;if(ys(r))return r.splitText(r.data.length-1)}i.insertBefore(a,e)}else{if(r=e.nextSibling,qi(r)){if(en(r))return r;if(bs(r))return r.splitText(1),r}e.nextSibling?i.insertBefore(a,e.nextSibling):i.appendChild(a)}return a},Wf=function(e){var t=e.container();return We(t)?t.data.charAt(e.offset())===dr||e.isAtStart()&&Gi(t.previousSibling):!1},Vf=function(e){var t=e.container();return We(t)?t.data.charAt(e.offset()-1)===dr||e.isAtEnd()&&Gi(t.nextSibling):!1},zw=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Mw=function(e,t,r){var n=t.ownerDocument,a=n.createElement(e);a.setAttribute("data-mce-caret",r?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(zw());var i=t.parentNode;return r?i.insertBefore(a,t):t.nextSibling?i.insertBefore(a,t.nextSibling):i.appendChild(a),a},bs=function(e){return qi(e)&&e.data[0]===dr},ys=function(e){return qi(e)&&e.data[e.data.length-1]===dr},$w=function(e){var t=e.getElementsByTagName("br"),r=t[t.length-1];ji(r)&&r.parentNode.removeChild(r)},qf=function(e){return e&&e.hasAttribute("data-mce-caret")?($w(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},jw=function(e){return Ki(e.startContainer)},Cp=Ln,Uw=zt,Hw=Xt,Ww=We,Vw=ln(["script","style","textarea"]),kp=ln(["img","input","textarea","hr","iframe","video","audio","object","embed"]),qw=ln(["table"]),Kw=en,Mn=function(e){return Kw(e)?!1:Ww(e)?!Vw(e.parentNode):kp(e)||Hw(e)||qw(e)||Kf(e)},Gw=function(e){return at(e)&&e.getAttribute("unselectable")==="true"},Kf=function(e){return Gw(e)===!1&&Uw(e)},Zw=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Kf(e))return!1;if(Cp(e))return!0}return!0},Xw=function(e){return Kf(e)?Qr(Dn(e.getElementsByTagName("*")),function(t,r){return t||Cp(r)},!1)!==!0:!1},Yw=function(e){return kp(e)||Xw(e)},ws=function(e,t){return Mn(e)&&Zw(e,t)},Qw=/^[ \t\r\n]*$/,ti=function(e){return Qw.test(e)},Jw=function(e,t){var r=W.fromDom(t),n=W.fromDom(e);return Rw(n,"pre,code",Be(ae,r))},eC=function(e,t){return We(e)&&ti(e.data)&&Jw(e,t)===!1},tC=function(e){return at(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Cs=function(e,t){return Mn(e)&&eC(e,t)===!1||tC(e)||rC(e)},rC=Jv("data-mce-bookmark"),nC=Jv("data-mce-bogus"),aC=G1("data-mce-bogus","all"),iC=function(e,t){var r,n=0;if(Cs(e,e))return!1;if(r=e.firstChild,!r)return!0;var a=new ar(r,e);do{if(t){if(aC(r)){r=a.next(!0);continue}if(nC(r)){r=a.next();continue}}if(Xt(r)){n++,r=a.next();continue}if(Cs(r,e))return!1;r=a.next()}while(r);return n<=1},Kr=function(e,t){return t===void 0&&(t=!0),iC(e.dom,t)},oC=function(e){return e.nodeName.toLowerCase()==="span"},Sp=function(e,t){return lr(e)&&(Cs(e,t)||$f(W.fromDom(e)))},uC=function(e,t){var r=new ar(e,t).prev(!1),n=new ar(e,t).next(!1),a=Bn(r)||Sp(r,t),i=Bn(n)||Sp(n,t);return a&&i},Ep=function(e){return oC(e)&&e.getAttribute("data-mce-type")==="bookmark"},sC=function(e,t){return We(e)&&e.data.length>0&&uC(e,t)},lC=function(e){return at(e)?e.childNodes.length>0:!1},fC=function(e){return Df(e)||Rf(e)},Gf=function(e,t,r){var n=r||t;if(at(t)&&Ep(t))return t;for(var a=t.childNodes,i=a.length-1;i>=0;i--)Gf(e,a[i],n);if(at(t)){var o=t.childNodes;o.length===1&&Ep(o[0])&&t.parentNode.insertBefore(o[0],t)}return!fC(t)&&!Cs(t,n)&&!lC(t)&&!sC(t,n)&&e.remove(t),t},cC=V.makeMap,ks=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ss=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dC=/[<>&\"\']/g,vC=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,pC={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},ri={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},hC={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},mC=function(e){var t=W.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},_p=function(e,t){var r,n,a,i={};if(e){for(e=e.split(","),t=t||10,r=0;r<e.length;r+=2)n=String.fromCharCode(parseInt(e[r],t)),ri[n]||(a="&"+e[r+1]+";",i[n]=a,i[a]=n);return i}},Zf=_p("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),xp=function(e,t){return e.replace(t?ks:Ss,function(r){return ri[r]||r})},gC=function(e){return(""+e).replace(dC,function(t){return ri[t]||t})},Np=function(e,t){return e.replace(t?ks:Ss,function(r){return r.length>1?"&#"+((r.charCodeAt(0)-55296)*1024+(r.charCodeAt(1)-56320)+65536)+";":ri[r]||"&#"+r.charCodeAt(0)+";"})},Xf=function(e,t,r){return r=r||Zf,e.replace(t?ks:Ss,function(n){return ri[n]||r[n]||n})},bC=function(e,t){var r=_p(t)||Zf,n=function(o,u){return o.replace(u?ks:Ss,function(s){return ri[s]!==void 0?ri[s]:r[s]!==void 0?r[s]:s.length>1?"&#"+((s.charCodeAt(0)-55296)*1024+(s.charCodeAt(1)-56320)+65536)+";":"&#"+s.charCodeAt(0)+";"})},a=function(o,u){return Xf(o,u,r)},i=cC(e.replace(/\+/g,","));return i.named&&i.numeric?n:i.named?t?a:Xf:i.numeric?Np:xp},yC=function(e){return e.replace(vC,function(t,r){return r?(r.charAt(0).toLowerCase()==="x"?r=parseInt(r.substr(1),16):r=parseInt(r,10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(r&1023))):pC[r]||String.fromCharCode(r)):hC[t]||Zf[t]||mC(t)})},ni={encodeRaw:xp,encodeAllRaw:gC,encodeNumeric:Np,encodeNamed:Xf,getEncodeFunc:bC,decode:yC},ya={},wC={},Zi=V.makeMap,xr=V.each,Yf=V.extend,Pp=V.explode,CC=V.inArray,vr=function(e,t){return e=V.trim(e),e?e.split(t||" "):[]},kC=function(e){var t={},r,n,a,i,o,u,s=function(m,h,g){var S,_,x,C=function(T,z){var j={},G,ie;for(G=0,ie=T.length;G<ie;G++)j[T[G]]=z||{};return j};g=g||[],h=h||"",typeof g=="string"&&(g=vr(g));var B=vr(m);for(S=B.length;S--;)_=vr([r,h].join(" ")),x={attributes:C(_),attributesOrder:_,children:C(g,wC)},t[B[S]]=x},c=function(m,h){var g,S,_,x,C=vr(m);g=C.length;for(var B=vr(h);g--;)for(S=t[C[g]],_=0,x=B.length;_<x;_++)S.attributes[B[_]]={},S.attributesOrder.push(B[_])};return ya[e]?ya[e]:(r="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(r+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(r+=" xml:lang",u="acronym applet basefont big font strike tt",a=[a,u].join(" "),xr(vr(u),function(m){s(m,"",a)}),o="center dir isindex noframes",n=[n,o].join(" "),i=[n,a].join(" "),xr(vr(o),function(m){s(m,"",i)})),i=i||[n,a].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),s("address dt dd div caption","",i),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),s("blockquote","cite",i),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",i),s("dl","","dt dd"),s("a","href target rel media hreflang type",a),s("q","cite",a),s("ins del","cite datetime",i),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",i),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),s("param","name value"),s("map","name",[i,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",i),s("th","colspan rowspan headers scope abbr",i),s("form","accept-charset action autocomplete enctype method name novalidate target",i),s("fieldset","disabled form name",[i,"legend"].join(" ")),s("label","form for",a),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:a),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[i,"li"].join(" ")),s("noscript","",i),e!=="html4"&&(s("wbr"),s("ruby","",[a,"rt rp"].join(" ")),s("figcaption","",i),s("mark rt rp summary bdi","",a),s("canvas","width height",i),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[a,"option"].join(" ")),s("article section nav aside main header footer","",i),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[i,"figcaption"].join(" ")),s("time","datetime",a),s("dialog","open",i),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",a),s("progress","value max",a),s("meter","value min max low high optimum",a),s("details","open",[i,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),e!=="html4"&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),xr(vr("a form meter progress dfn"),function(m){t[m]&&delete t[m].children[m]}),delete t.caption.children.table,delete t.script,ya[e]=t,t)},Qf=function(e,t){var r;return e&&(r={},typeof e=="string"&&(e={"*":e}),xr(e,function(n,a){r[a]=r[a.toUpperCase()]=t==="map"?Zi(n,/[, ]/):Pp(n,/[, ]/)})),r},wa=function(e){var t={},r={},n=[],a={},i={},o=function(le,J,ue){var ee=e[le];return ee?ee=Zi(ee,/[, ]/,Zi(ee.toUpperCase(),/[, ]/)):(ee=ya[le],ee||(ee=Zi(J," ",Zi(J.toUpperCase()," ")),ee=Yf(ee,ue),ya[le]=ee)),ee};e=e||{};var u=kC(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var s=Qf(e.valid_styles),c=Qf(e.invalid_styles,"map"),m=Qf(e.valid_classes,"map"),h=o("whitespace_elements","pre script noscript style textarea video audio iframe object code"),g=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),S=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),_=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),x="td th iframe video audio object script code",C=o("non_empty_elements",x+" pre",S),B=o("move_caret_before_on_enter_elements",x+" table",S),T=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),z=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",T),j=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");xr((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(le){i[le]=new RegExp("</"+le+"[^>]*>","gi")});var G=function(le){return new RegExp("^"+le.replace(/([?+*])/g,".$1")+"$")},ie=function(le){var J,ue,ee,Ne,Ae,Ye,ut,Bt,rr,Or,la,Sr,Tr,jt,Yn,Fr,Pt,_t,ur=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,An=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,On=/[*?+]/;if(le){var un=vr(le,",");for(t["@"]&&(Fr=t["@"].attributes,Pt=t["@"].attributesOrder),J=0,ue=un.length;J<ue;J++)if(Ae=ur.exec(un[J]),Ae){if(jt=Ae[1],rr=Ae[2],Yn=Ae[3],Bt=Ae[5],Sr={},Tr=[],Ye={attributes:Sr,attributesOrder:Tr},jt==="#"&&(Ye.paddEmpty=!0),jt==="-"&&(Ye.removeEmpty=!0),Ae[4]==="!"&&(Ye.removeEmptyAttrs=!0),Fr&&(Ut(Fr,function(La,Ao){Sr[Ao]=La}),Tr.push.apply(Tr,Pt)),Bt){for(Bt=vr(Bt,"|"),ee=0,Ne=Bt.length;ee<Ne;ee++)if(Ae=An.exec(Bt[ee]),Ae){if(ut={},la=Ae[1],Or=Ae[2].replace(/[\\:]:/g,":"),jt=Ae[3],_t=Ae[4],la==="!"&&(Ye.attributesRequired=Ye.attributesRequired||[],Ye.attributesRequired.push(Or),ut.required=!0),la==="-"){delete Sr[Or],Tr.splice(CC(Tr,Or),1);continue}jt&&(jt==="="&&(Ye.attributesDefault=Ye.attributesDefault||[],Ye.attributesDefault.push({name:Or,value:_t}),ut.defaultValue=_t),jt===":"&&(Ye.attributesForced=Ye.attributesForced||[],Ye.attributesForced.push({name:Or,value:_t}),ut.forcedValue=_t),jt==="<"&&(ut.validValues=Zi(_t,"?"))),On.test(Or)?(Ye.attributePatterns=Ye.attributePatterns||[],ut.pattern=G(Or),Ye.attributePatterns.push(ut)):(Sr[Or]||Tr.push(Or),Sr[Or]=ut)}}!Fr&&rr==="@"&&(Fr=Sr,Pt=Tr),Yn&&(Ye.outputName=rr,t[Yn]=Ye),On.test(rr)?(Ye.pattern=G(rr),n.push(Ye)):t[rr]=Ye}}},he=function(le){t={},n=[],ie(le),xr(u,function(J,ue){r[ue]=J.children})},ge=function(le){var J=/^(~)?(.+)$/;le&&(ya.text_block_elements=ya.block_elements=null,xr(vr(le,","),function(ue){var ee=J.exec(ue),Ne=ee[1]==="~",Ae=Ne?"span":"div",Ye=ee[2];if(r[Ye]=r[Ae],a[Ye]=Ae,Ne||(z[Ye.toUpperCase()]={},z[Ye]={}),!t[Ye]){var ut=t[Ae];ut=Yf({},ut),delete ut.removeEmptyAttrs,delete ut.removeEmpty,t[Ye]=ut}xr(r,function(Bt,rr){Bt[Ae]&&(r[rr]=Bt=Yf({},r[rr]),Bt[Ye]=Bt[Ae])})}))},Le=function(le){var J=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;ya[e.schema]=null,le&&xr(vr(le,","),function(ue){var ee=J.exec(ue),Ne,Ae;ee&&(Ae=ee[1],Ae?Ne=r[ee[2]]:Ne=r[ee[2]]={"#comment":{}},Ne=r[ee[2]],xr(vr(ee[3],"|"),function(Ye){Ae==="-"?delete Ne[Ye]:Ne[Ye]={}}))})},$e=function(le){var J=t[le],ue;if(J)return J;for(ue=n.length;ue--;)if(J=n[ue],J.pattern.test(le))return J};e.valid_elements?he(e.valid_elements):(xr(u,function(le,J){t[J]={attributes:le.attributes,attributesOrder:le.attributesOrder},r[J]=le.children}),e.schema!=="html5"&&xr(vr("strong/b em/i"),function(le){var J=vr(le,"/");t[J[1]].outputName=J[0]}),xr(vr("ol ul sub sup blockquote span font a table tbody strong em b i"),function(le){t[le]&&(t[le].removeEmpty=!0)}),xr(vr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(le){t[le].paddEmpty=!0}),xr(vr("span"),function(le){t[le].removeEmptyAttrs=!0})),ge(e.custom_elements),Le(e.valid_children),ie(e.extended_valid_elements),Le("+ol[ul|ol],+ul[ul|ol]"),xr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(le,J){t[J]&&(t[J].parentsRequired=vr(le))}),e.invalid_elements&&xr(Pp(e.invalid_elements),function(le){t[le]&&delete t[le]}),$e("span")||ie("span[!data-mce-type|*]");var ce=function(){return s},Xe=function(){return c},Se=function(){return m},ze=function(){return _},we=function(){return z},xe=function(){return T},Ie=function(){return j},ve=function(){return S},De=function(){return g},pt=function(){return C},Nt=function(){return B},yt=function(){return h},Wt=function(){return i},Ht=function(le,J){var ue=r[le.toLowerCase()];return!!(ue&&ue[J.toLowerCase()])},Ir=function(le,J){var ue,ee,Ne=$e(le);if(Ne)if(J){if(Ne.attributes[J])return!0;if(ue=Ne.attributePatterns,ue){for(ee=ue.length;ee--;)if(ue[ee].pattern.test(le))return!0}}else return!0;return!1},Ar=function(){return a};return{children:r,elements:t,getValidStyles:ce,getValidClasses:Se,getBlockElements:we,getInvalidStyles:Xe,getShortEndedElements:ve,getTextBlockElements:xe,getTextInlineElements:Ie,getBoolAttrs:ze,getElementRule:$e,getSelfClosingElements:De,getNonEmptyElements:pt,getMoveCaretBeforeOnEnterElements:Nt,getWhiteSpaceElements:yt,getSpecialElements:Wt,isValidChild:Ht,isValid:Ir,getCustomElements:Ar,addValidElements:ie,setValidElements:he,addCustomElements:ge,addValidChildren:Le}},Ap=function(e,t,r,n){var a=function(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i};return"#"+a(t)+a(r)+a(n)},Jf=function(e,t){var r=this,n=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,u,s={},c,m,h=Uf;e=e||{},t&&(c=t.getValidStyles(),m=t.getInvalidStyles());var g=(`\\" \\' \\; \\: ; : `+h).split(" ");for(u=0;u<g.length;u++)s[g[u]]=h+u,s[h+u]=g[u];return{toHex:function(S){return S.replace(n,Ap)},parse:function(S){var _={},x,C,B,T,z=e.url_converter,j=e.url_converter_scope||r,G=function(Se,ze,we){var xe=_[Se+"-top"+ze];if(!!xe){var Ie=_[Se+"-right"+ze];if(!!Ie){var ve=_[Se+"-bottom"+ze];if(!!ve){var De=_[Se+"-left"+ze];if(!!De){var pt=[xe,Ie,ve,De];for(u=pt.length-1;u--&&pt[u]===pt[u+1];);u>-1&&we||(_[Se+ze]=u===-1?pt[0]:pt.join(" "),delete _[Se+"-top"+ze],delete _[Se+"-right"+ze],delete _[Se+"-bottom"+ze],delete _[Se+"-left"+ze])}}}}},ie=function(Se){var ze=_[Se],we;if(!!ze){for(ze=ze.split(" "),we=ze.length;we--;)if(ze[we]!==ze[0])return!1;return _[Se]=ze[0],!0}},he=function(Se,ze,we,xe){!ie(ze)||!ie(we)||!ie(xe)||(_[Se]=_[ze]+" "+_[we]+" "+_[xe],delete _[ze],delete _[we],delete _[xe])},ge=function(Se){return T=!0,s[Se]},Le=function(Se,ze){return T&&(Se=Se.replace(/\uFEFF[0-9]/g,function(we){return s[we]})),ze||(Se=Se.replace(/\\([\'\";:])/g,"$1")),Se},$e=function(Se){return String.fromCharCode(parseInt(Se.slice(1),16))},ce=function(Se){return Se.replace(/\\[0-9a-f]+/gi,$e)},Xe=function(Se,ze,we,xe,Ie,ve){if(Ie=Ie||ve,Ie)return Ie=Le(Ie),"'"+Ie.replace(/\'/g,"\\'")+"'";if(ze=Le(ze||we||xe),!e.allow_script_urls){var De=ze.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(De)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(De))return""}return z&&(ze=z.call(j,ze,"style")),"url('"+ze.replace(/\'/g,"\\'")+"')"};if(S){for(S=S.replace(/[\u0000-\u001F]/g,""),S=S.replace(/\\[\"\';:\uFEFF]/g,ge).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Se){return Se.replace(/[;:]/g,ge)});x=i.exec(S);)if(i.lastIndex=x.index+x[0].length,C=x[1].replace(o,"").toLowerCase(),B=x[2].replace(o,""),C&&B){if(C=ce(C),B=ce(B),C.indexOf(h)!==-1||C.indexOf('"')!==-1||!e.allow_script_urls&&(C==="behavior"||/expression\s*\(|\/\*|\*\//.test(B)))continue;C==="font-weight"&&B==="700"?B="bold":(C==="color"||C==="background-color")&&(B=B.toLowerCase()),B=B.replace(n,Ap),B=B.replace(a,Xe),_[C]=T?Le(B,!0):B}G("border","",!0),G("border","-width"),G("border","-color"),G("border","-style"),G("padding",""),G("margin",""),he("border","border-width","border-style","border-color"),_.border==="medium none"&&delete _.border,_["border-image"]==="none"&&delete _["border-image"]}return _},serialize:function(S,_){var x="",C=function(T){var z,j=c[T];if(j)for(var G=0,ie=j.length;G<ie;G++)T=j[G],z=S[T],z&&(x+=(x.length>0?" ":"")+T+": "+z+";")},B=function(T,z){var j=m["*"];return j&&j[T]?!1:(j=m[z],!(j&&j[T]))};return _&&c?(C("*"),C(_)):Ut(S,function(T,z){T&&(!m||B(z,_))&&(x+=(x.length>0?" ":"")+z+": "+T+";")}),x}}},SC="mce-data-",EC=/^(?:mouse|contextmenu)|click/,_C={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},xC=function(e){return e.isDefaultPrevented===Xi||e.isDefaultPrevented===Es},Es=Et,Xi=Jt,ec=function(e,t,r,n){e.addEventListener?e.addEventListener(t,r,n||!1):e.attachEvent&&e.attachEvent("on"+t,r)},_s=function(e,t,r,n){e.removeEventListener?e.removeEventListener(t,r,n||!1):e.detachEvent&&e.detachEvent("on"+t,r)},NC=function(e){return EC.test(e.type)},Yi=function(e,t){var r,n=t||{};for(r in e)_C[r]||(n[r]=e[r]);if(n.target||(n.target=n.srcElement||document),n.composedPath&&(n.composedPath=function(){return e.composedPath()}),e&&NC(e)&&e.pageX===void 0&&e.clientX!==void 0){var a=n.target.ownerDocument||document,i=a.documentElement,o=a.body;n.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),n.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)}return n.preventDefault=function(){n.defaultPrevented=!0,n.isDefaultPrevented=Xi,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},n.stopPropagation=function(){n.cancelBubble=!0,n.isPropagationStopped=Xi,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},n.stopImmediatePropagation=function(){n.isImmediatePropagationStopped=Xi,n.stopPropagation()},xC(n)===!1&&(n.isDefaultPrevented=n.defaultPrevented===!0?Xi:Es,n.isPropagationStopped=n.cancelBubble===!0?Xi:Es,n.isImmediatePropagationStopped=Es),typeof n.metaKey=="undefined"&&(n.metaKey=!1),n},PC=function(e,t,r){var n=e.document,a={type:"ready"};if(r.domLoaded){t(a);return}var i=function(){return n.readyState==="complete"||n.readyState==="interactive"&&n.body},o=function(){_s(e,"DOMContentLoaded",o),_s(e,"load",o),r.domLoaded||(r.domLoaded=!0,t(a)),e=null};i()?o():ec(e,"DOMContentLoaded",o),r.domLoaded||ec(e,"load",o)},Qi=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=SC+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(t,r,n,a){var i=this,o,u,s,c,m,h,g,S=window,_=function(C){i.executeHandlers(Yi(C||S.event),o)};if(!(!t||t.nodeType===3||t.nodeType===8)){t[i.expando]?o=t[i.expando]:(o=i.count++,t[i.expando]=o,i.events[o]={}),a=a||t;var x=r.split(" ");for(s=x.length;s--;){if(c=x[s],h=_,m=g=!1,c==="DOMContentLoaded"&&(c="ready"),i.domLoaded&&c==="ready"&&t.readyState==="complete"){n.call(a,Yi({type:c}));continue}i.hasMouseEnterLeave||(m=i.mouseEnterLeave[c],m&&(h=function(C){var B=C.currentTarget,T=C.relatedTarget;if(T&&B.contains)T=B.contains(T);else for(;T&&T!==B;)T=T.parentNode;T||(C=Yi(C||S.event),C.type=C.type==="mouseout"?"mouseleave":"mouseenter",C.target=B,i.executeHandlers(C,o))})),!i.hasFocusIn&&(c==="focusin"||c==="focusout")&&(g=!0,m=c==="focusin"?"focus":"blur",h=function(C){C=Yi(C||S.event),C.type=C.type==="focus"?"focusin":"focusout",i.executeHandlers(C,o)}),u=i.events[o][c],u?c==="ready"&&i.domLoaded?n(Yi({type:c})):u.push({func:n,scope:a}):(i.events[o][c]=u=[{func:n,scope:a}],u.fakeName=m,u.capture=g,u.nativeHandler=h,c==="ready"?PC(t,h,i):ec(t,m||c,h,g))}return t=u=null,n}},e.prototype.unbind=function(t,r,n){var a,i,o,u,s;if(!t||t.nodeType===3||t.nodeType===8)return this;var c=t[this.expando];if(c){if(s=this.events[c],r){var m=r.split(" ");for(i=m.length;i--;)if(u=m[i],a=s[u],a){if(n){for(o=a.length;o--;)if(a[o].func===n){var h=a.nativeHandler,g=a.fakeName,S=a.capture;a=a.slice(0,o).concat(a.slice(o+1)),a.nativeHandler=h,a.fakeName=g,a.capture=S,s[u]=a}}(!n||a.length===0)&&(delete s[u],_s(t,a.fakeName||u,a.nativeHandler,a.capture))}}else Ut(s,function(_,x){_s(t,_.fakeName||x,_.nativeHandler,_.capture)}),s={};for(u in s)if(nr(s,u))return this;delete this.events[c];try{delete t[this.expando]}catch{t[this.expando]=null}}return this},e.prototype.fire=function(t,r,n){var a;if(!t||t.nodeType===3||t.nodeType===8)return this;var i=Yi(null,n);i.type=r,i.target=t;do a=t[this.expando],a&&this.executeHandlers(i,a),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;while(t&&!i.isPropagationStopped());return this},e.prototype.clean=function(t){var r,n;if(!t||t.nodeType===3||t.nodeType===8)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),n=t.getElementsByTagName("*"),r=n.length;r--;)t=n[r],t[this.expando]&&this.unbind(t);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(t,r){var n=this.events[r],a=n&&n[t.type];if(a)for(var i=0,o=a.length;i<o;i++){var u=a[i];if(u&&u.func.call(u.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}},e.Event=new e,e}(),ir,Ot,xs,Op,ru,tc,Tp,Ns,Ca,Ji,ka,tn,Ps,$n,Sa,eo,AC,nu,Cr="sizzle"+-new Date,Cn=window.document,jn=0,OC=0,Bp=ic(),Rp=ic(),Dp=ic(),rc=function(e,t){return e===t&&(Ji=!0),0},As="undefined",Ip=1<<31,TC={}.hasOwnProperty,Ea=[],BC=Ea.pop,RC=Ea.push,_a=Ea.push,Fp=Ea.slice,ai=Ea.indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(this[t]===e)return t;return-1},DC="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Vt="[\\x20\\t\\r\\n\\f]",ii="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Lp="\\["+Vt+"*("+ii+")(?:"+Vt+"*([*^$|!~]?=)"+Vt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ii+"))|)"+Vt+"*\\]",zp=":("+ii+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Lp+")*)|.*)\\)|)",Os=new RegExp("^"+Vt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Vt+"+$","g"),IC=new RegExp("^"+Vt+"*,"+Vt+"*"),FC=new RegExp("^"+Vt+"*([>+~]|"+Vt+")"+Vt+"*"),LC=new RegExp("="+Vt+`*([^\\]'"]*?)`+Vt+"*\\]","g"),zC=new RegExp(zp),MC=new RegExp("^"+ii+"$"),Ts={ID:new RegExp("^#("+ii+")"),CLASS:new RegExp("^\\.("+ii+")"),TAG:new RegExp("^("+ii+"|[*])"),ATTR:new RegExp("^"+Lp),PSEUDO:new RegExp("^"+zp),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Vt+"*(even|odd|(([+-]|)(\\d*)n|)"+Vt+"*(?:([+-]|)"+Vt+"*(\\d+)|))"+Vt+"*\\)|)","i"),bool:new RegExp("^(?:"+DC+")$","i"),needsContext:new RegExp("^"+Vt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Vt+"*((?:-\\d)?\\d*)"+Vt+"*\\)|)(?=[^-]|$)","i")},$C=/^(?:input|select|textarea|button)$/i,jC=/^h\d$/i,nc=/^[^{]+\{\s*\[native \w/,UC=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ac=/[+~]/,HC=/'|\\/g,xa=new RegExp("\\\\([\\da-f]{1,6}"+Vt+"?|("+Vt+")|.)","ig"),Na=function(e,t,r){var n="0x"+t-65536;return n!==n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)};try{_a.apply(Ea=Fp.call(Cn.childNodes),Cn.childNodes),Ea[Cn.childNodes.length].nodeType}catch{_a={apply:Ea.length?function(t,r){RC.apply(t,Fp.call(r))}:function(t,r){for(var n=t.length,a=0;t[n++]=r[a++];);t.length=n-1}}}var xt=function(e,t,r,n){var a,i,o,u,s,c,m,h,g,S;if((t?t.ownerDocument||t:Cn)!==tn&&ka(t),t=t||tn,r=r||[],!e||typeof e!="string")return r;if((u=t.nodeType)!==1&&u!==9)return[];if($n&&!n){if(a=UC.exec(e))if(o=a[1]){if(u===9)if(i=t.getElementById(o),i&&i.parentNode){if(i.id===o)return r.push(i),r}else return r;else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(o))&&nu(t,i)&&i.id===o)return r.push(i),r}else{if(a[2])return _a.apply(r,t.getElementsByTagName(e)),r;if((o=a[3])&&ir.getElementsByClassName)return _a.apply(r,t.getElementsByClassName(o)),r}if(ir.qsa&&(!Sa||!Sa.test(e))){if(h=m=Cr,g=t,S=u===9&&e,u===1&&t.nodeName.toLowerCase()!=="object"){for(c=ru(e),(m=t.getAttribute("id"))?h=m.replace(HC,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",s=c.length;s--;)c[s]=h+Bs(c[s]);g=ac.test(e)&&oc(t.parentNode)||t,S=c.join(",")}if(S)try{return _a.apply(r,g.querySelectorAll(S)),r}catch{}finally{m||t.removeAttribute("id")}}}return Tp(e.replace(Os,"$1"),t,r,n)};function ic(){var e=[];function t(r,n){return e.push(r+" ")>Ot.cacheLength&&delete t[e.shift()],t[r+" "]=n}return t}function kn(e){return e[Cr]=!0,e}function Mp(e,t){var r=t&&e,n=r&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||Ip)-(~e.sourceIndex||Ip);if(n)return n;if(r){for(;r=r.nextSibling;)if(r===t)return-1}return e?1:-1}function WC(e){return function(t){var r=t.nodeName.toLowerCase();return r==="input"&&t.type===e}}function VC(e){return function(t){var r=t.nodeName.toLowerCase();return(r==="input"||r==="button")&&t.type===e}}function oi(e){return kn(function(t){return t=+t,kn(function(r,n){for(var a,i=e([],r.length,t),o=i.length;o--;)r[a=i[o]]&&(r[a]=!(n[a]=r[a]))})})}function oc(e){return e&&typeof e.getElementsByTagName!==As&&e}ir=xt.support={},Op=xt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},ka=xt.setDocument=function(e){var t,r=e?e.ownerDocument||e:Cn,n=r.defaultView;function a(i){try{return i.top}catch{}return null}return r===tn||r.nodeType!==9||!r.documentElement?tn:(tn=r,Ps=r.documentElement,$n=!Op(r),n&&n!==a(n)&&(n.addEventListener?n.addEventListener("unload",function(){ka()},!1):n.attachEvent&&n.attachEvent("onunload",function(){ka()})),ir.attributes=!0,ir.getElementsByTagName=!0,ir.getElementsByClassName=nc.test(r.getElementsByClassName),ir.getById=!0,Ot.find.ID=function(i,o){if(typeof o.getElementById!==As&&$n){var u=o.getElementById(i);return u&&u.parentNode?[u]:[]}},Ot.filter.ID=function(i){var o=i.replace(xa,Na);return function(u){return u.getAttribute("id")===o}},Ot.find.TAG=ir.getElementsByTagName?function(i,o){if(typeof o.getElementsByTagName!==As)return o.getElementsByTagName(i)}:function(i,o){var u,s=[],c=0,m=o.getElementsByTagName(i);if(i==="*"){for(;u=m[c++];)u.nodeType===1&&s.push(u);return s}return m},Ot.find.CLASS=ir.getElementsByClassName&&function(i,o){if($n)return o.getElementsByClassName(i)},eo=[],Sa=[],ir.disconnectedMatch=!0,Sa=Sa.length&&new RegExp(Sa.join("|")),eo=eo.length&&new RegExp(eo.join("|")),t=nc.test(Ps.compareDocumentPosition),nu=t||nc.test(Ps.contains)?function(i,o){var u=i.nodeType===9?i.documentElement:i,s=o&&o.parentNode;return i===s||!!(s&&s.nodeType===1&&(u.contains?u.contains(s):i.compareDocumentPosition&&i.compareDocumentPosition(s)&16))}:function(i,o){if(o){for(;o=o.parentNode;)if(o===i)return!0}return!1},rc=t?function(i,o){if(i===o)return Ji=!0,0;var u=!i.compareDocumentPosition-!o.compareDocumentPosition;return u||(u=(i.ownerDocument||i)===(o.ownerDocument||o)?i.compareDocumentPosition(o):1,u&1||!ir.sortDetached&&o.compareDocumentPosition(i)===u?i===r||i.ownerDocument===Cn&&nu(Cn,i)?-1:o===r||o.ownerDocument===Cn&&nu(Cn,o)?1:Ca?ai.call(Ca,i)-ai.call(Ca,o):0:u&4?-1:1)}:function(i,o){if(i===o)return Ji=!0,0;var u,s=0,c=i.parentNode,m=o.parentNode,h=[i],g=[o];if(!c||!m)return i===r?-1:o===r?1:c?-1:m?1:Ca?ai.call(Ca,i)-ai.call(Ca,o):0;if(c===m)return Mp(i,o);for(u=i;u=u.parentNode;)h.unshift(u);for(u=o;u=u.parentNode;)g.unshift(u);for(;h[s]===g[s];)s++;return s?Mp(h[s],g[s]):h[s]===Cn?-1:g[s]===Cn?1:0},r)},xt.matches=function(e,t){return xt(e,null,null,t)},xt.matchesSelector=function(e,t){if((e.ownerDocument||e)!==tn&&ka(e),t=t.replace(LC,"='$1']"),ir.matchesSelector&&$n&&(!eo||!eo.test(t))&&(!Sa||!Sa.test(t)))try{var r=AC.call(e,t);if(r||ir.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch{}return xt(t,tn,null,[e]).length>0},xt.contains=function(e,t){return(e.ownerDocument||e)!==tn&&ka(e),nu(e,t)},xt.attr=function(e,t){(e.ownerDocument||e)!==tn&&ka(e);var r=Ot.attrHandle[t.toLowerCase()],n=r&&TC.call(Ot.attrHandle,t.toLowerCase())?r(e,t,!$n):void 0;return n!==void 0?n:ir.attributes||!$n?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},xt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},xt.uniqueSort=function(e){var t,r=[],n=0,a=0;if(Ji=!ir.detectDuplicates,Ca=!ir.sortStable&&e.slice(0),e.sort(rc),Ji){for(;t=e[a++];)t===e[a]&&(n=r.push(a));for(;n--;)e.splice(r[n],1)}return Ca=null,e},xs=xt.getText=function(e){var t,r="",n=0,a=e.nodeType;if(a){if(a===1||a===9||a===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=xs(e)}else if(a===3||a===4)return e.nodeValue}else for(;t=e[n++];)r+=xs(t);return r},Ot=xt.selectors={cacheLength:50,createPseudo:kn,match:Ts,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xa,Na),e[3]=(e[3]||e[4]||e[5]||"").replace(xa,Na),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||xt.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&xt.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return Ts.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&zC.test(r)&&(t=ru(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xa,Na).toLowerCase();return e==="*"?function(){return!0}:function(r){return r.nodeName&&r.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Bp[e+" "];return t||(t=new RegExp("(^|"+Vt+")"+e+"("+Vt+"|$)"))&&Bp(e,function(r){return t.test(typeof r.className=="string"&&r.className||typeof r.getAttribute!==As&&r.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(n){var a=xt.attr(n,e);return a==null?t==="!=":t?(a+="",t==="="?a===r:t==="!="?a!==r:t==="^="?r&&a.indexOf(r)===0:t==="*="?r&&a.indexOf(r)>-1:t==="$="?r&&a.slice(-r.length)===r:t==="~="?(" "+a+" ").indexOf(r)>-1:t==="|="?a===r||a.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,r,n,a){var i=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return n===1&&a===0?function(s){return!!s.parentNode}:function(s,c,m){var h,g,S,_,x,C,B=i!==o?"nextSibling":"previousSibling",T=s.parentNode,z=u&&s.nodeName.toLowerCase(),j=!m&&!u;if(T){if(i){for(;B;){for(S=s;S=S[B];)if(u?S.nodeName.toLowerCase()===z:S.nodeType===1)return!1;C=B=e==="only"&&!C&&"nextSibling"}return!0}if(C=[o?T.firstChild:T.lastChild],o&&j){for(g=T[Cr]||(T[Cr]={}),h=g[e]||[],x=h[0]===jn&&h[1],_=h[0]===jn&&h[2],S=x&&T.childNodes[x];S=++x&&S&&S[B]||(_=x=0)||C.pop();)if(S.nodeType===1&&++_&&S===s){g[e]=[jn,x,_];break}}else if(j&&(h=(s[Cr]||(s[Cr]={}))[e])&&h[0]===jn)_=h[1];else for(;(S=++x&&S&&S[B]||(_=x=0)||C.pop())&&!((u?S.nodeName.toLowerCase()===z:S.nodeType===1)&&++_&&(j&&((S[Cr]||(S[Cr]={}))[e]=[jn,_]),S===s)););return _-=a,_===n||_%n===0&&_/n>=0}}},PSEUDO:function(e,t){var r,n=Ot.pseudos[e]||Ot.setFilters[e.toLowerCase()]||xt.error("unsupported pseudo: "+e);return n[Cr]?n(t):n.length>1?(r=[e,e,"",t],Ot.setFilters.hasOwnProperty(e.toLowerCase())?kn(function(a,i){for(var o,u=n(a,t),s=u.length;s--;)o=ai.call(a,u[s]),a[o]=!(i[o]=u[s])}):function(a){return n(a,0,r)}):n}},pseudos:{not:kn(function(e){var t=[],r=[],n=tc(e.replace(Os,"$1"));return n[Cr]?kn(function(a,i,o,u){for(var s,c=n(a,null,u,[]),m=a.length;m--;)(s=c[m])&&(a[m]=!(i[m]=s))}):function(a,i,o){return t[0]=a,n(t,null,o,r),t[0]=null,!r.pop()}}),has:kn(function(e){return function(t){return xt(e,t).length>0}}),contains:kn(function(e){return e=e.replace(xa,Na),function(t){return(t.textContent||t.innerText||xs(t)).indexOf(e)>-1}}),lang:kn(function(e){return MC.test(e||"")||xt.error("unsupported lang: "+e),e=e.replace(xa,Na).toLowerCase(),function(t){var r;do if(r=$n?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return r=r.toLowerCase(),r===e||r.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Ps},focus:function(e){return e===tn.activeElement&&(!tn.hasFocus||tn.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Ot.pseudos.empty(e)},header:function(e){return jC.test(e.nodeName)},input:function(e){return $C.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:oi(function(){return[0]}),last:oi(function(e,t){return[t-1]}),eq:oi(function(e,t,r){return[r<0?r+t:r]}),even:oi(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:oi(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:oi(function(e,t,r){for(var n=r<0?r+t:r;--n>=0;)e.push(n);return e}),gt:oi(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}},Ot.pseudos.nth=Ot.pseudos.eq,He(["radio","checkbox","file","password","image"],function(e){Ot.pseudos[e]=WC(e)}),He(["submit","reset"],function(e){Ot.pseudos[e]=VC(e)});function $p(){}$p.prototype=Ot.filters=Ot.pseudos,Ot.setFilters=new $p,ru=xt.tokenize=function(e,t){var r,n,a,i,o,u,s,c=Rp[e+" "];if(c)return t?0:c.slice(0);for(o=e,u=[],s=Ot.preFilter;o;){(!r||(n=IC.exec(o)))&&(n&&(o=o.slice(n[0].length)||o),u.push(a=[])),r=!1,(n=FC.exec(o))&&(r=n.shift(),a.push({value:r,type:n[0].replace(Os," ")}),o=o.slice(r.length));for(i in Ot.filter)!Ot.filter.hasOwnProperty(i)||(n=Ts[i].exec(o))&&(!s[i]||(n=s[i](n)))&&(r=n.shift(),a.push({value:r,type:i,matches:n}),o=o.slice(r.length));if(!r)break}return t?o.length:o?xt.error(e):Rp(e,u).slice(0)};function Bs(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function uc(e,t,r){var n=t.dir,a=r&&n==="parentNode",i=OC++;return t.first?function(o,u,s){for(;o=o[n];)if(o.nodeType===1||a)return e(o,u,s)}:function(o,u,s){var c,m,h=[jn,i];if(s){for(;o=o[n];)if((o.nodeType===1||a)&&e(o,u,s))return!0}else for(;o=o[n];)if(o.nodeType===1||a){if(m=o[Cr]||(o[Cr]={}),(c=m[n])&&c[0]===jn&&c[1]===i)return h[2]=c[2];if(m[n]=h,h[2]=e(o,u,s))return!0}}}function sc(e){return e.length>1?function(t,r,n){for(var a=e.length;a--;)if(!e[a](t,r,n))return!1;return!0}:e[0]}function qC(e,t,r){for(var n=0,a=t.length;n<a;n++)xt(e,t[n],r);return r}function Rs(e,t,r,n,a){for(var i,o=[],u=0,s=e.length,c=t!=null;u<s;u++)(i=e[u])&&(!r||r(i,n,a))&&(o.push(i),c&&t.push(u));return o}function lc(e,t,r,n,a,i){return n&&!n[Cr]&&(n=lc(n)),a&&!a[Cr]&&(a=lc(a,i)),kn(function(o,u,s,c){var m,h,g,S=[],_=[],x=u.length,C=o||qC(t||"*",s.nodeType?[s]:s,[]),B=e&&(o||!t)?Rs(C,S,e,s,c):C,T=r?a||(o?e:x||n)?[]:u:B;if(r&&r(B,T,s,c),n)for(m=Rs(T,_),n(m,[],s,c),h=m.length;h--;)(g=m[h])&&(T[_[h]]=!(B[_[h]]=g));if(o){if(a||e){if(a){for(m=[],h=T.length;h--;)(g=T[h])&&m.push(B[h]=g);a(null,T=[],m,c)}for(h=T.length;h--;)(g=T[h])&&(m=a?ai.call(o,g):S[h])>-1&&(o[m]=!(u[m]=g))}}else T=Rs(T===u?T.splice(x,T.length):T),a?a(null,u,T,c):_a.apply(u,T)})}function fc(e){for(var t,r,n,a=e.length,i=Ot.relative[e[0].type],o=i||Ot.relative[" "],u=i?1:0,s=uc(function(h){return h===t},o,!0),c=uc(function(h){return ai.call(t,h)>-1},o,!0),m=[function(h,g,S){var _=!i&&(S||g!==Ns)||((t=g).nodeType?s(h,g,S):c(h,g,S));return t=null,_}];u<a;u++)if(r=Ot.relative[e[u].type])m=[uc(sc(m),r)];else{if(r=Ot.filter[e[u].type].apply(null,e[u].matches),r[Cr]){for(n=++u;n<a&&!Ot.relative[e[n].type];n++);return lc(u>1&&sc(m),u>1&&Bs(e.slice(0,u-1).concat({value:e[u-2].type===" "?"*":""})).replace(Os,"$1"),r,u<n&&fc(e.slice(u,n)),n<a&&fc(e=e.slice(n)),n<a&&Bs(e))}m.push(r)}return sc(m)}function KC(e,t){var r=t.length>0,n=e.length>0,a=function(i,o,u,s,c){var m,h,g,S=0,_="0",x=i&&[],C=[],B=Ns,T=i||n&&Ot.find.TAG("*",c),z=jn+=B==null?1:Math.random()||.1,j=T.length;for(c&&(Ns=o!==tn&&o);_!==j&&(m=T[_])!=null;_++){if(n&&m){for(h=0;g=e[h++];)if(g(m,o,u)){s.push(m);break}c&&(jn=z)}r&&((m=!g&&m)&&S--,i&&x.push(m))}if(S+=_,r&&_!==S){for(h=0;g=t[h++];)g(x,C,o,u);if(i){if(S>0)for(;_--;)x[_]||C[_]||(C[_]=BC.call(s));C=Rs(C)}_a.apply(s,C),c&&!i&&C.length>0&&S+t.length>1&&xt.uniqueSort(s)}return c&&(jn=z,Ns=B),x};return r?kn(a):a}tc=xt.compile=function(e,t){var r,n=[],a=[],i=Dp[e+" "];if(!i){for(t||(t=ru(e)),r=t.length;r--;)i=fc(t[r]),i[Cr]?n.push(i):a.push(i);i=Dp(e,KC(a,n)),i.selector=e}return i},Tp=xt.select=function(e,t,r,n){var a,i,o,u,s,c=typeof e=="function"&&e,m=!n&&ru(e=c.selector||e);if(r=r||[],m.length===1){if(i=m[0]=m[0].slice(0),i.length>2&&(o=i[0]).type==="ID"&&ir.getById&&t.nodeType===9&&$n&&Ot.relative[i[1].type]){if(t=(Ot.find.ID(o.matches[0].replace(xa,Na),t)||[])[0],t)c&&(t=t.parentNode);else return r;e=e.slice(i.shift().value.length)}for(a=Ts.needsContext.test(e)?0:i.length;a--&&(o=i[a],!Ot.relative[u=o.type]);)if((s=Ot.find[u])&&(n=s(o.matches[0].replace(xa,Na),ac.test(i[0].type)&&oc(t.parentNode)||t))){if(i.splice(a,1),e=n.length&&Bs(i),!e)return _a.apply(r,n),r;break}}return(c||tc(e,m))(n,t,!$n,r,ac.test(e)&&oc(t.parentNode)||t),r},ir.sortStable=Cr.split("").sort(rc).join("")===Cr,ir.detectDuplicates=!!Ji,ka(),ir.sortDetached=!0;var jp=document,cc=Array.prototype.push,GC=Array.prototype.slice,ZC=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,au=Qi.Event,XC=V.makeMap("children,contents,next,prev"),iu=function(e){return typeof e!="undefined"},dc=function(e){return typeof e=="string"},YC=function(e){return e&&e===e.window},Up=function(e,t){t=t||jp;var r=t.createElement("div"),n=t.createDocumentFragment();r.innerHTML=e;for(var a;a=r.firstChild;)n.appendChild(a);return n},to=function(e,t,r,n){var a;if(dc(t))t=Up(t,hc(e[0]));else if(t.length&&!t.nodeType){if(t=rt.makeArray(t),n)for(a=t.length-1;a>=0;a--)to(e,t[a],r,n);else for(a=0;a<t.length;a++)to(e,t[a],r,n);return e}if(t.nodeType)for(a=e.length;a--;)r.call(e[a],t);return e},Hp=function(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1},Wp=function(e,t,r){var n,a;return t=rt(t)[0],e.each(function(){var i=this;(!r||n!==i.parentNode)&&(n=i.parentNode,a=t.cloneNode(!1),i.parentNode.insertBefore(a,i)),a.appendChild(i)}),e},QC=V.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),JC=V.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),ek={for:"htmlFor",class:"className",readonly:"readOnly"},tk={float:"cssFloat"},vc={},pc={},rn=function(e,t){return new rt.fn.init(e,t)},rk=function(e,t){var r;if(t.indexOf)return t.indexOf(e);for(r=t.length;r--;)if(t[r]===e)return r;return-1},nk=/^\s*|\s*$/g,Vp=function(e){return e==null?"":(""+e).replace(nk,"")},na=function(e,t){var r,n,a,i;if(e)if(r=e.length,r===void 0){for(n in e)if(e.hasOwnProperty(n)&&(i=e[n],t.call(i,n,i)===!1))break}else for(a=0;a<r&&(i=e[a],t.call(i,a,i)!==!1);a++);return e},qp=function(e,t){var r=[];return na(e,function(n,a){t(a,n)&&r.push(a)}),r},hc=function(e){return e?e.nodeType===9?e:e.ownerDocument:jp};rn.fn=rn.prototype={constructor:rn,selector:"",context:null,length:0,init:function(e,t){var r=this,n,a;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return rt(e).attr(t);r.context=t=document}if(dc(e))if(r.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?n=[null,e,null]:n=ZC.exec(e),n)if(n[1])for(a=Up(e,hc(t)).firstChild;a;)cc.call(r,a),a=a.nextSibling;else{if(a=hc(t).getElementById(n[2]),!a)return r;if(a.id!==n[2])return r.find(e);r.length=1,r[0]=a}else return rt(t).find(e);else this.add(e,!1);return r},toArray:function(){return V.toArray(this)},add:function(e,t){var r=this,n,a;if(dc(e))return r.add(rt(e));if(t!==!1)for(n=rt.unique(r.toArray().concat(rt.makeArray(e))),r.length=n.length,a=0;a<n.length;a++)r[a]=n[a];else cc.apply(r,rt.makeArray(e));return r},attr:function(e,t){var r=this,n;if(typeof e=="object")na(e,function(a,i){r.attr(a,i)});else if(iu(t))this.each(function(){var a;if(this.nodeType===1){if(a=vc[e],a&&a.set){a.set(this,t);return}t===null?this.removeAttribute(e,2):this.setAttribute(e,t,2)}});else{if(r[0]&&r[0].nodeType===1){if(n=vc[e],n&&n.get)return n.get(r[0],e);if(JC[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),t===null&&(t=void 0)}return t}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var r=this;if(e=ek[e]||e,typeof e=="object")na(e,function(n,a){r.prop(n,a)});else if(iu(t))this.each(function(){this.nodeType===1&&(this[e]=t)});else return r[0]&&r[0].nodeType&&e in r[0]?r[0][e]:t;return r},css:function(e,t){var r=this,n,a,i=function(u){return u.replace(/-(\D)/g,function(s,c){return c.toUpperCase()})},o=function(u){return u.replace(/[A-Z]/g,function(s){return"-"+s})};if(typeof e=="object")na(e,function(u,s){r.css(u,s)});else if(iu(t))e=i(e),typeof t=="number"&&!QC[e]&&(t=t.toString()+"px"),r.each(function(){var u=this.style;if(a=pc[e],a&&a.set){a.set(this,t);return}try{this.style[tk[e]||e]=t}catch{}(t===null||t==="")&&(u.removeProperty?u.removeProperty(o(e)):u.removeAttribute(e))});else{if(n=r[0],a=pc[e],a&&a.get)return a.get(n);if(n.ownerDocument.defaultView)try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(o(e))}catch{return}else return n.currentStyle?n.currentStyle[i(e)]:""}return r},remove:function(){for(var e=this,t,r=this.length;r--;)t=e[r],au.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,r=this.length;r--;)for(t=e[r];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,r;if(iu(e)){r=t.length;try{for(;r--;)t[r].innerHTML=e}catch{rt(t[r]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,r;if(iu(e)){for(r=t.length;r--;)"innerText"in t[r]?t[r].innerText=e:t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return to(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return to(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?to(e,arguments,function(t){this.parentNode.insertBefore(t,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?to(e,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):e},appendTo:function(e){return rt(e).append(this),this},prependTo:function(e){return rt(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Wp(this,e)},wrapAll:function(e){return Wp(this,e,!0)},wrapInner:function(e){return this.each(function(){rt(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){rt(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),rt(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var r=this;return typeof e!="string"||(e.indexOf(" ")!==-1?na(e.split(" "),function(){r.toggleClass(this,t)}):r.each(function(n,a){var i=Hp(a,e);if(i!==t){var o=a.className;i?a.className=Vp((" "+o+" ").replace(" "+e+" "," ")):a.className+=o?" "+e:e}})),r},hasClass:function(e){return Hp(this[0],e)},each:function(e){return na(this,e)},on:function(e,t){return this.each(function(){au.bind(this,e,t)})},off:function(e,t){return this.each(function(){au.unbind(this,e,t)})},trigger:function(e){return this.each(function(){typeof e=="object"?au.fire(this,e.type,e):au.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return rt(GC.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,r,n=[];for(t=0,r=this.length;t<r;t++)rt.find(e,this[t],n);return rt(n)},filter:function(e){return rt(typeof e=="function"?qp(this.toArray(),function(t,r){return e(r,t)}):rt.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof rt&&(e=e[0]),this.each(function(r,n){for(;n;){if(typeof e=="string"&&rt(n).is(e)){t.push(n);break}else if(n===e){t.push(n);break}n=n.parentNode}}),rt(t)},offset:function(e){var t,r,n,a=0,i=0,o;return e?this.css(e):(t=this[0],t&&(r=t.ownerDocument,n=r.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),a=o.left+(n.scrollLeft||r.body.scrollLeft)-n.clientLeft,i=o.top+(n.scrollTop||r.body.scrollTop)-n.clientTop)),{left:a,top:i})},push:cc,sort:Array.prototype.sort,splice:Array.prototype.splice},V.extend(rn,{extend:V.extend,makeArray:function(e){return YC(e)||e.nodeType?[e]:V.toArray(e)},inArray:rk,isArray:V.isArray,each:na,trim:Vp,grep:qp,find:xt,expr:xt.selectors,unique:xt.uniqueSort,text:xt.getText,contains:xt.contains,filter:function(e,t,r){var n=t.length;for(r&&(e=":not("+e+")");n--;)t[n].nodeType!==1&&t.splice(n,1);return t.length===1?t=rt.find.matchesSelector(t[0],e)?[t[0]]:[]:t=rt.find.matches(e,t),t}});var Kp=function(e,t,r){var n=[],a=e[t];for(typeof r!="string"&&r instanceof rt&&(r=r[0]);a&&a.nodeType!==9&&!(r!==void 0&&(a===r||typeof r=="string"&&rt(a).is(r)));)a.nodeType===1&&n.push(a),a=a[t];return n},mc=function(e,t,r,n){var a=[];for(n instanceof rt&&(n=n[0]);e;e=e[t])if(!(r&&e.nodeType!==r)){if(n!==void 0&&(e===n||typeof n=="string"&&rt(e).is(n)))break;a.push(e)}return a},Gp=function(e,t,r){for(e=e[t];e;e=e[t])if(e.nodeType===r)return e;return null};na({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Kp(e,"parentNode")},next:function(e){return Gp(e,"nextSibling",1)},prev:function(e){return Gp(e,"previousSibling",1)},children:function(e){return mc(e.firstChild,"nextSibling",1)},contents:function(e){return V.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){rn.fn[e]=function(r){var n=this,a=[];n.each(function(){var o=t.call(a,this,r,a);o&&(rt.isArray(o)?a.push.apply(a,o):a.push(o))}),this.length>1&&(XC[e]||(a=rt.unique(a)),e.indexOf("parents")===0&&(a=a.reverse()));var i=rt(a);return r?i.filter(r):i}}),na({parentsUntil:function(e,t){return Kp(e,"parentNode",t)},nextUntil:function(e,t){return mc(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return mc(e,"previousSibling",1,t).slice(1)}},function(e,t){rn.fn[e]=function(r,n){var a=this,i=[];a.each(function(){var u=t.call(i,this,r,i);u&&(rt.isArray(u)?i.push.apply(i,u):i.push(u))}),this.length>1&&(i=rt.unique(i),(e.indexOf("parents")===0||e==="prevUntil")&&(i=i.reverse()));var o=rt(i);return n?o.filter(n):o}}),rn.fn.is=function(e){return!!e&&this.filter(e).length>0},rn.fn.init.prototype=rn.fn,rn.overrideDefaults=function(e){var t,r=function(n,a){return t=t||e(),arguments.length===0&&(n=t.element),a||(a=t.context),new r.fn.init(n,a)};return rt.extend(r,this),r},rn.attrHooks=vc,rn.cssHooks=pc;var rt=rn,ou=V.each,ak=V.grep,Zp=Y.ie,ik=/^([a-z0-9],?)+$/i,ok=function(e,t,r){var n=t.keep_values,a={set:function(o,u,s){t.url_converter&&(u=t.url_converter.call(t.url_converter_scope||r(),u,s,o[0])),o.attr("data-mce-"+s,u).attr(s,u)},get:function(o,u){return o.attr("data-mce-"+u)||o.attr(u)}},i={style:{set:function(o,u){if(u!==null&&typeof u=="object"){o.css(u);return}n&&o.attr("data-mce-style",u),u!==null&&typeof u=="string"?(o.removeAttr("style"),o.css(e.parse(u))):o.attr("style",u)},get:function(o){var u=o.attr("data-mce-style")||o.attr("style");return u=e.serialize(e.parse(u),o[0].nodeName),u}}};return n&&(i.href=i.src=a),i},Xp=function(e,t){var r=t.attr("style"),n=e.serialize(e.parse(r),t[0].nodeName);n||(n=null),t.attr("data-mce-style",n)},ro=function(e,t){var r=0,n,a;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)a=e.nodeType,!(t&&a===3&&(a===n||!e.nodeValue.length))&&(r++,n=a);return r},Tt=function(e,t){t===void 0&&(t={});var r={},n=window,a={},i=0,o=!0,u=!0,s=bp.forElement(W.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),c=[],m=t.schema?t.schema:wa({}),h=Jf({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),g=t.ownEvents?new Qi:Qi.Event,S=m.getBlockElements(),_=rt.overrideDefaults(function(){return{context:e,element:Pi.getRoot()}}),x=function(K){if(typeof K=="string")return!!S[K];if(K){var te=K.nodeType;if(te)return!!(te===1&&S[K.nodeName])}return!1},C=function(K){return K&&e&&Ct(K)?e.getElementById(K):K},B=function(K){return _(typeof K=="string"?C(K):K)},T=function(K,te,be){var Ee,tt,gt=B(K);return gt.length&&(Ee=P1[te],Ee&&Ee.get?tt=Ee.get(gt,te):tt=gt.attr(te)),typeof tt=="undefined"&&(tt=be||""),tt},z=function(K){var te=C(K);return te?te.attributes:[]},j=function(K,te,be){be===""&&(be=null);var Ee=B(K),tt=Ee.attr(te);if(!!Ee.length){var gt=P1[te];gt&&gt.set?gt.set(Ee,be,te):Ee.attr(te,be),tt!==be&&t.onSetAttrib&&t.onSetAttrib({attrElm:Ee,attrName:te,attrValue:be})}},G=function(K,te){if(!Zp||K.nodeType!==1||te)return K.cloneNode(te);var be=e.createElement(K.nodeName);return ou(z(K),function(Ee){j(be,Ee.nodeName,T(K,Ee.nodeName))}),be},ie=function(){return t.root_element||e.body},he=function(K){var te=Qv(K);return{x:te.x,y:te.y,w:te.width,h:te.height}},ge=function(K,te){return iw(e.body,C(K),te)},Le=function(K,te,be){var Ee=Ct(te)?B(K).css(te,be):B(K).css(te);t.update_styles&&Xp(h,Ee)},$e=function(K,te){var be=B(K).css(te);t.update_styles&&Xp(h,be)},ce=function(K,te,be){var Ee=B(K);return be?Ee.css(te):(te=te.replace(/-(\D)/g,function(tt,gt){return gt.toUpperCase()}),te==="float"&&(te=Y.browser.isIE()?"styleFloat":"cssFloat"),Ee[0]&&Ee[0].style?Ee[0].style[te]:void 0)},Xe=function(K){var te,be;return K=C(K),te=ce(K,"width"),be=ce(K,"height"),te.indexOf("px")===-1&&(te=0),be.indexOf("px")===-1&&(be=0),{w:parseInt(te,10)||K.offsetWidth||K.clientWidth,h:parseInt(be,10)||K.offsetHeight||K.clientHeight}},Se=function(K){K=C(K);var te=ge(K),be=Xe(K);return{x:te.x,y:te.y,w:be.w,h:be.h}},ze=function(K,te){var be;if(!K)return!1;if(!Array.isArray(K)){if(te==="*")return K.nodeType===1;if(ik.test(te)){var Ee=te.toLowerCase().split(/,/),tt=K.nodeName.toLowerCase();for(be=Ee.length-1;be>=0;be--)if(Ee[be]===tt)return!0;return!1}if(K.nodeType&&K.nodeType!==1)return!1}var gt=Array.isArray(K)?K:[K];return xt(te,gt[0].ownerDocument||gt[0],null,gt).length>0},we=function(K,te,be,Ee){var tt=[],gt,Rt=C(K);for(Ee=Ee===void 0,be=be||(ie().nodeName!=="BODY"?ie().parentNode:null),V.is(te,"string")&&(gt=te,te==="*"?te=function(Ma){return Ma.nodeType===1}:te=function(Ma){return ze(Ma,gt)});Rt&&!(Rt===be||Ua(Rt.nodeType)||Rf(Rt)||Df(Rt));){if(!te||typeof te=="function"&&te(Rt))if(Ee)tt.push(Rt);else return[Rt];Rt=Rt.parentNode}return Ee?tt:null},xe=function(K,te,be){var Ee=we(K,te,be,!1);return Ee&&Ee.length>0?Ee[0]:null},Ie=function(K,te,be){var Ee=te;if(K){for(typeof te=="string"&&(Ee=function(tt){return ze(tt,te)}),K=K[be];K;K=K[be])if(typeof Ee=="function"&&Ee(K))return K}return null},ve=function(K,te){return Ie(K,te,"nextSibling")},De=function(K,te){return Ie(K,te,"previousSibling")},pt=function(K,te){return xt(K,C(te)||t.root_element||e,[])},Nt=function(K,te,be){var Ee,tt=typeof K=="string"?C(K):K;if(!tt)return!1;if(V.isArray(tt)&&(tt.length||tt.length===0))return Ee=[],ou(tt,function(Rt,Ma){Rt&&Ee.push(te.call(be,typeof Rt=="string"?C(Rt):Rt,Ma))}),Ee;var gt=be||this;return te.call(gt,tt)},yt=function(K,te){B(K).each(function(be,Ee){ou(te,function(tt,gt){j(Ee,gt,tt)})})},Wt=function(K,te){var be=B(K);Zp?be.each(function(Ee,tt){if(tt.canHaveHTML!==!1){for(;tt.firstChild;)tt.removeChild(tt.firstChild);try{tt.innerHTML="<br>"+te,tt.removeChild(tt.firstChild)}catch{rt("<div></div>").html("<br>"+te).contents().slice(1).appendTo(tt)}return te}}):be.html(te)},Ht=function(K,te,be,Ee,tt){return Nt(K,function(gt){var Rt=typeof te=="string"?e.createElement(te):te;return yt(Rt,be),Ee&&(typeof Ee!="string"&&Ee.nodeType?Rt.appendChild(Ee):typeof Ee=="string"&&Wt(Rt,Ee)),tt?Rt:gt.appendChild(Rt)})},Ir=function(K,te,be){return Ht(e.createElement(K),K,te,be,!0)},Ar=ni.decode,le=ni.encodeAllRaw,J=function(K,te,be){var Ee="",tt;Ee+="<"+K;for(tt in te)te.hasOwnProperty(tt)&&te[tt]!==null&&typeof te[tt]!="undefined"&&(Ee+=" "+tt+'="'+le(te[tt])+'"');return typeof be!="undefined"?Ee+">"+be+"</"+K+">":Ee+" />"},ue=function(K){var te,be=e.createElement("div"),Ee=e.createDocumentFragment();for(Ee.appendChild(be),K&&(be.innerHTML=K);te=be.firstChild;)Ee.appendChild(te);return Ee.removeChild(be),Ee},ee=function(K,te){var be=B(K);return te?be.each(function(){for(var Ee;Ee=this.firstChild;)Ee.nodeType===3&&Ee.data.length===0?this.removeChild(Ee):this.parentNode.insertBefore(Ee,this)}).remove():be.remove(),be.length>1?be.toArray():be[0]},Ne=function(K){return Nt(K,function(te){var be,Ee=te.attributes;for(be=Ee.length-1;be>=0;be--)te.removeAttributeNode(Ee.item(be))})},Ae=function(K){return h.parse(K)},Ye=function(K,te){return h.serialize(K,te)},ut=function(K){var te,be;if(Pi!==Tt.DOM&&e===document){if(r[K])return;r[K]=!0}be=e.getElementById("mceDefaultStyles"),be||(be=e.createElement("style"),be.id="mceDefaultStyles",be.type="text/css",te=e.getElementsByTagName("head")[0],te.firstChild?te.insertBefore(be,te.firstChild):te.appendChild(be)),be.styleSheet?be.styleSheet.cssText+=K:be.appendChild(e.createTextNode(K))},Bt=function(K){K||(K=""),He(K.split(","),function(te){a[te]=!0,s.load(te,ot)})},rr=function(K,te,be){B(K).toggleClass(te,be).each(function(){this.className===""&&rt(this).attr("class",null)})},Or=function(K,te){B(K).addClass(te)},la=function(K,te){rr(K,te,!1)},Sr=function(K,te){return B(K).hasClass(te)},Tr=function(K){B(K).show()},jt=function(K){B(K).hide()},Yn=function(K){return B(K).css("display")==="none"},Fr=function(K){return(K||"mce_")+i++},Pt=function(K){var te=typeof K=="string"?C(K):K;return at(te)?te.outerHTML:rt("<div></div>").append(rt(te).clone()).html()},_t=function(K,te){B(K).each(function(){try{if("outerHTML"in this){this.outerHTML=te;return}}catch{}ee(rt(this).html(te),!0)})},ur=function(K,te){var be=C(te);return Nt(K,function(Ee){var tt=be.parentNode,gt=be.nextSibling;return gt?tt.insertBefore(Ee,gt):tt.appendChild(Ee),Ee})},An=function(K,te,be){return Nt(te,function(Ee){return V.is(Ee,"array")&&(K=K.cloneNode(!0)),be&&ou(ak(Ee.childNodes),function(tt){K.appendChild(tt)}),Ee.parentNode.replaceChild(K,Ee)})},On=function(K,te){var be;return K.nodeName!==te.toUpperCase()&&(be=Ir(te),ou(z(K),function(Ee){j(be,Ee.nodeName,T(K,Ee.nodeName))}),An(be,K,!0)),be||K},un=function(K,te){for(var be=K,Ee;be;){for(Ee=te;Ee&&be!==Ee;)Ee=Ee.parentNode;if(be===Ee)break;be=be.parentNode}return!be&&K.ownerDocument?K.ownerDocument.documentElement:be},La=function(K){return h.toHex(V.trim(K))},Ao=function(K){if(at(K)){var te=K.nodeName.toLowerCase()==="a"&&!T(K,"href")&&T(K,"id");if(T(K,"name")||T(K,"data-mce-bookmark")||te)return!0}return!1},za=function(K,te){var be,Ee,tt=0;if(Ao(K))return!1;if(K=K.firstChild,K){var gt=new ar(K,K.parentNode),Rt=m?m.getWhiteSpaceElements():{};te=te||(m?m.getNonEmptyElements():null);do{if(be=K.nodeType,at(K)){var Ma=K.getAttribute("data-mce-bogus");if(Ma){K=gt.next(Ma==="all");continue}if(Ee=K.nodeName.toLowerCase(),te&&te[Ee]){if(Ee==="br"){tt++,K=gt.next();continue}return!1}if(Ao(K))return!1}if(be===8||be===3&&!ti(K.nodeValue)||be===3&&K.parentNode&&Rt[K.parentNode.nodeName]&&ti(K.nodeValue))return!1;K=gt.next()}while(K)}return tt<=1},of=function(){return e.createRange()},bL=function(K,te,be){var Ee=of(),tt,gt,Rt;if(K&&te)return Ee.setStart(K.parentNode,ro(K)),Ee.setEnd(te.parentNode,ro(te)),tt=Ee.extractContents(),Ee=of(),Ee.setStart(te.parentNode,ro(te)+1),Ee.setEnd(K.parentNode,ro(K)+1),gt=Ee.extractContents(),Rt=K.parentNode,Rt.insertBefore(Gf(Pi,tt),K),be?Rt.insertBefore(be,K):Rt.insertBefore(te,K),Rt.insertBefore(Gf(Pi,gt),K),ee(K),be||te},_1=function(K,te,be,Ee){if(V.isArray(K)){for(var tt=K.length,gt=[];tt--;)gt[tt]=_1(K[tt],te,be,Ee);return gt}t.collect&&(K===e||K===n)&&c.push([K,te,be,Ee]);var Rt=g.bind(K,te,be,Ee||Pi);return Rt},x1=function(K,te,be){if(V.isArray(K)){for(var Ee=K.length,tt=[];Ee--;)tt[Ee]=x1(K[Ee],te,be);return tt}else{if(c.length>0&&(K===e||K===n))for(var Ee=c.length;Ee--;){var gt=c[Ee];K===gt[0]&&(!te||te===gt[1])&&(!be||be===gt[2])&&g.unbind(gt[0],gt[1],gt[2])}return g.unbind(K,te,be)}},yL=function(K,te,be){return g.fire(K,te,be)},N1=function(K){if(K&&at(K)){var te=K.getAttribute("data-mce-contenteditable");return te&&te!=="inherit"?te:K.contentEditable!=="inherit"?K.contentEditable:null}else return null},wL=function(K){for(var te=ie(),be=null;K&&K!==te&&(be=N1(K),be===null);K=K.parentNode);return be},CL=function(){if(c.length>0)for(var K=c.length;K--;){var te=c[K];g.unbind(te[0],te[1],te[2])}Ut(a,function(be,Ee){s.unload(Ee),delete a[Ee]}),xt.setDocument&&xt.setDocument()},kL=function(K,te){for(;K;){if(te===K)return!0;K=K.parentNode}return!1},SL=function(K){return"startContainer: "+K.startContainer.nodeName+", startOffset: "+K.startOffset+", endContainer: "+K.endContainer.nodeName+", endOffset: "+K.endOffset},Pi={doc:e,settings:t,win:n,files:a,stdMode:o,boxModel:u,styleSheetLoader:s,boundEvents:c,styles:h,schema:m,events:g,isBlock:x,$:_,$$:B,root:null,clone:G,getRoot:ie,getViewPort:he,getRect:Se,getSize:Xe,getParent:xe,getParents:we,get:C,getNext:ve,getPrev:De,select:pt,is:ze,add:Ht,create:Ir,createHTML:J,createFragment:ue,remove:ee,setStyle:Le,getStyle:ce,setStyles:$e,removeAllAttribs:Ne,setAttrib:j,setAttribs:yt,getAttrib:T,getPos:ge,parseStyle:Ae,serializeStyle:Ye,addStyle:ut,loadCSS:Bt,addClass:Or,removeClass:la,hasClass:Sr,toggleClass:rr,show:Tr,hide:jt,isHidden:Yn,uniqueId:Fr,setHTML:Wt,getOuterHTML:Pt,setOuterHTML:_t,decode:Ar,encode:le,insertAfter:ur,replace:An,rename:On,findCommonAncestor:un,toHex:La,run:Nt,getAttribs:z,isEmpty:za,createRng:of,nodeIndex:ro,split:bL,bind:_1,unbind:x1,fire:yL,getContentEditable:N1,getContentEditableParent:wL,destroy:CL,isChildOf:kL,dumpRng:SL},P1=ok(h,t,function(){return Pi});return Pi};Tt.DOM=Tt(document),Tt.nodeIndex=ro;var uk=Tt.DOM,gc=V.each,sk=V.grep,lk=0,Yp=1,Ds=2,Qp=3,aa=function(){function e(t){t===void 0&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return e.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},e.prototype.loadScript=function(t,r,n){var a=uk,i,o=function(){a.remove(c),i&&(i.onerror=i.onload=i=null)},u=function(){o(),r()},s=function(){o(),Qt(n)?n():typeof console!="undefined"&&console.log&&console.log("Failed to load script: "+t)},c=a.uniqueId();i=document.createElement("script"),i.id=c,i.type="text/javascript",i.src=V._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=u,i.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)},e.prototype.isDone=function(t){return this.states[t]===Ds},e.prototype.markDone=function(t){this.states[t]=Ds},e.prototype.add=function(t,r,n,a){var i=this.states[t];this.queue.push(t),i===void 0&&(this.states[t]=lk),r&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:r,failure:a,scope:n||this}))},e.prototype.load=function(t,r,n,a){return this.add(t,r,n,a)},e.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},e.prototype.loadQueue=function(t,r,n){this.loadScripts(this.queue,t,r,n)},e.prototype.loadScripts=function(t,r,n,a){var i=this,o=[],u=function(c,m){gc(i.scriptLoadedCallbacks[m],function(h){Qt(h[c])&&h[c].call(h.scope)}),i.scriptLoadedCallbacks[m]=void 0};i.queueLoadedCallbacks.push({success:r,failure:a,scope:n||this});var s=function(){var c=sk(t);if(t.length=0,gc(c,function(h){if(i.states[h]===Ds){u("success",h);return}if(i.states[h]===Qp){u("failure",h);return}i.states[h]!==Yp&&(i.states[h]=Yp,i.loading++,i.loadScript(h,function(){i.states[h]=Ds,i.loading--,u("success",h),s()},function(){i.states[h]=Qp,i.loading--,o.push(h),u("failure",h),s()}))}),!i.loading){var m=i.queueLoadedCallbacks.slice(0);i.queueLoadedCallbacks.length=0,gc(m,function(h){o.length===0?Qt(h.success)&&h.success.call(h.scope):Qt(h.failure)&&h.failure.call(h.scope,o)})}};s()},e.ScriptLoader=new e,e}(),tr=function(e){var t=e,r=function(){return t},n=function(a){t=a};return{get:r,set:n}},fk=function(e){return Tn(e)&&nr(e,"raw")},ck=function(e){return Dt(e)&&e.length>1},uu={},bc=tr("en"),Jp=function(){return Mr(uu,bc.get())},dk=function(){return Uu(uu,function(e){return st({},e)})},vk=function(e){e&&bc.set(e)},pk=function(){return bc.get()},hk=function(e,t){var r=uu[e];r||(uu[e]=r={}),Ut(t,function(n,a){r[a.toLowerCase()]=n})},mk=function(e){var t=Jp().getOr({}),r=function(s){return Qt(s)?Object.prototype.toString.call(s):n(s)?"":""+s},n=function(s){return s===""||s===null||s===void 0},a=function(s){var c=r(s);return Mr(t,c.toLowerCase()).map(r).getOr(c)},i=function(s){return s.replace(/{context:\w+}$/,"")};if(n(e))return"";if(fk(e))return r(e.raw);if(ck(e)){var o=e.slice(1),u=a(e[0]).replace(/\{([0-9]+)\}/g,function(s,c){return nr(o,c)?r(o[c]):s});return i(u)}return i(a(e))},gk=function(){return Jp().bind(function(e){return Mr(e,"_dir")}).exists(function(e){return e==="rtl"})},bk=function(e){return nr(uu,e)},Sn={getData:dk,setCode:vk,getCode:pk,add:hk,translate:mk,isRtl:gk,hasCode:bk},Gr=function(){var e=[],t={},r={},n=[],a=function(x,C){var B=mt(n,function(T){return T.name===x&&T.state===C});He(B,function(T){return T.callback()})},i=function(x){if(r[x])return r[x].instance},o=function(x){var C;return r[x]&&(C=r[x].dependencies),C||[]},u=function(x,C){Gr.languageLoad!==!1&&_(x,function(){var B=Sn.getCode(),T=","+(C||"")+",";!B||C&&T.indexOf(","+B+",")===-1||aa.ScriptLoader.add(t[x]+"/langs/"+B+".js")},"loaded")},s=function(x,C,B){var T=C;return e.push(T),r[x]={instance:T,dependencies:B},a(x,"added"),T},c=function(x){delete t[x],delete r[x]},m=function(x,C){return typeof C=="object"?C:typeof x=="string"?{prefix:"",resource:C,suffix:""}:{prefix:x.prefix,resource:C,suffix:x.suffix}},h=function(x,C){var B=t[x];He(C,function(T){aa.ScriptLoader.add(B+"/"+T)})},g=function(x,C,B,T){var z=o(x);He(z,function(j){var G=m(C,j);S(G.resource,G,void 0,void 0)}),B&&(T?B.call(T):B.call(aa))},S=function(x,C,B,T,z){if(!t[x]){var j=typeof C=="string"?C:C.prefix+C.resource+C.suffix;j.indexOf("/")!==0&&j.indexOf("://")===-1&&(j=Gr.baseURL+"/"+j),t[x]=j.substring(0,j.lastIndexOf("/"));var G=function(){a(x,"loaded"),g(x,C,B,T)};r[x]?G():aa.ScriptLoader.add(j,G,T,z)}},_=function(x,C,B){B===void 0&&(B="added"),nr(r,x)&&B==="added"||nr(t,x)&&B==="loaded"?C():n.push({name:x,state:B,callback:C})};return{items:e,urls:t,lookup:r,_listeners:n,get:i,dependencies:o,requireLangPack:u,add:s,remove:c,createUrl:m,addComponents:h,load:S,waitFor:_}};Gr.languageLoad=!0,Gr.baseURL="",Gr.PluginManager=Gr(),Gr.ThemeManager=Gr();var yc=function(e,t){var r=null,n=function(){r!==null&&(clearTimeout(r),r=null)},a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r===null&&(r=setTimeout(function(){e.apply(null,i),r=null},t))};return{cancel:n,throttle:a}},eh=function(e,t){var r=null,n=function(){r!==null&&(clearTimeout(r),r=null)},a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r!==null&&clearTimeout(r),r=setTimeout(function(){e.apply(null,i),r=null},t)};return{cancel:n,throttle:a}},wc=function(e,t){var r=Qo(e,t);return r===void 0||r===""?[]:r.split(" ")},yk=function(e,t,r){var n=wc(e,t),a=n.concat([r]);return ta(e,t,a.join(" ")),!0},wk=function(e,t,r){var n=mt(wc(e,t),function(a){return a!==r});return n.length>0?ta(e,t,n.join(" ")):ei(e,t),!1},Is=function(e){return e.dom.classList!==void 0},Ck=function(e){return wc(e,"class")},kk=function(e,t){return yk(e,"class",t)},Sk=function(e,t){return wk(e,"class",t)},Fs=function(e,t){Is(e)?e.dom.classList.add(t):kk(e,t)},Ek=function(e){var t=Is(e)?e.dom.classList:Ck(e);t.length===0&&ei(e,"class")},_k=function(e,t){if(Is(e)){var r=e.dom.classList;r.remove(t)}else Sk(e,t);Ek(e)},th=function(e,t){return Is(e)&&e.dom.classList.contains(t)},rh=function(e,t){var r=[];return He(jr(e),function(n){t(n)&&(r=r.concat([n])),r=r.concat(rh(n,t))}),r},Ur=function(e,t){return w(t,e)},Cc=qe("mce-annotation"),su=qe("data-mce-annotation"),Ls=qe("data-mce-annotation-uid"),nh=function(e,t){var r=e.selection.getRng(),n=W.fromDom(r.startContainer),a=W.fromDom(e.getBody()),i=t.fold(function(){return"."+Cc()},function(c){return"["+su()+'="'+c+'"]'}),o=zi(n,r.startOffset).getOr(n),u=Lf(o,i,function(c){return ae(c,a)}),s=function(c,m){return Q1(c,m)?R.some(Qo(c,m)):R.none()};return u.bind(function(c){return s(c,""+Ls()).bind(function(m){return s(c,""+su()).map(function(h){var g=Nk(e,m);return{uid:m,name:h,elements:g}})})})},xk=function(e){return Ke(e)&&th(e,Cc())},Nk=function(e,t){var r=W.fromDom(e.getBody());return Ur(r,"["+Ls()+'="'+t+'"]')},Pk=function(e,t){var r=W.fromDom(e.getBody()),n=Ur(r,"["+su()+'="'+t+'"]'),a={};return He(n,function(i){var o=Qo(i,Ls()),u=a.hasOwnProperty(o)?a[o]:[];a[o]=u.concat([i])}),a},Ak=function(e,t){var r=tr({}),n=function(){return{listeners:[],previous:tr(R.none())}},a=function(m,h){i(m,function(g){return h(g),g})},i=function(m,h){var g=r.get(),S=g.hasOwnProperty(m)?g[m]:n(),_=h(S);g[m]=_,r.set(g)},o=function(m,h,g){a(m,function(S){He(S.listeners,function(_){return _(!0,m,{uid:h,nodes:It(g,function(x){return x.dom})})})})},u=function(m){a(m,function(h){He(h.listeners,function(g){return g(!1,m)})})},s=eh(function(){var m=r.get(),h=vf(In(m));He(h,function(g){i(g,function(S){var _=S.previous.get();return nh(e,R.some(g)).fold(function(){_.isSome()&&(u(g),S.previous.set(R.none()))},function(x){var C=x.uid,B=x.name,T=x.elements;_.is(C)||(o(B,C,T),S.previous.set(R.some(C)))}),{previous:S.previous,listeners:S.listeners}})})},30);e.on("remove",function(){s.cancel()}),e.on("NodeChange",function(){s.throttle()});var c=function(m,h){i(m,function(g){return{previous:g.previous,listeners:g.listeners.concat([h])}})};return{addListener:c}},Ok=function(e,t){var r=function(n){return R.from(n.attr(su())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(n){He(n,function(a){r(a).each(function(i){i.persistent===!1&&a.unwrap()})})})})},Tk=function(){var e={},t=function(n,a){e[n]={name:n,settings:a}},r=function(n){return e.hasOwnProperty(n)?R.from(e[n]).map(function(a){return a.settings}):R.none()};return{register:t,lookup:r}},ah=0,ih=function(e){var t=new Date,r=t.getTime(),n=Math.floor(Math.random()*1e9);return ah++,e+"_"+n+ah+String(r)},Bk=function(e,t){He(t,function(r){Fs(e,r)})},Rk=function(e,t){var r=t||document,n=r.createElement("div");return n.innerHTML=e,jr(W.fromDom(n))},Dk=function(e){return e.dom.innerHTML},oh=function(e,t){var r=St(e),n=r.dom,a=W.fromDom(n.createDocumentFragment()),i=Rk(t,n);ss(a,i),Af(e),br(e,a)},uh=function(e,t){return W.fromDom(e.dom.cloneNode(t))},no=function(e){return uh(e,!1)},sh=function(e){return uh(e,!0)},lh=function(e,t,r){r===void 0&&(r=Et);var n=new ar(e,t),a=function(i){var o;do o=n[i]();while(o&&!We(o)&&!r(o));return R.from(o).filter(We)};return{current:function(){return R.from(n.current()).filter(We)},next:function(){return a("next")},prev:function(){return a("prev")},prev2:function(){return a("prev2")}}},fh=function(e,t){var r=t||function(o){return e.isBlock(o)||Xt(o)||zt(o)},n=function(o,u,s,c){if(We(o)){var m=c(o,u,o.data);if(m!==-1)return R.some({container:o,offset:m})}return s().bind(function(h){return n(h.container,h.offset,s,c)})},a=function(o,u,s,c){var m=lh(o,c,r);return n(o,u,function(){return m.prev().map(function(h){return{container:h,offset:h.length}})},s).getOrNull()},i=function(o,u,s,c){var m=lh(o,c,r);return n(o,u,function(){return m.next().map(function(h){return{container:h,offset:0}})},s).getOrNull()};return{backwards:a,forwards:i}},Ik=function(e){for(var t=[],r=function(a){t.push(a)},n=0;n<e.length;n++)e[n].each(r);return t},Hr=function(e,t,r){return e.isSome()&&t.isSome()?R.some(r(e.getOrDie(),t.getOrDie())):R.none()},Fk=function(e,t,r,n){return e.isSome()&&t.isSome()&&r.isSome()?R.some(n(e.getOrDie(),t.getOrDie(),r.getOrDie())):R.none()},Lk=function(e,t){return e?R.some(t):R.none()},ao=Math.round,ui=function(e){return e?{left:ao(e.left),top:ao(e.top),bottom:ao(e.bottom),right:ao(e.right),width:ao(e.width),height:ao(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},ch=function(e,t){return e=ui(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},zk=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},dh=function(e,t,r){return e>=0&&e<=Math.min(t.height,r.height)/2},io=function(e,t){var r=Math.min(t.height/2,e.height/2);return e.bottom-r<t.top?!0:e.top>t.bottom?!1:dh(t.top-e.bottom,e,t)},oo=function(e,t){return e.top>t.bottom?!0:e.bottom<t.top?!1:dh(t.bottom-e.top,e,t)},vh=function(e,t,r){return t>=e.left&&t<=e.right&&r>=e.top&&r<=e.bottom},zs=function(e){var t=e.startContainer,r=e.startOffset;return t.hasChildNodes()&&e.endOffset===r+1?t.childNodes[r]:null},uo=function(e,t){return e.nodeType===1&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Mk=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),ph=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&Mk.test(e)},$k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){for(var n=0;n<e.length;n++)if(e[n](r))return!0;return!1}},jk=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){for(var n=0;n<e.length;n++)if(!e[n](r))return!1;return!0}},hh=at,Uk=Mn,mh=cs("display","block table"),Hk=cs("float","left right"),lu=jk(hh,Uk,Oo(Hk)),Wk=Oo(cs("white-space","pre pre-line pre-wrap")),fu=We,kc=Xt,gh=Tt.nodeIndex,Ms=uo,Sc=function(e){return"createRange"in e?e.createRange():Tt.DOM.createRng()},Ec=function(e){return e&&/[\r\n\t ]/.test(e)},bh=function(e){return!!e.setStart&&!!e.setEnd},_c=function(e){var t=e.startContainer,r=e.startOffset,n;return!!(Ec(e.toString())&&Wk(t.parentNode)&&We(t)&&(n=t.data,Ec(n[r-1])||Ec(n[r+1])))},Vk=function(e){var t=e.ownerDocument,r=Sc(t),n=t.createTextNode(qr),a=e.parentNode;a.insertBefore(n,e),r.setStart(n,0),r.setEnd(n,1);var i=ui(r.getBoundingClientRect());return a.removeChild(n),i},qk=function(e){var t=e.startContainer,r=e.endContainer,n=e.startOffset,a=e.endOffset;if(t===r&&We(r)&&n===0&&a===1){var i=e.cloneRange();return i.setEndAfter(r),Pa(i)}else return null},yh=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},Pa=function(e){var t,r=e.getClientRects();return r.length>0?t=ui(r[0]):t=ui(e.getBoundingClientRect()),!bh(e)&&kc(e)&&yh(t)?Vk(e):yh(t)&&bh(e)?qk(e):t},si=function(e,t){var r=ch(e,t);return r.width=1,r.right=r.left+1,r},Kk=function(e){var t=[],r,n,a=function(o){o.height!==0&&(t.length>0&&zk(o,t[t.length-1])||t.push(o))},i=function(o,u){var s=Sc(o.ownerDocument);if(u<o.data.length){if(ph(o.data[u]))return t;if(ph(o.data[u-1])&&(s.setStart(o,u),s.setEnd(o,u+1),!_c(s)))return a(si(Pa(s),!1)),t}u>0&&(s.setStart(o,u-1),s.setEnd(o,u),_c(s)||a(si(Pa(s),!1))),u<o.data.length&&(s.setStart(o,u),s.setEnd(o,u+1),_c(s)||a(si(Pa(s),!0)))};if(fu(e.container()))return i(e.container(),e.offset()),t;if(hh(e.container()))if(e.isAtEnd())n=Ms(e.container(),e.offset()),fu(n)&&i(n,n.data.length),lu(n)&&!kc(n)&&a(si(Pa(n),!1));else{if(n=Ms(e.container(),e.offset()),fu(n)&&i(n,0),lu(n)&&e.isAtEnd())return a(si(Pa(n),!1)),t;r=Ms(e.container(),e.offset()-1),lu(r)&&!kc(r)&&(mh(r)||mh(n)||!lu(n))&&a(si(Pa(r),!1)),lu(n)&&a(si(Pa(n),!0))}return t},ne=function(e,t,r){var n=function(){return fu(e),t===0},a=function(){return fu(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var m=Sc(e.ownerDocument);return m.setStart(e,t),m.setEnd(e,t),m},o=function(){return r||(r=Kk(ne(e,t))),r},u=function(){return o().length>0},s=function(m){return m&&e===m.container()&&t===m.offset()},c=function(m){return Ms(e,m?t-1:t)};return{container:qe(e),offset:qe(t),toRange:i,getClientRects:o,isVisible:u,isAtStart:n,isAtEnd:a,isEqual:s,getNode:c}};ne.fromRangeStart=function(e){return ne(e.startContainer,e.startOffset)},ne.fromRangeEnd=function(e){return ne(e.endContainer,e.endOffset)},ne.after=function(e){return ne(e.parentNode,gh(e)+1)},ne.before=function(e){return ne(e.parentNode,gh(e))},ne.isAbove=function(e,t){return Hr(zr(t.getClientRects()),Rn(e.getClientRects()),io).getOr(!1)},ne.isBelow=function(e,t){return Hr(Rn(t.getClientRects()),zr(e.getClientRects()),oo).getOr(!1)},ne.isAtStart=function(e){return e?e.isAtStart():!1},ne.isAtEnd=function(e){return e?e.isAtEnd():!1},ne.isTextPosition=function(e){return e?We(e.container()):!1},ne.isElementPosition=function(e){return ne.isTextPosition(e)===!1};var $s=function(e,t){We(t)&&t.data.length===0&&e.remove(t)},Gk=function(e,t,r){t.insertNode(r),$s(e,r.previousSibling),$s(e,r.nextSibling)},Zk=function(e,t,r){var n=R.from(r.firstChild),a=R.from(r.lastChild);t.insertNode(r),n.each(function(i){return $s(e,i.previousSibling)}),a.each(function(i){return $s(e,i.nextSibling)})},xc=function(e,t,r){Df(r)?Zk(e,t,r):Gk(e,t,r)},En=We,wh=ji,Ch=Tt.nodeIndex,kh=function(e){var t=e.parentNode;return wh(t)?kh(t):t},Nc=function(e){return e?Ft(e.childNodes,function(t,r){return wh(r)&&r.nodeName!=="BR"?t=t.concat(Nc(r)):t.push(r),t},[]):[]},Xk=function(e,t){for(;(e=e.previousSibling)&&En(e);)t+=e.data.length;return t},Sh=function(e){return function(t){return e===t}},Yk=function(e){var t,r;t=Nc(kh(e)),r=Mt(t,Sh(e),e),t=t.slice(0,r+1);var n=Ft(t,function(a,i,o){return En(i)&&En(t[o-1])&&a++,a},0);return t=va(t,ln([e.nodeName])),r=Mt(t,Sh(e),e),r-n},Eh=function(e){var t;return En(e)?t="text()":t=e.nodeName.toLowerCase(),t+"["+Yk(e)+"]"},Qk=function(e,t,r){var n=[];for(t=t.parentNode;t!==e&&!(r&&r(t));t=t.parentNode)n.push(t);return n},_h=function(e,t){var r,n,a=[],i,o,u;return r=t.container(),n=t.offset(),En(r)?i=Xk(r,n):(o=r.childNodes,n>=o.length?(i="after",n=o.length-1):i="before",r=o[n]),a.push(Eh(r)),u=Qk(e,r),u=va(u,Oo(ji)),a=a.concat(da(u,function(s){return Eh(s)})),a.reverse().join("/")+","+i},Jk=function(e,t,r){var n=Nc(e);return n=va(n,function(a,i){return!En(a)||!En(n[i-1])}),n=va(n,ln([t])),n[r]},eS=function(e,t){for(var r=e,n=0,a;En(r);){if(a=r.data.length,t>=n&&t<=n+a){e=r,t=t-n;break}if(!En(r.nextSibling)){e=r,t=a;break}n+=a,r=r.nextSibling}return En(e)&&t>e.data.length&&(t=e.data.length),ne(e,t)},xh=function(e,t){var r;if(!t)return null;var n=t.split(","),a=n[0].split("/");r=n.length>1?n[1]:"before";var i=Ft(a,function(o,u){var s=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return s?(s[1]==="text()"&&(s[1]="#text"),Jk(o,s[1],parseInt(s[2],10))):null},e);return i?En(i)?eS(i,parseInt(r,10)):(r==="after"?r=Ch(i)+1:r=Ch(i),ne(i.parentNode,r)):null},js=zt,tS=function(e,t,r){var n,a;for(a=e(t.data.slice(0,r)).length,n=t.previousSibling;n&&We(n);n=n.previousSibling)a+=e(n.data).length;return a},Nh=function(e,t,r,n,a){var i=n[a?"startContainer":"endContainer"],o=n[a?"startOffset":"endOffset"],u=[],s,c=0,m=e.getRoot();for(We(i)?u.push(r?tS(t,i,o):o):(s=i.childNodes,o>=s.length&&s.length&&(c=1,o=Math.max(0,s.length-1)),u.push(e.nodeIndex(s[o],r)+c));i&&i!==m;i=i.parentNode)u.push(e.nodeIndex(i,r));return u},rS=function(e,t,r,n){var a=t.dom,i={};return i.start=Nh(a,e,r,n,!0),t.isCollapsed()||(i.end=Nh(a,e,r,n,!1)),i},Pc=function(e,t,r){var n=0;return V.each(e.select(t),function(a){if(a.getAttribute("data-mce-bogus")!=="all"){if(a===r)return!1;n++}}),n},Ph=function(e,t){var r,n,a,i=t?"start":"end";r=e[i+"Container"],n=e[i+"Offset"],at(r)&&r.nodeName==="TR"&&(a=r.childNodes,r=a[Math.min(t?n:n-1,a.length-1)],r&&(n=t?0:r.childNodes.length,e["set"+(t?"Start":"End")](r,n)))},Ah=function(e){return Ph(e,!0),Ph(e,!1),e},Oh=function(e,t){var r;if(at(e)&&(e=uo(e,t),js(e)))return e;if(en(e)&&(We(e)&&Ki(e)&&(e=e.parentNode),r=e.previousSibling,js(r)||(r=e.nextSibling,js(r))))return r},nS=function(e){return Oh(e.startContainer,e.startOffset)||Oh(e.endContainer,e.endOffset)},Th=function(e,t,r){var n=r.getNode(),a=n?n.nodeName:null,i=r.getRng();if(js(n)||a==="IMG")return{name:a,index:Pc(r.dom,a,n)};var o=nS(i);return o?(a=o.tagName,{name:a,index:Pc(r.dom,a,o)}):rS(e,r,t,i)},aS=function(e){var t=e.getRng();return{start:_h(e.dom.getRoot(),ne.fromRangeStart(t)),end:_h(e.dom.getRoot(),ne.fromRangeEnd(t))}},iS=function(e){return{rng:e.getRng()}},Bh=function(e,t,r){var n={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return r?e.create("span",n,"&#xFEFF;"):e.create("span",n)},Rh=function(e,t){var r=e.dom,n=e.getRng(),a=r.uniqueId(),i=e.isCollapsed(),o=e.getNode(),u=o.nodeName;if(u==="IMG")return{name:u,index:Pc(r,u,o)};var s=Ah(n.cloneRange());if(!i){s.collapse(!1);var c=Bh(r,a+"_end",t);xc(r,s,c)}n=Ah(n),n.collapse(!0);var m=Bh(r,a+"_start",t);return xc(r,n,m),e.moveToBookmark({id:a,keep:!0}),{id:a}},oS=function(e,t,r){return t===2?Th(ba,r,e):t===3?aS(e):t?iS(e):Rh(e,!1)},Dh=Be(Th,Lr,!0),uS=Tt.DOM,sS="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Ih=function(e,t,r){var n=e.getParam(t,r);if(n.indexOf("=")!==-1){var a=e.getParam(t,"","hash");return a.hasOwnProperty(e.id)?a[e.id]:r}else return n},lS=function(e){return e.getParam("iframe_attrs",{})},fS=function(e){return e.getParam("doctype","<!DOCTYPE html>")},cS=function(e){return e.getParam("document_base_url","")},dS=function(e){return Ih(e,"body_id","tinymce")},vS=function(e){return Ih(e,"body_class","")},Fh=function(e){return e.getParam("content_security_policy","")},pS=function(e){return e.getParam("br_in_pre",!0)},kr=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return t===!1?"":t===!0?"p":t},cu=function(e){return e.getParam("forced_root_block_attrs",{})},hS=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},mS=function(e){return e.getParam("no_newline_selector","")},gS=function(e){return e.getParam("keep_styles",!0)},bS=function(e){return e.getParam("end_container_on_empty_block",!1)},yS=function(e){return V.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},wS=function(e){return V.explode(e.getParam("font_size_classes",""))},CS=function(e){return e.getParam("images_dataimg_filter",Jt,"function")},Lh=function(e){return e.getParam("automatic_uploads",!0,"boolean")},kS=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},SS=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},zh=function(e){return e.getParam("icons","","string")},ES=function(e){return e.getParam("icons_url","","string")},_S=function(e){return e.getParam("images_upload_url","","string")},xS=function(e){return e.getParam("images_upload_base_path","","string")},NS=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},PS=function(e){return e.getParam("images_upload_handler",null,"function")},AS=function(e){return e.getParam("content_css_cors",!1,"boolean")},Mh=function(e){return e.getParam("referrer_policy","","string")},$h=function(e){return e.getParam("language","en","string")},OS=function(e){return e.getParam("language_url","","string")},jh=function(e){return e.getParam("indent_use_margin",!1)},TS=function(e){return e.getParam("indentation","40px","string")},BS=function(e){var t=e.getParam("content_css");return Ct(t)?It(t.split(","),Ya):Dt(t)?t:t===!1||e.inline?[]:["default"]},Uh=function(e){var t=e.getParam("font_css",[]);return Dt(t)?t:It(t.split(","),Ya)},RS=function(e){return e.getParam("directionality",Sn.isRtl()?"rtl":void 0)},DS=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Hh=function(e){var t=e.getParam("object_resizing");return t===!1||Y.iOS?!1:Ct(t)?t:"table,img,figure.image,div,video,iframe"},IS=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},FS=function(e){return e.getParam("placeholder",uS.getAttrib(e.getElement(),"placeholder"),"string")},Wh=function(e){return e.getParam("event_root")},LS=function(e){return e.getParam("service_message")},du=function(e){return e.getParam("theme")},zS=function(e){return e.getParam("validate")},vu=function(e){return e.getParam("inline_boundaries")!==!1},MS=function(e){return e.getParam("formats")},$S=function(e){var t=e.getParam("preview_styles",sS);return Ct(t)?t:""},jS=function(e){return e.getParam("format_empty_lines",!1,"boolean")},US=function(e){return e.getParam("custom_ui_selector","","string")},HS=function(e){return e.getParam("theme_url")},WS=function(e){return e.getParam("inline")},VS=function(e){return e.getParam("hidden_input")},qS=function(e){return e.getParam("submit_patch")},KS=function(e){return e.getParam("encoding")==="xml"},GS=function(e){return e.getParam("add_form_submit_trigger")},ZS=function(e){return e.getParam("add_unload_trigger")},XS=function(e){return kr(e)!==""},YS=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},QS=function(e){return e.getParam("disable_nodechange")},JS=function(e){return e.getParam("readonly")},eE=function(e){return e.getParam("content_css_cors")},Ac=function(e){return e.getParam("plugins","","string")},tE=function(e){return e.getParam("external_plugins")},rE=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},nE=function(e){return e.getParam("visual",!0,"boolean")},aE=function(e){return e.getParam("visual_table_class","mce-item-table","string")},iE=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},oE=at,Vh=We,qh=function(e){var t=e.parentNode;t&&t.removeChild(e)},Kh=function(e){var t=ba(e);return{count:e.length-t.length,text:t}},Gh=function(e){for(var t;(t=e.data.lastIndexOf(dr))!==-1;)e.deleteData(t,1)},Zh=function(e,t){return li(e),t},uE=function(e,t){var r=Kh(e.data.substr(0,t.offset())),n=Kh(e.data.substr(t.offset())),a=r.text+n.text;return a.length>0?(Gh(e),ne(e,t.offset()-r.count)):t},sE=function(e,t){var r=t.container(),n=ff(Dn(r.childNodes),e).map(function(a){return a<t.offset()?ne(r,t.offset()-1):t}).getOr(t);return li(e),n},lE=function(e,t){return Vh(e)&&t.container()===e?uE(e,t):Zh(e,t)},fE=function(e,t){return t.container()===e.parentNode?sE(e,t):Zh(e,t)},cE=function(e,t){return ne.isTextPosition(t)?lE(e,t):fE(e,t)},li=function(e){oE(e)&&en(e)&&(wp(e)?e.removeAttribute("data-mce-caret"):qh(e)),Vh(e)&&(Gh(e),e.data.length===0&&qh(e))},Oc=F().browser,dE=zt,vE=fn,pE=tp,hE="*[contentEditable=false],video,audio,embed,object",Xh=function(e,t,r){var n=ch(t.getBoundingClientRect(),r),a,i,o,u,s;return e.tagName==="BODY"?(a=e.ownerDocument.documentElement,i=e.scrollLeft||a.scrollLeft,o=e.scrollTop||a.scrollTop):(s=e.getBoundingClientRect(),i=e.scrollLeft-s.left,o=e.scrollTop-s.top),n.left+=i,n.right+=i,n.top+=o,n.bottom+=o,n.width=1,u=t.offsetWidth-t.clientWidth,u>0&&(r&&(u*=-1),n.left+=u,n.right+=u),n},mE=function(e){for(var t=Ur(W.fromDom(e),hE),r=0;r<t.length;r++){var n=t[r].dom,a=n.previousSibling;if(ys(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(i.length-1,1)}if(a=n.nextSibling,bs(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(0,1)}}},gE=function(e,t,r,n){var a=tr(R.none()),i,o,u=kr(e),s=u.length>0?u:"p",c=function(x,C){var B,T;if(m(),pE(C))return null;if(r(C)){o=Mw(s,C,x),B=Xh(t,C,x),rt(o).css("top",B.top);var z=rt('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(B).appendTo(t)[0];a.set(R.some({caret:z,element:C,before:x})),a.get().each(function(j){x&&rt(j.caret).addClass("mce-visual-caret-before")}),h(),T=C.ownerDocument.createRange(),T.setStart(o,0),T.setEnd(o,0)}else return o=Lw(C,x),T=C.ownerDocument.createRange(),pu(o.nextSibling)?(T.setStart(o,0),T.setEnd(o,0)):(T.setStart(o,1),T.setEnd(o,1)),T;return T},m=function(){mE(t),o&&(li(o),o=null),a.get().each(function(x){rt(x.caret).remove(),a.set(R.none())}),i&&(wr.clearInterval(i),i=null)},h=function(){i=wr.setInterval(function(){n()?rt("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):rt("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)},g=function(){a.get().each(function(x){var C=Xh(t,x.element,x.before);rt(x.caret).css(st({},C))})},S=function(){return wr.clearInterval(i)},_=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:c,hide:m,getCss:_,reposition:g,destroy:S}},Yh=function(){return Oc.isIE()||Oc.isEdge()||Oc.isFirefox()},pu=function(e){return dE(e)||vE(e)},fi=function(e){return pu(e)||Ui(e)&&Yh()},Tc=zt,bE=fn,yE=cs("display","block table table-cell table-caption list-item"),Qh=en,Jh=Ki,em=at,wE=Mn,so=function(e){return e>0},ci=function(e){return e<0},Us=function(e,t){for(var r;r=e(t);)if(!Jh(r))return r;return null},lo=function(e,t,r,n,a){var i=new ar(e,n),o=Tc(e)||Jh(e);if(ci(t)){if(o&&(e=Us(i.prev.bind(i),!0),r(e)))return e;for(;e=Us(i.prev.bind(i),a);)if(r(e))return e}if(so(t)){if(o&&(e=Us(i.next.bind(i),!0),r(e)))return e;for(;e=Us(i.next.bind(i),a);)if(r(e))return e}return null},Aa=function(e,t){for(;e&&e!==t;){if(yE(e))return e;e=e.parentNode}return null},Un=function(e,t,r){return Aa(e.container(),r)===Aa(t.container(),r)},Bc=function(e,t){if(!t)return null;var r=t.container(),n=t.offset();return em(r)?r.childNodes[n+e]:null},tm=function(e,t){var r=t.ownerDocument.createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},CE=function(e,t,r){return Aa(t,e)===Aa(r,e)},rm=function(e,t,r){var n,a;for(e?a="previousSibling":a="nextSibling";r&&r!==t;){if(n=r[a],Qh(n)&&(n=n[a]),Tc(n)||bE(n)){if(CE(t,n,r))return n;break}if(wE(n))break;r=r.parentNode}return null},hu=Be(tm,!0),mu=Be(tm,!1),Rc=function(e,t,r){var n,a,i,o=Be(rm,!0,t),u=Be(rm,!1,t);a=r.startContainer;var s=r.startOffset;if(Ki(a)){if(em(a)||(a=a.parentNode),i=a.getAttribute("data-mce-caret"),i==="before"&&(n=a.nextSibling,fi(n)))return hu(n);if(i==="after"&&(n=a.previousSibling,fi(n)))return mu(n)}if(!r.collapsed)return r;if(We(a)){if(Qh(a)){if(e===1){if(n=u(a),n)return hu(n);if(n=o(a),n)return mu(n)}if(e===-1){if(n=o(a),n)return mu(n);if(n=u(a),n)return hu(n)}return r}if(ys(a)&&s>=a.data.length-1)return e===1&&(n=u(a),n)?hu(n):r;if(bs(a)&&s<=1)return e===-1&&(n=o(a),n)?mu(n):r;if(s===a.data.length)return n=u(a),n?hu(n):r;if(s===0)return n=o(a),n?mu(n):r}return r},nm=function(e,t){return R.from(Bc(e?0:-1,t)).filter(Tc)},gu=function(e,t,r){var n=Rc(e,t,r);return e===-1?ne.fromRangeStart(n):ne.fromRangeEnd(n)},Hs=function(e){return R.from(e.getNode()).map(W.fromDom)},kE=function(e){return R.from(e.getNode(!0)).map(W.fromDom)},Dc=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Ws=function(e,t){var r=Un(e,t);return!r&&Xt(e.getNode())?!0:r},or;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(or||(or={}));var SE=zt,Hn=We,am=at,Ic=Xt,fo=Mn,im=Yw,Vs=ws,EE=function(e,t){for(var r=[];e&&e!==t;)r.push(e),e=e.parentNode;return r},om=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},um=function(e,t){if(so(e)){if(fo(t.previousSibling)&&!Hn(t.previousSibling))return ne.before(t);if(Hn(t))return ne(t,0)}if(ci(e)){if(fo(t.nextSibling)&&!Hn(t.nextSibling))return ne.after(t);if(Hn(t))return ne(t,t.data.length)}return ci(e)?Ic(t)?ne.before(t):ne.after(t):ne.before(t)},_E=function(e,t){var r=t.nextSibling;return r&&fo(r)?Hn(r)?ne(r,0):ne.before(r):Fc(or.Forwards,ne.after(t),e)},Fc=function(e,t,r){var n,a,i,o;if(!am(r)||!t)return null;if(t.isEqual(ne.after(r))&&r.lastChild){if(o=ne.after(r.lastChild),ci(e)&&fo(r.lastChild)&&am(r.lastChild))return Ic(r.lastChild)?ne.before(r.lastChild):o}else o=t;var u=o.container(),s=o.offset();if(Hn(u)){if(ci(e)&&s>0)return ne(u,--s);if(so(e)&&s<u.length)return ne(u,++s);n=u}else{if(ci(e)&&s>0&&(a=om(u,s-1),fo(a)))return!im(a)&&(i=lo(a,e,Vs,a),i)?Hn(i)?ne(i,i.data.length):ne.after(i):Hn(a)?ne(a,a.data.length):ne.before(a);if(so(e)&&s<u.childNodes.length&&(a=om(u,s),fo(a)))return Ic(a)?_E(r,a):!im(a)&&(i=lo(a,e,Vs,a),i)?Hn(i)?ne(i,0):ne.before(i):Hn(a)?ne(a,0):ne.after(a);n=a||o.getNode()}if((so(e)&&o.isAtEnd()||ci(e)&&o.isAtStart())&&(n=lo(n,e,Jt,r,!0),Vs(n,r)))return um(e,n);a=lo(n,e,Vs,r);var c=gn(mt(EE(u,r),SE));return c&&(!a||!c.contains(a))?(so(e)?o=ne.after(c):o=ne.before(c),o):a?um(e,a):null},_n=function(e){return{next:function(t){return Fc(or.Forwards,t,e)},prev:function(t){return Fc(or.Backwards,t,e)}}},xE=function(e,t,r){var n=e?ne.before(r):ne.after(r);return nn(e,t,n)},NE=function(e){return Xt(e)?ne.before(e):ne.after(e)},sm=function(e){return ne.isTextPosition(e)?e.offset()===0:Mn(e.getNode())},lm=function(e){if(ne.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}else return Mn(e.getNode(!0))},fm=function(e,t){return!ne.isTextPosition(e)&&!ne.isTextPosition(t)&&e.getNode()===t.getNode(!0)},PE=function(e){return!ne.isTextPosition(e)&&Xt(e.getNode())},AE=function(e,t,r){return e?!fm(t,r)&&!PE(t)&&lm(t)&&sm(r):!fm(r,t)&&sm(t)&&lm(r)},nn=function(e,t,r){var n=_n(t);return R.from(e?n.next(r):n.prev(r))},qs=function(e,t,r){return nn(e,t,r).bind(function(n){return Un(r,n,t)&&AE(e,r,n)?nn(e,t,n):R.some(n)})},cm=function(e,t,r,n){return qs(e,t,r).bind(function(a){return n(a)?cm(e,t,a,n):R.some(a)})},co=function(e,t){var r=e?t.firstChild:t.lastChild;return We(r)?R.some(ne(r,e?0:r.data.length)):r?Mn(r)?R.some(e?ne.before(r):NE(r)):xE(e,t,r):R.none()},xn=Be(nn,!0),Wn=Be(nn,!1),Rr=Be(co,!0),Vn=Be(co,!1),dm="_mce_caret",qn=function(e){return at(e)&&e.id===dm},di=function(e,t){for(;t&&t!==e;){if(t.id===dm)return t;t=t.parentNode}return null},OE=function(e){return Ct(e.start)},TE=function(e){return e.hasOwnProperty("rng")},BE=function(e){return e.hasOwnProperty("id")},RE=function(e){return e.hasOwnProperty("name")},DE=function(e){return V.isArray(e.start)},vm=function(e,t){return at(t)&&e.isBlock(t)&&!t.innerHTML&&!Y.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},IE=function(e,t){var r,n=e.createRng();return r=xh(e.getRoot(),t.start),n.setStart(r.container(),r.offset()),r=xh(e.getRoot(),t.end),n.setEnd(r.container(),r.offset()),n},FE=function(e,t){var r=e.ownerDocument.createTextNode(dr);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)},LE=function(e){return e.hasChildNodes()===!1},zE=function(e,t){return Vn(e).fold(Et,function(r){return t.setStart(r.container(),r.offset()),t.setEnd(r.container(),r.offset()),!0})},pm=function(e,t,r){return LE(t)&&di(e,t)?(FE(t,r),!0):!1},hm=function(e,t,r,n){var a=r[t?"start":"end"],i,o,u,s,c=e.getRoot();if(a){for(u=a[0],o=c,i=a.length-1;i>=1;i--){if(s=o.childNodes,pm(c,o,n))return!0;if(a[i]>s.length-1)return pm(c,o,n)?!0:zE(o,n);o=s[a[i]]}o.nodeType===3&&(u=Math.min(a[0],o.nodeValue.length)),o.nodeType===1&&(u=Math.min(a[0],o.childNodes.length)),t?n.setStart(o,u):n.setEnd(o,u)}return!0},Lc=function(e){return We(e)&&e.data.length>0},mm=function(e,t,r){var n=e.get(r.id+"_"+t),a,i,o,u,s=r.keep,c,m;if(n){if(a=n.parentNode,t==="start"?(s?n.hasChildNodes()?(a=n.firstChild,i=1):Lc(n.nextSibling)?(a=n.nextSibling,i=0):Lc(n.previousSibling)?(a=n.previousSibling,i=n.previousSibling.data.length):(a=n.parentNode,i=e.nodeIndex(n)+1):i=e.nodeIndex(n),c=a,m=i):(s?n.hasChildNodes()?(a=n.firstChild,i=1):Lc(n.previousSibling)?(a=n.previousSibling,i=n.previousSibling.data.length):(a=n.parentNode,i=e.nodeIndex(n)):i=e.nodeIndex(n),c=a,m=i),!s){for(u=n.previousSibling,o=n.nextSibling,V.each(V.grep(n.childNodes),function(h){We(h)&&(h.nodeValue=h.nodeValue.replace(/\uFEFF/g,""))});n=e.get(r.id+"_"+t);)e.remove(n,!0);u&&o&&u.nodeType===o.nodeType&&We(u)&&!Y.opera&&(i=u.nodeValue.length,u.appendData(o.nodeValue),e.remove(o),c=u,m=i)}return R.some(ne(c,m))}else return R.none()},ME=function(e,t){var r=e.createRng();return hm(e,!0,t,r)&&hm(e,!1,t,r)?R.some(r):R.none()},$E=function(e,t){var r=mm(e,"start",t),n=mm(e,"end",t);return Hr(r,n.or(r),function(a,i){var o=e.createRng();return o.setStart(vm(e,a.container()),a.offset()),o.setEnd(vm(e,i.container()),i.offset()),o})},jE=function(e,t){return R.from(e.select(t.name)[t.index]).map(function(r){var n=e.createRng();return n.selectNode(r),n})},UE=function(e,t){var r=e.dom;if(t){if(DE(t))return ME(r,t);if(OE(t))return R.some(IE(r,t));if(BE(t))return $E(r,t);if(RE(t))return jE(r,t);if(TE(t))return R.some(t.rng)}return R.none()},HE=function(e,t,r){return oS(e,t,r)},WE=function(e,t){UE(e,t).each(function(r){e.setRng(r)})},Zr=function(e){return at(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},VE=function(e){return function(t){return e===t}},bu=VE(qr),vo=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},zc=function(e){return!vo(e)&&!bu(e)},Mc=function(e){return!!e.nodeType},qE=function(e){return e&&/^(IMG)$/.test(e.nodeName)},gm=function(e,t,r){var n=r.startOffset,a=r.startContainer,i,o,u;if(!(r.startContainer===r.endContainer&&qE(r.startContainer.childNodes[r.startOffset]))&&a.nodeType===1){for(u=a.childNodes,n<u.length?(a=u[n],i=new ar(a,e.getParent(a,e.isBlock))):(a=u[u.length-1],i=new ar(a,e.getParent(a,e.isBlock)),i.next(!0)),o=i.current();o;o=i.next())if(o.nodeType===3&&!Uc(o)){r.setStart(o,0),t.setRng(r);return}}},$c=function(e,t,r){if(e){var n=t?"nextSibling":"previousSibling";for(e=r?e:e[n];e;e=e[n])if(e.nodeType===1||!Uc(e))return e}},jc=function(e,t){return Mc(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},po=function(e,t,r){return e.schema.isValidChild(t,r)},Uc=function(e,t){if(t===void 0&&(t=!1),lr(e)&&We(e)){var r=t?e.data.replace(/ /g,"\xA0"):e.data;return ti(r)}else return!1},KE=function(e){return lr(e)&&We(e)&&e.length===0},ia=function(e,t){return typeof e!="string"?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(r,n){return t[n]||r})),e},Hc=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Wc=function(e,t,r){return(r==="color"||r==="backgroundColor")&&(t=e.toHex(t)),r==="fontWeight"&&t===700&&(t="bold"),r==="fontFamily"&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Ks=function(e,t,r){return Wc(e,e.getStyle(t,r),r)},bm=function(e,t){var r;return e.getParent(t,function(n){return r=e.getStyle(n,"text-decoration"),r&&r!=="none"}),r},Gs=function(e,t,r){return e.getParents(t,r,e.getRoot())},GE=function(e,t){var r=function(n){var a=function(i){return i.length>1&&i.charAt(0)==="%"};return Br(["styles","attributes"],function(i){return Mr(n,i).exists(function(o){var u=Dt(o)?o:gf(o);return Br(u,a)})})};return Br(e.formatter.get(t),r)},ZE=function(e,t,r){var n=["inline","block","selector","attributes","styles","classes"],a=function(i){return Ka(i,function(o,u){return Br(n,function(s){return s===u})})};return Br(e.formatter.get(t),function(i){var o=a(i);return Br(e.formatter.get(r),function(u){var s=a(u);return bf(o,s)})})},ym=function(e){return Ga(e,"block")},Vc=function(e){return Ga(e,"selector")},qc=function(e){return Ga(e,"inline")},wm=function(e,t){return Br(t.childNodes,e.isBlock)},ho=Zr,Cm=Gs,km=Uc,XE=jc,YE=function(e){return Xt(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Sm=function(e,t){for(var r=t;r;){if(at(r)&&e.getContentEditable(r))return e.getContentEditable(r)==="false"?r:t;r=r.parentNode}return t},Em=function(e,t,r,n){for(var a=t.data,i=r;e?i>=0:i<a.length;e?i--:i++)if(n(a.charAt(i)))return e?i+1:i;return-1},QE=function(e,t,r){return Em(e,t,r,function(n){return bu(n)||vo(n)})},JE=function(e,t,r){return Em(e,t,r,zc)},_m=function(e,t,r,n,a,i){var o,u=e.getParent(r,e.isBlock)||t,s=function(m,h,g){var S=fh(e),_=a?S.backwards:S.forwards;return R.from(_(m,h,function(x,C){return ho(x.parentNode)?-1:(o=x,g(a,x,C))},u))},c=s(r,n,QE);return c.bind(function(m){return i?s(m.container,m.offset+(a?-1:0),JE):R.some(m)}).orThunk(function(){return o?R.some({container:o,offset:a?0:o.length}):R.none()})},xm=function(e,t,r,n,a){We(n)&&n.nodeValue.length===0&&n[a]&&(n=n[a]);for(var i=Cm(e,n),o=0;o<i.length;o++)for(var u=0;u<t.length;u++){var s=t[u];if(!("collapsed"in s&&s.collapsed!==r.collapsed)&&e.is(i[o],s.selector))return i[o]}return n},Nm=function(e,t,r,n){var a,i=e.dom,o=i.getRoot();if(t[0].wrapper||(a=i.getParent(r,t[0].block,o)),!a){var u=i.getParent(r,"LI,TD,TH");a=i.getParent(We(r)?r.parentNode:r,function(s){return s!==o&&XE(e,s)},u)}if(a&&t[0].wrapper&&(a=Cm(i,a,"ul,ol").reverse()[0]||a),!a)for(a=r;a[n]&&!i.isBlock(a[n])&&(a=a[n],!Hc(a,"br")););return a||r},Pm=function(e,t,r,n){var a=r.parentNode;return lr(r[n])?!1:a===t||Ua(a)||e.isBlock(a)?!0:Pm(e,t,a,n)},Zs=function(e,t,r,n,a){var i=r,o,u=a?"previousSibling":"nextSibling",s=e.getRoot();if(We(r)&&!km(r)&&(a?n>0:n<r.data.length))return r;for(;;){if(!t[0].block_expand&&e.isBlock(i))return i;for(o=i[u];o;o=o[u]){var c=We(o)&&!Pm(e,s,o,u);if(!ho(o)&&!YE(o)&&!km(o,c))return i}if(i===s||i.parentNode===s){r=i;break}i=i.parentNode}return r},Am=function(e){return ho(e.parentNode)||ho(e)},mo=function(e,t,r,n){n===void 0&&(n=!1);var a=t.startContainer,i=t.startOffset,o=t.endContainer,u=t.endOffset,s=e.dom;if(at(a)&&a.hasChildNodes()&&(a=uo(a,i),We(a)&&(i=0)),at(o)&&o.hasChildNodes()&&(o=uo(o,t.collapsed?u:u-1),We(o)&&(u=o.nodeValue.length)),a=Sm(s,a),o=Sm(s,o),Am(a)&&(a=ho(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,We(a)&&(i=t.collapsed?a.length:0)),Am(o)&&(o=ho(o)?o:o.parentNode,t.collapsed?o=o.nextSibling||o:o=o.previousSibling||o,We(o)&&(u=t.collapsed?0:o.length)),t.collapsed){var c=_m(s,e.getBody(),a,i,!0,n);c.each(function(h){var g=h.container,S=h.offset;a=g,i=S});var m=_m(s,e.getBody(),o,u,!1,n);m.each(function(h){var g=h.container,S=h.offset;o=g,u=S})}return(r[0].inline||r[0].block_expand)&&((!r[0].inline||!We(a)||i===0)&&(a=Zs(s,r,a,i,!0)),(!r[0].inline||!We(o)||u===o.nodeValue.length)&&(o=Zs(s,r,o,u,!1))),r[0].selector&&r[0].expand!==!1&&!r[0].inline&&(a=xm(s,r,t,a,"previousSibling"),o=xm(s,r,t,o,"nextSibling")),(r[0].block||r[0].selector)&&(a=Nm(e,r,a,"previousSibling"),o=Nm(e,r,o,"nextSibling"),r[0].block&&(s.isBlock(a)||(a=Zs(s,r,a,i,!0)),s.isBlock(o)||(o=Zs(s,r,o,u,!1)))),at(a)&&(i=s.nodeIndex(a),a=a.parentNode),at(o)&&(u=s.nodeIndex(o)+1,o=o.parentNode),{startContainer:a,startOffset:i,endContainer:o,endOffset:u}},Om=function(e,t){var r=e.childNodes;return t>=r.length?t=r.length-1:t<0&&(t=0),r[t]||e},e_=function(e,t){return Om(e,t-1)},yu=function(e,t,r){var n=t.startContainer,a=t.startOffset,i=t.endContainer,o=t.endOffset,u=function(C){var B;return B=C[0],B.nodeType===3&&B===n&&a>=B.nodeValue.length&&C.splice(0,1),B=C[C.length-1],o===0&&C.length>0&&B===i&&B.nodeType===3&&C.splice(C.length-1,1),C},s=function(C,B,T){for(var z=[];C&&C!==T;C=C[B])z.push(C);return z},c=function(C,B){do{if(C.parentNode===B)return C;C=C.parentNode}while(C)},m=function(C,B,T){for(var z=T?"nextSibling":"previousSibling",j=C,G=j.parentNode;j&&j!==B;j=G){G=j.parentNode;var ie=s(j===C?j:j[z],z);ie.length&&(T||ie.reverse(),r(u(ie)))}};if(n.nodeType===1&&n.hasChildNodes()&&(n=Om(n,a)),i.nodeType===1&&i.hasChildNodes()&&(i=e_(i,o)),n===i)return r(u([n]));for(var h=e.findCommonAncestor(n,i),g=n;g;g=g.parentNode){if(g===i)return m(n,h,!0);if(g===h)break}for(var g=i;g;g=g.parentNode){if(g===n)return m(i,h);if(g===h)break}var S=c(n,h)||n,_=c(i,h)||i;m(n,S,!0);var x=s(S===n?S:S.nextSibling,"nextSibling",_===i?_.nextSibling:_);x.length&&r(u(x)),m(i,_)},Kc=function(e){var t=[];if(e)for(var r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r));return t},t_=function(e){return Va(e,function(t){var r=zs(t);return r?[W.fromDom(r)]:[]})},r_=function(e){return Kc(e).length>1},n_=function(e){return mt(t_(e),ms)},a_=function(e){return Ur(e,"td[data-mce-selected],th[data-mce-selected]")},Tm=function(e,t){var r=a_(t);return r.length>0?r:n_(e)},go=function(e){return Tm(Kc(e.selection.getSel()),W.fromDom(e.getBody()))},i_=function(e){var t=e.startContainer,r=e.startOffset;return We(t)?r===0?R.some(W.fromDom(t)):R.none():R.from(t.childNodes[r]).map(W.fromDom)},o_=function(e){var t=e.endContainer,r=e.endOffset;return We(t)?r===t.data.length?R.some(W.fromDom(t)):R.none():R.from(t.childNodes[r-1]).map(W.fromDom)},Bm=function(e){return Go(e).fold(qe([e]),function(t){return[e].concat(Bm(t))})},Gc=function(e){return ea(e).fold(qe([e]),function(t){return ye(t)==="br"?yn(t).map(function(r){return[e].concat(Gc(r))}).getOr([]):[e].concat(Gc(t))})},Zc=function(e,t){return Hr(i_(t),o_(t),function(r,n){var a=hr(Bm(e),Be(ae,r)),i=hr(Gc(e),Be(ae,n));return a.isSome()&&i.isSome()}).getOr(!1)},Xc=function(e,t,r,n){var a=r,i=new ar(r,a),o=Ka(e.schema.getMoveCaretBeforeOnEnterElements(),function(u,s){return!er(["td","th","table"],s.toLowerCase())});do{if(We(r)&&V.trim(r.nodeValue).length!==0){n?t.setStart(r,0):t.setEnd(r,r.nodeValue.length);return}if(o[r.nodeName]){n?t.setStartBefore(r):r.nodeName==="BR"?t.setEndBefore(r):t.setEndAfter(r);return}}while(r=n?i.next():i.prev());a.nodeName==="BODY"&&(n?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},Xs=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},Yc=function(e,t){var r=go(e);r.length>0?He(r,function(n){var a=n.dom,i=e.dom.createRng();i.setStartBefore(a),i.setEndAfter(a),t(i,!0)}):t(e.selection.getRng(),!1)},Qc=function(e,t,r){var n=Rh(e,t);r(n),e.moveToBookmark(n)},u_=function(e,t){var r=function(i){if(!e(i))throw new Error("Can only get "+t+" value of a "+t+" node");return n(i).getOr("")},n=function(i){return e(i)?R.from(i.dom.nodeValue):R.none()},a=function(i,o){if(!e(i))throw new Error("Can only set raw "+t+" value of a "+t+" node");i.dom.nodeValue=o};return{get:r,getOption:n,set:a}},s_=u_(Re,"text"),Jc=function(e){return s_.get(e)},l_=function(e){return Re(e)&&Jc(e)===dr},f_=function(e,t,r,n){return _r(t).fold(function(){return"skipping"},function(a){return n==="br"||l_(t)?"valid":xk(t)?"existing":qn(t.dom)?"caret":!po(e,r,n)||!po(e,ye(a),r)?"invalid-child":"valid"})},c_=function(e,t){var r=mo(e,t,[{inline:!0}]);t.setStart(r.startContainer,r.startOffset),t.setEnd(r.endContainer,r.endOffset),e.selection.setRng(t)},Rm=function(e,t,r,n){var a=t.uid,i=a===void 0?ih("mce-annotation"):a,o=wf(t,["uid"]),u=W.fromTag("span",e);Fs(u,Cc()),ta(u,""+Ls(),i),ta(u,""+su(),r);var s=n(i,o),c=s.attributes,m=c===void 0?{}:c,h=s.classes,g=h===void 0?[]:h;return ha(u,m),Bk(u,g),u},d_=function(e,t,r,n,a){var i=[],o=Rm(e.getDoc(),a,r,n),u=tr(R.none()),s=function(){u.set(R.none())},c=function(){return u.get().getOrThunk(function(){var S=no(o);return i.push(S),u.set(R.some(S)),S})},m=function(S){He(S,h)},h=function(S){var _=f_(e,S,"span",ye(S));switch(_){case"invalid-child":{s();var x=jr(S);m(x),s();break}case"valid":{var C=c();H1(S,C);break}}},g=function(S){var _=It(S,W.fromDom);m(_)};return yu(e.dom,t,function(S){s(),g(S)}),i},v_=function(e,t,r,n){e.undoManager.transact(function(){var a=e.selection,i=a.getRng(),o=go(e).length>0;if(i.collapsed&&!o&&c_(e,i),a.getRng().collapsed&&!o){var u=Rm(e.getDoc(),n,t,r.decorate);oh(u,qr),a.getRng().insertNode(u.dom),a.select(u.dom)}else Qc(a,!1,function(){Yc(e,function(s){d_(e,s,t,r.decorate,n)})})})},Dm=function(e){var t=Tk();Ok(e,t);var r=Ak(e);return{register:function(n,a){t.register(n,a)},annotate:function(n,a){t.lookup(n).each(function(i){v_(e,n,i,a)})},annotationChanged:function(n,a){r.addListener(n,a)},remove:function(n){nh(e,R.some(n)).each(function(a){var i=a.elements;He(i,Kv)})},getAll:function(n){var a=Pk(e,n);return Uu(a,function(i){return It(i,function(o){return o.dom})})}}},wu=function(e){return{getBookmark:Be(HE,e),moveToBookmark:Be(WE,e)}};wu.isBookmarkNode=Zr;var Cu=function(e,t){for(;t&&t!==e;){if(Ln(t)||zt(t))return t;t=t.parentNode}return null},ed=function(e,t,r){if(r.collapsed)return!1;if(Y.browser.isIE()&&r.startOffset===r.endOffset-1&&r.startContainer===r.endContainer){var n=r.startContainer.childNodes[r.startOffset];if(at(n))return Br(n.getClientRects(),function(a){return vh(a,e,t)})}return Br(r.getClientRects(),function(a){return vh(a,e,t)})},p_=function(e,t){return e.fire("PreProcess",t)},h_=function(e,t){return e.fire("PostProcess",t)},m_=function(e){return e.fire("remove")},g_=function(e){return e.fire("detach")},b_=function(e,t){return e.fire("SwitchMode",{mode:t})},y_=function(e,t,r,n,a){e.fire("ObjectResizeStart",{target:t,width:r,height:n,origin:a})},w_=function(e,t,r,n,a){e.fire("ObjectResized",{target:t,width:r,height:n,origin:a})},C_=function(e){return e.fire("PreInit")},k_=function(e){return e.fire("PostRender")},S_=function(e){return e.fire("Init")},E_=function(e,t){return e.fire("PlaceholderToggle",{state:t})},Im=function(e,t,r){return e.fire(t,r)},Ge={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Ge.metaKeyPressed(e)},metaKeyPressed:function(e){return Y.mac?e.metaKey:e.ctrlKey&&!e.altKey}},__=zt,Fm=function(e,t){var r="data-mce-selected",n=t.dom,a=V.each,i,o,u,s,c,m,h,g,S,_,x,C,B,T,z,j=t.getDoc(),G=document,ie=Math.abs,he=Math.round,ge=t.getBody(),Le,$e,ce={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Xe=function(ee){return ee&&(ee.nodeName==="IMG"||t.dom.is(ee,"figure.image"))},Se=function(ee){return fn(ee)||n.hasClass(ee,"mce-preview-object")},ze=function(ee,Ne){if(ee.type==="longpress"||ee.type.indexOf("touch")===0){var Ae=ee.touches[0];return Xe(ee.target)&&!ed(Ae.clientX,Ae.clientY,Ne)}else return Xe(ee.target)&&!ed(ee.clientX,ee.clientY,Ne)},we=function(ee){var Ne=ee.target;ze(ee,t.selection.getRng())&&!ee.isDefaultPrevented()&&t.selection.select(Ne)},xe=function(ee){return n.is(ee,"figure.image")?[ee.querySelector("img")]:n.hasClass(ee,"mce-preview-object")&&lr(ee.firstElementChild)?[ee,ee.firstElementChild]:[ee]},Ie=function(ee){var Ne=Hh(t);return!Ne||ee.getAttribute("data-mce-resize")==="false"||ee===t.getBody()?!1:n.hasClass(ee,"mce-preview-object")?Er(W.fromDom(ee.firstElementChild),Ne):Er(W.fromDom(ee),Ne)},ve=function(ee){return Se(ee)?n.create("img",{src:Y.transparentSrc}):ee.cloneNode(!0)},De=function(ee,Ne,Ae){if(lr(Ae)){var Ye=xe(ee);He(Ye,function(ut){ut.style[Ne]||!t.schema.isValid(ut.nodeName.toLowerCase(),Ne)?n.setStyle(ut,Ne,Ae):n.setAttrib(ut,Ne,""+Ae)})}},pt=function(ee,Ne,Ae){De(ee,"width",Ne),De(ee,"height",Ae)},Nt=function(ee){var Ne,Ae,Ye,ut,Bt;Ne=ee.screenX-m,Ae=ee.screenY-h,T=Ne*s[2]+_,z=Ae*s[3]+x,T=T<5?5:T,z=z<5?5:z,(Xe(i)||Se(i))&&IS(t)!==!1?Ye=!Ge.modifierPressed(ee):Ye=Ge.modifierPressed(ee),Ye&&(ie(Ne)>ie(Ae)?(z=he(T*C),T=he(z/C)):(T=he(z/C),z=he(T*C))),pt(o,T,z),ut=s.startPos.x+Ne,Bt=s.startPos.y+Ae,ut=ut>0?ut:0,Bt=Bt>0?Bt:0,n.setStyles(u,{left:ut,top:Bt,display:"block"}),u.innerHTML=T+" &times; "+z,s[2]<0&&o.clientWidth<=T&&n.setStyle(o,"left",g+(_-T)),s[3]<0&&o.clientHeight<=z&&n.setStyle(o,"top",S+(x-z)),Ne=ge.scrollWidth-Le,Ae=ge.scrollHeight-$e,Ne+Ae!==0&&n.setStyles(u,{left:ut-Ne,top:Bt-Ae}),B||(y_(t,i,_,x,"corner-"+s.name),B=!0)},yt=function(){var ee=B;B=!1,ee&&(De(i,"width",T),De(i,"height",z)),n.unbind(j,"mousemove",Nt),n.unbind(j,"mouseup",yt),G!==j&&(n.unbind(G,"mousemove",Nt),n.unbind(G,"mouseup",yt)),n.remove(o),n.remove(u),n.remove(c),Wt(i),ee&&(w_(t,i,T,z,"corner-"+s.name),n.setAttrib(i,"style",n.getAttrib(i,"style"))),t.nodeChanged()},Wt=function(ee){le();var Ne=n.getPos(ee,ge),Ae=Ne.x,Ye=Ne.y,ut=ee.getBoundingClientRect(),Bt=ut.width||ut.right-ut.left,rr=ut.height||ut.bottom-ut.top;i!==ee&&(Ht(),i=ee,T=z=0);var Or=t.fire("ObjectSelected",{target:ee}),la=n.getAttrib(i,r,"1");Ie(ee)&&!Or.isDefaultPrevented()?a(ce,function(Sr,Tr){var jt,Yn=function(Fr){var Pt=xe(i)[0];m=Fr.screenX,h=Fr.screenY,_=Pt.clientWidth,x=Pt.clientHeight,C=x/_,s=Sr,s.name=Tr,s.startPos={x:Bt*Sr[0]+Ae,y:rr*Sr[1]+Ye},Le=ge.scrollWidth,$e=ge.scrollHeight,c=n.add(ge,"div",{class:"mce-resize-backdrop"}),n.setStyles(c,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),o=ve(i),n.addClass(o,"mce-clonedresizable"),n.setAttrib(o,"data-mce-bogus","all"),o.contentEditable="false",n.setStyles(o,{left:Ae,top:Ye,margin:0}),pt(o,Bt,rr),o.removeAttribute(r),ge.appendChild(o),n.bind(j,"mousemove",Nt),n.bind(j,"mouseup",yt),G!==j&&(n.bind(G,"mousemove",Nt),n.bind(G,"mouseup",yt)),u=n.add(ge,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},_+" &times; "+x)};jt=n.get("mceResizeHandle"+Tr),jt&&n.remove(jt),jt=n.add(ge,"div",{id:"mceResizeHandle"+Tr,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Tr+"-resize; margin:0; padding:0"}),Y.ie===11&&(jt.contentEditable=!1),n.bind(jt,"mousedown",function(Fr){Fr.stopImmediatePropagation(),Fr.preventDefault(),Yn(Fr)}),Sr.elm=jt,n.setStyles(jt,{left:Bt*Sr[0]+Ae-jt.offsetWidth/2,top:rr*Sr[1]+Ye-jt.offsetHeight/2})}):Ht(),n.getAttrib(i,r)||i.setAttribute(r,la)},Ht=function(){le(),i&&i.removeAttribute(r),Ut(ce,function(ee,Ne){var Ae=n.get("mceResizeHandle"+Ne);Ae&&(n.unbind(Ae),n.remove(Ae))})},Ir=function(ee){var Ne,Ae,Ye=function(ut,Bt){if(ut)do if(ut===Bt)return!0;while(ut=ut.parentNode)};if(!(B||t.removed)){if(a(n.select("img[data-mce-selected],hr[data-mce-selected]"),function(ut){ut.removeAttribute(r)}),Ae=ee.type==="mousedown"?ee.target:e.getNode(),Ae=n.$(Ae).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Ye(Ae,ge)&&(J(),Ne=e.getStart(!0),Ye(Ne,Ae)&&Ye(e.getEnd(!0),Ae))){Wt(Ae);return}Ht()}},Ar=function(ee){return __(Cu(t.getBody(),ee))},le=function(){Ut(ce,function(ee){ee.elm&&(n.unbind(ee.elm),delete ee.elm)})},J=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};t.on("init",function(){if(J(),Y.browser.isIE()||Y.browser.isEdge()){t.on("mousedown click",function(Ae){var Ye=Ae.target,ut=Ye.nodeName;!B&&/^(TABLE|IMG|HR)$/.test(ut)&&!Ar(Ye)&&(Ae.button!==2&&t.selection.select(Ye,ut==="TABLE"),Ae.type==="mousedown"&&t.nodeChanged())});var ee=function(Ae){var Ye=function(ut){wr.setEditorTimeout(t,function(){return t.selection.select(ut)})};if(Ar(Ae.target)||fn(Ae.target)){Ae.preventDefault(),Ye(Ae.target);return}/^(TABLE|IMG|HR)$/.test(Ae.target.nodeName)&&(Ae.preventDefault(),Ae.target.tagName==="IMG"&&Ye(Ae.target))};n.bind(ge,"mscontrolselect",ee),t.on("remove",function(){return n.unbind(ge,"mscontrolselect",ee)})}var Ne=wr.throttle(function(Ae){t.composing||Ir(Ae)});t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",Ne),t.on("keyup compositionend",function(Ae){i&&i.nodeName==="TABLE"&&Ne(Ae)}),t.on("hide blur",Ht),t.on("contextmenu longpress",we,!0)}),t.on("remove",le);var ue=function(){i=o=c=null};return{isResizable:Ie,showResizeRect:Wt,hideResizeRect:Ht,updateResizeRect:Ir,destroy:ue}},x_=function(e){return Ln(e)||zt(e)},N_=function(e,t,r){for(;e&&e!==t;){if(r(e))return e;e=e.parentNode}return null},P_=function(e,t,r){var n,a=r.elementFromPoint(e,t),i=r.body.createTextRange();if((!a||a.tagName==="HTML")&&(a=r.body),i.moveToElementText(a),n=V.toArray(i.getClientRects()),n=n.sort(function(o,u){return o=Math.abs(Math.max(o.top-t,o.bottom-t)),u=Math.abs(Math.max(u.top-t,u.bottom-t)),o-u}),n.length>0){t=(n[0].bottom+n[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch{}}return null},A_=function(e,t){var r=e&&e.parentElement?e.parentElement():null;return zt(N_(r,t,x_))?null:e},td=function(e,t,r){var n,a,i=r;if(i.caretPositionFromPoint)a=i.caretPositionFromPoint(e,t),a&&(n=r.createRange(),n.setStart(a.offsetNode,a.offset),n.collapse(!0));else if(r.caretRangeFromPoint)n=r.caretRangeFromPoint(e,t);else if(i.body.createTextRange){n=i.body.createTextRange();try{n.moveToPoint(e,t),n.collapse(!0)}catch{n=P_(e,t,r)}return A_(n,r.body)}return n},rd=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},O_=function(e,t,r){for(;e&&e!==t;){if(r(e))return e;e=e.parentNode}return null},Lm=function(e,t,r){return O_(e,t,r)!==null},T_=function(e,t,r){return Lm(e,t,function(n){return n.nodeName===r})},nd=function(e){return e&&e.nodeName==="TABLE"},B_=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},R_=function(e,t){return en(e)&&Lm(e,t,qn)===!1},zm=function(e,t,r){for(var n=new ar(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=n[r?"prev":"next"]();)if(Xt(t))return!0},D_=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},I_=function(e,t){for(;t&&t!==e;){if(zt(t))return!0;t=t.parentNode}return!1},ad=function(e,t,r,n,a){var i,o=e.getRoot(),u,s=e.schema.getNonEmptyElements(),c=e.getParent(a.parentNode,e.isBlock)||o;if(n&&Xt(a)&&t&&e.isEmpty(c))return R.some(ne(a.parentNode,e.nodeIndex(a)));for(var m=new ar(a,c);u=m[n?"prev":"next"]();){if(e.getContentEditableParent(u)==="false"||R_(u,o))return R.none();if(We(u)&&u.nodeValue.length>0)return T_(u,o,"A")===!1?R.some(ne(u,n?u.nodeValue.length:0)):R.none();if(e.isBlock(u)||s[u.nodeName.toLowerCase()])return R.none();i=u}return r&&i?R.some(ne(i,0)):R.none()},Mm=function(e,t,r,n){var a,i,o=e.getRoot(),u,s,c=!1;a=n[(r?"start":"end")+"Container"],i=n[(r?"start":"end")+"Offset"];var m=at(a)&&i===a.childNodes.length,h=e.schema.getNonEmptyElements();if(s=r,en(a))return R.none();if(at(a)&&i>a.childNodes.length-1&&(s=!1),Rf(a)&&(a=o,i=0),a===o){if(s&&(u=a.childNodes[i>0?i-1:0],u&&(en(u)||h[u.nodeName]||nd(u))))return R.none();if(a.hasChildNodes()){if(i=Math.min(!s&&i>0?i-1:i,a.childNodes.length-1),a=a.childNodes[i],i=We(a)&&m?a.data.length:0,!t&&a===o.lastChild&&nd(a)||I_(o,a)||en(a))return R.none();if(a.hasChildNodes()&&nd(a)===!1){u=a;var g=new ar(a,o);do{if(zt(u)||en(u)){c=!1;break}if(We(u)&&u.nodeValue.length>0){i=s?0:u.nodeValue.length,a=u,c=!0;break}if(h[u.nodeName.toLowerCase()]&&!B_(u)){i=e.nodeIndex(u),a=u.parentNode,s||i++,c=!0;break}}while(u=s?g.next():g.prev())}}}return t&&(We(a)&&i===0&&ad(e,m,t,!0,a).each(function(S){a=S.container(),i=S.offset(),c=!0}),at(a)&&(u=a.childNodes[i],u||(u=a.childNodes[i-1]),u&&Xt(u)&&!D_(u,"A")&&!zm(e,u,!1)&&!zm(e,u,!0)&&ad(e,m,t,!0,u).each(function(S){a=S.container(),i=S.offset(),c=!0}))),s&&!t&&We(a)&&i===a.nodeValue.length&&ad(e,m,t,!1,a).each(function(S){a=S.container(),i=S.offset(),c=!0}),c?R.some(ne(a,i)):R.none()},Ys=function(e,t){var r=t.collapsed,n=t.cloneRange(),a=ne.fromRangeStart(t);return Mm(e,r,!0,n).each(function(i){(!r||!ne.isAbove(a,i))&&n.setStart(i.container(),i.offset())}),r||Mm(e,r,!1,n).each(function(i){n.setEnd(i.container(),i.offset())}),r&&n.collapse(!0),rd(t,n)?R.none():R.some(n)},Qs=function(e,t){return e.splitText(t)},Js=function(e){var t=e.startContainer,r=e.startOffset,n=e.endContainer,a=e.endOffset;return t===n&&We(t)?r>0&&r<t.nodeValue.length&&(n=Qs(t,r),t=n.previousSibling,a>r?(a=a-r,t=n=Qs(n,a).previousSibling,a=n.nodeValue.length,r=0):a=0):(We(t)&&r>0&&r<t.nodeValue.length&&(t=Qs(t,r),r=0),We(n)&&a>0&&a<n.nodeValue.length&&(n=Qs(n,a).previousSibling,a=n.nodeValue.length)),{startContainer:t,startOffset:r,endContainer:n,endOffset:a}},ku=function(e){var t=function(a,i){return yu(e,a,i)},r=Js,n=function(a){return Ys(e,a).fold(Et,function(i){return a.setStart(i.startContainer,i.startOffset),a.setEnd(i.endContainer,i.endOffset),!0})};return{walk:t,split:r,normalize:n}};ku.compareRanges=rd,ku.getCaretRangeFromPoint=td,ku.getSelectedNode=zs,ku.getNode=uo;var F_=function(e,t){var r=function(u,s){if(!fa(s)&&!s.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+s);var c=u.dom;ds(c)&&(c.style[e]=s+"px")},n=function(u){var s=t(u);if(s<=0||s===null){var c=ra(u,e);return parseFloat(c)||0}return s},a=n,i=function(u,s){return Qr(s,function(c,m){var h=ra(u,m),g=h===void 0?0:parseInt(h,10);return isNaN(g)?c:c+g},0)},o=function(u,s,c){var m=i(u,c),h=s>m?s-m:0;return h};return{set:r,get:n,getOuter:a,aggregate:i,max:o}},L_=F_("height",function(e){var t=e.dom;return Xo(e)?t.getBoundingClientRect().height:t.offsetHeight}),z_=function(e){return L_.get(e)},$m=function(e,t){var r=e.view(t);return r.fold(qe([]),function(n){var a=e.owner(n),i=$m(e,a);return[n].concat(i)})},M_=function(e,t){var r=t.owner(e);return $m(t,r)},$_=function(e){var t,r=e.dom===document?R.none():R.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return r.map(W.fromDom)},j_=function(e){return fr(e)},U_=Object.freeze({__proto__:null,view:$_,owner:j_}),H_=function(e){var t=W.fromDom(document),r=Tf(t),n=M_(e,U_),a=Of(e),i=$u(n,function(o,u){var s=Of(u);return{left:o.left+s.left,top:o.top+s.top}},{left:0,top:0});return $i(i.left+a.left+r.left,i.top+a.top+r.top)},id=function(e){return ye(e)==="textarea"},W_=function(e,t){var r=e.fire("ScrollIntoView",t);return r.isDefaultPrevented()},V_=function(e,t){e.fire("AfterScrollIntoView",t)},q_=function(e,t){var r=jr(e);if(r.length===0||id(e))return{element:e,offset:t};if(t<r.length&&!id(r[t]))return{element:r[t],offset:0};var n=r[r.length-1];return id(n)?{element:e,offset:t}:ye(n)==="img"?{element:n,offset:1}:Re(n)?{element:n,offset:Jc(n).length}:{element:n,offset:jr(n).length}},jm=function(e,t){var r=q1(e),n=z_(e);return{element:e,bottom:r.top+n,height:n,pos:r,cleanup:t}},K_=function(e,t){var r=q_(e,t),n=W.fromHtml('<span data-mce-bogus="all">'+dr+"</span>");return wn(r.element,n),jm(n,function(){return yr(n)})},G_=function(e){return jm(W.fromDom(e),ot)},Um=function(e,t,r,n){X_(e,function(a,i){return Z_(e,t,r,n)},r)},Hm=function(e,t,r,n,a){var i={elm:n.element.dom,alignToTop:a};if(!W_(e,i)){var o=Tf(t).top;r(t,o,n,a),V_(e,i)}},Z_=function(e,t,r,n){var a=W.fromDom(e.getBody()),i=W.fromDom(e.getDoc());rw(a);var o=K_(W.fromDom(r.startContainer),r.startOffset);Hm(e,i,t,o,n),o.cleanup()},Wm=function(e,t,r,n){var a=W.fromDom(e.getDoc());Hm(e,a,r,G_(t),n)},X_=function(e,t,r){var n=r.startContainer,a=r.startOffset,i=r.endContainer,o=r.endOffset;t(W.fromDom(n),W.fromDom(i));var u=e.dom.createRng();u.setStart(n,a),u.setEnd(i,o),e.selection.setRng(r)},od=function(e,t,r,n){var a=e.pos;if(r)Zv(a.left,a.top,n);else{var i=a.top-t+e.height;Zv(a.left,i,n)}},Vm=function(e,t,r,n,a){var i=r+t,o=n.pos.top,u=n.bottom,s=u-o>=r;if(o<t)od(n,r,a!==!1,e);else if(o>i){var c=s?a!==!1:a===!0;od(n,r,c,e)}else u>i&&!s&&od(n,r,a===!0,e)},qm=function(e,t,r,n){var a=e.dom.defaultView.innerHeight;Vm(e,t,a,r,n)},Km=function(e,t,r,n){var a=e.dom.defaultView.innerHeight;Vm(e,t,a,r,n);var i=H_(r.element),o=Qv(window);i.top<o.y?Xv(r.element,n!==!1):i.top>o.bottom&&Xv(r.element,n===!0)},Y_=function(e,t,r){return Um(e,qm,t,r)},Q_=function(e,t,r){return Wm(e,t,qm,r)},J_=function(e,t,r){return Um(e,Km,t,r)},ex=function(e,t,r){return Wm(e,t,Km,r)},tx=function(e,t,r){var n=e.inline?Q_:ex;n(e,t,r)},el=function(e,t,r){var n=e.inline?Y_:J_;n(e,t,r)},rx=function(){return W.fromDom(document)},nx=function(e){return e.dom.focus()},Gm=function(e){var t=Ja(e).dom;return e.dom===t.activeElement},ud=function(e){return e===void 0&&(e=rx()),R.from(e.dom.activeElement).map(W.fromDom)},ax=function(e){return ud(Ja(e)).filter(function(t){return e.dom.contains(t.dom)})},ix=function(e,t,r,n){return{start:e,soffset:t,finish:r,foffset:n}},ox={create:ix},sd=ma.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ux=function(e,t,r,n){return e.fold(t,r,n)},sx=function(e){return e.fold(Lr,Lr,Lr)},lx=sd.before,fx=sd.on,cx=sd.after,dx={before:lx,on:fx,after:cx,cata:ux,getStart:sx},tl=ma.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vx=function(e){return tl.exact(e.start,e.soffset,e.finish,e.foffset)},px=function(e){return e.match({domRange:function(t){return W.fromDom(t.startContainer)},relative:function(t,r){return dx.getStart(t)},exact:function(t,r,n,a){return t}})},hx=tl.domRange,mx=tl.relative,gx=tl.exact,bx=function(e){var t=px(e);return Jr(t)},yx=ox.create,Zm={domRange:hx,relative:mx,exact:gx,exactFromRange:vx,getWin:bx,range:yx},wx=F().browser,Xm=function(e,t){var r=Re(t)?Jc(t).length:jr(t).length+1;return e>r?r:e<0?0:e},Cx=function(e){return Zm.range(e.start,Xm(e.soffset,e.start),e.finish,Xm(e.foffset,e.finish))},Ym=function(e,t){return!fs(t.dom)&&(Q(e,t)||ae(e,t))},ld=function(e){return function(t){return Ym(e,t.start)&&Ym(e,t.finish)}},Qm=function(e){return e.inline===!0||wx.isIE()},Jm=function(e){return Zm.range(W.fromDom(e.startContainer),e.startOffset,W.fromDom(e.endContainer),e.endOffset)},kx=function(e){var t=e.getSelection(),r=!t||t.rangeCount===0?R.none():R.from(t.getRangeAt(0));return r.map(Jm)},Sx=function(e){var t=Jr(e);return kx(t.dom).filter(ld(e))},Ex=function(e,t){return R.from(t).filter(ld(e)).map(Cx)},_x=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),R.some(t)}catch{return R.none()}},rl=function(e){var t=Qm(e)?Sx(W.fromDom(e.getBody())):R.none();e.bookmark=t.isSome()?t:e.bookmark},xx=function(e,t){var r=W.fromDom(e.getBody()),n=Qm(e)?R.from(t):R.none(),a=n.map(Jm).filter(ld(r));e.bookmark=a.isSome()?a:e.bookmark},fd=function(e){var t=e.bookmark?e.bookmark:R.none();return t.bind(function(r){return Ex(W.fromDom(e.getBody()),r)}).bind(_x)},Nx=function(e){fd(e).each(function(t){return e.selection.setRng(t)})},Px=function(e){var t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1},eg={isEditorUIElement:Px},Ax=function(e){return e.type==="nodechange"&&e.selectionChange},Ox=function(e,t){var r=function(){t.throttle()};Tt.DOM.bind(document,"mouseup",r),e.on("remove",function(){Tt.DOM.unbind(document,"mouseup",r)})},Tx=function(e){e.on("focusout",function(){rl(e)})},Bx=function(e,t){e.on("mouseup touchend",function(r){t.throttle()})},Rx=function(e,t){var r=F().browser;r.isIE()?Tx(e):Bx(e,t),e.on("keyup NodeChange",function(n){Ax(n)||rl(e)})},Dx=function(e){var t=yc(function(){rl(e)},0);e.on("init",function(){e.inline&&Ox(e,t),Rx(e,t)}),e.on("remove",function(){t.cancel()})},Su,cd=Tt.DOM,Ix=function(e){return eg.isEditorUIElement(e)},Fx=function(e){var t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},nl=function(e,t){var r=US(e),n=cd.getParent(t,function(a){return Ix(a)||(r?e.dom.is(a,r):!1)});return n!==null},Lx=function(e){try{var t=Ja(W.fromDom(e.getElement()));return ud(t).fold(function(){return document.body},function(r){return r.dom})}catch{return document.body}},zx=function(e,t){var r=t.editor;Dx(r),r.on("focusin",function(){var n=e.focusedEditor;n!==r&&(n&&n.fire("blur",{focusedEditor:r}),e.setActive(r),e.focusedEditor=r,r.fire("focus",{blurredEditor:n}),r.focus(!0))}),r.on("focusout",function(){wr.setEditorTimeout(r,function(){var n=e.focusedEditor;!nl(r,Lx(r))&&n===r&&(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Su||(Su=function(n){var a=e.activeEditor;a&&j1(n).each(function(i){i.ownerDocument===document&&i!==document.body&&!nl(a,i)&&e.focusedEditor===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},cd.bind(document,"focusin",Su))},Mx=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(cd.unbind(document,"focusin",Su),Su=null)},$x=function(e){e.on("AddEditor",Be(zx,e)),e.on("RemoveEditor",Be(Mx,e))},jx=function(e,t){return e.dom.getParent(t,function(r){return e.dom.getContentEditable(r)==="true"})},Ux=function(e){return e.collapsed?R.from(uo(e.startContainer,e.startOffset)).map(W.fromDom):R.none()},Hx=function(e,t){return Ux(t).bind(function(r){return Bw(r)?R.some(r):Q(e,r)===!1?R.some(e):R.none()})},tg=function(e,t){Hx(W.fromDom(e.getBody()),t).bind(function(r){return Rr(r.dom)}).fold(function(){e.selection.normalize()},function(r){return e.selection.setRng(r.toRange())})},dd=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Wx=function(e){return Gm(e)||ax(e).isSome()},Vx=function(e){return e.iframeElement&&Gm(W.fromDom(e.iframeElement))},qx=function(e){var t=e.getBody();return t&&Wx(W.fromDom(t))},Kx=function(e){var t=Ja(W.fromDom(e.getElement()));return ud(t).filter(function(r){return!Fx(r.dom)&&nl(e,r.dom)}).isSome()},vi=function(e){return e.inline?qx(e):Vx(e)},Gx=function(e){return vi(e)||Kx(e)},Zx=function(e){var t=e.selection,r=e.getBody(),n=t.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&vi(e)===!1&&fd(e).each(function(i){e.selection.setRng(i),n=i});var a=jx(e,t.getNode());if(e.$.contains(r,a)){dd(a),tg(e,n),vd(e);return}e.inline||(Y.opera||dd(r),e.getWin().focus()),(Y.gecko||e.inline)&&(dd(r),tg(e,n)),vd(e)},vd=function(e){return e.editorManager.setActive(e)},Xx=function(e,t){e.removed||(t?vd(e):Zx(e))},rg=function(e,t,r,n,a){var i=r?t.startContainer:t.endContainer,o=r?t.startOffset:t.endOffset;return R.from(i).map(W.fromDom).map(function(u){return!n||!t.collapsed?zi(u,a(u,o)).getOr(u):u}).bind(function(u){return Ke(u)?R.some(u):_r(u).filter(Ke)}).map(function(u){return u.dom}).getOr(e)},ng=function(e,t,r){return rg(e,t,!0,r,function(n,a){return Math.min(Mi(n),a)})},ag=function(e,t,r){return rg(e,t,!1,r,function(n,a){return a>0?a-1:a})},ig=function(e,t){for(var r=e;e&&We(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||r},Yx=function(e,t){var r,n,a;if(!t)return e;n=t.startContainer,a=t.endContainer;var i=t.startOffset,o=t.endOffset;return r=t.commonAncestorContainer,!t.collapsed&&(n===a&&o-i<2&&n.hasChildNodes()&&(r=n.childNodes[i]),n.nodeType===3&&a.nodeType===3&&(n.length===i?n=ig(n.nextSibling,!0):n=n.parentNode,o===0?a=ig(a.previousSibling,!1):a=a.parentNode,n&&n===a))?n:r&&r.nodeType===3?r.parentNode:r},Qx=function(e,t,r,n){var a,i=[],o=e.getRoot();if(r=e.getParent(r||ng(o,t,t.collapsed),e.isBlock),n=e.getParent(n||ag(o,t,t.collapsed),e.isBlock),r&&r!==o&&i.push(r),r&&n&&r!==n){a=r;for(var u=new ar(r,o);(a=u.next())&&a!==n;)e.isBlock(a)&&i.push(a)}return n&&r!==n&&n!==o&&i.push(n),i},Jx=function(e,t,r){return R.from(t).map(function(n){var a=e.nodeIndex(n),i=e.createRng();return i.setStart(n.parentNode,a),i.setEnd(n.parentNode,a+1),r&&(Xc(e,i,n,!0),Xc(e,i,n,!1)),i})},pd=function(e,t){return It(t,function(r){var n=e.fire("GetSelectionRange",{range:r});return n.range!==r?n.range:r})},e2={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},al=function(e,t,r){var n=r?"lastChild":"firstChild",a=r?"prev":"next";if(e[n])return e[n];if(e!==t){var i=e[a];if(i)return i;for(var o=e.parent;o&&o!==t;o=o.parent)if(i=o[a],i)return i}},t2=function(e){if(!ti(e.value))return!1;var t=e.parent;return!(t&&(t.name!=="span"||t.attr("style"))&&/^[ ]+$/.test(e.value))},og=function(e){var t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},cn=function(){function e(t,r){this.name=t,this.type=r,r===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,r){var n=new e(t,e2[t]||1);return r&&Ut(r,function(a,i){n.attr(i,a)}),n},e.prototype.replace=function(t){var r=this;return t.parent&&t.remove(),r.insert(t,r),r.remove(),r},e.prototype.attr=function(t,r){var n=this,a;if(typeof t!="string")return t!=null&&Ut(t,function(o,u){n.attr(u,o)}),n;if(a=n.attributes){if(r!==void 0){if(r===null){if(t in a.map){delete a.map[t];for(var i=a.length;i--;)if(a[i].name===t)return a.splice(i,1),n}return n}if(t in a.map){for(var i=a.length;i--;)if(a[i].name===t){a[i].value=r;break}}else a.push({name:t,value:r});return a.map[t]=r,n}return a.map[t]}},e.prototype.clone=function(){var t=this,r=new e(t.name,t.type),n;if(n=t.attributes){var a=[];a.map={};for(var i=0,o=n.length;i<o;i++){var u=n[i];u.name!=="id"&&(a[a.length]={name:u.name,value:u.value},a.map[u.name]=u.value)}r.attributes=a}return r.value=t.value,r.shortEnded=t.shortEnded,r},e.prototype.wrap=function(t){var r=this;return r.parent.insert(t,r),t.append(r),r},e.prototype.unwrap=function(){for(var t=this,r=t.firstChild;r;){var n=r.next;t.insert(r,t,!0),r=n}t.remove()},e.prototype.remove=function(){var t=this,r=t.parent,n=t.next,a=t.prev;return r&&(r.firstChild===t?(r.firstChild=n,n&&(n.prev=null)):a.next=n,r.lastChild===t?(r.lastChild=a,a&&(a.next=null)):n.prev=a,t.parent=t.next=t.prev=null),t},e.prototype.append=function(t){var r=this;t.parent&&t.remove();var n=r.lastChild;return n?(n.next=t,t.prev=n,r.lastChild=t):r.lastChild=r.firstChild=t,t.parent=r,t},e.prototype.insert=function(t,r,n){t.parent&&t.remove();var a=r.parent||this;return n?(r===a.firstChild?a.firstChild=t:r.prev.next=t,t.prev=r.prev,t.next=r,r.prev=t):(r===a.lastChild?a.lastChild=t:r.next.prev=t,t.next=r.next,t.prev=r,r.next=t),t.parent=a,t},e.prototype.getAll=function(t){for(var r=this,n=[],a=r.firstChild;a;a=al(a,r))a.name===t&&n.push(a);return n},e.prototype.empty=function(){var t=this;if(t.firstChild){for(var r=[],n=t.firstChild;n;n=al(n,t))r.push(n);for(var a=r.length;a--;){var n=r[a];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return t.firstChild=t.lastChild=null,t},e.prototype.isEmpty=function(t,r,n){r===void 0&&(r={});var a=this,i=a.firstChild;if(og(a))return!1;if(i)do{if(i.type===1){if(i.attr("data-mce-bogus"))continue;if(t[i.name]||og(i))return!1}if(i.type===8||i.type===3&&!t2(i)||i.type===3&&i.parent&&r[i.parent.name]&&ti(i.value)||n&&n(i))return!1}while(i=al(i,a));return!0},e.prototype.walk=function(t){return al(this,null,t)},e}(),r2=function(e){for(var t=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],n={},a=ih("img"),i,o=0,u=0;i=t.exec(e);){var s=i[0],c=a+"_"+u++;n[c]=s,o<i.index&&r.push(e.substr(o,i.index-o)),r.push(c),o=i.index+s.length}var m=new RegExp(a+"_[0-9]+","g");return o===0?{prefix:a,uris:n,html:e,re:m}:(o<e.length&&r.push(e.substr(o)),{prefix:a,uris:n,html:r.join(""),re:m})},hd=function(e,t){return e.replace(t.re,function(r){return Mr(t.uris,r).getOr(r)})},n2=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?R.some({type:t[1],data:decodeURIComponent(t[2])}):R.none()},a2=["img","video"],i2=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},o2=function(e,t){var r=Ua(e)?er(a2,t):e;return!r},u2=function(e,t,r){return e.allow_html_data_urls?!1:/^data:image\//i.test(t)?o2(e.allow_svg_data_urls,r)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t)},md=function(e,t,r){var n=1,a,i,o=e.getShortEndedElements(),u=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;for(u.lastIndex=a=r;i=u.exec(t);){if(a=u.lastIndex,i[1]==="/")n--;else if(!i[1]){if(i[2]in o)continue;n++}if(n===0)break}return a},s2=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},l2=function(e,t,r){r===void 0&&(r=0);var n=e.toLowerCase();if(n.indexOf("[if ",r)!==-1&&s2(n,r)){var a=n.indexOf("[endif]",r);return n.indexOf(">",a)}else if(t){var i=n.indexOf(">",r);return i!==-1?i:n.length}else{var o=/--!?>/g;o.lastIndex=r;var u=o.exec(e);return u?u.index+u[0].length:n.length}},f2=function(e,t){var r=e.exec(t);if(r){var n=r[1],a=r[2];return typeof n=="string"&&n.toLowerCase()==="data-mce-bogus"?a:null}else return null},il=function(e,t){t===void 0&&(t=wa()),e=e||{},e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var r=e.comment?e.comment:ot,n=e.cdata?e.cdata:ot,a=e.text?e.text:ot,i=e.start?e.start:ot,o=e.end?e.end:ot,u=e.pi?e.pi:ot,s=e.doctype?e.doctype:ot,c=function(h,g){g===void 0&&(g="html");for(var S=h.html,_,x=0,C,B,T=[],z,j,G,ie,he,ge,Le,$e,ce,Xe,Se,ze,we,xe,Ie,ve,De,pt=0,Nt=ni.decode,yt=V.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Wt=/((java|vb)script|mhtml):/i,Ht=g==="html"?0:1,Ir=function(Pt){var _t,ur;for(_t=T.length;_t--&&T[_t].name!==Pt;);if(_t>=0){for(ur=T.length-1;ur>=_t;ur--)Pt=T[ur],Pt.valid&&o(Pt.name);T.length=_t}},Ar=function(Pt,_t){return a(hd(Pt,h),_t)},le=function(Pt){Pt!==""&&(Pt.charAt(0)===">"&&(Pt=" "+Pt),!e.allow_conditional_comments&&Pt.substr(0,3).toLowerCase()==="[if"&&(Pt=" "+Pt),r(hd(Pt,h)))},J=function(Pt){return hd(Pt,h)},ue=function(Pt,_t){var ur=Pt||"",An=!Jn(ur,"--"),On=l2(S,An,_t);return Pt=S.substr(_t,On-_t),le(An?ur+Pt:Pt),On+1},ee=function(Pt,_t,ur,An,On){var un,La,Ao=/[\s\u0000-\u001F]+/g;if(_t=_t.toLowerCase(),ur=J(_t in Bt?_t:Nt(ur||An||On||"")),rr&&!he&&i2(_t)===!1){if(un=Se[_t],!un&&ze){for(La=ze.length;La--&&(un=ze[La],!un.pattern.test(_t)););La===-1&&(un=null)}if(!un||un.validValues&&!(ur in un.validValues))return}if(yt[_t]&&!e.allow_script_urls){var za=ur.replace(Ao,"");try{za=decodeURIComponent(za)}catch{za=unescape(za)}if(Wt.test(za)||u2(e,za,Pt))return}he&&(_t in yt||_t.indexOf("on")===0)||(z.map[_t]=ur,z.push({name:_t,value:ur}))},Ne=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Ae=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Ye=t.getShortEndedElements(),ut=e.self_closing_elements||t.getSelfClosingElements(),Bt=t.getBoolAttrs(),rr=e.validate,Or=e.remove_internals,la=e.fix_self_closing,Sr=t.getSpecialElements(),Tr=S+">";_=Ne.exec(Tr);){var jt=_[0];if(x<_.index&&Ar(Nt(S.substr(x,_.index-x))),C=_[7])C=C.toLowerCase(),C.charAt(0)===":"&&(C=C.substr(1)),Ir(C);else if(C=_[8]){if(_.index+jt.length>S.length){Ar(Nt(S.substr(_.index))),x=_.index+jt.length;continue}C=C.toLowerCase(),C.charAt(0)===":"&&(C=C.substr(1)),ge=C in Ye,la&&ut[C]&&T.length>0&&T[T.length-1].name===C&&Ir(C);var Yn=f2(Ae,_[9]);if(Yn!==null){if(Yn==="all"){x=md(t,S,Ne.lastIndex),Ne.lastIndex=x;continue}$e=!1}if(!rr||(Le=t.getElementRule(C))){if($e=!0,rr&&(Se=Le.attributes,ze=Le.attributePatterns),(Xe=_[9])?(he=Xe.indexOf("data-mce-type")!==-1,he&&Or&&($e=!1),z=[],z.map={},Xe.replace(Ae,function(Pt,_t,ur,An,On){return ee(C,_t,ur,An,On),""})):(z=[],z.map={}),rr&&!he){if(we=Le.attributesRequired,xe=Le.attributesDefault,Ie=Le.attributesForced,ve=Le.removeEmptyAttrs,ve&&!z.length&&($e=!1),Ie)for(j=Ie.length;j--;)ce=Ie[j],ie=ce.name,De=ce.value,De==="{$uid}"&&(De="mce_"+pt++),z.map[ie]=De,z.push({name:ie,value:De});if(xe)for(j=xe.length;j--;)ce=xe[j],ie=ce.name,ie in z.map||(De=ce.value,De==="{$uid}"&&(De="mce_"+pt++),z.map[ie]=De,z.push({name:ie,value:De}));if(we){for(j=we.length;j--&&!(we[j]in z.map););j===-1&&($e=!1)}if(ce=z.map["data-mce-bogus"]){if(ce==="all"){x=md(t,S,Ne.lastIndex),Ne.lastIndex=x;continue}$e=!1}}$e&&i(C,z,ge)}else $e=!1;if(B=Sr[C]){B.lastIndex=x=_.index+jt.length,(_=B.exec(S))?($e&&(G=S.substr(x,_.index-x)),x=_.index+_[0].length):(G=S.substr(x),x=S.length),$e&&(G.length>0&&Ar(G,!0),o(C)),Ne.lastIndex=x;continue}ge||(!Xe||Xe.indexOf("/")!==Xe.length-1?T.push({name:C,valid:$e}):$e&&o(C))}else if(C=_[1])le(C);else if(C=_[2]){var Fr=Ht===1||e.preserve_cdata||T.length>0&&t.isValidChild(T[T.length-1].name,"#cdata");if(Fr)n(C);else{x=ue("",_.index+2),Ne.lastIndex=x;continue}}else if(C=_[3])s(C);else if((C=_[4])||jt==="<!"){x=ue(C,_.index+jt.length),Ne.lastIndex=x;continue}else if(C=_[5])if(Ht===1)u(C,_[6]);else{x=ue("?",_.index+2),Ne.lastIndex=x;continue}x=_.index+jt.length}for(x<S.length&&Ar(Nt(S.substr(x))),j=T.length-1;j>=0;j--)C=T[j],C.valid&&o(C.name)},m=function(h,g){g===void 0&&(g="html"),c(r2(h),g)};return{parse:m}};il.findEndTag=md;var c2=function(e,t){var r=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(r,"")},ug=function(e,t){var r=t,n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,a,i,o,u,s=e.schema;r=c2(e.getTempAttrs(),r);for(var c=s.getShortEndedElements();u=n.exec(r);)i=n.lastIndex,o=u[0].length,c[u[1]]?a=i:a=il.findEndTag(s,r,i),r=r.substring(0,i-o)+r.substring(a),n.lastIndex=i-o;return ba(r)},d2=ug,v2=function(e,t){var r=kr(e),n=new RegExp("^(<"+r+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+r+`>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(n,"")},p2=function(e,t,r,n){var a;return t.format=r,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),t.format==="raw"?a=V.trim(d2(e.serializer,n.innerHTML)):t.format==="text"?a=e.dom.isEmpty(n)?"":ba(n.innerText||n.textContent):t.format==="tree"?a=e.serializer.serialize(n,t):a=v2(e,e.serializer.serialize(n,t)),!er(["text","tree"],t.format)&&!gs(W.fromDom(n))?t.content=V.trim(a):t.content=a,t.no_events||e.fire("GetContent",t),t.content},h2=function(e,t,r){return R.from(e.getBody()).fold(qe(t.format==="tree"?new cn("body",11):""),function(n){return p2(e,t,r,n)})},m2=V.each,sg=function(e){var t=function(r,n){if(r.nodeName!==n.nodeName)return!1;var a=function(o){var u={};return m2(e.getAttribs(o),function(s){var c=s.nodeName.toLowerCase();c.indexOf("_")!==0&&c!=="style"&&c.indexOf("data-")!==0&&(u[c]=e.getAttrib(o,c))}),u},i=function(o,u){var s,c;for(c in o)if(o.hasOwnProperty(c)){if(s=u[c],typeof s=="undefined"||o[c]!==s)return!1;delete u[c]}for(c in u)if(u.hasOwnProperty(c))return!1;return!0};return!i(a(r),a(n))||!i(e.parseStyle(e.getAttrib(r,"style")),e.parseStyle(e.getAttrib(n,"style")))?!1:!Zr(r)&&!Zr(n)};return{compare:t}},lg=V.makeMap,fg=function(e){var t=[];e=e||{};var r=e.indent,n=lg(e.indent_before||""),a=lg(e.indent_after||""),i=ni.getEncodeFunc(e.entity_encoding||"raw",e.entities),o=e.element_format==="html";return{start:function(u,s,c){var m,h,g,S;if(r&&n[u]&&t.length>0&&(S=t[t.length-1],S.length>0&&S!==`
`&&t.push(`
`)),t.push("<",u),s)for(m=0,h=s.length;m<h;m++)g=s[m],t.push(" ",g.name,'="',i(g.value,!0),'"');!c||o?t[t.length]=">":t[t.length]=" />",c&&r&&a[u]&&t.length>0&&(S=t[t.length-1],S.length>0&&S!==`
`&&t.push(`
`))},end:function(u){var s;t.push("</",u,">"),r&&a[u]&&t.length>0&&(s=t[t.length-1],s.length>0&&s!==`
`&&t.push(`
`))},text:function(u,s){u.length>0&&(t[t.length]=s?u:i(u))},cdata:function(u){t.push("<![CDATA[",u,"]]>")},comment:function(u){t.push("<!--",u,"-->")},pi:function(u,s){s?t.push("<?",u," ",i(s),"?>"):t.push("<?",u,"?>"),r&&t.push(`
`)},doctype:function(u){t.push("<!DOCTYPE",u,">",r?`
`:"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},bo=function(e,t){t===void 0&&(t=wa());var r=fg(e);e=e||{},e.validate="validate"in e?e.validate:!0;var n=function(a){var i=e.validate,o={3:function(s){r.text(s.value,s.raw)},8:function(s){r.comment(s.value)},7:function(s){r.pi(s.name,s.value)},10:function(s){r.doctype(s.value)},4:function(s){r.cdata(s.value)},11:function(s){if(s=s.firstChild)do u(s);while(s=s.next)}};r.reset();var u=function(s){var c=o[s.type],m,h,g,S,_,x,C,B,T;if(c)c(s);else{if(m=s.name,h=s.shortEnded,g=s.attributes,i&&g&&g.length>1&&(x=[],x.map={},T=t.getElementRule(s.name),T)){for(C=0,B=T.attributesOrder.length;C<B;C++)S=T.attributesOrder[C],S in g.map&&(_=g.map[S],x.map[S]=_,x.push({name:S,value:_}));for(C=0,B=g.length;C<B;C++)S=g[C].name,S in x.map||(_=g.map[S],x.map[S]=_,x.push({name:S,value:_}));g=x}if(r.start(s.name,g,h),!h){if(s=s.firstChild)do u(s);while(s=s.next);r.end(m)}}};return a.type===1&&!e.inner?u(a):o[11](a),r.getContent()};return{serialize:n}},cg=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];He(e,function(t){cg.add(t)})})();var dg=["font","text-decoration","text-emphasis"],gd=function(e,t){return In(e.parseStyle(e.getAttrib(t,"style")))},g2=function(e){return cg.has(e)},b2=function(e,t){return qa(gd(e,t),function(r){return!g2(r)})},y2=function(e){return mt(e,function(t){return Br(dg,function(r){return Jn(t,r)})})},w2=function(e,t,r){var n=gd(e,t),a=gd(e,r),i=function(o){var u=e.getStyle(t,o),s=e.getStyle(r,o);return Qu(u)&&Qu(s)&&u!==s};return Br(n,function(o){var u=function(c){return Br(c,function(m){return m===o})};if(!u(a)&&u(dg)){var s=y2(a);return Br(s,i)}else return i(o)})},vg=function(e,t,r){return R.from(r.container()).filter(We).exists(function(n){var a=e?0:-1;return t(n.data.charAt(r.offset()+a))})},bd=Be(vg,!0,vo),yd=Be(vg,!1,vo),C2=function(e){var t=e.container();return We(t)&&(t.data.length===0||Hf(t.data)&&wu.isBookmarkNode(t.parentNode))},Oa=function(e,t){return function(r){return R.from(Bc(e?0:-1,r)).filter(t).isSome()}},pg=function(e){return Y1(e)&&ra(W.fromDom(e),"display")==="block"},hg=function(e){return zt(e)&&!Z1(e)},k2=Oa(!0,pg),S2=Oa(!1,pg),yo=Oa(!0,fn),wo=Oa(!1,fn),mg=Oa(!0,Ui),gg=Oa(!1,Ui),Ta=Oa(!0,hg),Ba=Oa(!1,hg),E2=function(e){for(var t=[],r=e.dom;r;)t.push(W.fromDom(r)),r=r.lastChild;return t},_2=function(e){var t=Ur(e,"br"),r=mt(E2(e).slice(-1),Vi);t.length===r.length&&He(r,yr)},Co=function(e){Af(e),br(e,W.fromHtml('<br data-mce-bogus="1">'))},x2=function(e){ea(e).each(function(t){yn(t).each(function(r){zn(e)&&Vi(t)&&zn(r)&&yr(t)})})},N2=function(e){return e.slice(0,-1)},P2=function(e,t,r){return Q(t,e)?N2(Gt(e,function(n){return r(n)||ae(n,t)})):[]},bg=function(e,t){return P2(e,t,Et)},oa=function(e,t){return[e].concat(bg(e,t))},wd=function(e,t,r){return cm(e,t,r,C2)},yg=function(e,t){return hr(oa(W.fromDom(t.container()),e),zn)},wg=function(e,t,r){return wd(e,t.dom,r).forall(function(n){return yg(t,r).fold(function(){return Un(n,r,t.dom)===!1},function(a){return Un(n,r,t.dom)===!1&&Q(a,W.fromDom(n.container()))})})},Cg=function(e,t,r){return yg(t,r).fold(function(){return wd(e,t.dom,r).forall(function(n){return Un(n,r,t.dom)===!1})},function(n){return wd(e,n.dom,r).isNone()})},Cd=Be(Cg,!1),kg=Be(Cg,!0),A2=Be(wg,!1),O2=Be(wg,!0),T2=function(e){return Hs(e).exists(Vi)},ol=function(e,t,r){var n=mt(oa(W.fromDom(r.container()),t),zn),a=zr(n).getOr(t);return nn(e,a.dom,r).filter(T2)},kd=function(e,t){return Hs(t).exists(Vi)||ol(!0,e,t).isSome()},Sd=function(e,t){return kE(t).exists(Vi)||ol(!1,e,t).isSome()},B2=Be(ol,!1),R2=Be(ol,!0),Sg=function(e){return ne.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Eg=function(e,t){var r=mt(oa(W.fromDom(t.container()),e),zn);return zr(r).getOr(e)},_g=function(e,t){return Sg(t)?yd(t):yd(t)||Wn(Eg(e,t).dom,t).exists(yd)},xg=function(e,t){return Sg(t)?bd(t):bd(t)||xn(Eg(e,t).dom,t).exists(bd)},D2=function(e){return er(["pre","pre-wrap"],e)},Ed=function(e){return Hs(e).bind(function(t){return vs(t,Ke)}).exists(function(t){return D2(ra(t,"white-space"))})},I2=function(e,t){return Wn(e.dom,t).isNone()},F2=function(e,t){return xn(e.dom,t).isNone()},L2=function(e,t){return I2(e,t)||F2(e,t)||Cd(e,t)||kg(e,t)||Sd(e,t)||kd(e,t)},z2=function(e,t){return Ed(t)?!1:L2(e,t)||_g(e,t)||xg(e,t)},ul=function(e,t){return Ed(t)?!1:Cd(e,t)||A2(e,t)||Sd(e,t)||_g(e,t)},M2=function(e){var t=e.container(),r=e.offset();return We(t)&&r<t.data.length?ne(t,r+1):e},sl=function(e,t){return Ed(t)?!1:kg(e,t)||O2(e,t)||kd(e,t)||xg(e,t)},Ng=function(e,t){return ul(e,t)||sl(e,M2(t))},Pg=function(e,t){return bu(e.charAt(t))},$2=function(e){var t=e.container();return We(t)&&mr(t.data,qr)},j2=function(e){var t=e.split("");return It(t,function(r,n){return bu(r)&&n>0&&n<t.length-1&&zc(t[n-1])&&zc(t[n+1])?" ":r}).join("")},U2=function(e,t){var r=t.data,n=ne(t,0);return Pg(r,0)&&!Ng(e,n)?(t.data=" "+r.slice(1),!0):!1},H2=function(e){var t=e.data,r=j2(t);return r!==t?(e.data=r,!0):!1},W2=function(e,t){var r=t.data,n=ne(t,r.length-1);return Pg(r,r.length-1)&&!Ng(e,n)?(t.data=r.slice(0,-1)+" ",!0):!1},V2=function(e,t){return R.some(t).filter($2).bind(function(r){var n=r.container(),a=U2(e,n)||H2(n)||W2(e,n);return a?R.some(r):R.none()})},Ag=function(e){var t=W.fromDom(e.getBody());e.selection.isCollapsed()&&V2(t,ne.fromRangeStart(e.selection.getRng())).each(function(r){e.selection.setRng(r.toRange())})},q2=function(e,t,r){var n=Qr(e,function(a,i){return vo(i)||bu(i)?a.previousCharIsSpace||a.str===""&&t||a.str.length===e.length-1&&r?{previousCharIsSpace:!1,str:a.str+qr}:{previousCharIsSpace:!0,str:a.str+" "}:{previousCharIsSpace:!1,str:a.str+i}},{previousCharIsSpace:!1,str:""});return n.str},Og=function(e,t,r){if(r!==0){var n=W.fromDom(e),a=eu(n,zn).getOr(n),i=e.data.slice(t,t+r),o=t+r>=e.data.length&&sl(a,ne(e,e.data.length)),u=t===0&&ul(a,ne(e,0));e.replaceData(t,r,q2(i,u,o))}},ll=function(e,t){var r=e.data.slice(t),n=r.length-jo(r).length;return Og(e,t,n)},_d=function(e,t){var r=e.data.slice(0,t),n=r.length-Yu(r).length;return Og(e,t-n,n)},xd=function(e,t,r,n){n===void 0&&(n=!0);var a=Yu(e.data).length,i=n?e:t,o=n?t:e;return n?i.appendData(o.data):i.insertData(0,o.data),yr(W.fromDom(o)),r&&ll(i,a),i},K2=function(e,t){var r=e.container(),n=e.offset();return ne.isTextPosition(e)===!1&&r===t.parentNode&&n>ne.before(t).offset()},G2=function(e,t){return K2(t,e)?ne(t.container(),t.offset()-1):t},Z2=function(e){return We(e)?ne(e,0):ne.before(e)},X2=function(e){return We(e)?ne(e,e.data.length):ne.after(e)},Tg=function(e){return Mn(e.previousSibling)?R.some(X2(e.previousSibling)):e.previousSibling?Vn(e.previousSibling):R.none()},Bg=function(e){return Mn(e.nextSibling)?R.some(Z2(e.nextSibling)):e.nextSibling?Rr(e.nextSibling):R.none()},Y2=function(e,t){var r=ne.before(t.previousSibling?t.previousSibling:t.parentNode);return Wn(e,r).fold(function(){return xn(e,ne.after(t))},R.some)},Q2=function(e,t){return xn(e,ne.after(t)).fold(function(){return Wn(e,ne.before(t))},R.some)},J2=function(e,t){return Tg(t).orThunk(function(){return Bg(t)}).orThunk(function(){return Y2(e,t)})},eN=function(e,t){return Bg(t).orThunk(function(){return Tg(t)}).orThunk(function(){return Q2(e,t)})},tN=function(e,t,r){return e?eN(t,r):J2(t,r)},rN=function(e,t,r){return tN(e,t,r).map(Be(G2,r))},Rg=function(e,t,r){r.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},nN=function(e){return function(t){return t.dom===e}},aN=function(e,t){return t&&nr(e.schema.getBlockElements(),ye(t))},iN=function(e){if(Kr(e)){var t=W.fromHtml('<br data-mce-bogus="1">');return Af(e),br(e,t),R.some(ne.before(t.dom))}else return R.none()},oN=function(e,t,r){var n=yn(e).filter(Re),a=$r(e).filter(Re);return yr(e),Fk(n,a,t,function(i,o,u){var s=i.dom,c=o.dom,m=s.data.length;return xd(s,c,r),u.container()===c?ne(s,m):u}).orThunk(function(){return r&&(n.each(function(i){return _d(i.dom,i.dom.length)}),a.each(function(i){return ll(i.dom,0)})),t})},uN=function(e,t){return nr(e.schema.getTextInlineElements(),ye(t))},pi=function(e,t,r,n){n===void 0&&(n=!0);var a=rN(t,e.getBody(),r.dom),i=eu(r,Be(aN,e),nN(e.getBody())),o=oN(r,a,uN(e,r));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(iN).fold(function(){n&&Rg(e,t,o)},function(u){n&&Rg(e,t,R.some(u))})},Eu=function(e,t){return{start:e,end:t}},sN=function(e,t,r){return{rng:e,table:t,cells:r}},Nd=ma.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),lN=function(e){return function(t){return ae(e,t)}},fl=function(e,t){return Lf(W.fromDom(e),"td,th",t)},_u=function(e,t){return ps(e,"table",t)},Dg=function(e){return!ae(e.start,e.end)},Pd=function(e,t){return _u(e.start,t).bind(function(r){return _u(e.end,t).bind(function(n){return Lk(ae(r,n),r)})})},fN=function(e,t){return!Dg(e)&&Pd(e,t).exists(function(r){var n=r.dom.rows;return n.length===1&&n[0].cells.length===1})},cl=function(e){return Ur(e,"td,th")},cN=function(e,t){var r=fl(e.startContainer,t),n=fl(e.endContainer,t);return Hr(r,n,Eu)},dN=function(e,t){return _u(e.start,t).bind(function(r){return Rn(cl(r)).map(function(n){return Eu(e.start,n)})})},vN=function(e,t){var r=fl(t.startContainer,e),n=fl(t.endContainer,e);return t.collapsed?R.none():Hr(r,n,Eu).fold(function(){return r.fold(function(){return n.bind(function(a){return _u(a,e).bind(function(i){return zr(cl(i)).map(function(o){return Eu(o,a)})})})},function(a){return _u(a,e).bind(function(i){return Rn(cl(i)).map(function(o){return Eu(a,o)})})})},function(a){return Ig(e,a)?R.none():dN(a,e)})},Ig=function(e,t){return Pd(t,e).isSome()},pN=function(e,t){return Pd(e,t).map(function(r){return sN(e,r,cl(r))})},hN=function(e,t,r){return e.filter(function(n){return Dg(n)&&Ig(r,n)}).orThunk(function(){return vN(r,t)}).bind(function(n){return pN(n,r)})},Fg=function(e,t){return Bi(e,function(r){return ae(r,t)})},mN=function(e){return Hr(Fg(e.cells,e.rng.start),Fg(e.cells,e.rng.end),function(t,r){return e.cells.slice(t,r+1)})},gN=function(e,t,r){return e.filter(function(n){return fN(n,r)&&Zc(n.start,t)}).map(function(n){return n.start})},bN=function(e){return mN(e).map(function(t){var r=e.cells;return t.length===r.length?Nd.removeTable(e.table):Nd.emptyCells(t)})},yN=function(e,t){var r=lN(e),n=cN(t,r);return gN(n,t,r).map(function(a){return Nd.deleteCellSelection(t,a)}).orThunk(function(){return hN(n,t,r).bind(bN)})},Lg=function(e){var t=je(e)?yn(e):ea(e);return t.bind(Lg).orThunk(function(){return R.some(e)})},zg=function(e,t){return He(t,Co),e.selection.setCursorLocation(t[0].dom,0),!0},Mg=function(e,t,r){t.deleteContents();var n=Lg(r).getOr(r),a=W.fromDom(e.dom.getParent(n.dom,e.dom.isBlock));if(Kr(a)&&(Co(a),e.selection.setCursorLocation(a.dom,0)),!ae(r,a)){var i=_r(a).is(r)?[]:Li(a);He(i.concat(jr(r)),function(o){!ae(o,a)&&!Q(o,a)&&yr(o)})}return!0},wN=function(e,t){return pi(e,!1,t),!0},CN=function(e,t,r){return yN(t,r).map(function(n){return n.fold(Be(wN,e),Be(zg,e),Be(Mg,e))})},kN=function(e,t){return dl(e,t)},SN=function(e,t,r,n){return Ad(t,n).fold(function(){return CN(e,t,r)},function(a){return kN(e,a)}).getOr(!1)},EN=function(e,t){var r=W.fromDom(e.getBody()),n=e.selection.getRng(),a=go(e);return a.length!==0?zg(e,a):SN(e,r,n,t)},$g=function(e,t){return hr(oa(t,e),ms)},Ad=function(e,t){return hr(oa(t,e),function(r){return ye(r)==="caption"})},_N=function(e,t,r,n,a){return qs(r,e.getBody(),a).bind(function(i){return $g(t,W.fromDom(i.getNode())).map(function(o){return ae(o,n)===!1})})},dl=function(e,t){return Co(t),e.selection.setCursorLocation(t.dom,0),R.some(!0)},xN=function(e,t,r,n){return Rr(e.dom).bind(function(a){return Vn(e.dom).map(function(i){return t?r.isEqual(a)&&n.isEqual(i):r.isEqual(i)&&n.isEqual(a)})}).getOr(!0)},NN=function(e,t){return dl(e,t)},PN=function(e,t,r){return Ad(e,W.fromDom(r.getNode())).map(function(n){return ae(n,t)===!1})},AN=function(e,t,r,n,a){return qs(r,e.getBody(),a).bind(function(i){return xN(n,r,a,i)?NN(e,n):PN(t,n,i)}).or(R.some(!0))},ON=function(e,t,r,n){var a=ne.fromRangeStart(e.selection.getRng());return $g(r,n).bind(function(i){return Kr(i)?dl(e,i):_N(e,r,t,i,a)}).getOr(!1)},TN=function(e,t,r,n){var a=ne.fromRangeStart(e.selection.getRng());return Kr(n)?dl(e,n):AN(e,r,t,n,a)},jg=function(e,t){return e?mg(t):gg(t)},BN=function(e,t){var r=ne.fromRangeStart(e.selection.getRng());return jg(t,r)||nn(t,e.getBody(),r).exists(function(n){return jg(t,n)})},RN=function(e,t,r){var n=W.fromDom(e.getBody());return Ad(n,r).fold(function(){return ON(e,t,n,r)||BN(e,t)},function(a){return TN(e,t,n,a).getOr(!1)})},vl=function(e,t){var r=W.fromDom(e.selection.getStart(!0)),n=go(e);return e.selection.isCollapsed()&&n.length===0?RN(e,t,r):EN(e,r)},DN=function(e,t,r,n){var a=document.createRange();return a.setStart(e,t),a.setEnd(r,n),a},IN=function(e){var t=ne.fromRangeStart(e),r=ne.fromRangeEnd(e),n=e.commonAncestorContainer;return nn(!1,n,r).map(function(a){return!Un(t,r,n)&&Un(t,a,n)?DN(t.container(),t.offset(),a.container(),a.offset()):e}).getOr(e)},Od=function(e){return e.collapsed?e:IN(e)},FN=function(e){return e.firstChild&&e.firstChild===e.lastChild},LN=function(e){return e.name==="br"||e.value===qr},zN=function(e,t){var r=e.getBlockElements();return r[t.name]&&FN(t)&&LN(t.firstChild)},MN=function(e,t){var r=e.getNonEmptyElements();return t&&(t.isEmpty(r)||zN(e,t))},$N=function(e,t){var r=t.firstChild,n=t.lastChild;return r&&r.name==="meta"&&(r=r.next),n&&n.attr("id")==="mce_marker"&&(n=n.prev),MN(e,n)&&(n=n.prev),!r||r!==n?!1:r.name==="ul"||r.name==="ol"},jN=function(e){var t=e.firstChild,r=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode.removeChild(t),r&&r.id==="mce_marker"&&r.parentNode.removeChild(r),e},UN=function(e,t,r){var n=t.serialize(r),a=e.createFragment(n);return jN(a)},HN=function(e){return V.grep(e.childNodes,function(t){return t.nodeName==="LI"})},WN=function(e){return e.data===qr||Xt(e)},VN=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&WN(e.firstChild)},qN=function(e){return!e.firstChild||VN(e)},KN=function(e){return e.length>0&&qN(e[e.length-1])?e.slice(0,-1):e},Td=function(e,t){var r=e.getParent(t,e.isBlock);return r&&r.nodeName==="LI"?r:null},GN=function(e,t){return!!Td(e,t)},ZN=function(e,t){var r=t.cloneRange(),n=t.cloneRange();return r.setStartBefore(e),n.setEndAfter(e),[r.cloneContents(),n.cloneContents()]},XN=function(e,t){var r=ne.before(e),n=_n(t),a=n.next(r);return a?a.toRange():null},Ug=function(e,t){var r=ne.after(e),n=_n(t),a=n.prev(r);return a?a.toRange():null},YN=function(e,t,r,n){var a=ZN(e,n),i=e.parentNode;return i.insertBefore(a[0],e),V.each(t,function(o){i.insertBefore(o,e)}),i.insertBefore(a[1],e),i.removeChild(e),Ug(t[t.length-1],r)},QN=function(e,t,r){var n=e.parentNode;return V.each(t,function(a){n.insertBefore(a,e)}),XN(e,r)},JN=function(e,t,r,n){return n.insertAfter(t.reverse(),e),Ug(t[0],r)},eP=function(e,t,r,n){var a=UN(t,e,n),i=Td(t,r.startContainer),o=KN(HN(a.firstChild)),u=1,s=2,c=t.getRoot(),m=function(h){var g=ne.fromRangeStart(r),S=_n(t.getRoot()),_=h===u?S.prev(g):S.next(g);return _?Td(t,_.getNode())!==i:!0};return m(u)?QN(i,o,c):m(s)?JN(i,o,c,t):YN(i,o,c,r)},tP=function(e,t,r){var n=W.fromDom(e.getRoot());return ul(n,ne.fromRangeStart(t))?r=r.replace(/^ /,"&nbsp;"):r=r.replace(/^&nbsp;/," "),sl(n,ne.fromRangeEnd(t))?r=r.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):r=r.replace(/&nbsp;(<br( \/)?>)?$/," "),r},Bd=tp,rP=function(e,t,r){if(r!==null){var n=e.getParent(t.endContainer,Bd);return r===n&&Zc(W.fromDom(r),t)}else return!1},nP=function(e,t,r){if(r.getAttribute("data-mce-bogus")==="all")r.parentNode.insertBefore(e.dom.createFragment(t),r);else{var n=r.firstChild,a=r.lastChild;!n||n===a&&n.nodeName==="BR"?e.dom.setHTML(r,t):e.selection.setContent(t)}},aP=function(e,t){R.from(e.getParent(t,"td,th")).map(W.fromDom).each(x2)},iP=function(e,t){var r=e.schema.getTextInlineElements(),n=e.dom;if(t){var a=e.getBody(),i=sg(n);V.each(n.select("*[data-mce-fragment]"),function(o){var u=lr(r[o.nodeName.toLowerCase()]);if(u&&b2(n,o))for(var s=o.parentNode;lr(s)&&s!==a;s=s.parentNode){var c=w2(n,o,s);if(c)break;if(i.compare(s,o)){n.remove(o,!0);break}}})}},oP=function(e){for(var t=e;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},uP=function(e){V.each(e.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},sP=function(e){return!!e.getAttribute("data-mce-fragment")},lP=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},fP=function(e,t){var r,n=e.dom,a=e.selection,i,o=function(g){for(var S=e.getBody();g&&g!==S;g=g.parentNode)if(n.getContentEditable(g)==="false")return g;return null};if(!!t){a.scrollIntoView(t);var u=o(t);if(u){n.remove(t),a.select(u);return}var s=n.createRng(),c=t.previousSibling;c&&c.nodeType===3?(s.setStart(c,c.nodeValue.length),Y.ie||(i=t.nextSibling,i&&i.nodeType===3&&(c.appendData(i.data),i.parentNode.removeChild(i)))):(s.setStartBefore(t),s.setEndBefore(t));var m=function(g){var S=ne.fromRangeStart(g),_=_n(e.getBody());if(S=_.next(S),S)return S.toRange()},h=n.getParent(t,n.isBlock);n.remove(t),h&&n.isEmpty(h)&&(e.$(h).empty(),s.setStart(h,0),s.setEnd(h,0),!Bd(h)&&!sP(h)&&(r=m(s))?(s=r,n.remove(h)):n.add(h,n.create("br",{"data-mce-bogus":"1"}))),a.setRng(s)}},cP=function(e){var t=e.dom,r=Od(e.selection.getRng());e.selection.setRng(r);var n=t.getParent(r.startContainer,Bd);rP(t,r,n)?Mg(e,r,W.fromDom(n)):e.getDoc().execCommand("Delete",!1,null)},dP=function(e,t,r){var n,a,i,o,u,s,c=e.selection,m=e.dom;/^ | $/.test(t)&&(t=tP(m,c.getRng(),t));var h=e.parser,g=r.merge,S=bo({validate:zS(e)},e.schema),_='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(i={content:t,format:"html",selection:!0,paste:r.paste},i=e.fire("BeforeSetContent",i),i.isDefaultPrevented()){e.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:r.paste});return}t=i.content,t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,_),u=c.getRng();var x=u.startContainer||(u.parentElement?u.parentElement():null),C=e.getBody();x===C&&c.isCollapsed()&&m.isBlock(C.firstChild)&&lP(e,C.firstChild)&&m.isEmpty(C.firstChild)&&(u=m.createRng(),u.setStart(C.firstChild,0),u.setEnd(C.firstChild,0),c.setRng(u)),c.isCollapsed()||cP(e),n=c.getNode();var B={context:n.nodeName.toLowerCase(),data:r.data,insert:!0},T=h.parse(t,B);if(r.paste===!0&&$N(e.schema,T)&&GN(m,n)){u=eP(S,m,c.getRng(),T),c.setRng(u),e.fire("SetContent",i);return}if(oP(T),s=T.lastChild,s.attr("id")==="mce_marker"){for(o=s,s=s.prev;s;s=s.walk(!0))if(s.type===3||!m.isBlock(s.name)){e.schema.isValidChild(s.parent.name,"span")&&s.parent.insert(o,s,s.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(n),!B.invalid)t=S.serialize(T),nP(e,t,n);else{for(e.selection.setContent(_),n=c.getNode(),a=e.getBody(),n.nodeType===9?n=s=a:s=n;s!==a;)n=s,s=s.parentNode;t=n===a?a.innerHTML:m.getOuterHTML(n),t=S.serialize(h.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return S.serialize(T)}))),n===a?m.setHTML(a,t):m.setOuterHTML(n,t)}iP(e,g),fP(e,m.get("mce_marker")),uP(e.getBody()),aP(m,c.getStart()),e.fire("SetContent",i),e.addVisual()},Rd=function(e,t){t(e),e.firstChild&&Rd(e.firstChild,t),e.next&&Rd(e.next,t)},vP=function(e,t,r){var n={},a={},i=[];r.firstChild&&Rd(r.firstChild,function(s){He(e,function(c){c.name===s.name&&(n[c.name]?n[c.name].nodes.push(s):n[c.name]={filter:c,nodes:[s]})}),He(t,function(c){typeof s.attr(c.name)=="string"&&(a[c.name]?a[c.name].nodes.push(s):a[c.name]={filter:c,nodes:[s]})})});for(var o in n)n.hasOwnProperty(o)&&i.push(n[o]);for(var u in a)a.hasOwnProperty(u)&&i.push(a[u]);return i},pP=function(e,t,r){var n=vP(e,t,r);He(n,function(a){He(a.filter.callbacks,function(i){i(a.nodes,a.filter.name,{})})})},hP="html",Dd=function(e){return e instanceof cn},mP=function(e){vi(e)&&Rr(e.getBody()).each(function(t){var r=t.getNode(),n=Ui(r)?Rr(r).getOr(t):t;e.selection.setRng(n.toRange())})},Id=function(e,t){e.dom.setHTML(e.getBody(),t),mP(e)},gP=function(e,t,r,n){var a,i;return r.length===0||/^\s+$/.test(r)?(i='<br data-mce-bogus="1">',t.nodeName==="TABLE"?r="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(r="<li>"+i+"</li>"),a=kr(e),a&&e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())?(r=i,r=e.dom.createHTML(a,cu(e),r)):r||(r='<br data-mce-bogus="1">'),Id(e,r),e.fire("SetContent",n)):(n.format!=="raw"&&(r=bo({validate:e.validate},e.schema).serialize(e.parser.parse(r,{isRootContent:!0,insert:!0}))),n.content=gs(W.fromDom(t))?r:V.trim(r),Id(e,n.content),n.no_events||e.fire("SetContent",n)),n.content},bP=function(e,t,r,n){pP(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),r);var a=bo({validate:e.validate},e.schema).serialize(r);return n.content=gs(W.fromDom(t))?a:V.trim(a),Id(e,n.content),n.no_events||e.fire("SetContent",n),r},yP=function(e,t,r){return r.format=r.format?r.format:hP,r.set=!0,r.content=Dd(t)?"":t,r.no_events||e.fire("BeforeSetContent",r),Dd(t)||(t=r.content),R.from(e.getBody()).fold(qe(t),function(n){return Dd(t)?bP(e,n,t,r):gP(e,n,t,r)})},wP=function(e,t){return hw(e,t).isSome()},Hg=function(e){return Qt(e)?e:Et},CP=function(e,t,r){for(var n=e.dom,a=Hg(r);n.parentNode;){n=n.parentNode;var i=W.fromDom(n),o=t(i);if(o.isSome())return o;if(a(i))break}return R.none()},Fd=function(e,t,r){var n=t(e),a=Hg(r);return n.orThunk(function(){return a(e)?R.none():CP(e,t,a)})},Ld=Hc,Wg=function(e,t,r){var n=e.formatter.get(r);if(n){for(var a=0;a<n.length;a++)if(n[a].inherit===!1&&e.dom.is(t,n[a].selector))return!0}return!1},zd=function(e,t,r,n){var a=e.dom.getRoot();return t===a?!1:(t=e.dom.getParent(t,function(i){return Wg(e,i,r)?!0:i.parentNode===a||!!Kn(e,i,r,n,!0)}),Kn(e,t,r,n))},Vg=function(e,t,r){if(Ld(t,r.inline)||Ld(t,r.block))return!0;if(r.selector)return t.nodeType===1&&e.is(t,r.selector)},qg=function(e,t,r,n,a,i){var o,u,s=r[n],c;if(r.onmatch)return r.onmatch(t,r,n);if(s){if(typeof s.length=="undefined"){for(o in s)if(s.hasOwnProperty(o)&&(n==="attributes"?u=e.getAttrib(t,o):u=Ks(e,t,o),a&&!u&&!r.exact||(!a||r.exact)&&!Ld(u,Wc(e,ia(s[o],i),o))))return}else for(c=0;c<s.length;c++)if(n==="attributes"?e.getAttrib(t,s[c]):Ks(e,t,s[c]))return r}return r},Kn=function(e,t,r,n,a){var i=e.formatter.get(r),o,u,s,c,m=e.dom;if(i&&t){for(u=0;u<i.length;u++)if(o=i[u],Vg(e.dom,t,o)&&qg(m,t,o,"attributes",a,n)&&qg(m,t,o,"styles",a,n)){if(c=o.classes){for(s=0;s<c.length;s++)if(!e.dom.hasClass(t,ia(c[s],n)))return}return o}}},Md=function(e,t,r,n){if(n)return zd(e,n,t,r);if(n=e.selection.getNode(),zd(e,n,t,r))return!0;var a=e.selection.getStart();return!!(a!==n&&zd(e,a,t,r))},kP=function(e,t,r){var n=[],a={},i=e.selection.getStart();return e.dom.getParent(i,function(o){for(var u=0;u<t.length;u++){var s=t[u];!a[s]&&Kn(e,o,s,r)&&(a[s]=!0,n.push(s))}},e.dom.getRoot()),n},SP=function(e,t){var r=function(a){return ae(a,W.fromDom(e.getBody()))},n=function(a,i){return Kn(e,a.dom,i)?R.some(i):R.none()};return R.from(e.selection.getStart(!0)).bind(function(a){return Fd(W.fromDom(a),function(i){return pf(t,function(o){return n(i,o)})},r)}).getOrNull()},EP=function(e,t){var r=e.formatter.get(t),n,a,i,o,u,s=e.dom;if(r)for(n=e.selection.getStart(),a=Gs(s,n),o=r.length-1;o>=0;o--){if(u=r[o].selector,!u||r[o].defaultBlock)return!0;for(i=a.length-1;i>=0;i--)if(s.is(a[i],u))return!0}return!1},_P=function(e,t,r){return Qr(r,function(n,a){var i=GE(e,a);return e.formatter.matchNode(t,a,{},i)?n.concat([a]):n},[])},ko=dr,Kg="_mce_caret",xP=function(e,t){return e.importNode(t,!0)},NP=function(e){for(var t=[];e;){if(e.nodeType===3&&e.nodeValue!==ko||e.childNodes.length>1)return[];e.nodeType===1&&t.push(e),e=e.firstChild}return t},Gg=function(e){return NP(e).length>0},Zg=function(e){if(e){var t=new ar(e,e);for(e=t.current();e;e=t.next())if(We(e))return e}return null},$d=function(e){var t=W.fromTag("span");return ha(t,{id:Kg,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&br(t,W.fromText(ko)),t},PP=function(e){var t=Zg(e);return t&&t.nodeValue.charAt(0)===ko&&t.deleteData(0,1),t},jd=function(e,t,r){r===void 0&&(r=!0);var n=e.dom,a=e.selection;if(Gg(t))pi(e,!1,W.fromDom(t),r);else{var i=a.getRng(),o=n.getParent(t,n.isBlock),u=i.startContainer,s=i.startOffset,c=i.endContainer,m=i.endOffset,h=PP(t);n.remove(t,!0),u===h&&s>0&&i.setStart(h,s-1),c===h&&m>0&&i.setEnd(h,m-1),o&&n.isEmpty(o)&&Co(W.fromDom(o)),a.setRng(i)}},Ud=function(e,t,r){r===void 0&&(r=!0);var n=e.dom,a=e.selection;if(t)jd(e,t,r);else if(t=di(e.getBody(),a.getStart()),!t)for(;t=n.get(Kg);)jd(e,t,!1)},AP=function(e,t,r){var n=e.dom,a=n.getParent(r,Be(jc,e));a&&n.isEmpty(a)?r.parentNode.replaceChild(t,r):(_2(W.fromDom(r)),n.isEmpty(r)?r.parentNode.replaceChild(t,r):n.insertAfter(t,r))},Xg=function(e,t){return e.appendChild(t),t},Yg=function(e,t){var r=$u(e,function(n,a){return Xg(n,a.cloneNode(!1))},t);return Xg(r,r.ownerDocument.createTextNode(ko))},OP=function(e,t,r,n,a,i){var o=e.formatter,u=e.dom,s=mt(In(o.get()),function(g){return g!==n&&!mr(g,"removeformat")}),c=_P(e,r,s),m=mt(c,function(g){return!ZE(e,g,n)});if(m.length>0){var h=r.cloneNode(!1);return u.add(t,h),o.remove(n,a,h,i),u.remove(h),R.some(h)}else return R.none()},TP=function(e,t,r){var n,a,i=e.selection,o=i.getRng(),u=o.startOffset,s=o.startContainer,c=s.nodeValue;n=di(e.getBody(),i.getStart()),n&&(a=Zg(n));var m=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&u>0&&u<c.length&&m.test(c.charAt(u))&&m.test(c.charAt(u-1))){var h=i.getBookmark();o.collapse(!0);var g=mo(e,o,e.formatter.get(t));g=Js(g),e.formatter.apply(t,r,g),i.moveToBookmark(h)}else(!n||a.nodeValue!==ko)&&(n=xP(e.getDoc(),$d(!0).dom),a=n.firstChild,o.insertNode(n),u=1),e.formatter.apply(t,r,n),i.setCursorLocation(a,u)},BP=function(e,t,r,n){var a=e.dom,i=e.selection,o,u,s,c=[],m=i.getRng(),h=m.startContainer,g=m.startOffset;for(u=h,h.nodeType===3&&(g!==h.nodeValue.length&&(o=!0),u=u.parentNode);u;){if(Kn(e,u,t,r,n)){s=u;break}u.nextSibling&&(o=!0),c.push(u),u=u.parentNode}if(!!s)if(o){var S=i.getBookmark();m.collapse(!0);var _=mo(e,m,e.formatter.get(t),!0);_=Js(_),e.formatter.remove(t,r,_,n),i.moveToBookmark(S)}else{var x=di(e.getBody(),s),C=$d(!1).dom;AP(e,C,x!==null?x:s);var B=OP(e,C,s,t,r,n),T=Yg(c.concat(B.toArray()),C);jd(e,x,!1),i.setCursorLocation(T,1),a.isEmpty(s)&&a.remove(s)}},RP=function(e,t){var r=e.selection,n=e.getBody();Ud(e,null,!1),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===ko&&Ud(e,di(n,r.getStart())),(t===37||t===39)&&Ud(e,di(n,r.getStart()))},DP=function(e){e.on("mouseup keydown",function(t){RP(e,t.keyCode)})},IP=function(e,t){var r=$d(!1),n=Yg(t,r.dom);return wn(W.fromDom(e),r),yr(W.fromDom(e)),ne(n,0)},FP=function(e,t){var r=e.schema.getTextInlineElements();return r.hasOwnProperty(ye(t))&&!qn(t.dom)&&!ji(t.dom)},LP=function(e){return qn(e.dom)&&Gg(e.dom)},pl={},Qg=va,Jg=Za,zP=function(e,t){var r=pl[e];r||(pl[e]=[]),pl[e].push(t)},MP=function(e,t){Jg(pl[e],function(r){r(t)})};zP("pre",function(e){var t=e.selection.getRng(),r,n=function(o){return i(o.previousSibling)&&qu(r,o.previousSibling)!==-1},a=function(o,u){rt(u).remove(),rt(o).append("<br><br>").append(u.childNodes)},i=ln(["pre"]);t.collapsed||(r=e.selection.getSelectedBlocks(),Jg(Qg(Qg(r,i),n),function(o){a(o.previousSibling,o)}))});var Hd=V.each,Wd=function(e){return at(e)&&!Zr(e)&&!qn(e)&&!ji(e)},eb=function(e,t){var r;for(r=e;r;r=r[t]){if(We(r)&&r.nodeValue.length!==0)return e;if(at(r)&&!Zr(r))return r}return e},tb=function(e,t,r){var n,a,i=sg(e);if(t&&r&&(t=eb(t,"previousSibling"),r=eb(r,"nextSibling"),i.compare(t,r))){for(n=t.nextSibling;n&&n!==r;)a=n,n=n.nextSibling,t.appendChild(a);return e.remove(r),V.each(V.grep(r.childNodes),function(o){t.appendChild(o)}),t}return r},rb=function(e,t,r,n){if(n&&t.merge_siblings!==!1){var a=tb(e,$c(n),n);tb(e,a,$c(a,!0))}},$P=function(e,t,r){if(t.clear_child_styles){var n=t.links?"*:not(a)":"*";Hd(e.select(n,r),function(a){Wd(a)&&Hd(t.styles,function(i,o){e.setStyle(a,o,"")})})}},Vd=function(e,t,r){Hd(e.childNodes,function(n){Wd(n)&&(t(n)&&r(n),n.hasChildNodes()&&Vd(n,t,r))})},jP=function(e,t){t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},nb=function(e,t){return function(r){return!!(r&&Ks(e,r,t))}},ab=function(e,t,r){return function(n){e.setStyle(n,t,r),n.getAttribute("style")===""&&n.removeAttribute("style"),jP(e,n)}},xu=ma.generate([{keep:[]},{rename:["name"]},{removed:[]}]),UP=/^(src|href|style)$/,qd=V.each,So=Hc,HP=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},ib=function(e,t,r){return e.isChildOf(t,r)&&t!==r&&!e.isBlock(r)},ob=function(e,t,r){var n,a;if(n=t[r?"startContainer":"endContainer"],a=t[r?"startOffset":"endOffset"],at(n)){var i=n.childNodes.length-1;!r&&a&&a--,n=n.childNodes[a>i?i:a]}return We(n)&&r&&a>=n.nodeValue.length&&(n=new ar(n,e.getBody()).next()||n),We(n)&&!r&&a===0&&(n=new ar(n,e.getBody()).prev()||n),n},ub=function(e,t){var r=t?"firstChild":"lastChild";if(HP(e)&&e[r]){var n=e[r];return e.nodeName==="TR"&&n[r]||n}return e},Kd=function(e,t,r,n){var a=e.create(r,n);return t.parentNode.insertBefore(a,t),a.appendChild(t),a},sb=function(e,t,r,n,a){var i=W.fromDom(t),o=W.fromDom(e.create(n,a)),u=r?us(i):Ko(i);return ss(o,u),r?(wn(i,o),qv(o,i)):(Zo(i,o),br(o,i)),o.dom},WP=function(e,t,r){if(So(t,r.inline)||So(t,r.block))return!0;if(r.selector)return at(t)&&e.is(t,r.selector)},VP=function(e,t){return t.links&&e.nodeName==="A"},hl=function(e,t,r,n){return t=$c(t,r,n),!t||t.nodeName==="BR"||e.isBlock(t)},qP=function(e,t,r){var n=t.parentNode,a,i=e.dom,o=kr(e);r.block&&(o?n===i.getRoot()&&(!r.list_block||!So(t,r.list_block))&&He(Dn(t.childNodes),function(u){po(e,o,u.nodeName.toLowerCase())?a?a.appendChild(u):(a=Kd(i,u,o),i.setAttribs(a,e.settings.forced_root_block_attrs)):a=0}):i.isBlock(t)&&!i.isBlock(n)&&(!hl(i,t,!1)&&!hl(i,t.firstChild,!0,!0)&&t.insertBefore(i.create("br"),t.firstChild),!hl(i,t,!0)&&!hl(i,t.lastChild,!1,!0)&&t.appendChild(i.create("br")))),!(r.selector&&r.inline&&!So(r.inline,t))&&i.remove(t,!0)},lb=function(e,t,r,n,a){var i,o=e.dom;if(!WP(o,n,t)&&!VP(n,t))return xu.keep();var u=n;if(t.inline&&t.remove==="all"&&Dt(t.preserve_attributes)){var s=mt(o.getAttribs(u),function(g){return er(t.preserve_attributes,g.name.toLowerCase())});if(o.removeAllAttribs(u),He(s,function(g){return o.setAttrib(u,g.name,g.value)}),s.length>0)return xu.rename("span")}if(t.remove!=="all"){qd(t.styles,function(g,S){g=Wc(o,ia(g,r),S+""),fa(S)&&(S=g,a=null),(t.remove_similar||!a||So(Ks(o,a,S),g))&&o.setStyle(u,S,""),i=!0}),i&&o.getAttrib(u,"style")===""&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),qd(t.attributes,function(g,S){var _;if(g=ia(g,r),fa(S)&&(S=g,a=null),t.remove_similar||!a||So(o.getAttrib(a,S),g)){if(S==="class"&&(g=o.getAttrib(u,S),g&&(_="",He(g.split(/\s+/),function(x){/mce\-\w+/.test(x)&&(_+=(_?" ":"")+x)}),_))){o.setAttrib(u,S,_);return}if(UP.test(S)&&u.removeAttribute("data-mce-"+S),S==="style"&&ln(["li"])(u)&&o.getStyle(u,"list-style-type")==="none"){u.removeAttribute(S),o.setStyle(u,"list-style-type","none");return}S==="class"&&u.removeAttribute("className"),u.removeAttribute(S)}}),qd(t.classes,function(g){g=ia(g,r),(!a||o.hasClass(a,g))&&o.removeClass(u,g)});for(var c=o.getAttribs(u),m=0;m<c.length;m++){var h=c[m].nodeName;if(h.indexOf("_")!==0&&h.indexOf("data-")!==0)return xu.keep()}}return t.remove!=="none"?(qP(e,u,t),xu.removed()):xu.keep()},hi=function(e,t,r,n,a){return lb(e,t,r,n,a).fold(Et,function(i){return e.dom.rename(n,i),!0},Jt)},KP=function(e,t,r,n,a){var i;return He(Gs(e.dom,t.parentNode).reverse(),function(o){if(!i&&o.id!=="_start"&&o.id!=="_end"){var u=Kn(e,o,r,n,a);u&&u.split!==!1&&(i=o)}}),i},GP=function(e,t,r,n){return lb(e,t,r,n,n).fold(qe(n),function(a){var i=e.dom.createFragment();return i.appendChild(n),e.dom.rename(n,a)},qe(null))},ZP=function(e,t,r,n,a,i,o,u){var s,c,m,h=e.dom;if(r){for(var g=r.parentNode,S=n.parentNode;S&&S!==g;S=S.parentNode){s=h.clone(S,!1);for(var _=0;_<t.length&&(s=GP(e,t[_],u,s),s!==null);_++);s&&(c&&s.appendChild(c),m||(m=s),c=s)}i&&(!o.mixed||!h.isBlock(r))&&(n=h.split(r,n)),c&&(a.parentNode.insertBefore(c,a),m.appendChild(a),o.inline&&rb(h,o,u,c))}return n},fb=function(e,t,r,n,a){var i=e.formatter.get(t),o=i[0],u=!0,s=e.dom,c=e.selection,m=function(B){var T=KP(e,B,t,r,a);return ZP(e,i,T,B,B,!0,o,r)},h=function(B){return Zr(B)&&at(B)&&(B.id==="_start"||B.id==="_end")},g=function(B){var T,z,j=B.parentNode;We(B)&&wm(s,j)&&hi(e,o,r,j,j),at(B)&&s.getContentEditable(B)&&(T=u,u=s.getContentEditable(B)==="true",z=!0);var G=Dn(B.childNodes);if(u&&!z)for(var ie=0;ie<i.length&&!hi(e,i[ie],r,B,B);ie++);if(o.deep&&G.length){for(var ie=0;ie<G.length;ie++)g(G[ie]);z&&(u=T)}},S=function(B){var T=s.get(B?"_start":"_end"),z=T[B?"firstChild":"lastChild"];return h(z)&&(z=z[B?"firstChild":"lastChild"]),We(z)&&z.data.length===0&&(z=B?T.previousSibling||T.nextSibling:T.nextSibling||T.previousSibling),s.remove(T,!0),z},_=function(B){var T,z,j=mo(e,B,i,B.collapsed);if(o.split){if(j=Js(j),T=ob(e,j,!0),z=ob(e,j),T!==z){if(T=ub(T,!0),z=ub(z,!1),ib(s,T,z)){var G=R.from(T.firstChild).getOr(T);m(sb(s,G,!0,"span",{id:"_start","data-mce-type":"bookmark"})),S(!0);return}if(ib(s,z,T)){var G=R.from(z.lastChild).getOr(z);m(sb(s,G,!1,"span",{id:"_end","data-mce-type":"bookmark"})),S(!1);return}T=Kd(s,T,"span",{id:"_start","data-mce-type":"bookmark"}),z=Kd(s,z,"span",{id:"_end","data-mce-type":"bookmark"});var ie=s.createRng();ie.setStartAfter(T),ie.setEndBefore(z),yu(s,ie,function(he){He(he,function(ge){!Zr(ge)&&!Zr(ge.parentNode)&&m(ge)})}),m(T),m(z),T=S(!0),z=S()}else T=z=m(T);j.startContainer=T.parentNode?T.parentNode:T,j.startOffset=s.nodeIndex(T),j.endContainer=z.parentNode?z.parentNode:z,j.endOffset=s.nodeIndex(z)+1}yu(s,j,function(he){He(he,function(ge){g(ge);var Le=["underline","line-through","overline"];He(Le,function($e){at(ge)&&e.dom.getStyle(ge,"text-decoration")===$e&&ge.parentNode&&bm(s,ge.parentNode)===$e&&hi(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:$e}},null,ge)})})})};if(n){if(Mc(n)){var x=s.createRng();x.setStartBefore(n),x.setEndAfter(n),_(x)}else _(n);return}if(s.getContentEditable(c.getNode())==="false"){n=c.getNode();for(var C=0;C<i.length&&!(i[C].ceFalseOverride&&hi(e,i[C],r,n,n));C++);return}!c.isCollapsed()||!o.inline||go(e).length?(Qc(c,!0,function(){Yc(e,_)}),o.inline&&Md(e,t,r,c.getStart())&&gm(s,c,c.getRng()),e.nodeChanged()):BP(e,t,r,a)},cb=V.each,XP=function(e,t,r,n){var a=function(i){if(i.nodeType===1&&i.parentNode&&i.parentNode.nodeType===1){var o=bm(e,i.parentNode);e.getStyle(i,"color")&&o?e.setStyle(i,"text-decoration",o):e.getStyle(i,"text-decoration")===o&&e.setStyle(i,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(V.walk(n,a,"childNodes"),a(n))},YP=function(e,t,r,n){t.styles&&t.styles.backgroundColor&&Vd(n,nb(e,"fontSize"),ab(e,"backgroundColor",ia(t.styles.backgroundColor,r)))},QP=function(e,t,r,n){(t.inline==="sub"||t.inline==="sup")&&(Vd(n,nb(e,"fontSize"),ab(e,"fontSize","")),e.remove(e.select(t.inline==="sup"?"sub":"sup",n),!0))},JP=function(e,t,r,n){cb(t,function(a){cb(e.dom.select(a.inline,n),function(i){!Wd(i)||hi(e,a,r,i,a.exact?i:null)}),$P(e.dom,a,n)})},eA=function(e,t,r,n,a){Kn(e,a.parentNode,r,n)&&hi(e,t,n,a)||t.merge_with_parents&&e.dom.getParent(a.parentNode,function(i){if(Kn(e,i,r,n))return hi(e,t,n,a),!0})},Nn=V.each,db=function(e,t){return Ga(e,t)},tA=function(e){return e&&e.nodeType===1&&!Zr(e)&&!qn(e)&&!ji(e)},rA=function(e,t,r,n){if(jS(e)&&qc(t)){var a=st(st({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=wP(W.fromDom(r),function(o){return qn(o.dom)});return Ga(a,n)&&Kr(W.fromDom(r.parentNode),!1)&&!i}else return!1},Gd=function(e,t,r,n){var a=e.formatter.get(t),i=a[0],o=!n&&e.selection.isCollapsed(),u=e.dom,s=e.selection,c=function(T,z){if(z=z||i,T){if(z.onformat&&z.onformat(T,z,r,n),Nn(z.styles,function(G,ie){u.setStyle(T,ie,ia(G,r))}),z.styles){var j=u.getAttrib(T,"style");j&&u.setAttrib(T,"data-mce-style",j)}Nn(z.attributes,function(G,ie){u.setAttrib(T,ie,ia(G,r))}),Nn(z.classes,function(G){G=ia(G,r),u.hasClass(T,G)||u.addClass(T,G)})}},m=function(T,z){var j=!1;return Vc(i)?(Nn(T,function(G){if(!("collapsed"in G&&G.collapsed!==o)&&u.is(z,G.selector)&&!qn(z))return c(z,G),j=!0,!1}),j):!1},h=function(T,z,j,G){var ie=[],he=!0,ge=i.inline||i.block,Le=T.create(ge);c(Le),yu(T,z,function($e){var ce,Xe=function(Se){var ze=!1,we=he,xe=Se.nodeName.toLowerCase(),Ie=Se.parentNode.nodeName.toLowerCase();if(at(Se)&&T.getContentEditable(Se)&&(we=he,he=T.getContentEditable(Se)==="true",ze=!0),Xt(Se)&&!rA(e,i,Se,Ie)){ce=null,ym(i)&&T.remove(Se);return}if(i.wrapper&&Kn(e,Se,t,r)){ce=null;return}if(he&&!ze&&ym(i)&&!i.wrapper&&jc(e,xe)&&po(e,Ie,ge)){var ve=T.rename(Se,ge);c(ve),ie.push(ve),ce=null;return}if(Vc(i)){var De=m(a,Se);if(We(Se)&&wm(T,Se.parentNode)&&m(a,Se.parentNode),!db(i,"inline")||De){ce=null;return}}he&&!ze&&po(e,ge,xe)&&po(e,Ie,ge)&&!(!G&&Se.nodeType===3&&Se.nodeValue.length===1&&Se.nodeValue.charCodeAt(0)===65279)&&!qn(Se)&&(!db(i,"inline")||!T.isBlock(Se))?(ce||(ce=T.clone(Le,!1),Se.parentNode.insertBefore(ce,Se),ie.push(ce)),ce.appendChild(Se)):(ce=null,Nn(V.grep(Se.childNodes),Xe),ze&&(he=we),ce=null)};Nn($e,Xe)}),i.links===!0&&Nn(ie,function($e){var ce=function(Xe){Xe.nodeName==="A"&&c(Xe,i),Nn(V.grep(Xe.childNodes),ce)};ce($e)}),Nn(ie,function($e){var ce=function(we){var xe=0;return Nn(we.childNodes,function(Ie){!KE(Ie)&&!Zr(Ie)&&xe++}),xe},Xe=function(we){var xe=!1;return Nn(we.childNodes,function(Ie){if(tA(Ie))return xe=Ie,!1}),xe},Se=function(we){var xe,Ie=Xe(we);return Ie&&!Zr(Ie)&&Vg(T,Ie,i)&&(xe=T.clone(Ie,!1),c(xe),T.replace(xe,we,!0),T.remove(Ie,!0)),xe||we},ze=ce($e);if((ie.length>1||!T.isBlock($e))&&ze===0){T.remove($e,!0);return}(qc(i)||i.wrapper)&&(!i.exact&&ze===1&&($e=Se($e)),JP(e,a,r,$e),eA(e,i,t,r,$e),YP(T,i,r,$e),XP(T,i,r,$e),QP(T,i,r,$e),rb(T,i,r,$e))})};if(u.getContentEditable(s.getNode())==="false"){n=s.getNode();for(var g=0,S=a.length;g<S;g++){var _=a[g];if(_.ceFalseOverride&&Vc(_)&&u.is(n,_.selector)){c(n,_);return}}return}if(i){if(n)if(Mc(n)){if(!m(a,n)){var x=u.createRng();x.setStartBefore(n),x.setEndAfter(n),h(u,mo(e,x,a),null,!0)}}else h(u,n,null,!0);else if(!o||!qc(i)||go(e).length){var C=s.getNode(),B=a[0];!e.settings.forced_root_block&&B.defaultBlock&&!u.getParent(C,u.isBlock)&&Gd(e,B.defaultBlock),s.setRng(Od(s.getRng())),Qc(s,!0,function(T){Yc(e,function(z,j){var G=j?z:mo(e,z,a);h(u,G)})}),gm(u,s,s.getRng()),e.nodeChanged()}else TP(e,t,r);MP(t,e)}},nA=function(e,t){var r=tr({});e.set({}),t.on("NodeChange",function(n){aA(t,n.element,r,e.get())})},aA=function(e,t,r,n){var a=In(r.get()),i={},o={},u=mt(Gs(e.dom,t),function(c){return c.nodeType===1&&!c.getAttribute("data-mce-bogus")});Ut(n,function(c,m){V.each(u,function(h){if(e.formatter.matchNode(h,m,{},c.similar))return a.indexOf(m)===-1&&(He(c.callbacks,function(g){g(!0,{node:h,format:m,parents:u})}),i[m]=c.callbacks),o[m]=c.callbacks,!1;if(Wg(e,h,m))return!1})});var s=iA(r.get(),o,t,u);r.set(st(st({},i),s))},iA=function(e,t,r,n){return Wu(e,function(a,i){return nr(t,i)?!0:(He(a,function(o){o(!1,{node:r,format:i,parents:n})}),!1)}).t},oA=function(e,t,r,n){var a=e.get();He(t.split(","),function(i){a[i]||(a[i]={similar:n,callbacks:[]}),a[i].callbacks.push(r)}),e.set(a)},uA=function(e,t,r){var n=e.get();He(t.split(","),function(a){n[a].callbacks=mt(n[a].callbacks,function(i){return i!==r}),n[a].callbacks.length===0&&delete n[a]}),e.set(n)},sA=function(e,t,r,n,a){return t.get()===null&&nA(t,e),oA(t,r,n,a),{unbind:function(){return uA(t,r,n)}}},lA=function(e,t,r,n){var a=e.formatter.get(t);Md(e,t,r,n)&&(!("toggle"in a[0])||a[0].toggle)?fb(e,t,r,n):Gd(e,t,r,n)},Zd=function(e,t){var r=t||document,n=r.createDocumentFragment();return He(e,function(a){n.appendChild(a.dom)}),W.fromDom(n)},Xd=function(e,t,r){return{element:e,width:t,rows:r}},vb=function(e,t){return{element:e,cells:t}},fA=function(e,t){return{x:e,y:t}},pb=function(e,t){var r=parseInt(Qo(e,t),10);return isNaN(r)?1:r},cA=function(e,t,r,n,a){for(var i=pb(a,"rowspan"),o=pb(a,"colspan"),u=e.rows,s=r;s<r+i;s++){u[s]||(u[s]=vb(sh(n),[]));for(var c=t;c<t+o;c++){var m=u[s].cells;m[c]=s===r&&c===t?a:no(a)}}},dA=function(e,t,r){var n=e.rows,a=n[r]?n[r].cells:[];return!!a[t]},vA=function(e,t,r){for(;dA(e,t,r);)t++;return t},hb=function(e){return Qr(e,function(t,r){return r.cells.length>t?r.cells.length:t},0)},mb=function(e,t){for(var r=e.rows,n=0;n<r.length;n++)for(var a=r[n].cells,i=0;i<a.length;i++)if(ae(a[i],t))return R.some(fA(i,n));return R.none()},gb=function(e,t,r,n,a){for(var i=[],o=e.rows,u=r;u<=a;u++){var s=o[u].cells,c=t<n?s.slice(t,n+1):s.slice(n,t+1);i.push(vb(o[u].element,c))}return i},pA=function(e,t,r){var n=t.x,a=t.y,i=r.x,o=r.y,u=a<o?gb(e,n,a,i,o):gb(e,n,o,i,a);return Xd(e.element,hb(u),u)},hA=function(e,t){var r=no(e.element),n=W.fromTag("tbody");return ss(n,t),br(r,n),r},mA=function(e){return It(e.rows,function(t){var r=It(t.cells,function(a){var i=sh(a);return ei(i,"colspan"),ei(i,"rowspan"),i}),n=no(t.element);return ss(n,r),n})},gA=function(e){var t=Xd(no(e),0,[]);return He(Ur(e,"tr"),function(r,n){He(Ur(r,"td,th"),function(a,i){cA(t,vA(t,i,n),n,r,a)})}),Xd(t.element,hb(t.rows),t.rows)},bA=function(e){return hA(e,mA(e))},yA=function(e,t,r){return mb(e,t).bind(function(n){return mb(e,r).map(function(a){return pA(e,n,a)})})},wA=function(e){return hr(e,function(t){return ye(t)==="ul"||ye(t)==="ol"})},CA=function(e,t){return hr(e,function(r){return ye(r)==="li"&&Zc(r,t)}).fold(qe([]),function(r){return wA(e).map(function(n){var a=W.fromTag(ye(n)),i=Ka(ip(n),function(o,u){return Jn(u,"list-style")});return tw(a,i),[W.fromTag("li"),a]}).getOr([])})},kA=function(e,t){var r=Qr(t,function(n,a){return br(a,n),a},e);return t.length>0?Zd([r]):r},SA=function(e){return tu(e)?_r(e).filter(jf).fold(qe([]),function(t){return[e,t]}):jf(e)?[e]:[]},EA=function(e,t){var r=W.fromDom(t.commonAncestorContainer),n=oa(r,e),a=mt(n,function(u){return $f(u)||Ow(u)}),i=CA(n,t),o=a.concat(i.length?i:SA(r));return It(o,no)},bb=function(){return Zd([])},_A=function(e,t){return kA(W.fromDom(t.cloneContents()),EA(e,t))},xA=function(e,t){return ps(t,"table",Be(ae,e))},NA=function(e,t){return xA(e,t[0]).bind(function(r){var n=t[0],a=t[t.length-1],i=gA(r);return yA(i,n,a).map(function(o){return Zd([bA(o)])})}).getOrThunk(bb)},PA=function(e,t){return t.length>0&&t[0].collapsed?bb():_A(e,t[0])},AA=function(e,t){var r=Tm(t,e);return r.length>0?NA(e,r):PA(e,t)},OA=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},ml=function(e,t){return t>=0&&t<e.length&&vo(e.charAt(t))},yb=function(e,t){var r=ba(e.innerText);return t?OA(r):r},TA=function(e){return e.map(function(t){return t.nodeName}).getOr("div").toLowerCase()},BA=function(e){return R.from(e.selection.getRng()).map(function(t){var r=R.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),n=e.getBody(),a=TA(r),i=Y.browser.isIE()&&a!=="pre",o=e.dom.add(n,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),u=yb(o,i),s=ba(o.textContent);if(e.dom.remove(o),ml(s,0)||ml(s,s.length-1)){var c=r.getOr(n),m=yb(c,i),h=m.indexOf(u);if(h===-1)return u;var g=ml(m,h-1),S=ml(m,h+u.length);return(g?" ":"")+u+(S?" ":"")}else return u}).getOr("")},RA=function(e,t){var r=e.selection.getRng(),n=e.dom.create("body"),a=e.selection.getSel(),i=pd(e,Kc(a)),o=t.contextual?AA(W.fromDom(e.getBody()),i).dom:r.cloneContents();return o&&n.appendChild(o),e.selection.serializer.serialize(n,t)},DA=function(e,t,r){if(r===void 0&&(r={}),r.get=!0,r.format=t,r.selection=!0,r=e.fire("BeforeGetContent",r),r.isDefaultPrevented())return e.fire("GetContent",r),r.content;if(r.format==="text")return BA(e);r.getInner=!0;var n=RA(e,r);return r.format==="tree"?n:(r.content=e.selection.isCollapsed()?"":n,e.fire("GetContent",r),r.content)},Yd=0,wb=1,Cb=2,IA=function(e,t){var r=e.length+t.length+2,n=new Array(r),a=new Array(r),i=function(m,h,g){return{start:m,end:h,diag:g}},o=function(m,h,g,S,_){var x=s(m,h,g,S);if(x===null||x.start===h&&x.diag===h-S||x.end===m&&x.diag===m-g)for(var C=m,B=g;C<h||B<S;)C<h&&B<S&&e[C]===t[B]?(_.push([Yd,e[C]]),++C,++B):h-m>S-g?(_.push([Cb,e[C]]),++C):(_.push([wb,t[B]]),++B);else{o(m,x.start,g,x.start-x.diag,_);for(var T=x.start;T<x.end;++T)_.push([Yd,e[T]]);o(x.end,h,x.end-x.diag,S,_)}},u=function(m,h,g,S){for(var _=m;_-h<S&&_<g&&e[_]===t[_-h];)++_;return i(m,_,h)},s=function(m,h,g,S){var _=h-m,x=S-g;if(_===0||x===0)return null;var C=_-x,B=x+_,T=(B%2===0?B:B+1)/2;n[1+T]=m,a[1+T]=h+1;var z,j,G,ie,he;for(z=0;z<=T;++z){for(j=-z;j<=z;j+=2){for(G=j+T,j===-z||j!==z&&n[G-1]<n[G+1]?n[G]=n[G+1]:n[G]=n[G-1]+1,ie=n[G],he=ie-m+g-j;ie<h&&he<S&&e[ie]===t[he];)n[G]=++ie,++he;if(C%2!==0&&C-z<=j&&j<=C+z&&a[G-C]<=n[G])return u(a[G-C],j+m-g,h,S)}for(j=C-z;j<=C+z;j+=2){for(G=j+T-C,j===C-z||j!==C+z&&a[G+1]<=a[G-1]?a[G]=a[G+1]-1:a[G]=a[G-1],ie=a[G]-1,he=ie-m+g-j;ie>=m&&he>=g&&e[ie]===t[he];)a[G]=ie--,he--;if(C%2===0&&-z<=j&&j<=z&&a[G]<=n[G+C])return u(a[G],j+m-g,h,S)}}},c=[];return o(0,e.length,0,t.length,c),c},kb=function(e){return at(e)?e.outerHTML:We(e)?ni.encodeRaw(e.data,!1):X1(e)?"<!--"+e.data+"-->":""},FA=function(e){var t,r=document.createElement("div"),n=document.createDocumentFragment();for(e&&(r.innerHTML=e);t=r.firstChild;)n.appendChild(t);return n},LA=function(e,t,r){var n=FA(t);if(e.hasChildNodes()&&r<e.childNodes.length){var a=e.childNodes[r];a.parentNode.insertBefore(n,a)}else e.appendChild(n)},zA=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var r=e.childNodes[t];r.parentNode.removeChild(r)}},MA=function(e,t){var r=0;He(e,function(n){n[0]===Yd?r++:n[0]===wb?(LA(t,n[1],r),r++):n[0]===Cb&&zA(t,r)})},$A=function(e){return mt(It(Dn(e.childNodes),kb),function(t){return t.length>0})},jA=function(e,t){var r=It(Dn(t.childNodes),kb);return MA(IA(r,e),t),t},Sb=tr(R.none()),UA=function(){return Sb.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument("undo");return Sb.set(R.some(e)),e})},HA=function(e){return e.indexOf("</iframe>")!==-1},WA=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},VA=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Qd=function(e){var t=$A(e.getBody()),r=Va(t,function(a){var i=ug(e.serializer,a);return i.length>0?[i]:[]}),n=r.join("");return HA(n)?WA(r):VA(n)},Jd=function(e,t,r){t.type==="fragmented"?jA(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(r?t.beforeBookmark:t.bookmark)},ev=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},Eb=function(e){var t=W.fromTag("body",UA());return oh(t,ev(e)),He(Ur(t,"*[data-mce-bogus]"),Kv),Dk(t)},qA=function(e,t){return ev(e)===ev(t)},KA=function(e,t){return Eb(e)===Eb(t)},gl=function(e,t){return!e||!t?!1:qA(e,t)?!0:KA(e,t)},tv=function(e){return e.get()===0},bl=function(e,t,r){tv(r)&&(e.typing=t)},_b=function(e,t){e.typing&&(bl(e,!1,t),e.add())},GA=function(e){e.typing&&(e.typing=!1,e.add())},ZA=function(e,t,r){tv(t)&&r.set(R.some(Dh(e.selection)))},XA=function(e,t,r,n,a,i,o){var u=Qd(e);if(i=i||{},i=V.extend(i,u),tv(n)===!1||e.removed)return null;var s=t.data[r.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:s,originalEvent:o}).isDefaultPrevented()||s&&gl(s,i))return null;t.data[r.get()]&&a.get().each(function(g){t.data[r.get()].beforeBookmark=g});var c=YS(e);if(c&&t.data.length>c){for(var m=0;m<t.data.length-1;m++)t.data[m]=t.data[m+1];t.data.length--,r.set(t.data.length)}i.bookmark=Dh(e.selection),r.get()<t.data.length-1&&(t.data.length=r.get()+1),t.data.push(i),r.set(t.data.length-1);var h={level:i,lastLevel:s,originalEvent:o};return r.get()>0?(e.setDirty(!0),e.fire("AddUndo",h),e.fire("change",h)):e.fire("AddUndo",h),i},YA=function(e,t,r){t.data=[],r.set(0),t.typing=!1,e.fire("ClearUndos")},QA=function(e,t,r,n,a){if(t.transact(n)){var i=t.data[r.get()].bookmark,o=t.data[r.get()-1];Jd(e,o,!0),t.transact(a)&&(t.data[r.get()-1].beforeBookmark=i)}},JA=function(e,t,r){var n;return t.get()<r.length-1&&(t.set(t.get()+1),n=r[t.get()],Jd(e,n,!1),e.setDirty(!0),e.fire("Redo",{level:n})),n},eO=function(e,t,r,n){var a;return t.typing&&(t.add(),t.typing=!1,bl(t,!1,r)),n.get()>0&&(n.set(n.get()-1),a=t.data[n.get()],Jd(e,a,!0),e.setDirty(!0),e.fire("Undo",{level:a})),a},tO=function(e){e.clear(),e.add()},rO=function(e,t,r){return r.get()>0||t.typing&&t.data[0]&&!gl(Qd(e),t.data[0])},nO=function(e,t){return t.get()<e.data.length-1&&!e.typing},aO=function(e,t,r){return _b(e,t),e.beforeChange(),e.ignore(r),e.add()},iO=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},oO=function(e,t){var r=e.dom,n=lr(t)?t:e.getBody();Bn(e.hasVisual)&&(e.hasVisual=nE(e)),He(r.select("table,a",n),function(a){switch(a.nodeName){case"TABLE":var i=aE(e),o=r.getAttrib(a,"border");(!o||o==="0")&&e.hasVisual?r.addClass(a,i):r.removeClass(a,i);break;case"A":if(!r.getAttrib(a,"href")){var u=r.getAttrib(a,"name")||a.id,s=iE(e);u&&e.hasVisual?r.addClass(a,s):r.removeClass(a,s)}break}}),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})},xb=function(e){return{undoManager:{beforeChange:function(t,r){return ZA(e,t,r)},addUndoLevel:function(t,r,n,a,i,o){return XA(e,t,r,n,a,i,o)},undo:function(t,r,n){return eO(e,t,r,n)},redo:function(t,r){return JA(e,t,r)},clear:function(t,r){return YA(e,t,r)},reset:function(t){return tO(t)},hasUndo:function(t,r){return rO(e,t,r)},hasRedo:function(t,r){return nO(t,r)},transact:function(t,r,n){return aO(t,r,n)},ignore:function(t,r){return iO(t,r)},extra:function(t,r,n,a){return QA(e,t,r,n,a)}},formatter:{match:function(t,r,n){return Md(e,t,r,n)},matchAll:function(t,r){return kP(e,t,r)},matchNode:function(t,r,n,a){return Kn(e,t,r,n,a)},canApply:function(t){return EP(e,t)},closest:function(t){return SP(e,t)},apply:function(t,r,n){return Gd(e,t,r,n)},remove:function(t,r,n,a){return fb(e,t,r,n,a)},toggle:function(t,r,n){return lA(e,t,r,n)},formatChanged:function(t,r,n,a){return sA(e,t,r,n,a)}},editor:{getContent:function(t,r){return h2(e,t,r)},setContent:function(t,r){return yP(e,t,r)},insertContent:function(t,r){return dP(e,t,r)},addVisual:function(t){return oO(e,t)}},selection:{getContent:function(t,r){return DA(e,t,r)}},raw:{getModel:function(){return R.none()}}}},uO=function(e){var t=function(c){return Tn(c)?c:{}},r=Lu("Unimplemented feature for rtc"),n=e.undoManager,a=e.formatter,i=e.editor,o=e.selection,u=e.raw,s=ot;return{undoManager:{beforeChange:s,addUndoLevel:r,undo:function(){return n.undo()},redo:function(){return n.redo()},clear:function(){return n.clear()},reset:function(){return n.reset()},hasUndo:function(){return n.hasUndo()},hasRedo:function(){return n.hasRedo()},transact:function(c,m,h){return n.transact(h)},ignore:function(c,m){return n.ignore(m)},extra:function(c,m,h,g){return n.extra(h,g)}},formatter:{match:function(c,m,h){return a.match(c,t(m))},matchAll:r,matchNode:r,canApply:function(c){return a.canApply(c)},closest:function(c){return a.closest(c)},apply:function(c,m,h){return a.apply(c,t(m))},remove:function(c,m,h,g){return a.remove(c,t(m))},toggle:function(c,m,h){return a.toggle(c,t(m))},formatChanged:function(c,m,h,g){return a.formatChanged(m,h,g)}},editor:{getContent:function(c,m){return i.getContent(c)},setContent:function(c,m){return i.setContent(c,m)},insertContent:function(c,m){return i.insertContent(c)},addVisual:s},selection:{getContent:function(c,m){return o.getContent(m)}},raw:{getModel:function(){return R.some(u.getRawModel())}}}},sO=function(){var e=qe(null),t=qe("");return{undoManager:{beforeChange:ot,addUndoLevel:e,undo:e,redo:e,clear:ot,reset:ot,hasUndo:Et,hasRedo:Et,transact:e,ignore:ot,extra:ot},formatter:{match:Et,matchAll:qe([]),matchNode:Et,canApply:Et,closest:t,apply:ot,remove:ot,toggle:ot,formatChanged:qe({unbind:ot})},editor:{getContent:t,setContent:t,insertContent:ot,addVisual:ot},selection:{getContent:t},raw:{getModel:qe(R.none())}}},mi=function(e){return nr(e.plugins,"rtc")},lO=function(e){return Mr(e.plugins,"rtc").bind(function(t){return R.from(t.setup)})},fO=function(e){var t=e;return lO(e).fold(function(){return t.rtcInstance=xb(e),R.none()},function(r){return R.some(r().then(function(n){return t.rtcInstance=uO(n),n.rtc.isRemote},function(n){return t.rtcInstance=sO(),cr.reject(n)}))})},rv=function(e){return e.rtcInstance?e.rtcInstance:xb(e)},Yt=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},cO=function(e,t,r){Yt(e).undoManager.beforeChange(t,r)},dO=function(e,t,r,n,a,i,o){return Yt(e).undoManager.addUndoLevel(t,r,n,a,i,o)},vO=function(e,t,r,n){return Yt(e).undoManager.undo(t,r,n)},pO=function(e,t,r){return Yt(e).undoManager.redo(t,r)},hO=function(e,t,r){Yt(e).undoManager.clear(t,r)},mO=function(e,t){Yt(e).undoManager.reset(t)},gO=function(e,t,r){return Yt(e).undoManager.hasUndo(t,r)},bO=function(e,t,r){return Yt(e).undoManager.hasRedo(t,r)},yO=function(e,t,r,n){return Yt(e).undoManager.transact(t,r,n)},wO=function(e,t,r){Yt(e).undoManager.ignore(t,r)},CO=function(e,t,r,n,a){Yt(e).undoManager.extra(t,r,n,a)},kO=function(e,t,r,n){return Yt(e).formatter.match(t,r,n)},SO=function(e,t,r){return Yt(e).formatter.matchAll(t,r)},EO=function(e,t,r,n,a){return Yt(e).formatter.matchNode(t,r,n,a)},_O=function(e,t){return Yt(e).formatter.canApply(t)},xO=function(e,t){return Yt(e).formatter.closest(t)},NO=function(e,t,r,n){Yt(e).formatter.apply(t,r,n)},PO=function(e,t,r,n,a){Yt(e).formatter.remove(t,r,n,a)},AO=function(e,t,r,n){Yt(e).formatter.toggle(t,r,n)},OO=function(e,t,r,n,a){return a===void 0&&(a=!1),Yt(e).formatter.formatChanged(t,r,n,a)},TO=function(e,t,r){return rv(e).editor.getContent(t,r)},BO=function(e,t,r){return rv(e).editor.setContent(t,r)},RO=function(e,t,r){return rv(e).editor.insertContent(t,r)},DO=function(e,t,r){return Yt(e).selection.getContent(t,r)},IO=function(e,t){return Yt(e).editor.addVisual(t)},FO=function(e,t){t===void 0&&(t={});var r=t.format?t.format:"html";return DO(e,r,t)},Nb=function(e){return e.dom.length===0?(yr(e),R.none()):R.some(e)},LO=function(e,t){return e.filter(function(r){return wu.isBookmarkNode(r.dom)}).bind(t?$r:yn)},zO=function(e,t,r,n){var a=e.dom,i=t.dom,o=n?a.length:i.length;n?(xd(a,i,!1,!n),r.setStart(i,o)):(xd(i,a,!1,!n),r.setEnd(i,o))},MO=function(e,t){_r(e).each(function(r){var n=e.dom;t&&ul(r,ne(n,0))?ll(n,0):!t&&sl(r,ne(n,n.length))&&_d(n,n.length)})},Pb=function(e,t,r,n){e.bind(function(a){var i=n?_d:ll;return i(a.dom,n?a.dom.length:0),t.filter(Re).map(function(o){return zO(a,o,r,n)})}).orThunk(function(){var a=LO(t,n).or(t).filter(Re);return a.map(function(i){return MO(i,n)})})},$O=function(e,t){var r=R.from(t.firstChild).map(W.fromDom),n=R.from(t.lastChild).map(W.fromDom);e.deleteContents(),e.insertNode(t);var a=r.bind(yn).filter(Re).bind(Nb),i=n.bind($r).filter(Re).bind(Nb);Pb(a,r,e,!0),Pb(i,n,e,!1),e.collapse(!1)},jO=function(e,t){return st(st({format:"html"},e),{set:!0,selection:!0,content:t})},UO=function(e,t){if(t.format!=="raw"){var r=e.selection.getRng(),n=e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock),a=n?{context:n.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,st(st({isRootContent:!0,forced_root_block:!1},a),t));return bo({validate:e.validate},e.schema).serialize(i)}else return t.content},HO=function(e,t,r){r===void 0&&(r={});var n=jO(r,t);if(!n.no_events&&(n=e.fire("BeforeSetContent",n),n.isDefaultPrevented())){e.fire("SetContent",n);return}r.content=UO(e,n);var a=e.selection.getRng();$O(a,a.createContextualFragment(r.content)),e.selection.setRng(a),el(e,a),n.no_events||e.fire("SetContent",n)},Ab=function(e,t,r){if(e&&e.hasOwnProperty(t)){var n=mt(e[t],function(a){return a!==r});n.length===0?delete e[t]:e[t]=n}};function WO(e,t){var r,n;return{selectorChangedWithUnbind:function(a,i){return r||(r={},n={},t.on("NodeChange",function(o){var u=o.element,s=e.getParents(u,null,e.getRoot()),c={};V.each(r,function(m,h){V.each(s,function(g){if(e.is(g,h))return n[h]||(V.each(m,function(S){S(!0,{node:g,selector:h,parents:s})}),n[h]=m),c[h]=m,!1})}),V.each(n,function(m,h){c[h]||(delete n[h],V.each(m,function(g){g(!1,{node:u,selector:h,parents:s})}))})})),r[a]||(r[a]=[]),r[a].push(i),{unbind:function(){Ab(r,a,i),Ab(n,a,i)}}}}}var Ob=function(e){return!!e.select},Tb=function(e){return!!(e&&e.ownerDocument)&&Q(W.fromDom(e.ownerDocument),W.fromDom(e))},VO=function(e){return e?Ob(e)?!0:Tb(e.startContainer)&&Tb(e.endContainer):!1},Bb=function(e,t,r,n){var a,i,o=WO(e,n).selectorChangedWithUnbind,u=function(ve,De){var pt=e.createRng();lr(ve)&&lr(De)?(pt.setStart(ve,De),pt.setEnd(ve,De),z(pt),C(!1)):(Xc(e,pt,n.getBody(),!0),z(pt))},s=function(ve){return FO(n,ve)},c=function(ve,De){return HO(n,ve,De)},m=function(ve){return ng(n.getBody(),T(),ve)},h=function(ve){return ag(n.getBody(),T(),ve)},g=function(ve,De){return xe.getBookmark(ve,De)},S=function(ve){return xe.moveToBookmark(ve)},_=function(ve,De){return Jx(e,ve,De).each(z),ve},x=function(){var ve=T(),De=B();return!ve||ve.item?!1:ve.compareEndPoints?ve.compareEndPoints("StartToEnd",ve)===0:!De||ve.collapsed},C=function(ve){var De=T();De.collapse(!!ve),z(De)},B=function(){return t.getSelection?t.getSelection():t.document.selection},T=function(){var ve,De,pt,Nt=function(Ht,Ir,Ar){try{return Ir.compareBoundaryPoints(Ht,Ar)}catch{return-1}},yt=t.document;if(n.bookmark!==void 0&&vi(n)===!1){var Wt=fd(n);if(Wt.isSome())return Wt.map(function(Ht){return pd(n,[Ht])[0]}).getOr(yt.createRange())}try{(ve=B())&&!fs(ve.anchorNode)&&(ve.rangeCount>0?De=ve.getRangeAt(0):De=ve.createRange?ve.createRange():yt.createRange(),De=pd(n,[De])[0])}catch{}return De||(De=yt.createRange?yt.createRange():yt.body.createTextRange()),De.setStart&&De.startContainer.nodeType===9&&De.collapsed&&(pt=e.getRoot(),De.setStart(pt,0),De.setEnd(pt,0)),a&&i&&(Nt(De.START_TO_START,De,a)===0&&Nt(De.END_TO_END,De,a)===0?De=i:(a=null,i=null)),De},z=function(ve,De){var pt;if(!!VO(ve)){var Nt=Ob(ve)?ve:null;if(Nt){i=null;try{Nt.select()}catch{}return}var yt=B(),Wt=n.fire("SetSelectionRange",{range:ve,forward:De});if(ve=Wt.range,yt){i=ve;try{yt.removeAllRanges(),yt.addRange(ve)}catch{}De===!1&&yt.extend&&(yt.collapse(ve.endContainer,ve.endOffset),yt.extend(ve.startContainer,ve.startOffset)),a=yt.rangeCount>0?yt.getRangeAt(0):null}!ve.collapsed&&ve.startContainer===ve.endContainer&&yt.setBaseAndExtent&&!Y.ie&&ve.endOffset-ve.startOffset<2&&ve.startContainer.hasChildNodes()&&(pt=ve.startContainer.childNodes[ve.startOffset],pt&&pt.tagName==="IMG"&&(yt.setBaseAndExtent(ve.startContainer,ve.startOffset,ve.endContainer,ve.endOffset),(yt.anchorNode!==ve.startContainer||yt.focusNode!==ve.endContainer)&&yt.setBaseAndExtent(pt,0,pt,1))),n.fire("AfterSetSelectionRange",{range:ve,forward:De})}},j=function(ve){return c(e.getOuterHTML(ve)),ve},G=function(){return Yx(n.getBody(),T())},ie=function(ve,De){return Qx(e,T(),ve,De)},he=function(){var ve=B(),De=ve==null?void 0:ve.anchorNode,pt=ve==null?void 0:ve.focusNode;if(!ve||!De||!pt||fs(De)||fs(pt))return!0;var Nt=e.createRng();Nt.setStart(De,ve.anchorOffset),Nt.collapse(!0);var yt=e.createRng();return yt.setStart(pt,ve.focusOffset),yt.collapse(!0),Nt.compareBoundaryPoints(Nt.START_TO_START,yt)<=0},ge=function(){var ve=T(),De=B();if(!r_(De)&&Xs(n)){var pt=Ys(e,ve);return pt.each(function(Nt){z(Nt,he())}),pt.getOr(ve)}return ve},Le=function(ve,De){return o(ve,De),we},$e=function(){for(var ve,De=e.getRoot();De&&De.nodeName!=="BODY";){if(De.scrollHeight>De.clientHeight){ve=De;break}De=De.parentNode}return ve},ce=function(ve,De){return tx(n,ve,De)},Xe=function(ve,De){return z(td(ve,De,n.getDoc()))},Se=function(){var ve=T();return ve.collapsed?ne.fromRangeStart(ve).getClientRects()[0]:ve.getBoundingClientRect()},ze=function(){t=a=i=null,Ie.destroy()},we={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:r,editor:n,collapse:C,setCursorLocation:u,getContent:s,setContent:c,getBookmark:g,moveToBookmark:S,select:_,isCollapsed:x,isForward:he,setNode:j,getNode:G,getSel:B,setRng:z,getRng:T,getStart:m,getEnd:h,getSelectedBlocks:ie,normalize:ge,selectorChanged:Le,selectorChangedWithUnbind:o,getScrollContainer:$e,scrollIntoView:ce,placeCaretAt:Xe,getBoundingClientRect:Se,destroy:ze},xe=wu(we),Ie=Fm(we,n);return we.bookmarkManager=xe,we.controlSelection=Ie,we},qO=function(e,t){He(t,function(r){e.attr(r,null)})},KO=function(e,t,r){e.addNodeFilter("font",function(n){He(n,function(a){var i=t.parse(a.attr("style")),o=a.attr("color"),u=a.attr("face"),s=a.attr("size");o&&(i.color=o),u&&(i["font-family"]=u),s&&(i["font-size"]=r[parseInt(a.attr("size"),10)-1]),a.name="span",a.attr("style",t.serialize(i)),qO(a,["color","face","size"])})})},GO=function(e,t){e.addNodeFilter("strike",function(r){He(r,function(n){var a=t.parse(n.attr("style"));a["text-decoration"]="line-through",n.name="span",n.attr("style",t.serialize(a))})})},ZO=function(e,t){var r=Jf();t.convert_fonts_to_spans&&KO(e,r,V.explode(t.font_size_legacy_values)),GO(e,r)},XO=function(e,t){t.inline_styles&&ZO(e,t)},YO=function(e){return new cr(function(t,r){var n=function(){r("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){a.status===200?t(a.response):n()},a.onerror=n,a.send()}catch{n()}})},nv=function(e){var t,r=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(r[0]);return n&&(t=n[1]),{type:t,data:r[1]}},Rb=function(e,t){var r;try{r=atob(t)}catch{return R.none()}for(var n=new Uint8Array(r.length),a=0;a<n.length;a++)n[a]=r.charCodeAt(a);return R.some(new Blob([n],{type:e}))},QO=function(e){return new cr(function(t){var r=nv(e),n=r.type,a=r.data;Rb(n,a).fold(function(){return t(new Blob([]))},t)})},Db=function(e){return e.indexOf("blob:")===0?YO(e):e.indexOf("data:")===0?QO(e):null},JO=function(e){return new cr(function(t){var r=new FileReader;r.onloadend=function(){t(r.result)},r.readAsDataURL(e)})},eT=0,av=function(e){return(e||"blobid")+eT++},tT=function(e,t,r,n){var a,i;if(t.src.indexOf("blob:")===0){i=e.getByUri(t.src),i?r({image:t,blobInfo:i}):Db(t.src).then(function(c){JO(c).then(function(m){a=nv(m).data,i=e.create(av(),c,a),e.add(i),r({image:t,blobInfo:i})})},function(c){n(c)});return}var o=nv(t.src),u=o.data,s=o.type;a=u,i=e.getByData(a,s),i?r({image:t,blobInfo:i}):Db(t.src).then(function(c){i=e.create(av(),c,a),e.add(i),r({image:t,blobInfo:i})},function(c){n(c)})},rT=function(e){return e?Dn(e.getElementsByTagName("img")):[]},nT=function(e,t){var r={},n=function(a,i){i||(i=Jt);var o=mt(rT(a),function(s){var c=s.src;return!Y.fileApi||s.hasAttribute("data-mce-bogus")||s.hasAttribute("data-mce-placeholder")||!c||c===Y.transparentSrc?!1:c.indexOf("blob:")===0?!e.isUploaded(c)&&i(s):c.indexOf("data:")===0?i(s):!1}),u=It(o,function(s){if(r[s.src]!==void 0)return new cr(function(m){r[s.src].then(function(h){if(typeof h=="string")return h;m({image:s,blobInfo:h.blobInfo})})});var c=new cr(function(m,h){tT(t,s,m,h)}).then(function(m){return delete r[m.image.src],m}).catch(function(m){return delete r[s.src],m});return r[s.src]=c,c});return cr.all(u)};return{findAll:n}},Ib=function(e,t,r,n){var a=e.padd_empty_with_br||t.insert;a&&r[n.name]?n.empty().append(new cn("br",1)).shortEnded=!0:n.empty().append(new cn("#text",3)).value=qr},aT=function(e){return Fb(e,"#text")&&e.firstChild.value===qr},Fb=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},iT=function(e,t){var r=e.getElementRule(t.name);return r&&r.paddEmpty},Nu=function(e,t,r,n){return n.isEmpty(t,r,function(a){return iT(e,a)})},oT=function(e,t){return e&&(t[e.name]||e.name==="br")},uT=function(e){return e.attr("data-mce-bogus")},sT=function(e){return e.attr("src")===Y.transparentSrc||e.attr("data-mce-placeholder")},lT=function(e,t){if(t.images_dataimg_filter){var r=new Image;return r.src=e.attr("src"),Ut(e.attributes.map,function(n,a){r.setAttribute(a,n)}),t.images_dataimg_filter(r)}else return!0},fT=function(e,t){var r=t.blob_cache,n=function(a){var i=a.attr("src");sT(a)||uT(a)||n2(i).filter(function(){return lT(a,t)}).bind(function(o){var u=o.type,s=o.data;return R.from(r.getByData(s,u)).orThunk(function(){return Rb(u,s).map(function(c){var m=r.create(av(),c,s);return r.add(m),m})})}).each(function(o){a.attr("src",o.blobUri())})};r&&e.addAttributeFilter("src",function(a){return He(a,n)})},cT=function(e,t){var r=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(n,a,i){var o,u=n.length,s,c=V.extend({},r.getBlockElements()),m=r.getNonEmptyElements(),h,g,S,_,x=r.getWhiteSpaceElements(),C,B;for(c.body=1,o=0;o<u;o++)if(s=n[o],h=s.parent,c[s.parent.name]&&s===h.lastChild){for(S=s.prev;S;){if(_=S.name,_!=="span"||S.attr("data-mce-type")!=="bookmark"){_==="br"&&(s=null);break}S=S.prev}s&&(s.remove(),Nu(r,m,x,h)&&(C=r.getElementRule(h.name),C&&(C.removeEmpty?h.remove():C.paddEmpty&&Ib(t,i,c,h))))}else{for(g=s;h&&h.firstChild===g&&h.lastChild===g&&(g=h,!c[h.name]);)h=h.parent;g===h&&t.padd_empty_with_br!==!0&&(B=new cn("#text",3),B.value=qr,s.replace(B))}}),e.addAttributeFilter("href",function(n){var a=n.length,i=function(s){var c=s.split(" ").filter(function(m){return m.length>0});return c.concat(["noopener"]).sort().join(" ")},o=function(s){var c=s?V.trim(s):"";return/\b(noopener)\b/g.test(c)?c:i(c)};if(!t.allow_unsafe_link_target)for(;a--;){var u=n[a];u.name==="a"&&u.attr("target")==="_blank"&&u.attr("rel",o(u.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(n){for(var a=n.length,i,o,u,s;a--;)if(s=n[a],s.name==="a"&&s.firstChild&&!s.attr("href")){u=s.parent,i=s.lastChild;do o=i.prev,u.insert(i,s),i=o;while(i)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(n){for(var a=n.length,i,o;a--;)if(i=n[a],o=i.parent,o.name==="ul"||o.name==="ol")if(i.prev&&i.prev.name==="li")i.prev.append(i);else{var u=new cn("li",1);u.attr("style","list-style-type: none"),i.wrap(u)}}),t.validate&&r.getValidClasses()&&e.addAttributeFilter("class",function(n){for(var a=n.length,i,o,u,s,c,m=r.getValidClasses(),h,g;a--;){for(i=n[a],o=i.attr("class").split(" "),c="",u=0;u<o.length;u++)s=o[u],g=!1,h=m["*"],h&&h[s]&&(g=!0),h=m[i.name],!g&&h&&h[s]&&(g=!0),g&&(c&&(c+=" "),c+=s);c.length||(c=null),i.attr("class",c)}}),fT(e,t)},Lb=V.makeMap,zb=V.each,Mb=V.explode,dT=V.extend,iv=function(e,t){t===void 0&&(t=wa());var r={},n=[],a={},i={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var o=function(_){var x,C,B,T,z,j,G,ie,he,ge,Le,$e=Lb("tr,td,th,tbody,thead,tfoot,table"),ce=t.getNonEmptyElements(),Xe=t.getWhiteSpaceElements(),Se=t.getTextBlockElements(),ze=t.getSpecialElements();for(x=0;x<_.length;x++)if(C=_[x],!(!C.parent||C.fixed)){if(Se[C.name]&&C.parent.name==="li"){for(ge=C.next;ge&&Se[ge.name];){ge.name="li",ge.fixed=!0,C.parent.insert(ge,C.parent);ge=ge.next}C.unwrap(C);continue}for(T=[C],B=C.parent;B&&!t.isValidChild(B.name,C.name)&&!$e[B.name];B=B.parent)T.push(B);if(B&&T.length>1){for(T.reverse(),z=j=u(T[0].clone()),he=0;he<T.length-1;he++){for(t.isValidChild(j.name,T[he].name)?(G=u(T[he].clone()),j.append(G)):G=j,ie=T[he].firstChild;ie&&ie!==T[he+1];)Le=ie.next,G.append(ie),ie=Le;j=G}Nu(t,ce,Xe,z)?B.insert(C,T[0],!0):(B.insert(z,T[0],!0),B.insert(C,z)),B=T[0],(Nu(t,ce,Xe,B)||Fb(B,"br"))&&B.empty().remove()}else if(C.parent){if(C.name==="li"){if(ge=C.prev,ge&&(ge.name==="ul"||ge.name==="ol")){ge.append(C);continue}if(ge=C.next,ge&&(ge.name==="ul"||ge.name==="ol")){ge.insert(C,ge.firstChild,!0);continue}C.wrap(u(new cn("ul",1)));continue}t.isValidChild(C.parent.name,"div")&&t.isValidChild("div",C.name)?C.wrap(u(new cn("div",1))):ze[C.name]?C.empty().remove():C.unwrap()}}},u=function(_){var x,C,B;for(C=_.name,(C in r)&&(B=a[C],B?B.push(_):a[C]=[_]),x=n.length;x--;)C=n[x].name,C in _.attributes.map&&(B=i[C],B?B.push(_):i[C]=[_]);return _},s=function(_,x){zb(Mb(_),function(C){var B=r[C];B||(r[C]=B=[]),B.push(x)})},c=function(){var _=[];for(var x in r)r.hasOwnProperty(x)&&_.push({name:x,callbacks:r[x]});return _},m=function(_,x){zb(Mb(_),function(C){var B;for(B=0;B<n.length;B++)if(n[B].name===C){n[B].callbacks.push(x);return}n.push({name:C,callbacks:[x]})})},h=function(){return[].concat(n)},g=function(_,x){var C,B,T,z,j,G,ie,he=[],ge,Le,$e=function(J){return J===!1?"":J===!0?"p":J};x=x||{},a={},i={};var ce=dT(Lb("script,style,head,html,body,title,meta,param"),t.getBlockElements()),Xe=t.getNonEmptyElements(),Se=t.children,ze=e.validate,we="forced_root_block"in x?x.forced_root_block:e.forced_root_block,xe=$e(we),Ie=t.getWhiteSpaceElements(),ve=/^[ \t\r\n]+/,De=/[ \t\r\n]+$/,pt=/[ \t\r\n]+/g,Nt=/^[ \t\r\n]+$/;ge=Ie.hasOwnProperty(x.context)||Ie.hasOwnProperty(e.root_name);var yt=function(){var J=le.firstChild,ue,ee,Ne=function(Ae){Ae&&(J=Ae.firstChild,J&&J.type===3&&(J.value=J.value.replace(ve,"")),J=Ae.lastChild,J&&J.type===3&&(J.value=J.value.replace(De,"")))};if(!!t.isValidChild(le.name,xe.toLowerCase())){for(;J;)ue=J.next,J.type===3||J.type===1&&J.name!=="p"&&!ce[J.name]&&!J.attr("data-mce-type")?(ee||(ee=Wt(xe,1),ee.attr(e.forced_root_block_attrs),le.insert(ee,J)),ee.append(J)):(Ne(ee),ee=null),J=ue;Ne(ee)}},Wt=function(J,ue){var ee=new cn(J,ue),Ne;return J in r&&(Ne=a[J],Ne?Ne.push(ee):a[J]=[ee]),ee},Ht=function(J){var ue,ee,Ne,Ae,Ye=t.getBlockElements();for(ue=J.prev;ue&&ue.type===3;){if(Ne=ue.value.replace(De,""),Ne.length>0){ue.value=Ne;return}if(ee=ue.next,ee){if(ee.type===3&&ee.value.length){ue=ue.prev;continue}if(!Ye[ee.name]&&ee.name!=="script"&&ee.name!=="style"){ue=ue.prev;continue}}Ae=ue.prev,ue.remove(),ue=Ae}},Ir=function(J){var ue,ee={};for(ue in J)ue!=="li"&&ue!=="p"&&(ee[ue]=J[ue]);return ee},Ar=il({validate:ze,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Ir(t.getSelfClosingElements()),cdata:function(J){Le.append(Wt("#cdata",4)).value=J},text:function(J,ue){var ee;ge||(J=J.replace(pt," "),oT(Le.lastChild,ce)&&(J=J.replace(ve,""))),J.length!==0&&(ee=Wt("#text",3),ee.raw=!!ue,Le.append(ee).value=J)},comment:function(J){Le.append(Wt("#comment",8)).value=J},pi:function(J,ue){Le.append(Wt(J,7)).value=ue,Ht(Le)},doctype:function(J){var ue=Le.append(Wt("#doctype",10));ue.value=J,Ht(Le)},start:function(J,ue,ee){var Ne,Ae,Ye,ut,Bt=ze?t.getElementRule(J):{};if(Bt){for(Ne=Wt(Bt.outputName||J,1),Ne.attributes=ue,Ne.shortEnded=ee,Le.append(Ne),ut=Se[Le.name],ut&&Se[Ne.name]&&!ut[Ne.name]&&he.push(Ne),Ae=n.length;Ae--;)Ye=n[Ae].name,Ye in ue.map&&(G=i[Ye],G?G.push(Ne):i[Ye]=[Ne]);ce[J]&&Ht(Ne),ee||(Le=Ne),!ge&&Ie[J]&&(ge=!0)}},end:function(J){var ue,ee,Ne,Ae,Ye=ze?t.getElementRule(J):{};if(Ye){if(ce[J]&&!ge){if(ue=Le.firstChild,ue&&ue.type===3)if(ee=ue.value.replace(ve,""),ee.length>0)ue.value=ee,ue=ue.next;else for(Ne=ue.next,ue.remove(),ue=Ne;ue&&ue.type===3;)ee=ue.value,Ne=ue.next,(ee.length===0||Nt.test(ee))&&(ue.remove(),ue=Ne),ue=Ne;if(ue=Le.lastChild,ue&&ue.type===3)if(ee=ue.value.replace(De,""),ee.length>0)ue.value=ee,ue=ue.prev;else for(Ne=ue.prev,ue.remove(),ue=Ne;ue&&ue.type===3;)ee=ue.value,Ne=ue.prev,(ee.length===0||Nt.test(ee))&&(ue.remove(),ue=Ne),ue=Ne}if(ge&&Ie[J]&&(ge=!1),Ye.removeEmpty&&Nu(t,Xe,Ie,Le)){Ae=Le.parent,ce[Le.name]?Le.empty().remove():Le.unwrap(),Le=Ae;return}Ye.paddEmpty&&(aT(Le)||Nu(t,Xe,Ie,Le))&&Ib(e,x,ce,Le),Le=Le.parent}}},t),le=Le=new cn(x.context||e.root_name,11);if(Ar.parse(_,x.format),ze&&he.length&&(x.context?x.invalid=!0:o(he)),xe&&(le.name==="body"||x.isRootContent)&&yt(),!x.invalid){for(ie in a)if(!!a.hasOwnProperty(ie)){for(G=r[ie],C=a[ie],z=C.length;z--;)C[z].parent||C.splice(z,1);for(B=0,T=G.length;B<T;B++)G[B](C,ie,x)}for(B=0,T=n.length;B<T;B++)if(G=n[B],G.name in i){for(C=i[G.name],z=C.length;z--;)C[z].parent||C.splice(z,1);for(z=0,j=G.callbacks.length;z<j;z++)G.callbacks[z](C,G.name,x)}}return le},S={schema:t,addAttributeFilter:m,getAttributeFilters:h,addNodeFilter:s,getNodeFilters:c,filterNode:u,parse:g};return cT(S,e),XO(S,e),S},vT=function(e,t,r){e.addAttributeFilter("data-mce-tabindex",function(n,a){for(var i=n.length,o;i--;)o=n[i],o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(a,null)}),e.addAttributeFilter("src,href,style",function(n,a){for(var i=n.length,o,u,s="data-mce-"+a,c=t.url_converter,m=t.url_converter_scope;i--;)o=n[i],u=o.attr(s),u!==void 0?(o.attr(a,u.length>0?u:null),o.attr(s,null)):(u=o.attr(a),a==="style"?u=r.serializeStyle(r.parseStyle(u),o.name):c&&(u=c.call(m,u,a,o.name)),o.attr(a,u.length>0?u:null))}),e.addAttributeFilter("class",function(n){for(var a=n.length,i,o;a--;)i=n[a],o=i.attr("class"),o&&(o=i.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),i.attr("class",o.length>0?o:null))}),e.addAttributeFilter("data-mce-type",function(n,a,i){for(var o=n.length,u;o--;)if(u=n[o],u.attr("data-mce-type")==="bookmark"&&!i.cleanup){var s=R.from(u.firstChild).exists(function(c){return!Hf(c.value)});s?u.unwrap():u.remove()}}),e.addNodeFilter("noscript",function(n){for(var a=n.length,i;a--;)i=n[a].firstChild,i&&(i.value=ni.decode(i.value))}),e.addNodeFilter("script,style",function(n,a){for(var i=n.length,o,u,s,c=function(m){return m.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};i--;)o=n[i],u=o.firstChild?o.firstChild.value:"",a==="script"?(s=o.attr("type"),s&&o.attr("type",s==="mce-no/type"?null:s.replace(/^mce\-/,"")),t.element_format==="xhtml"&&u.length>0&&(o.firstChild.value=`// <![CDATA[
`+c(u)+`
// ]]>`)):t.element_format==="xhtml"&&u.length>0&&(o.firstChild.value=`<!--
`+c(u)+`
-->`)}),e.addNodeFilter("#comment",function(n){for(var a=n.length,i;a--;)i=n[a],t.preserve_cdata&&i.value.indexOf("[CDATA[")===0?(i.name="#cdata",i.type=4,i.value=r.decode(i.value.replace(/^\[CDATA\[|\]\]$/g,""))):i.value.indexOf("mce:protected ")===0&&(i.name="#text",i.type=3,i.raw=!0,i.value=unescape(i.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(n,a){for(var i=n.length,o;i--;)o=n[i],o.type===7?o.remove():o.type===1&&a==="input"&&!o.attr("type")&&o.attr("type","text")}),e.addAttributeFilter("data-mce-type",function(n){He(n,function(a){a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(n,a){for(var i=n.length;i--;)n[i].attr(a,null)})},pT=function(e){var t=function(a){return a&&a.name==="br"},r=e.lastChild;if(t(r)){var n=r.prev;t(n)&&(r.remove(),n.remove())}},hT=function(e,t,r){var n,a,i=e.dom;t=t.cloneNode(!0);var o=document.implementation;return o.createHTMLDocument&&(n=o.createHTMLDocument(""),V.each(t.nodeName==="BODY"?t.childNodes:[t],function(u){n.body.appendChild(n.importNode(u,!0))}),t.nodeName!=="BODY"?t=n.body.firstChild:t=n.body,a=i.doc,i.doc=n),p_(e,st(st({},r),{node:t})),a&&(i.doc=a),t},mT=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},gT=function(e,t,r){return mT(e,r)?hT(e,t,r):t},bT=function(e,t,r){V.inArray(t,r)===-1&&(e.addAttributeFilter(r,function(n,a){for(var i=n.length;i--;)n[i].attr(a,null)}),t.push(r))},yT=function(e,t,r){if(!t.no_events&&e){var n=h_(e,st(st({},t),{content:r}));return n.content}else return r},wT=function(e,t,r){var n=ba(r.getInner?t.innerHTML:e.getOuterHTML(t));return r.selection||gs(W.fromDom(t))?n:V.trim(n)},CT=function(e,t,r){var n=r.selection?st({forced_root_block:!1},r):r,a=e.parse(t,n);return pT(a),a},kT=function(e,t,r){var n=bo(e,t);return n.serialize(r)},ST=function(e,t,r,n,a){var i=kT(t,r,n);return yT(e,a,i)},ET=function(e,t){var r=["data-mce-selected"],n=t&&t.dom?t.dom:Tt.DOM,a=t&&t.schema?t.schema:wa(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var i=iv(e,a);vT(i,e,n);var o=function(u,s){s===void 0&&(s={});var c=st({format:"html"},s),m=gT(t,u,c),h=wT(n,m,c),g=CT(i,h,c);return c.format==="tree"?g:ST(t,e,a,g,c)};return{schema:a,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:o,addRules:function(u){a.addValidElements(u)},setRules:function(u){a.setValidElements(u)},addTempAttr:Be(bT,i,r),getTempAttrs:qe(r),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},$b=function(e,t){var r=ET(e,t);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters}},_T="html",xT=function(e,t){t===void 0&&(t={});var r=t.format?t.format:_T;return TO(e,t,r)},ov=function(e,t,r){return r===void 0&&(r={}),BO(e,t,r)},yl=Tt.DOM,NT=function(e){yl.setStyle(e.id,"display",e.orgDisplay)},wl=function(e){return R.from(e).each(function(t){return t.destroy()})},PT=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},AT=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),yl.unbind(t,"submit reset",e.formEventDelegate))},OT=function(e){if(!e.removed){var t=e._selectionOverrides,r=e.editorUpload,n=e.getBody(),a=e.getElement();n&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&a&&yl.remove(a.nextSibling),m_(e),e.editorManager.remove(e),!e.inline&&n&&NT(e),g_(e),yl.remove(e.getContainer()),wl(t),wl(r),e.destroy()}},TT=function(e,t){var r=e.selection,n=e.dom;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),wl(r),wl(n)),AT(e),PT(e),e.destroyed=!0}},BT=Object.prototype.hasOwnProperty,RT=function(e,t){var r=Tn(e)&&Tn(t);return r?jb(e,t):t},DT=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length===0)throw new Error("Can't merge zero objects");for(var n={},a=0;a<t.length;a++){var i=t[a];for(var o in i)BT.call(i,o)&&(n[o]=e(n[o],i[o]))}return n}},jb=DT(RT),IT=function(e,t){return{sections:qe(e),settings:qe(t)}},uv=F().deviceType,FT=uv.isTouch(),Ub=uv.isPhone(),LT=uv.isTablet(),zT=["lists","autolink","autosave"],Hb={table_grid:!1,object_resizing:!1,resize:!1},Pu=function(e){var t=Dt(e)?e.join(" "):e,r=It(Ct(t)?t.split(" "):[],Ya);return mt(r,function(n){return n.length>0})},MT=function(e){return mt(e,Be(er,zT))},$T=function(e,t){var r=Wu(t,function(n,a){return er(e,a)});return IT(r.t,r.f)},jT=function(e,t,r){r===void 0&&(r={});var n=e.sections(),a=n.hasOwnProperty(t)?n[t]:{};return V.extend({},r,a)},Cl=function(e,t){return e.sections().hasOwnProperty(t)},UT=function(e,t,r){var n=e.sections();return Cl(e,t)&&n[t].theme===r},HT=function(e,t){return Cl(e,t)?e.sections()[t]:{}},Wb=function(e,t){return Mr(e,"toolbar_mode").orThunk(function(){return Mr(e,"toolbar_drawer").map(function(r){return r===!1?"wrap":r})}).getOr(t)},WT=function(e,t,r,n,a){var i={id:t,theme:"silver",toolbar_mode:Wb(e,"floating"),plugins:"",document_base_url:r,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a};return st(st({},i),n?Hb:{})},VT=function(e,t){var r={resize:!1,toolbar_mode:Wb(e,"scrolling"),toolbar_sticky:!1},n={menubar:!1};return st(st(st({},Hb),r),t?n:{})},qT=function(e,t){var r=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?V.extend({},e.external_plugins,r):r},KT=function(e,t){return[].concat(Pu(e)).concat(Pu(t))},GT=function(e,t,r,n){return e&&UT(t,"mobile","mobile")?MT(n):e&&Cl(t,"mobile")?n:r},ZT=function(e,t,r,n){var a=Pu(r.forced_plugins),i=Pu(n.plugins),o=HT(t,"mobile"),u=o.plugins?Pu(o.plugins):i,s=GT(e,t,i,u),c=KT(a,s);if(Y.browser.isIE()&&er(c,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return V.extend(n,{plugins:c.join(" ")})},XT=function(e,t){return e&&Cl(t,"mobile")},YT=function(e,t,r,n,a){var i=e?{mobile:VT(a.mobile||{},t)}:{},o=$T(["mobile"],jb(i,a)),u=V.extend(r,n,o.settings(),XT(e,o)?jT(o,"mobile"):{},{validate:!0,external_plugins:qT(n,o.settings())});return ZT(e,o,n,u)},QT=function(e,t,r,n,a){var i=WT(a,t,r,FT,e);return YT(Ub||LT,Ub,i,n,a)},gi=function(e,t,r){return R.from(t.settings[r]).filter(e)},JT=function(e){var t={};return typeof e=="string"?He(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(r){var n=r.split("=");n.length>1?t[V.trim(n[0])]=V.trim(n[1]):t[V.trim(n[0])]=V.trim(n[0])}):t=e,t},eB=function(e){return function(t){return Dt(t)&&qa(t,e)}},tB=function(e,t,r,n){var a=t in e.settings?e.settings[t]:r;return n==="hash"?JT(a):n==="string"?gi(Ct,e,t).getOr(r):n==="number"?gi(fa,e,t).getOr(r):n==="boolean"?gi(sn,e,t).getOr(r):n==="object"?gi(Tn,e,t).getOr(r):n==="array"?gi(Dt,e,t).getOr(r):n==="string[]"?gi(eB(Ct),e,t).getOr(r):n==="function"?gi(Qt,e,t).getOr(r):a},rB=function(){var e={},t=function(a,i){e[a]=i},r=function(a){return e[a]?e[a]:{icons:{}}},n=function(a){return nr(e,a)};return{add:t,get:r,has:n}},kl=rB(),Vb=function(e,t){var r=t.dom;return r[e]},qb=function(e,t){return parseInt(ra(t,e),10)},nB=Be(Vb,"clientWidth"),aB=Be(Vb,"clientHeight"),iB=Be(qb,"margin-top"),oB=Be(qb,"margin-left"),uB=function(e){return e.dom.getBoundingClientRect()},sB=function(e,t,r){var n=nB(e),a=aB(e);return t>=0&&r>=0&&t<=n&&r<=a},lB=function(e,t,r,n){var a=uB(t),i=e?a.left+t.dom.clientLeft+oB(t):0,o=e?a.top+t.dom.clientTop+iB(t):0,u=r-i,s=n-o;return{x:u,y:s}},Kb=function(e,t,r){var n=W.fromDom(e.getBody()),a=e.inline?n:Qa(n),i=lB(e.inline,a,t,r);return sB(a,i.x,i.y)},fB=function(e){return R.from(e).map(W.fromDom)},cB=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return fB(t).map(Xo).getOr(!1)},dB=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},Gb=function(e){var t=[],r=function(){var g=e.theme;return g&&g.getNotificationManagerImpl?g.getNotificationManagerImpl():dB()},n=function(){return R.from(t[0])},a=function(g,S){return g.type===S.type&&g.text===S.text&&!g.progressBar&&!g.timeout&&!S.progressBar&&!S.timeout},i=function(){t.length>0&&r().reposition(t)},o=function(g){t.push(g)},u=function(g){Bi(t,function(S){return S===g}).each(function(S){t.splice(S,1)})},s=function(g,S){if(S===void 0&&(S=!0),!(e.removed||!cB(e)))return S&&e.fire("BeforeOpenNotification",{notification:g}),hr(t,function(_){return a(r().getArgs(_),g)}).getOrThunk(function(){e.editorManager.setActive(e);var _=r().open(g,function(){u(_),i(),n().fold(function(){return e.focus()},function(x){return nx(W.fromDom(x.getEl()))})});return o(_),i(),e.fire("OpenNotification",{notification:st({},_)}),_})},c=function(){n().each(function(g){r().close(g),u(g),i()})},m=function(){return t},h=function(g){g.on("SkinLoaded",function(){var S=LS(g);S&&s({text:S,type:"warning",timeout:0},!1)}),g.on("ResizeEditor ResizeWindow NodeChange",function(){wr.requestAnimationFrame(i)}),g.on("remove",function(){He(t.slice(),function(S){r().close(S)})})};return h(e),{open:s,close:c,getNotifications:m}},Pn=Gr.PluginManager,Ra=Gr.ThemeManager;function vB(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var Zb=function(e){var t=[],r=function(){var x=e.theme;return x&&x.getWindowManagerImpl?x.getWindowManagerImpl():vB()},n=function(x,C){return function(){for(var B=[],T=0;T<arguments.length;T++)B[T]=arguments[T];return C?C.apply(x,B):void 0}},a=function(x){e.fire("OpenWindow",{dialog:x})},i=function(x){e.fire("CloseWindow",{dialog:x})},o=function(x){t.push(x),a(x)},u=function(x){i(x),t=mt(t,function(C){return C!==x}),t.length===0&&e.focus()},s=function(){return R.from(t[t.length-1])},c=function(x){e.editorManager.setActive(e),rl(e);var C=x();return o(C),C},m=function(x,C){return c(function(){return r().open(x,C,u)})},h=function(x){return c(function(){return r().openUrl(x,u)})},g=function(x,C,B){var T=r();T.alert(x,n(B||T,C))},S=function(x,C,B){var T=r();T.confirm(x,n(B||T,C))},_=function(){s().each(function(x){r().close(x),u(x)})};return e.on("remove",function(){He(t,function(x){r().close(x)})}),{open:m,openUrl:h,alert:g,confirm:S,close:_}},Xb=function(e,t){e.notificationManager.open({type:"error",text:t})},Sl=function(e,t){e._skinLoaded?Xb(e,t):e.on("SkinLoaded",function(){Xb(e,t)})},pB=function(e,t){Sl(e,Sn.translate(["Failed to upload image: {0}",t]))},sv=function(e,t,r){Im(e,t,{message:r}),console.error(r)},lv=function(e,t,r){return r?"Failed to load "+e+": "+r+" from url "+t:"Failed to load "+e+" url: "+t},fv=function(e,t,r){sv(e,"PluginLoadError",lv("plugin",t,r))},hB=function(e,t,r){sv(e,"IconsLoadError",lv("icons",t,r))},mB=function(e,t,r){sv(e,"LanguageLoadError",lv("language",t,r))},gB=function(e,t,r){var n=Sn.translate(["Failed to initialize plugin: {0}",t]);Im(e,"PluginLoadError",{message:n}),El(n,r),Sl(e,n)},El=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=window.console;n&&(n.error?n.error.apply(n,Lo([e],t)):n.log.apply(n,Lo([e],t)))},bB=function(e){return/^[a-z0-9\-]+$/i.test(e)},yB=function(e){return Yb(e,BS(e))},wB=function(e){return Yb(e,Uh(e))},Yb=function(e,t){var r=e.editorManager.baseURL+"/skins/content",n=e.editorManager.suffix,a="content"+n+".css",i=e.inline===!0;return It(t,function(o){return bB(o)&&!i?r+"/"+o+"/"+a:e.documentBaseURI.toAbsolute(o)})},CB=function(e){e.contentCSS=e.contentCSS.concat(yB(e),wB(e))},Qb=function(){var e=1,t=2,r={},n=function(g,S){return{status:g,resultUri:S}},a=function(g){return g in r},i=function(g){var S=r[g];return S?S.resultUri:null},o=function(g){return a(g)?r[g].status===e:!1},u=function(g){return a(g)?r[g].status===t:!1},s=function(g){r[g]=n(e,null)},c=function(g,S){r[g]=n(t,S)},m=function(g){delete r[g]},h=function(){r={}};return{hasBlobUri:a,getResultUri:i,isPending:o,isUploaded:u,markPending:s,markUploaded:c,removeFailed:m,destroy:h}},kB=0,SB=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},t=new Date().getTime();return"s"+t.toString(36)+e()+e()+e()},Jb=function(e){return e+kB+++SB()},EB=function(){var e=[],t=function(h){var g={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return g[h.toLowerCase()]||"dat"},r=function(h,g,S,_,x){if(Ct(h)){var C=h;return n({id:C,name:_,filename:x,blob:g,base64:S})}else{if(Tn(h))return n(h);throw new Error("Unknown input type")}},n=function(h){if(!h.blob||!h.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var g=h.id||Jb("blobid"),S=h.name||g,_=h.blob;return{id:qe(g),name:qe(S),filename:qe(h.filename||S+"."+t(_.type)),blob:qe(_),base64:qe(h.base64),blobUri:qe(h.blobUri||URL.createObjectURL(_)),uri:qe(h.uri)}},a=function(h){o(h.id())||e.push(h)},i=function(h){return hr(e,h).getOrUndefined()},o=function(h){return i(function(g){return g.id()===h})},u=function(h){return i(function(g){return g.blobUri()===h})},s=function(h,g){return i(function(S){return S.base64()===h&&S.blob().type===g})},c=function(h){e=mt(e,function(g){return g.blobUri()===h?(URL.revokeObjectURL(g.blobUri()),!1):!0})},m=function(){He(e,function(h){URL.revokeObjectURL(h.blobUri())}),e=[]};return{create:r,add:a,get:o,getByUri:u,getByData:s,findFirst:i,removeByUri:c,destroy:m}},_B=function(e,t){var r={},n=function(_,x){return _?_.replace(/\/$/,"")+"/"+x.replace(/^\//,""):x},a=function(_,x,C,B){var T=new XMLHttpRequest;T.open("POST",t.url),T.withCredentials=t.credentials,T.upload.onprogress=function(j){B(j.loaded/j.total*100)},T.onerror=function(){C("Image upload failed due to a XHR Transport error. Code: "+T.status)},T.onload=function(){if(T.status<200||T.status>=300){C("HTTP Error: "+T.status);return}var j=JSON.parse(T.responseText);if(!j||typeof j.location!="string"){C("Invalid JSON: "+T.responseText);return}x(n(t.basePath,j.location))};var z=new FormData;z.append("file",_.blob(),_.filename()),T.send(z)},i=function(){return new cr(function(_){_([])})},o=function(_,x){return{url:x,blobInfo:_,status:!0}},u=function(_,x,C){return{url:"",blobInfo:_,status:!1,error:{message:x,options:C}}},s=function(_,x){V.each(r[_],function(C){C(x)}),delete r[_]},c=function(_,x,C){return e.markPending(_.blobUri()),new cr(function(B){var T,z;try{var j=function(){T&&(T.close(),z=ot)},G=function(he){j(),e.markUploaded(_.blobUri(),he),s(_.blobUri(),o(_,he)),B(o(_,he))},ie=function(he,ge){var Le=ge||{};j(),e.removeFailed(_.blobUri()),s(_.blobUri(),u(_,he,Le)),B(u(_,he,Le))};z=function(he){he<0||he>100||R.from(T).orThunk(function(){return R.from(C).map(sf)}).each(function(ge){T=ge,ge.progressBar.value(he)})},x(_,G,ie,z)}catch(he){B(u(_,he.message,{}))}})},m=function(_){return _===a},h=function(_){var x=_.blobUri();return new cr(function(C){r[x]=r[x]||[],r[x].push(C)})},g=function(_,x){return _=V.grep(_,function(C){return!e.isUploaded(C.blobUri())}),cr.all(V.map(_,function(C){return e.isPending(C.blobUri())?h(C):c(C,t.handler,x)}))},S=function(_,x){return!t.url&&m(t.handler)?i():g(_,x)};return Qt(t.handler)===!1&&(t.handler=a),{upload:S}},ey=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},ty=function(e,t){return _B(t,{url:_S(e),basePath:xS(e),credentials:NS(e),handler:PS(e)})},xB=function(e){var t=Qb(),r=ty(e,t);return{upload:function(n,a){return a===void 0&&(a=!0),r.upload(n,a?ey(e):void 0)}}},NB=function(e){var t=tr(null);e.on("change AddUndo",function(n){t.set(st({},n.level))});var r=function(){var n=e.undoManager.data;Rn(n).filter(function(a){return!gl(t.get(),a)}).each(function(a){e.setDirty(!0),e.fire("change",{level:a,lastLevel:Io(n,n.length-2).getOrNull()})})};return{fireIfChanged:r}},PB=function(e){var t=EB(),r,n,a=Qb(),i=[],o=NB(e),u=function(j){return function(G){return e.selection?j(G):[]}},s=function(j){return j+(j.indexOf("?")===-1?"?":"&")+new Date().getTime()},c=function(j,G,ie){var he=0;do he=j.indexOf(G,he),he!==-1&&(j=j.substring(0,he)+ie+j.substr(he+G.length),he+=ie.length-G.length+1);while(he!==-1);return j},m=function(j,G,ie){var he='src="'+ie+'"'+(ie===Y.transparentSrc?' data-mce-placeholder="1"':"");return j=c(j,'src="'+G+'"',he),j=c(j,'data-mce-src="'+G+'"','data-mce-src="'+ie+'"'),j},h=function(j,G){He(e.undoManager.data,function(ie){ie.type==="fragmented"?ie.fragments=It(ie.fragments,function(he){return m(he,j,G)}):ie.content=m(ie.content,j,G)})},g=function(j,G){var ie=e.convertURL(G,"src");h(j.src,G),e.$(j).attr({src:kS(e)?s(G):G,"data-mce-src":ie})},S=function(j){return r||(r=ty(e,a)),B().then(u(function(G){var ie=It(G,function(he){return he.blobInfo});return r.upload(ie,ey(e)).then(u(function(he){var ge=[],Le=It(he,function($e,ce){var Xe=G[ce].blobInfo,Se=G[ce].image;return $e.status&&SS(e)?(t.removeByUri(Se.src),g(Se,$e.url)):$e.error&&($e.error.options.remove&&(h(Se.getAttribute("src"),Y.transparentSrc),ge.push(Se)),pB(e,$e.error.message)),{element:Se,status:$e.status,uploadUri:$e.url,blobInfo:Xe}});return Le.length>0&&o.fireIfChanged(),ge.length>0&&(mi(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){He(ge,function($e){e.dom.remove($e),t.removeByUri($e.src)})})),j&&j(Le),Le}))}))},_=function(j){if(Lh(e))return S(j)},x=function(j){if(qa(i,function(ie){return ie(j)})===!1)return!1;if(j.getAttribute("src").indexOf("data:")===0){var G=CS(e);return G(j)}return!0},C=function(j){i.push(j)},B=function(){return n||(n=nT(a,t)),n.findAll(e.getBody(),x).then(u(function(j){return j=mt(j,function(G){return typeof G=="string"?(Sl(e,G),!1):!0}),He(j,function(G){h(G.image.src,G.blobInfo.blobUri()),G.image.src=G.blobInfo.blobUri(),G.image.removeAttribute("data-mce-src")}),j}))},T=function(){t.destroy(),a.destroy(),n=r=null},z=function(j){return j.replace(/src="(blob:[^"]+)"/g,function(G,ie){var he=a.getResultUri(ie);if(he)return'src="'+he+'"';var ge=t.getByUri(ie);if(ge||(ge=Qr(e.editorManager.get(),function($e,ce){return $e||ce.editorUpload&&ce.editorUpload.blobCache.getByUri(ie)},null)),ge){var Le=ge.blob();return'src="data:'+Le.type+";base64,"+ge.base64()+'"'}return G})};return e.on("SetContent",function(){Lh(e)?_():B()}),e.on("RawSaveContent",function(j){j.content=z(j.content)}),e.on("GetContent",function(j){j.source_view||j.format==="raw"||j.format==="tree"||(j.content=z(j.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(j){He(j,function(G){var ie=G.attr("src");if(!t.getByUri(ie)){var he=a.getResultUri(ie);he&&G.attr("src",he)}})})}),{blobCache:t,addFilter:C,uploadImages:S,uploadImagesAuto:_,scanForImages:B,destroy:T}},AB=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(r,n,a){return at(r)&&r.hasAttribute("href")},onformat:function(r,n,a){V.each(a,function(i,o){e.setAttrib(r,o,i)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return V.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(r){t[r]={block:r,remove:"all"}}),t},OB=function(e){var t={},r=function(o){return o?t[o]:t},n=function(o){return nr(t,o)},a=function(o,u){o&&(typeof o!="string"?V.each(o,function(s,c){a(c,s)}):(Dt(u)||(u=[u]),V.each(u,function(s){typeof s.deep=="undefined"&&(s.deep=!s.selector),typeof s.split=="undefined"&&(s.split=!s.selector||s.inline),typeof s.remove=="undefined"&&s.selector&&!s.inline&&(s.remove="none"),s.selector&&s.inline&&(s.mixed=!0,s.block_expand=!0),typeof s.classes=="string"&&(s.classes=s.classes.split(/\s+/))}),t[o]=u))},i=function(o){return o&&t[o]&&delete t[o],t};return a(AB(e.dom)),a(MS(e)),{get:r,has:n,register:a,unregister:i}},_l=V.each,Nr=Tt.DOM,ry=function(e,t){var r,n,a,i=t&&t.schema||wa({}),o=function(m,h){h.classes.length&&Nr.addClass(m,h.classes.join(" ")),Nr.setAttribs(m,h.attrs)},u=function(m){n=typeof m=="string"?{name:m,classes:[],attrs:{}}:m;var h=Nr.create(n.name);return o(h,n),h},s=function(m,h){var g=typeof m!="string"?m.nodeName.toLowerCase():m,S=i.getElementRule(g),_=S&&S.parentsRequired;return _&&_.length?h&&V.inArray(_,h)!==-1?h:_[0]:!1},c=function(m,h,g){var S,_,x=h.length>0&&h[0],C=x&&x.name,B=s(m,C);if(B)C===B?(_=h[0],h=h.slice(1)):_=B;else if(x)_=h[0],h=h.slice(1);else if(!g)return m;return _&&(S=u(_),S.appendChild(m)),g&&(S||(S=Nr.create("div"),S.appendChild(m)),V.each(g,function(T){var z=u(T);S.insertBefore(z,m)})),c(S,h,_&&_.siblings)};return e&&e.length?(n=e[0],r=u(n),a=Nr.create("div"),a.appendChild(c(r,e.slice(1),n.siblings)),a):""},TB=function(e){var t,r={classes:[],attrs:{}};return e=r.selector=V.trim(e),e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(n,a,i,o,u){switch(a){case"#":r.attrs.id=i;break;case".":r.classes.push(i);break;case":":V.inArray("checked disabled enabled read-only required".split(" "),i)!==-1&&(r.attrs[i]=i);break}if(o==="["){var s=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(r.attrs[s[1]]=s[2])}return""})),r.name=t||"div",r},BB=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),V.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var r=V.map(t.split(/(?:~\+|~|\+)/),TB),n=r.pop();return r.length&&(n.siblings=r),n}).reverse())},RB=function(e,t){var r,n,a="",i,o=$S(e);if(o==="")return"";var u=function(h){return h.replace(/%(\w+)/g,"")};if(typeof t=="string"){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){var s=Mr(t,"preview");if(s.is(!1))return"";o=s.getOr(o)}r=t.block||t.inline||"span";var c=BB(t.selector);c.length?(c[0].name||(c[0].name=r),r=t.selector,n=ry(c,e)):n=ry([r],e);var m=Nr.select(r,n)[0]||n.firstChild;return _l(t.styles,function(h,g){var S=u(h);S&&Nr.setStyle(m,g,S)}),_l(t.attributes,function(h,g){var S=u(h);S&&Nr.setAttrib(m,g,S)}),_l(t.classes,function(h){var g=u(h);Nr.hasClass(m,g)||Nr.addClass(m,g)}),e.fire("PreviewFormats"),Nr.setStyles(n,{position:"absolute",left:-65535}),e.getBody().appendChild(n),i=Nr.getStyle(e.getBody(),"fontSize",!0),i=/px$/.test(i)?parseInt(i,10):0,_l(o.split(" "),function(h){var g=Nr.getStyle(m,h,!0);if(!(h==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(g)&&(g=Nr.getStyle(e.getBody(),h,!0),Nr.toHex(g).toLowerCase()==="#ffffff"))&&!(h==="color"&&Nr.toHex(g).toLowerCase()==="#000000")){if(h==="font-size"&&/em|%$/.test(g)){if(i===0)return;var S=parseFloat(g)/(/%$/.test(g)?100:1);g=S*i+"px"}h==="border"&&g&&(a+="padding:0 2px;"),a+=h+":"+g+";"}}),e.fire("AfterPreviewFormats"),Nr.remove(n),a},DB=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},ny=function(e){var t=OB(e),r=tr(null);return DB(e),DP(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(n,a,i){NO(e,n,a,i)},remove:function(n,a,i,o){PO(e,n,a,i,o)},toggle:function(n,a,i){AO(e,n,a,i)},match:function(n,a,i){return kO(e,n,a,i)},closest:function(n){return xO(e,n)},matchAll:function(n,a){return SO(e,n,a)},matchNode:function(n,a,i,o){return EO(e,n,a,i,o)},canApply:function(n){return _O(e,n)},formatChanged:function(n,a,i){return OO(e,r,n,a,i)},getCssText:Be(RB,e)}},IB=function(e,t,r){var n=tr(!1),a=function(s){bl(t,!1,r),t.add({},s)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(s){var c=s.command.toLowerCase();c!=="undo"&&c!=="redo"&&c!=="mcerepaint"&&(_b(t,r),t.beforeChange())}),e.on("ExecCommand",function(s){var c=s.command.toLowerCase();c!=="undo"&&c!=="redo"&&c!=="mcerepaint"&&a(s)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",function(s){var c=s.keyCode;s.isDefaultPrevented()||((c>=33&&c<=36||c>=37&&c<=40||c===45||s.ctrlKey)&&(a(),e.nodeChanged()),(c===46||c===8)&&e.nodeChanged(),n.get()&&t.typing&&gl(Qd(e),t.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),n.set(!1),e.nodeChanged()))}),e.on("keydown",function(s){var c=s.keyCode;if(!s.isDefaultPrevented()){if(c>=33&&c<=36||c>=37&&c<=40||c===45){t.typing&&a(s);return}var m=s.ctrlKey&&!s.altKey||s.metaKey;(c<16||c>20)&&c!==224&&c!==91&&!t.typing&&!m&&(t.beforeChange(),bl(t,!0,r),t.add({},s),n.set(!0))}}),e.on("mousedown",function(s){t.typing&&a(s)});var i=function(s){return s.inputType==="insertReplacementText"},o=function(s){return s.inputType==="insertText"&&s.data===null},u=function(s){return s.inputType==="insertFromPaste"||s.inputType==="insertFromDrop"};e.on("input",function(s){s.inputType&&(i(s)||o(s)||u(s))&&a(s)}),e.on("AddUndo Undo Redo ClearUndos",function(s){s.isDefaultPrevented()||e.nodeChanged()})},FB=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},ay=function(e){var t=tr(R.none()),r=tr(0),n=tr(0),a={data:[],typing:!1,beforeChange:function(){cO(e,r,t)},add:function(i,o){return dO(e,a,n,r,t,i,o)},undo:function(){return vO(e,a,r,n)},redo:function(){return pO(e,n,a.data)},clear:function(){hO(e,a,n)},reset:function(){mO(e,a)},hasUndo:function(){return gO(e,a,n)},hasRedo:function(){return bO(e,a,n)},transact:function(i){return yO(e,a,r,i)},ignore:function(i){wO(e,r,i)},extra:function(i,o){CO(e,a,n,i,o)}};return mi(e)||IB(e,a,r),FB(e),a},LB=[9,27,Ge.HOME,Ge.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ge.DOWN,Ge.UP,Ge.LEFT,Ge.RIGHT].concat(Y.browser.isFirefox()?[224]:[]),iy="data-mce-placeholder",oy=function(e){return e.type==="keydown"||e.type==="keyup"},uy=function(e){var t=e.keyCode;return t===Ge.BACKSPACE||t===Ge.DELETE},zB=function(e){if(oy(e)){var t=e.keyCode;return!uy(e)&&(Ge.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||er(LB,t))}else return!1},MB=function(e){return oy(e)&&!(uy(e)||e.type==="keyup"&&e.keyCode===229)},$B=function(e,t,r){if(Kr(W.fromDom(t),!1)){var n=r==="",a=t.firstElementChild;return a?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n?!e.isBlock(a):r===a.nodeName.toLowerCase():!0}else return!1},jB=function(e){var t=e.dom,r=kr(e),n=FS(e),a=function(i,o){if(!zB(i)){var u=e.getBody(),s=MB(i)?!1:$B(t,u,r),c=t.getAttrib(u,iy)!=="";(c!==s||o)&&(t.setAttrib(u,iy,s?n:null),t.setAttrib(u,"aria-placeholder",s?n:null),E_(e,s),e.on(s?"keydown":"keyup",a),e.off(s?"keyup":"keydown",a))}};n&&e.on("init",function(i){a(i,!0),e.on("change SetContent ExecCommand",a),e.on("paste",function(o){return wr.setEditorTimeout(e,function(){return a(o)})})})},UB=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,HB=function(e){return UB.test(e)},bi=function(e,t){return Er(W.fromDom(t),DS(e))},WB=function(e){return Tt.DOM.getStyle(e,"direction",!0)==="rtl"||HB(e.textContent)},VB=function(e,t,r){return mt(Tt.DOM.getParents(r.container(),"*",t),e)},Da=function(e,t,r){var n=VB(e,t,r);return R.from(n[n.length-1])},qB=function(e,t,r){var n=Aa(t,e),a=Aa(r,e);return n&&n===a},KB=function(e){return Wf(e)||Vf(e)},an=function(e,t){if(!t)return t;var r=t.container(),n=t.offset();return e?Gi(r)?We(r.nextSibling)?ne(r.nextSibling,0):ne.after(r):Wf(t)?ne(r,n+1):t:Gi(r)?We(r.previousSibling)?ne(r.previousSibling,r.previousSibling.data.length):ne.before(r):Vf(t)?ne(r,n-1):t},sy=Be(an,!0),ly=Be(an,!1),GB=function(e){return function(t){return ae(e,W.fromDom(t.dom.parentNode))}},xl=function(e,t){return Q(e,t)?vs(t,function(r){return yp(r)||tu(r)},GB(e)):R.none()},ZB=function(e){var t=e.getBody(),r=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(r,0)},fy=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),ZB(e))},XB=function(e,t,r){return Hr(Rr(r),Vn(r),function(n,a){var i=an(!0,n),o=an(!1,a),u=an(!1,t);return e?xn(r,u).exists(function(s){return s.isEqual(o)&&t.isEqual(i)}):Wn(r,u).exists(function(s){return s.isEqual(i)&&t.isEqual(o)})}).getOr(!0)},YB=function(e,t){return{block:e,position:t}},QB=function(e,t){return{from:e,to:t}},cv=function(e,t){var r=W.fromDom(e),n=W.fromDom(t.container());return xl(r,n).map(function(a){return YB(a,t)})},JB=function(e){return ae(e.from.block,e.to.block)===!1},eR=function(e){return _r(e.from.block).bind(function(t){return _r(e.to.block).filter(function(r){return ae(t,r)})}).isSome()},tR=function(e){return zt(e.from.block.dom)===!1&&zt(e.to.block.dom)===!1},rR=function(e,t,r){return Xt(r.position.getNode())&&Kr(r.block)===!1?co(!1,r.block.dom).bind(function(n){return n.isEqual(r.position)?nn(t,e,n).bind(function(a){return cv(e,a)}):R.some(r)}).getOr(r):r},nR=function(e,t,r){var n=cv(e,ne.fromRangeStart(r)),a=n.bind(function(i){return nn(t,e,i.position).bind(function(o){return cv(e,o).map(function(u){return rR(e,t,u)})})});return Hr(n,a,QB).filter(function(i){return JB(i)&&eR(i)&&tR(i)})},aR=function(e,t,r){return r.collapsed?nR(e,t,r):R.none()},iR=function(e){var t=jr(e);return Bi(t,zn).fold(function(){return t},function(r){return t.slice(0,r)})},cy=function(e){var t=iR(e);return He(t,yr),t},dy=function(e,t){var r=oa(t,e);return hr(r.reverse(),function(n){return Kr(n)}).each(yr)},oR=function(e){return mt(Ko(e),function(t){return!Kr(t)}).length===0},uR=function(e,t,r,n){if(Kr(r))return Co(r),Rr(r.dom);oR(n)&&Kr(t)&&wn(n,W.fromTag("br"));var a=Wn(r.dom,ne.before(n.dom));return He(cy(t),function(i){wn(n,i)}),dy(e,t),a},sR=function(e,t,r){if(Kr(r))return yr(r),Kr(t)&&Co(t),Rr(t.dom);var n=Vn(r.dom);return He(cy(t),function(a){br(r,a)}),dy(e,t),n},lR=function(e,t){var r=oa(t,e);return R.from(r[r.length-1])},fR=function(e,t){return Q(t,e)?lR(t,e):R.none()},vy=function(e,t){co(e,t.dom).map(function(r){return r.getNode()}).map(W.fromDom).filter(Vi).each(yr)},py=function(e,t,r){return vy(!0,t),vy(!1,r),fR(t,r).fold(Be(sR,e,t,r),Be(uR,e,t,r))},hy=function(e,t,r,n){return t?py(e,n,r):py(e,r,n)},Nl=function(e,t){var r=W.fromDom(e.getBody()),n=aR(r.dom,t,e.selection.getRng()).bind(function(a){return hy(r,t,a.from.block,a.to.block)});return n.each(function(a){e.selection.setRng(a.toRange())}),n.isSome()},cR=function(e,t){var r=t.getRng();return Hr(xl(e,W.fromDom(r.startContainer)),xl(e,W.fromDom(r.endContainer)),function(n,a){return ae(n,a)===!1?(r.deleteContents(),hy(e,!0,n,a).each(function(i){t.setRng(i.toRange())}),!0):!1}).getOr(!1)},my=function(e,t){var r=W.fromDom(t),n=Be(ae,e);return eu(r,ms,n).isSome()},dR=function(e,t){return my(e,t.startContainer)||my(e,t.endContainer)},vR=function(e,t){var r=Wn(e.dom,ne.fromRangeStart(t)).isNone(),n=xn(e.dom,ne.fromRangeEnd(t)).isNone();return!dR(e,t)&&r&&n},pR=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},hR=function(e){var t=W.fromDom(e.getBody()),r=e.selection.getRng();return vR(t,r)?pR(e):cR(t,e.selection)},Pl=function(e,t){return e.selection.isCollapsed()?!1:hR(e)},mR=Ln,gR=zt,ua=function(e,t,r,n,a){return R.from(t._selectionOverrides.showCaret(e,r,n,a))},bR=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},Eo=function(e,t){var r=e.fire("BeforeObjectSelected",{target:t});return r.isDefaultPrevented()?R.none():R.some(bR(t))},gy=function(e,t,r){var n=Rc(1,e.getBody(),t),a=ne.fromRangeStart(n),i=a.getNode();if(pu(i))return ua(1,e,i,!a.isAtEnd(),!1);var o=a.getNode(!0);if(pu(o))return ua(1,e,o,!1,!1);var u=e.dom.getParent(a.getNode(),function(s){return gR(s)||mR(s)});return pu(u)?ua(1,e,u,!1,r):R.none()},dv=function(e,t,r){return t.collapsed?gy(e,t,r).getOr(t):t},yR=function(e){return Ta(e)||yo(e)},wR=function(e){return Ba(e)||wo(e)},CR=function(e,t){We(t)&&t.data.length===0&&e.remove(t)},by=function(e,t,r,n,a,i){return ua(n,e,i.getNode(!a),a,!0).each(function(o){if(t.collapsed){var u=t.cloneRange();a?u.setEnd(o.startContainer,o.startOffset):u.setStart(o.endContainer,o.endOffset),u.deleteContents()}else t.deleteContents();e.selection.setRng(o)}),CR(e.dom,r),!0},kR=function(e,t){var r=e.selection.getRng();if(!We(r.commonAncestorContainer))return!1;var n=t?or.Forwards:or.Backwards,a=_n(e.getBody()),i=Be(Dc,t?a.next:a.prev),o=t?yR:wR,u=gu(n,e.getBody(),r),s=an(t,i(u));if(!s||!Ws(u,s))return!1;if(o(s))return by(e,r,u.getNode(),n,t,s);var c=i(s);return c&&o(c)&&Ws(s,c)?by(e,r,u.getNode(),n,t,c):!1},Al=function(e,t){return kR(e,t)},SR=function(e){return ms(W.fromDom(e))||tu(W.fromDom(e))},Xr=ma.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),ER=function(e,t){var r=t.getNode(e===!1),n=e?"after":"before";return at(r)&&r.getAttribute("data-mce-caret")===n},_R=function(e,t,r,n){var a=function(i){return $f(W.fromDom(i))&&!Un(r,n,e)};return nm(!t,r).fold(function(){return nm(t,n).fold(Et,a)},a)},yy=function(e,t,r,n){var a=n.getNode(t===!1);return xl(W.fromDom(e),W.fromDom(r.getNode())).map(function(i){return Kr(i)?Xr.remove(i.dom):Xr.moveToElement(a)}).orThunk(function(){return R.some(Xr.moveToElement(a))})},wy=function(e,t,r){return nn(t,e,r).bind(function(n){return SR(n.getNode())||_R(e,t,r,n)?R.none():t&&zt(n.getNode())||t===!1&&zt(n.getNode(!0))?yy(e,t,r,n):t&&Ba(r)||t===!1&&Ta(r)?R.some(Xr.moveToPosition(n)):R.none()})},xR=function(e,t){return e&&zt(t.nextSibling)?R.some(Xr.moveToElement(t.nextSibling)):e===!1&&zt(t.previousSibling)?R.some(Xr.moveToElement(t.previousSibling)):R.none()},NR=function(e,t,r){return r.fold(function(n){return R.some(Xr.remove(n))},function(n){return R.some(Xr.moveToElement(n))},function(n){return Un(t,n,e)?R.none():R.some(Xr.moveToPosition(n))})},PR=function(e,t,r){return ER(t,r)?xR(t,r.getNode(t===!1)).fold(function(){return wy(e,t,r)},R.some):wy(e,t,r).bind(function(n){return NR(e,r,n)})},AR=function(e,t,r){var n=Rc(t?1:-1,e,r),a=ne.fromRangeStart(n),i=W.fromDom(e);return t===!1&&Ba(a)?R.some(Xr.remove(a.getNode(!0))):t&&Ta(a)?R.some(Xr.remove(a.getNode())):t===!1&&Ta(a)&&Sd(i,a)?B2(i,a).map(function(o){return Xr.remove(o.getNode())}):t&&Ba(a)&&kd(i,a)?R2(i,a).map(function(o){return Xr.remove(o.getNode())}):PR(e,t,a)},OR=function(e,t){return function(r){return e._selectionOverrides.hideFakeCaret(),pi(e,t,W.fromDom(r)),!0}},TR=function(e,t){return function(r){var n=t?ne.before(r):ne.after(r);return e.selection.setRng(n.toRange()),!0}},BR=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},Cy=function(e,t){return R.from(Cu(e.getBody(),t))},RR=function(e,t){var r=e.selection.getNode();return Cy(e,r).filter(zt).fold(function(){return AR(e.getBody(),t,e.selection.getRng()).exists(function(n){return n.fold(OR(e,t),TR(e,t),BR(e))})},Jt)},DR=function(e){He(Ur(e,".mce-offscreen-selection"),yr)},IR=function(e,t){var r=e.selection.getNode();if(zt(r)){var n=Cy(e,r.parentNode).filter(zt);return n.fold(function(){return DR(W.fromDom(e.getBody())),pi(e,t,W.fromDom(e.selection.getNode())),fy(e),!0},Jt)}return!1},ky=function(e){var t=e.dom,r=e.selection,n=Cu(e.getBody(),r.getNode());if(Ln(n)&&t.isBlock(n)&&t.isEmpty(n)){var a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(n,""),n.appendChild(a),r.setRng(ne.before(a).toRange())}return!0},Ol=function(e,t){return e.selection.isCollapsed()?RR(e,t):IR(e,t)},FR=function(e,t){var r=ne.fromRangeStart(e.selection.getRng());return nn(t,e.getBody(),r).filter(function(n){return t?k2(n):S2(n)}).bind(function(n){return R.from(Bc(t?0:-1,n))}).exists(function(n){return e.selection.select(n),!0})},Tl=function(e,t){return e.selection.isCollapsed()?FR(e,t):!1},_o=We,Sy=function(e){return _o(e)&&e.data[0]===dr},Ey=function(e){return _o(e)&&e.data[e.data.length-1]===dr},_y=function(e){return e.ownerDocument.createTextNode(dr)},LR=function(e){if(_o(e.previousSibling))return Ey(e.previousSibling)||e.previousSibling.appendData(dr),e.previousSibling;if(_o(e))return Sy(e)||e.insertData(0,dr),e;var t=_y(e);return e.parentNode.insertBefore(t,e),t},zR=function(e){if(_o(e.nextSibling))return Sy(e.nextSibling)||e.nextSibling.insertData(0,dr),e.nextSibling;if(_o(e))return Ey(e)||e.appendData(dr),e;var t=_y(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},Bl=function(e,t){return e?LR(t):zR(t)},MR=Be(Bl,!0),$R=Be(Bl,!1),xy=function(e,t){return We(e.container())?Bl(t,e.container()):Bl(t,e.getNode())},Ny=function(e,t){var r=t.get();return r&&e.container()===r&&Gi(r)},vv=function(e,t){return t.fold(function(r){li(e.get());var n=MR(r);return e.set(n),R.some(ne(n,n.length-1))},function(r){return Rr(r).map(function(n){if(Ny(n,e))return ne(e.get(),1);li(e.get());var a=xy(n,!0);return e.set(a),ne(a,1)})},function(r){return Vn(r).map(function(n){if(Ny(n,e))return ne(e.get(),e.get().length-1);li(e.get());var a=xy(n,!1);return e.set(a),ne(a,a.length-1)})},function(r){li(e.get());var n=$R(r);return e.set(n),R.some(ne(n,1))})},Py=function(e,t){for(var r=0;r<e.length;r++){var n=e[r].apply(null,t);if(n.isSome())return n}return R.none()},Pr=ma.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Ay=function(e,t){var r=Aa(t,e);return r||e},jR=function(e,t,r){var n=sy(r),a=Ay(t,n.container());return Da(e,a,n).fold(function(){return xn(a,n).bind(Be(Da,e,a)).map(function(i){return Pr.before(i)})},R.none)},UR=function(e,t){return di(e,t)===null},Oy=function(e,t,r){return Da(e,t,r).filter(Be(UR,t))},HR=function(e,t,r){var n=ly(r);return Oy(e,t,n).bind(function(a){var i=Wn(a,n);return i.isNone()?R.some(Pr.start(a)):R.none()})},WR=function(e,t,r){var n=sy(r);return Oy(e,t,n).bind(function(a){var i=xn(a,n);return i.isNone()?R.some(Pr.end(a)):R.none()})},VR=function(e,t,r){var n=ly(r),a=Ay(t,n.container());return Da(e,a,n).fold(function(){return Wn(a,n).bind(Be(Da,e,a)).map(function(i){return Pr.after(i)})},R.none)},Ty=function(e){return WB(pv(e))===!1},Gn=function(e,t,r){var n=Py([jR,HR,WR,VR],[e,t,r]);return n.filter(Ty)},pv=function(e){return e.fold(Lr,Lr,Lr,Lr)},By=function(e){return e.fold(qe("before"),qe("start"),qe("end"),qe("after"))},Rl=function(e){return e.fold(Pr.before,Pr.before,Pr.after,Pr.after)},hv=function(e){return e.fold(Pr.start,Pr.start,Pr.end,Pr.end)},qR=function(e,t){return By(e)===By(t)&&pv(e)===pv(t)},KR=function(e,t,r,n,a,i){return Hr(Da(t,r,n),Da(t,r,a),function(o,u){return o!==u&&qB(r,o,u)?Pr.after(e?o:u):i}).getOr(i)},GR=function(e,t){return e.fold(Jt,function(r){return!qR(r,t)})},ZR=function(e,t,r,n,a){var i=an(e,a),o=nn(e,r,i).map(Be(an,e)),u=o.fold(function(){return n.map(Rl)},function(s){return Gn(t,r,s).map(Be(KR,e,t,r,i,s)).filter(Be(GR,n))});return u.filter(Ty)},XR=function(e,t){return e?t.fold(mn(R.some,Pr.start),R.none,mn(R.some,Pr.after),R.none):t.fold(R.none,mn(R.some,Pr.before),R.none,mn(R.some,Pr.end))},mv=function(e,t,r,n){var a=an(e,n),i=Gn(t,r,a);return Gn(t,r,a).bind(Be(XR,e)).orThunk(function(){return ZR(e,t,r,i,n)})};Be(mv,!1),Be(mv,!0);var YR=function(e){return Qt(e.selection.getSel().modify)},Ry=function(e,t,r){var n=e?1:-1;return t.setRng(ne(r.container(),r.offset()+n).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},QR=function(e,t){var r=t.selection.getRng(),n=e?ne.fromRangeEnd(r):ne.fromRangeStart(r);return YR(t)?e&&Wf(n)?Ry(!0,t.selection,n):!e&&Vf(n)?Ry(!1,t.selection,n):!1:!1},Zn;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Zn||(Zn={}));var Dl=function(e,t){return e===or.Backwards?Ri(t):t},JR=function(e,t,r){return e===or.Forwards?t.next(r):t.prev(r)},eD=function(e,t,r,n){return Xt(n.getNode(t===or.Forwards))?Zn.Br:Un(r,n)===!1?Zn.Block:Zn.Wrap},Dy=function(e,t,r,n){for(var a=_n(r),i=n,o,u=[];i&&(o=JR(t,a,i),!!o);){if(Xt(o.getNode(!1)))return t===or.Forwards?{positions:Dl(t,u).concat([o]),breakType:Zn.Br,breakAt:R.some(o)}:{positions:Dl(t,u),breakType:Zn.Br,breakAt:R.some(o)};if(!o.isVisible()){i=o;continue}if(e(i,o)){var s=eD(r,t,i,o);return{positions:Dl(t,u),breakType:s,breakAt:R.some(o)}}u.push(o),i=o}return{positions:Dl(t,u),breakType:Zn.Eol,breakAt:R.none()}},Iy=function(e,t,r,n){return t(r,n).breakAt.map(function(a){var i=t(r,a).positions;return e===or.Backwards?i.concat(a):[a].concat(i)}).getOr([])},gv=function(e,t){return Qr(e,function(r,n){return r.fold(function(){return R.some(n)},function(a){return Hr(zr(a.getClientRects()),zr(n.getClientRects()),function(i,o){var u=Math.abs(t-i.left),s=Math.abs(t-o.left);return s<=u?n:a}).or(r)})},R.none())},Fy=function(e,t){return zr(t.getClientRects()).bind(function(r){return gv(e,r.left)})},Au=Be(Dy,ne.isAbove,-1),Ou=Be(Dy,ne.isBelow,1),tD=function(e,t){return Au(e,t).breakAt.isNone()},rD=function(e,t){return Ou(e,t).breakAt.isNone()},nD=Be(Iy,-1,Au),aD=Be(Iy,1,Ou),iD=function(e){return Rr(e).map(function(t){return[t].concat(Ou(e,t).positions)}).getOr([])},oD=function(e){return Vn(e).map(function(t){return Au(e,t).positions.concat(t)}).getOr([])},uD=function(e){var t=function(n){return It(n,function(a){return a=ui(a),a.node=e,a})};if(at(e))return t(e.getClientRects());if(We(e)){var r=e.ownerDocument.createRange();return r.setStart(e,0),r.setEnd(e,e.data.length),t(r.getClientRects())}},bv=function(e){return Va(e,uD)},yi;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(yi||(yi={}));var sD=function(e,t,r,n){for(;n=lo(n,e,ws,t);)if(r(n))return},Ly=function(e,t,r,n,a,i){var o=0,u=[],s=function(h){var g,S,_;for(_=bv([h]),e===-1&&(_=_.reverse()),g=0;g<_.length;g++)if(S=_[g],!r(S,c)){if(u.length>0&&t(S,gn(u))&&o++,S.line=o,a(S))return!0;u.push(S)}},c=gn(i.getClientRects());if(!c)return u;var m=i.getNode();return s(m),sD(e,n,s,m),u},lD=function(e,t){return t.line>e},fD=function(e,t){return t.line===e},cD=Be(Ly,yi.Up,io,oo),dD=Be(Ly,yi.Down,oo,io),vD=function(e,t,r,n){var a=_n(t),i,o,u,s,c=[],m=0,h,g=function(_){return gn(_.getClientRects())};e===1?(i=a.next,o=oo,u=io,s=ne.after(n)):(i=a.prev,o=io,u=oo,s=ne.before(n));var S=g(s);do if(!!s.isVisible()&&(h=g(s),!u(h,S))){if(c.length>0&&o(h,gn(c))&&m++,h=ui(h),h.position=s,h.line=m,r(h))return c;c.push(h)}while(s=i(s));return c},zy=function(e){return function(t){return lD(e,t)}},yv=function(e){return function(t){return fD(e,t)}},pD=zt,My=lo,wv=function(e,t){return Math.abs(e.left-t)},Cv=function(e,t){return Math.abs(e.right-t)},$y=function(e,t){return e>=t.left&&e<=t.right},hD=function(e,t){return e>=t.top&&e<=t.bottom},Il=function(e,t){return Ft(e,function(r,n){var a=Math.min(wv(r,t),Cv(r,t)),i=Math.min(wv(n,t),Cv(n,t));return $y(t,n)?n:$y(t,r)?r:i===a&&pD(n.node)||i<a?n:r})},jy=function(e,t,r,n,a){var i=My(n,e,ws,t,!a);do if(!i||r(i))return;while(i=My(i,e,ws,t))},mD=function(e,t,r){r===void 0&&(r=!0);var n=[],a=function(i,o){var u=mt(bv([o]),function(s){return!i(s,t)});return n=n.concat(u),u.length===0};return n.push(t),jy(yi.Up,e,Be(a,io),t.node,r),jy(yi.Down,e,Be(a,oo),t.node,r),n},gD=function(e){return mt(Dn(e.getElementsByTagName("*")),fi)},bD=function(e,t){return{node:e.node,before:wv(e,t)<Cv(e,t)}},yD=function(e,t,r){var n=bv(gD(e)),a=mt(n,Be(hD,r)),i=Il(a,t);if(i){var o=!Ui(i.node)&&!fn(i.node);if(i=Il(mD(e,i,o),t),i&&fi(i.node))return bD(i,t)}return null},sa=function(e,t){e.selection.setRng(t),el(e,e.selection.getRng())},kv=function(e,t,r){return R.some(dv(e,t,r))},Uy=function(e,t,r,n,a,i){var o=t===or.Forwards,u=_n(e.getBody()),s=Be(Dc,o?u.next:u.prev),c=o?n:a;if(!r.collapsed){var m=zs(r);if(i(m))return ua(t,e,m,t===or.Backwards,!1)}var h=gu(t,e.getBody(),r);if(c(h))return Eo(e,h.getNode(!o));var g=an(o,s(h)),S=jw(r);if(!g)return S?R.some(r):R.none();if(c(g))return ua(t,e,g.getNode(!o),o,!1);var _=s(g);return _&&c(_)&&Ws(g,_)?ua(t,e,_.getNode(!o),o,!1):S?kv(e,g.toRange(),!1):R.none()},Hy=function(e,t,r,n,a,i){var o=gu(t,e.getBody(),r),u=gn(o.getClientRects()),s=t===yi.Down;if(!u)return R.none();var c=s?dD:cD,m=c(e.getBody(),zy(1),o),h=mt(m,yv(1)),g=u.left,S=Il(h,g);if(S&&i(S.node)){var _=Math.abs(g-S.left),x=Math.abs(g-S.right);return ua(t,e,S.node,_<x,!1)}var C;if(n(o)?C=o.getNode():a(o)?C=o.getNode(!0):C=zs(r),C){var B=vD(t,e.getBody(),zy(1),C),T=Il(mt(B,yv(1)),g);if(T||(T=gn(mt(B,yv(0))),T))return kv(e,T.position.toRange(),!1)}return h.length===0?Sv(e,s).filter(s?a:n).map(function(z){return dv(e,z.toRange(),!1)}):R.none()},Sv=function(e,t){var r=e.selection.getRng(),n=e.getBody();if(t){var a=ne.fromRangeEnd(r),i=Ou(n,a);return Rn(i.positions)}else{var a=ne.fromRangeStart(r),i=Au(n,a);return zr(i.positions)}},Wy=function(e,t,r){return Sv(e,t).filter(r).exists(function(n){return e.selection.setRng(n.toRange()),!0})},Fl=function(e,t){var r=e.dom.createRng();r.setStart(t.container(),t.offset()),r.setEnd(t.container(),t.offset()),e.selection.setRng(r)},Vy=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},qy=function(e,t,r){return vv(t,r).map(function(n){return Fl(e,n),r})},wD=function(e,t,r){var n=e.getBody(),a=ne.fromRangeStart(e.selection.getRng()),i=Be(bi,e),o=mv(r,i,n,a);return o.bind(function(u){return qy(e,t,u)})},CD=function(e,t,r){var n=It(Ur(W.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(o){return o.dom}),a=mt(n,e),i=mt(r,e);He(ca(a,i),Be(Vy,!1)),He(ca(i,a),Be(Vy,!0))},kD=function(e,t){if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){var r=ne.fromRangeStart(e.selection.getRng());ne.isTextPosition(r)&&KB(r)===!1&&(Fl(e,cE(t.get(),r)),t.set(null))}},SD=function(e,t,r,n){if(t.selection.isCollapsed()){var a=mt(n,e);He(a,function(i){var o=ne.fromRangeStart(t.selection.getRng());Gn(e,t.getBody(),o).bind(function(u){return qy(t,r,u)})})}},Ky=function(e,t,r){return vu(e)?wD(e,t,r).isSome():!1},Gy=function(e,t,r){return vu(t)?QR(e,t):!1},ED=function(e){var t=tr(null),r=Be(bi,e);return e.on("NodeChange",function(n){vu(e)&&!(Y.browser.isIE()&&n.initial)&&(CD(r,e.dom,n.parents),kD(e,t),SD(r,e,t,n.parents))}),t},_D=Be(Gy,!0),xD=Be(Gy,!1),Ll=function(e,t,r){if(vu(e)){var n=Sv(e,t).getOrThunk(function(){var a=e.selection.getRng();return t?ne.fromRangeEnd(a):ne.fromRangeStart(a)});return Gn(Be(bi,e),e.getBody(),n).exists(function(a){var i=Rl(a);return vv(r,i).exists(function(o){return Fl(e,o),!0})})}else return!1},ND=function(e,t){var r=document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r},PD=function(e){return Hr(Rr(e),Vn(e),function(t,r){var n=an(!0,t),a=an(!1,r);return xn(e,n).forall(function(i){return i.isEqual(a)})}).getOr(!0)},Zy=function(e,t){return function(r){return vv(t,r).exists(function(n){return Fl(e,n),!0})}},Xy=function(e,t,r,n){var a=e.getBody(),i=Be(bi,e);e.undoManager.ignore(function(){e.selection.setRng(ND(r,n)),e.execCommand("Delete"),Gn(i,a,ne.fromRangeStart(e.selection.getRng())).map(hv).map(Zy(e,t))}),e.nodeChanged()},AD=function(e,t){var r=Aa(t,e);return r||e},OD=function(e,t,r,n){var a=AD(e.getBody(),n.container()),i=Be(bi,e),o=Gn(i,a,n);return o.bind(function(u){return r?u.fold(qe(R.some(hv(u))),R.none,qe(R.some(Rl(u))),R.none):u.fold(R.none,qe(R.some(Rl(u))),R.none,qe(R.some(hv(u))))}).map(Zy(e,t)).getOrThunk(function(){var u=qs(r,a,n),s=u.bind(function(c){return Gn(i,a,c)});return Hr(o,s,function(){return Da(i,a,n).exists(function(c){return PD(c)?(pi(e,r,W.fromDom(c)),!0):!1})}).orThunk(function(){return s.bind(function(c){return u.map(function(m){return r?Xy(e,t,n,m):Xy(e,t,m,n),!0})})}).getOr(!1)})},zl=function(e,t,r){if(e.selection.isCollapsed()&&vu(e)){var n=ne.fromRangeStart(e.selection.getRng());return OD(e,t,r,n)}return!1},TD=function(e,t){var r=oa(t,e);return Bi(r,zn).fold(qe(r),function(n){return r.slice(0,n)})},BD=function(e){return jr(e).length===1},RD=function(e,t,r,n){var a=Be(FP,t),i=It(mt(n,a),function(u){return u.dom});if(i.length===0)pi(t,e,r);else{var o=IP(r.dom,i);t.selection.setRng(o.toRange())}},DD=function(e,t){var r=W.fromDom(e.getBody()),n=W.fromDom(e.selection.getStart()),a=mt(TD(r,n),BD);return Rn(a).exists(function(i){var o=ne.fromRangeStart(e.selection.getRng());return XB(t,o,i.dom)&&!LP(i)?(RD(t,e,i,a),!0):!1})},Ml=function(e,t){return e.selection.isCollapsed()?DD(e,t):!1},Ev=function(e,t,r){return e._selectionOverrides.hideFakeCaret(),pi(e,t,W.fromDom(r)),!0},ID=function(e,t){var r=t?yo:wo,n=t?or.Forwards:or.Backwards,a=gu(n,e.getBody(),e.selection.getRng());return r(a)?Ev(e,t,a.getNode(!t)):R.from(an(t,a)).filter(function(i){return r(i)&&Ws(a,i)}).exists(function(i){return Ev(e,t,i.getNode(!t))})},FD=function(e,t){var r=e.selection.getNode();return fn(r)?Ev(e,t,r):!1},$l=function(e,t){return e.selection.isCollapsed()?ID(e,t):FD(e,t)},LD=function(e){return vs(e,function(t){return Ln(t.dom)||zt(t.dom)}).exists(function(t){return Ln(t.dom)})},_v=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},Yy=function(e,t){var r=e||Tw(t)?"margin":"padding",n=ra(t,"direction")==="rtl"?"-right":"-left";return r+n},zD=function(e,t,r,n,a,i){var o=Yy(r,W.fromDom(i));if(t==="outdent"){var u=Math.max(0,_v(i.style[o])-n);e.setStyle(i,o,u?u+a:"")}else{var u=_v(i.style[o])+n+a;e.setStyle(i,o,u)}},MD=function(e,t){return qa(t,function(r){var n=Yy(jh(e),r),a=If(r,n).map(_v).getOr(0),i=e.dom.getContentEditable(r.dom);return i!=="false"&&a>0})},Qy=function(e){var t=e0(e);return!e.mode.isReadOnly()&&(t.length>1||MD(e,t))},Jy=function(e){return jf(e)||tu(e)},$D=function(e){return _r(e).map(Jy).getOr(!1)},e0=function(e){return mt(It(e.selection.getSelectedBlocks(),W.fromDom),function(t){return!Jy(t)&&!$D(t)&&LD(t)})},t0=function(e,t){var r=e.dom,n=e.selection,a=e.formatter,i=TS(e),o=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),s=jh(e),c=kr(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&c===""&&!r.getParent(n.getNode(),r.isBlock)&&a.apply("div"),He(e0(e),function(m){zD(r,t,s,u,o,m.dom)})},r0=function(e,t){if(e.selection.isCollapsed()&&Qy(e)){var r=e.dom,n=e.selection.getRng(),a=ne.fromRangeStart(n),i=r.getParent(n.startContainer,r.isBlock);if(i!==null&&Cd(W.fromDom(i),a))return t0(e,"outdent"),!0}return!1},n0=function(e,t){e.getDoc().execCommand(t,!1,null)},jD=function(e,t){if(!r0(e)){if(Ol(e,!1))return;if(Al(e,!1))return;if(zl(e,t,!1))return;if(Nl(e,!1))return;if(vl(e))return;if(Tl(e,!1))return;if($l(e,!1))return;if(Pl(e))return;if(Ml(e,!1))return;n0(e,"Delete"),fy(e)}},UD=function(e,t){if(!Ol(e,!0)){if(Al(e,!0))return;if(zl(e,t,!0))return;if(Nl(e,!0))return;if(vl(e))return;if(Tl(e,!0))return;if($l(e,!0))return;if(Pl(e))return;if(Ml(e,!0))return;n0(e,"ForwardDelete")}},HD=function(e,t){e.addCommand("delete",function(){jD(e,t)}),e.addCommand("forwardDelete",function(){UD(e,t)})},a0=5,WD=400,i0=function(e){return e.touches===void 0||e.touches.length!==1?R.none():R.some(e.touches[0])},VD=function(e,t){var r=Math.abs(e.clientX-t.x),n=Math.abs(e.clientY-t.y);return r>a0||n>a0},qD=function(e){var t=tr(R.none()),r=tr(!1),n=eh(function(a){e.fire("longpress",st(st({},a),{type:"longpress"})),r.set(!0)},WD);e.on("touchstart",function(a){i0(a).each(function(i){n.cancel();var o={x:i.clientX,y:i.clientY,target:a.target};n.throttle(a),r.set(!1),t.set(R.some(o))})},!0),e.on("touchmove",function(a){n.cancel(),i0(a).each(function(i){t.get().each(function(o){VD(i,o)&&(t.set(R.none()),r.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(a){n.cancel(),a.type!=="touchcancel"&&t.get().filter(function(i){return i.target.isEqualNode(a.target)}).each(function(){r.get()?a.preventDefault():e.fire("tap",st(st({},a),{type:"tap"}))})},!0)},xv=function(e,t){return e.hasOwnProperty(t.nodeName)},KD=function(e,t){return We(t)?!0:at(t)?!xv(e,t)&&!Zr(t):!1},GD=function(e,t,r){return Br(bg(W.fromDom(r),W.fromDom(t)),function(n){return xv(e,n.dom)})},ZD=function(e,t){if(We(t)){if(t.nodeValue.length===0)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||xv(e,t.nextSibling)))return!0}return!1},XD=function(e){var t=e.dom,r=e.selection,n=e.schema,a=n.getBlockElements(),i=r.getStart(),o=e.getBody(),u,s,c,m=kr(e);if(!(!i||!at(i)||!m)){var h=o.nodeName.toLowerCase();if(!(!n.isValidChild(h,m.toLowerCase())||GD(a,o,i))){var g=r.getRng(),S=g.startContainer,_=g.startOffset,x=g.endContainer,C=g.endOffset,B=vi(e);for(i=o.firstChild;i;)if(KD(a,i)){if(ZD(a,i)){s=i,i=i.nextSibling,t.remove(s);continue}u||(u=t.create(m,cu(e)),i.parentNode.insertBefore(u,i),c=!0),s=i,i=i.nextSibling,u.appendChild(s)}else u=null,i=i.nextSibling;c&&B&&(g.setStart(S,_),g.setEnd(x,C),r.setRng(g),e.nodeChanged())}}},YD=function(e){kr(e)&&e.on("NodeChange",Be(XD,e))},QD=function(e){return hs(W.fromDom(e.getBody()),"*[data-mce-caret]").fold(qe(null),function(t){return t.dom})},JD=function(e){e.selection.setRng(e.selection.getRng())},o0=function(e,t){t.hasAttribute("data-mce-caret")&&(qf(t),JD(e),e.selection.scrollIntoView(t))},eI=function(e,t){var r=QD(e);if(!!r){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),o0(e,r);return}wp(r)&&(o0(e,r),e.undoManager.add())}},tI=function(e){e.on("keyup compositionstart",Be(eI,e))},u0=zt,rI=function(e,t,r){return Uy(t,e,r,Ta,Ba,u0)},nI=function(e,t,r){var n=function(i){return Ta(i)||mg(i)},a=function(i){return Ba(i)||gg(i)};return Hy(t,e,r,n,a,u0)},aI=function(e){var t=e.dom.create(kr(e));return(!Y.ie||Y.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},s0=function(e,t,r){var n=_n(e.getBody()),a=Be(Dc,t===1?n.next:n.prev);if(r.collapsed&&XS(e)){var i=e.dom.getParent(r.startContainer,"PRE");if(!i)return;var o=a(ne.fromRangeStart(r));if(!o){var u=aI(e);t===1?e.$(i).after(u):e.$(i).before(u),e.selection.select(u,!0),e.selection.collapse()}}},iI=function(e,t){var r=t?or.Forwards:or.Backwards,n=e.selection.getRng();return rI(r,e,n).orThunk(function(){return s0(e,r,n),R.none()})},oI=function(e,t){var r=t?1:-1,n=e.selection.getRng();return nI(r,e,n).orThunk(function(){return s0(e,r,n),R.none()})},l0=function(e,t){return iI(e,t).exists(function(r){return sa(e,r),!0})},f0=function(e,t){return oI(e,t).exists(function(r){return sa(e,r),!0})},c0=function(e,t){var r=t?Ba:Ta;return Wy(e,t,r)},uI=function(e){return er(["figcaption"],ye(e))},d0=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},v0=function(e,t,r){r?br(e,t):qv(e,t)},sI=function(e,t){var r=W.fromTag("br");return v0(e,r,t),d0(r)},lI=function(e,t,r,n){var a=W.fromTag(r),i=W.fromTag("br");return ha(a,n),br(a,i),v0(e,a,t),d0(i)},fI=function(e,t,r,n){return t===""?sI(e,n):lI(e,n,t,r)},cI=function(e,t){var r=Be(ae,t);return vs(W.fromDom(e.container()),zn,r).filter(uI)},dI=function(e,t,r){return t?rD(e.dom,r):tD(e.dom,r)},vI=function(e,t){var r=W.fromDom(e.getBody()),n=ne.fromRangeStart(e.selection.getRng()),a=kr(e),i=cu(e);return cI(n,r).exists(function(){if(dI(r,t,n)){var o=fI(r,a,i,t);return e.selection.setRng(o),!0}else return!1})},p0=function(e,t){return e.selection.isCollapsed()?vI(e,t):!1},pI=function(e){return It(e,function(t){return st({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:ot},t)})},hI=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},mI=function(e,t){return Va(pI(e),function(r){return hI(r,t)?[r]:[]})},ct=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(null,t)}},xo=function(e,t){return hr(mI(e,t),function(r){return r.action()})},h0=function(e,t){var r=t?or.Forwards:or.Backwards,n=e.selection.getRng();return Uy(e,r,n,yo,wo,fn).exists(function(a){return sa(e,a),!0})},m0=function(e,t){var r=t?1:-1,n=e.selection.getRng();return Hy(e,r,n,yo,wo,fn).exists(function(a){return sa(e,a),!0})},g0=function(e,t){var r=t?wo:yo;return Wy(e,t,r)},gI=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}},bI=function(e,t){return Va(t,function(r){var n=gI(ui(r.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:r},{x:n.right,y:e(n),cell:r}]})},yI=function(e,t,r){return Qr(e,function(n,a){return n.fold(function(){return R.some(a)},function(i){var o=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-r)),u=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-r));return R.some(u<o?a:i)})},R.none())},b0=function(e,t,r,n,a){var i=Ur(W.fromDom(r),"td,th,caption").map(function(u){return u.dom}),o=mt(bI(e,i),function(u){return t(u,a)});return yI(o,n,a).map(function(u){return u.cell})},wI=function(e){return e.bottom},CI=function(e){return e.top},kI=function(e,t){return e.y<t},SI=function(e,t){return e.y>t},EI=Be(b0,wI,kI),_I=Be(b0,CI,SI),xI=function(e,t){return zr(t.getClientRects()).bind(function(r){return EI(e,r.left,r.top)}).bind(function(r){return Fy(oD(r),t)})},NI=function(e,t){return Rn(t.getClientRects()).bind(function(r){return _I(e,r.left,r.top)}).bind(function(r){return Fy(iD(r),t)})},PI=function(e,t,r){return r.breakAt.exists(function(n){return e(t,n).breakAt.isSome()})},AI=function(e){return e.breakType===Zn.Wrap&&e.positions.length===0},OI=function(e){return e.breakType===Zn.Br&&e.positions.length===1},y0=function(e,t,r){var n=e(t,r);return AI(n)||!Xt(r.getNode())&&OI(n)?!PI(e,t,n):n.breakAt.isNone()},TI=Be(y0,Au),BI=Be(y0,Ou),RI=function(e,t,r){var n=ne.fromRangeStart(t);return co(!e,r).exists(function(a){return a.isEqual(n)})},DI=function(e,t,r,n){var a=e.selection.getRng(),i=t?1:-1;return Yh()&&RI(t,a,r)?(ua(i,e,r,!t,!1).each(function(o){sa(e,o)}),!0):!1},II=function(e,t,r){return xI(t,r).orThunk(function(){return zr(r.getClientRects()).bind(function(n){return gv(nD(e,ne.before(t)),n.left)})}).getOr(ne.before(t))},FI=function(e,t,r){return NI(t,r).orThunk(function(){return zr(r.getClientRects()).bind(function(n){return gv(aD(e,ne.after(t)),n.left)})}).getOr(ne.after(t))},w0=function(e,t){var r=t.getNode(e);return at(r)&&r.nodeName==="TABLE"?R.some(r):R.none()},LI=function(e,t,r,n){var a=kr(t);a?t.undoManager.transact(function(){var i=W.fromTag(a);ha(i,cu(t)),br(i,W.fromTag("br")),e?Zo(W.fromDom(r),i):wn(W.fromDom(r),i);var o=t.dom.createRng();o.setStart(i.dom,0),o.setEnd(i.dom,0),sa(t,o)}):sa(t,n.toRange())},C0=function(e,t,r){var n=w0(!!t,r),a=t===!1;n.fold(function(){return sa(e,r.toRange())},function(i){return co(a,e.getBody()).filter(function(o){return o.isEqual(r)}).fold(function(){return sa(e,r.toRange())},function(o){return LI(t,e,i,r)})})},zI=function(e,t,r,n){var a=e.selection.getRng(),i=ne.fromRangeStart(a),o=e.getBody();if(!t&&TI(n,i)){var u=II(o,r,i);return C0(e,t,u),!0}else if(t&&BI(n,i)){var u=FI(o,r,i);return C0(e,t,u),!0}else return!1},k0=function(e,t,r){return R.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return R.from(e.dom.getParent(n,"table")).map(function(a){return r(e,t,a,n)})}).getOr(!1)},S0=function(e,t){return k0(e,t,DI)},E0=function(e,t){return k0(e,t,zI)},MI=function(e,t,r){var n=F().os;xo([{keyCode:Ge.RIGHT,action:ct(l0,e,!0)},{keyCode:Ge.LEFT,action:ct(l0,e,!1)},{keyCode:Ge.UP,action:ct(f0,e,!1)},{keyCode:Ge.DOWN,action:ct(f0,e,!0)},{keyCode:Ge.RIGHT,action:ct(S0,e,!0)},{keyCode:Ge.LEFT,action:ct(S0,e,!1)},{keyCode:Ge.UP,action:ct(E0,e,!1)},{keyCode:Ge.DOWN,action:ct(E0,e,!0)},{keyCode:Ge.RIGHT,action:ct(h0,e,!0)},{keyCode:Ge.LEFT,action:ct(h0,e,!1)},{keyCode:Ge.UP,action:ct(m0,e,!1)},{keyCode:Ge.DOWN,action:ct(m0,e,!0)},{keyCode:Ge.RIGHT,action:ct(Ky,e,t,!0)},{keyCode:Ge.LEFT,action:ct(Ky,e,t,!1)},{keyCode:Ge.RIGHT,ctrlKey:!n.isOSX(),altKey:n.isOSX(),action:ct(_D,e,t)},{keyCode:Ge.LEFT,ctrlKey:!n.isOSX(),altKey:n.isOSX(),action:ct(xD,e,t)},{keyCode:Ge.UP,action:ct(p0,e,!1)},{keyCode:Ge.DOWN,action:ct(p0,e,!0)}],r).each(function(a){r.preventDefault()})},$I=function(e,t){e.on("keydown",function(r){r.isDefaultPrevented()===!1&&MI(e,t,r)})},jI=function(e,t,r){xo([{keyCode:Ge.BACKSPACE,action:ct(r0,e,!1)},{keyCode:Ge.BACKSPACE,action:ct(Ol,e,!1)},{keyCode:Ge.DELETE,action:ct(Ol,e,!0)},{keyCode:Ge.BACKSPACE,action:ct(Al,e,!1)},{keyCode:Ge.DELETE,action:ct(Al,e,!0)},{keyCode:Ge.BACKSPACE,action:ct(zl,e,t,!1)},{keyCode:Ge.DELETE,action:ct(zl,e,t,!0)},{keyCode:Ge.BACKSPACE,action:ct(vl,e,!1)},{keyCode:Ge.DELETE,action:ct(vl,e,!0)},{keyCode:Ge.BACKSPACE,action:ct(Tl,e,!1)},{keyCode:Ge.DELETE,action:ct(Tl,e,!0)},{keyCode:Ge.BACKSPACE,action:ct($l,e,!1)},{keyCode:Ge.DELETE,action:ct($l,e,!0)},{keyCode:Ge.BACKSPACE,action:ct(Pl,e,!1)},{keyCode:Ge.DELETE,action:ct(Pl,e,!0)},{keyCode:Ge.BACKSPACE,action:ct(Nl,e,!1)},{keyCode:Ge.DELETE,action:ct(Nl,e,!0)},{keyCode:Ge.BACKSPACE,action:ct(Ml,e,!1)},{keyCode:Ge.DELETE,action:ct(Ml,e,!0)}],r).each(function(n){r.preventDefault()})},UI=function(e,t){xo([{keyCode:Ge.BACKSPACE,action:ct(ky,e)},{keyCode:Ge.DELETE,action:ct(ky,e)}],t)},HI=function(e,t){e.on("keydown",function(r){r.isDefaultPrevented()===!1&&jI(e,t,r)}),e.on("keyup",function(r){r.isDefaultPrevented()===!1&&UI(e,r)})},WI=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Tu=function(e,t){var r,n=t,a=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!!t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var o=WI(t.firstChild);o&&/^(UL|OL|DL)$/.test(o.nodeName)&&t.insertBefore(a.doc.createTextNode(qr),t.firstChild)}var u=a.createRng();if(t.normalize(),t.hasChildNodes()){for(var s=new ar(t,t);r=s.current();){if(We(r)){u.setStart(r,0),u.setEnd(r,0);break}if(i[r.nodeName.toLowerCase()]){u.setStartBefore(r),u.setEndBefore(r);break}n=r,r=s.next()}r||(u.setStart(n,0),u.setEnd(n,0))}else Xt(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),el(e,u)}},VI=function(e,t){var r=e.getRoot(),n,a;for(n=t;n!==r&&e.getContentEditable(n)!=="false";)e.getContentEditable(n)==="true"&&(a=n),n=n.parentNode;return n!==r?a:r},Nv=function(e){return R.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},qI=function(e){return Nv(e).fold(qe(""),function(t){return t.nodeName.toUpperCase()})},KI=function(e){return Nv(e).filter(function(t){return tu(W.fromDom(t))}).isSome()},GI=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},ZI=function(e){var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},_0=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},x0=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},XI=function(e){return x0(e)&&x0(e.parentNode)},jl=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},Ul=function(e,t,r){for(var n=e[r?"firstChild":"lastChild"];n&&!at(n);)n=n[r?"nextSibling":"previousSibling"];return n===t},YI=function(e,t,r,n,a){var i=e.dom,o=e.selection.getRng();if(r!==e.getBody()){XI(r)&&(a="LI");var u=a?t(a):i.create("BR");if(Ul(r,n,!0)&&Ul(r,n,!1))if(_0(r,"LI")){var s=jl(r);i.insertAfter(u,s),ZI(r)?i.remove(s):i.remove(r)}else i.replace(u,r);else if(Ul(r,n,!0))_0(r,"LI")?(i.insertAfter(u,jl(r)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(r)):r.parentNode.insertBefore(u,r),i.remove(n);else if(Ul(r,n,!1))i.insertAfter(u,jl(r)),i.remove(n);else{r=jl(r);var c=o.cloneRange();c.setStartAfter(n),c.setEndAfter(r);var m=c.extractContents();a==="LI"&&GI(m,"LI")?(u=m.firstChild,i.insertAfter(m,r)):(i.insertAfter(m,r),i.insertAfter(u,r)),i.remove(n)}Tu(e,u)}},QI=function(e){He(rh(W.fromDom(e),Re),function(t){var r=t.dom;r.nodeValue=ba(r.nodeValue)})},JI=function(e,t){return t&&t.nodeName==="A"&&e.isEmpty(t)},e3=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Pv=function(e){e.innerHTML='<br data-mce-bogus="1">'},Av=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},N0=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true"},t3=function(e,t,r){var n=r,a=[],i;if(!!n){for(;n=n.firstChild;){if(e.isBlock(n))return;at(n)&&!t[n.nodeName.toLowerCase()]&&a.push(n)}for(i=a.length;i--;)n=a[i],(!n.hasChildNodes()||n.firstChild===n.lastChild&&n.firstChild.nodeValue===""||JI(e,n))&&e.remove(n)}},Ov=function(e,t,r){return We(t)===!1?r:e?r===1&&t.data.charAt(r-1)===dr?0:r:r===t.data.length-1&&t.data.charAt(r)===dr?t.data.length:r},r3=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,Ov(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,Ov(!1,e.endContainer,e.endOffset)),t},n3=function(e){do We(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},P0=function(e,t){var r=e.getRoot(),n,a;for(n=t;n!==r&&e.getContentEditable(n)!=="false";)e.getContentEditable(n)==="true"&&(a=n),n=n.parentNode;return n!==r?a:r},a3=function(e,t,r){var n=e.dom;R.from(r.style).map(n.parseStyle).each(function(s){var c=ip(W.fromDom(t)),m=st(st({},c),s);n.setStyles(t,m)});var a=R.from(r.class).map(function(s){return s.split(/\s+/)}),i=R.from(t.className).map(function(s){return mt(s.split(/\s+/),function(c){return c!==""})});Hr(a,i,function(s,c){var m=mt(c,function(g){return!er(s,g)}),h=Lo(s,m);n.setAttrib(t,"class",h.join(" "))});var o=["style","class"],u=Ka(r,function(s,c){return!er(o,c)});n.setAttribs(t,u)},Bu=function(e,t){var r=kr(e);if(r&&r.toLowerCase()===t.tagName.toLowerCase()){var n=cu(e);a3(e,t,n)}},i3=function(e,t,r,n,a){var i,o,u,s,c,m,h=t||"P",g=e.dom,S=P0(g,n);if(o=g.getParent(n,g.isBlock),!o||!N0(g,o)){if(o=o||S,o===e.getBody()||e3(o)?m=o.nodeName.toLowerCase():m=o.parentNode.nodeName.toLowerCase(),!o.hasChildNodes())return i=g.create(h),Bu(e,i),o.appendChild(i),r.setStart(i,0),r.setEnd(i,0),i;for(s=n;s.parentNode!==o;)s=s.parentNode;for(;s&&!g.isBlock(s);)u=s,s=s.previousSibling;if(u&&e.schema.isValidChild(m,h.toLowerCase())){for(i=g.create(h),Bu(e,i),u.parentNode.insertBefore(i,u),s=u;s&&!g.isBlock(s);)c=s.nextSibling,i.appendChild(s),s=c;r.setStart(n,a),r.setEnd(n,a)}}return n},o3=function(e,t){t.normalize();var r=t.lastChild;(!r||/^(left|right)$/gi.test(e.getStyle(r,"float",!0)))&&e.add(t,"br")},u3=function(e,t){var r,n,a,i,o,u,s,c,m,h,g=e.dom,S=e.schema,_=S.getNonEmptyElements(),x=e.selection.getRng(),C=function(he){var ge=n,Le,$e,ce,Xe=S.getTextInlineElements();if(he||c==="TABLE"||c==="HR"?Le=g.create(he||m):Le=i.cloneNode(!1),ce=Le,gS(e)===!1)g.setAttrib(Le,"style",null),g.setAttrib(Le,"class",null);else do if(Xe[ge.nodeName]){if(qn(ge)||Zr(ge))continue;$e=ge.cloneNode(!1),g.setAttrib($e,"id",""),Le.hasChildNodes()?($e.appendChild(Le.firstChild),Le.appendChild($e)):(ce=$e,Le.appendChild($e))}while((ge=ge.parentNode)&&ge!==G);return Bu(e,Le),Pv(ce),Le},B=function(he){var ge,Le,$e=Ov(he,n,a);if(We(n)&&(he?$e>0:$e<n.nodeValue.length))return!1;if(n.parentNode===i&&h&&!he||he&&at(n)&&n===i.firstChild)return!0;if(Av(n,"TABLE")||Av(n,"HR"))return h&&!he||!h&&he;var ce=new ar(n,i);for(We(n)&&(he&&$e===0?ce.prev():!he&&$e===n.nodeValue.length&&ce.next());ge=ce.current();){if(at(ge)){if(!ge.getAttribute("data-mce-bogus")&&(Le=ge.nodeName.toLowerCase(),_[Le]&&Le!=="br"))return!1}else if(We(ge)&&!ti(ge.nodeValue))return!1;he?ce.prev():ce.next()}return!0},T=function(){/^(H[1-6]|PRE|FIGURE)$/.test(c)&&ie!=="HGROUP"?o=C(m):o=C(),bS(e)&&N0(g,s)&&g.isEmpty(i)?o=g.split(s,i):g.insertAfter(o,i),Tu(e,o)};Ys(g,x).each(function(he){x.setStart(he.startContainer,he.startOffset),x.setEnd(he.endContainer,he.endOffset)}),n=x.startContainer,a=x.startOffset,m=kr(e);var z=!!(t&&t.shiftKey),j=!!(t&&t.ctrlKey);at(n)&&n.hasChildNodes()&&(h=a>n.childNodes.length-1,n=n.childNodes[Math.min(a,n.childNodes.length-1)]||n,h&&We(n)?a=n.nodeValue.length:a=0);var G=P0(g,n);if(!!G){(m&&!z||!m&&z)&&(n=i3(e,m,x,n,a)),i=g.getParent(n,g.isBlock),s=i?g.getParent(i.parentNode,g.isBlock):null,c=i?i.nodeName.toUpperCase():"";var ie=s?s.nodeName.toUpperCase():"";if(ie==="LI"&&!j&&(i=s,s=s.parentNode,c=ie),/^(LI|DT|DD)$/.test(c)&&g.isEmpty(i)){YI(e,C,s,i,m);return}m&&i===e.getBody()||(m=m||"P",Ki(i)?(o=qf(i),g.isEmpty(i)&&Pv(i),Bu(e,o),Tu(e,o)):B()?T():B(!0)?(o=i.parentNode.insertBefore(C(),i),Tu(e,Av(i,"HR")?o:i)):(r=r3(x).cloneRange(),r.setEndAfter(i),u=r.extractContents(),QI(u),n3(u),o=u.firstChild,g.insertAfter(u,i),t3(g,_,o),o3(g,i),g.isEmpty(i)&&Pv(i),o.normalize(),g.isEmpty(o)?(g.remove(o),T()):(Bu(e,o),Tu(e,o))),g.setAttrib(o,"id",""),e.fire("NewBlock",{newBlock:o}))}},s3=function(e,t,r){for(var n=new ar(t,r),a,i=e.getNonEmptyElements();a=n.next();)if(i[a.nodeName.toLowerCase()]||a.length>0)return!0},A0=function(e,t,r){var n=e.dom.createRng();r?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),e.selection.setRng(n),el(e,n)},l3=function(e,t){var r=e.selection,n=e.dom,a=r.getRng(),i,o;Ys(n,a).each(function(_){a.setStart(_.startContainer,_.startOffset),a.setEnd(_.endContainer,_.endOffset)});var u=a.startOffset,s=a.startContainer;if(s.nodeType===1&&s.hasChildNodes()){var c=u>s.childNodes.length-1;s=s.childNodes[Math.min(u,s.childNodes.length-1)]||s,c&&s.nodeType===3?u=s.nodeValue.length:u=0}var m=n.getParent(s,n.isBlock),h=m?n.getParent(m.parentNode,n.isBlock):null,g=h?h.nodeName.toUpperCase():"",S=!!(t&&t.ctrlKey);g==="LI"&&!S&&(m=h),s&&s.nodeType===3&&u>=s.nodeValue.length&&(s3(e.schema,s,m)||(i=n.create("br"),a.insertNode(i),a.setStartAfter(i),a.setEndAfter(i),o=!0)),i=n.create("br"),xc(n,a,i),A0(e,i,o),e.undoManager.add()},f3=function(e,t){var r=W.fromTag("br");wn(W.fromDom(t),r),e.undoManager.add()},c3=function(e,t){v3(e.getBody(),t)||Zo(W.fromDom(t),W.fromTag("br"));var r=W.fromTag("br");Zo(W.fromDom(t),r),A0(e,r.dom,!1),e.undoManager.add()},d3=function(e){return Xt(e.getNode())},v3=function(e,t){return d3(ne.after(t))?!0:xn(e,ne.after(t)).map(function(r){return Xt(r.getNode())}).getOr(!1)},O0=function(e){return e&&e.nodeName==="A"&&"href"in e},p3=function(e){return e.fold(Et,O0,O0,Et)},h3=function(e){var t=Be(bi,e),r=ne.fromRangeStart(e.selection.getRng());return Gn(t,e.getBody(),r).filter(p3)},m3=function(e,t){t.fold(ot,Be(f3,e),Be(c3,e),ot)},T0=function(e,t){var r=h3(e);r.isSome()?r.each(Be(m3,e)):l3(e,t)},B0=function(e,t){return Nv(e).filter(function(r){return t.length>0&&Er(W.fromDom(r),t)}).isSome()},g3=function(e){return B0(e,hS(e))},b3=function(e){return B0(e,mS(e))},Yr=ma.generate([{br:[]},{block:[]},{none:[]}]),y3=function(e,t){return b3(e)},Tv=function(e){return function(t,r){var n=kr(t)==="";return n===e}},R0=function(e){return function(t,r){return KI(t)===e}},D0=function(e,t){return function(r,n){var a=qI(r)===e.toUpperCase();return a===t}},Hl=function(e){return D0("pre",e)},w3=function(){return D0("summary",!0)},Wl=function(e){return function(t,r){return pS(t)===e}},C3=function(e,t){return g3(e)},Ru=function(e,t){return t},I0=function(e){var t=kr(e),r=VI(e.dom,e.selection.getStart());return r&&e.schema.isValidChild(r.nodeName,t||"P")},on=function(e,t){return function(r,n){var a=Qr(e,function(i,o){return i&&o(r,n)},!0);return a?R.some(t):R.none()}},k3=function(e,t){return Py([on([y3],Yr.none()),on([w3()],Yr.br()),on([Hl(!0),Wl(!1),Ru],Yr.br()),on([Hl(!0),Wl(!1)],Yr.block()),on([Hl(!0),Wl(!0),Ru],Yr.block()),on([Hl(!0),Wl(!0)],Yr.br()),on([R0(!0),Ru],Yr.br()),on([R0(!0)],Yr.block()),on([Tv(!0),Ru,I0],Yr.block()),on([Tv(!0)],Yr.br()),on([C3],Yr.br()),on([Tv(!1),Ru],Yr.br()),on([I0],Yr.block())],[e,!!(t&&t.shiftKey)]).getOr(Yr.none())},F0=function(e,t){k3(e,t).fold(function(){T0(e,t)},function(){u3(e,t)},ot)},S3=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),GA(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),F0(e,t)}))},E3=function(e){e.on("keydown",function(t){t.keyCode===Ge.ENTER&&S3(e,t)})},_3=function(e,t,r){xo([{keyCode:Ge.END,action:ct(c0,e,!0)},{keyCode:Ge.HOME,action:ct(c0,e,!1)},{keyCode:Ge.END,action:ct(g0,e,!0)},{keyCode:Ge.HOME,action:ct(g0,e,!1)},{keyCode:Ge.END,action:ct(Ll,e,!0,t)},{keyCode:Ge.HOME,action:ct(Ll,e,!1,t)}],r).each(function(n){r.preventDefault()})},x3=function(e,t){e.on("keydown",function(r){r.isDefaultPrevented()===!1&&_3(e,t,r)})},N3=F().browser,P3=function(e){var t=yc(function(){e.composing||Ag(e)},0);N3.isIE()&&(e.on("keypress",function(r){t.throttle()}),e.on("remove",function(r){t.cancel()}))},A3=function(e){P3(e),e.on("input",function(t){t.isComposing===!1&&Ag(e)})},O3=F(),T3=function(e,t,r){xo([{keyCode:Ge.PAGE_UP,action:ct(Ll,e,!1,t)},{keyCode:Ge.PAGE_DOWN,action:ct(Ll,e,!0,t)}],r)},L0=function(e){return e.stopImmediatePropagation()},z0=function(e){return e.keyCode===Ge.PAGE_UP||e.keyCode===Ge.PAGE_DOWN},M0=function(e,t,r){r&&!e.get()?t.on("NodeChange",L0,!0):!r&&e.get()&&t.off("NodeChange",L0),e.set(r)},B3=function(e,t){if(!O3.os.isOSX()){var r=tr(!1);e.on("keydown",function(n){z0(n)&&M0(r,e,!0)}),e.on("keyup",function(n){n.isDefaultPrevented()===!1&&T3(e,t,n),z0(n)&&r.get()&&(M0(r,e,!1),e.nodeChanged())})}},$0=function(e,t){var r=t.container(),n=t.offset();return We(r)?(r.insertData(n,e),R.some(ne(r,n+e.length))):Hs(t).map(function(a){var i=W.fromText(e);return t.isAtEnd()?Zo(a,i):wn(a,i),ne(i.dom,e.length)})},R3=Be($0,qr),D3=Be($0," "),I3=function(e){return function(t){return t.fold(function(r){return Wn(e.dom,ne.before(r))},function(r){return Rr(r)},function(r){return Vn(r)},function(r){return xn(e.dom,ne.after(r))})}},F3=function(e,t){return function(r){return z2(e,r)?R3(t):D3(t)}},L3=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},z3=function(e){var t=ne.fromRangeStart(e.selection.getRng()),r=W.fromDom(e.getBody());if(e.selection.isCollapsed()){var n=Be(bi,e),a=ne.fromRangeStart(e.selection.getRng());return Gn(n,e.getBody(),a).bind(I3(r)).bind(F3(r,t)).exists(L3(e))}else return!1},M3=function(e,t){xo([{keyCode:Ge.SPACEBAR,action:ct(z3,e)}],t).each(function(r){t.preventDefault()})},$3=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&M3(e,t)})},j3=function(e){var t=ED(e);return tI(e),$I(e,t),HI(e,t),E3(e),$3(e),A3(e),x3(e,t),B3(e,t),t},U3=function(e){return mi(e)?tr(null):j3(e)},H3=function(){function e(t){this.lastPath=[],this.editor=t;var r,n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(a){var i=t.selection.getRng(),o={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};(a.type==="nodechange"||!rd(o,r))&&t.fire("SelectionChange"),r=o}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var a=t.selection.getStart(!0);!a||!Y.range&&t.selection.isCollapsed()||Xs(t)&&!n.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(a){!a.isDefaultPrevented()&&Xs(t)&&(t.selection.getNode().nodeName==="IMG"?wr.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}return e.prototype.nodeChanged=function(t){var r=this.editor.selection,n,a,i;this.editor.initialized&&r&&!QS(this.editor)&&!this.editor.mode.isReadOnly()&&(i=this.editor.getBody(),n=r.getStart(!0)||i,(n.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(n,i))&&(n=i),a=[],this.editor.dom.getParent(n,function(o){if(o===i)return!0;a.push(o)}),t=t||{},t.element=n,t.parents=a,this.editor.fire("NodeChange",t))},e.prototype.isSameElementPath=function(t){var r,n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(n.length===this.lastPath.length){for(r=n.length;r>=0&&n[r]===this.lastPath[r];r--);if(r===-1)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),W3=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},V3=function(e){e.parser.addNodeFilter("details",function(t){He(t,function(r){r.attr("data-mce-open",r.attr("open")),r.attr("open","open")})}),e.serializer.addNodeFilter("details",function(t){He(t,function(r){var n=r.attr("data-mce-open");r.attr("open",Ct(n)?n:null),r.attr("data-mce-open",null)})})},q3=function(e){W3(e),V3(e)},j0=function(e){return at(e)&&yp(W.fromDom(e))},K3=function(e){var t=e.selection.getRng(),r=ne.fromRangeStart(t),n=ne.fromRangeEnd(t);if(ne.isElementPosition(r)){var a=r.container();j0(a)&&Rr(a).each(function(i){return t.setStart(i.container(),i.offset())})}if(ne.isElementPosition(n)){var a=r.container();j0(a)&&Vn(a).each(function(o){return t.setEnd(o.container(),o.offset())})}e.selection.setRng(Od(t))},G3=function(e){e.on("click",function(t){t.detail>=3&&K3(e)})},Z3=function(){var e=tr(R.none()),t=function(){return e.set(R.none())},r=function(i){return e.set(R.some(i))},n=function(){return e.get().isSome()},a=function(i){return e.get().each(i)};return{clear:t,set:r,isSet:n,on:a}},U0=function(e){var t=e.getBoundingClientRect(),r=e.ownerDocument,n=r.documentElement,a=r.defaultView;return{top:t.top+a.pageYOffset-n.clientTop,left:t.left+a.pageXOffset-n.clientLeft}},X3=function(e){return e.inline?U0(e.getBody()):{left:0,top:0}},Y3=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},Q3=function(e){var t=e.getBody(),r=e.getDoc().documentElement,n={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||r.scrollLeft,top:t.scrollTop||r.scrollTop};return e.inline?n:a},J3=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var r=U0(e.getContentAreaContainer()),n=Q3(e);return{left:t.pageX-r.left+n.left,top:t.pageY-r.top+n.top}}return{left:t.pageX,top:t.pageY}},eF=function(e,t,r){return{pageX:r.left-e.left+t.left,pageY:r.top-e.top+t.top}},tF=function(e,t){return eF(X3(e),Y3(e),J3(e,t))},Vl=zt,rF=Ln,nF=function(e,t){return Vl(t)&&t!==e},aF=function(e,t,r){return t===r||e.dom.isChildOf(t,r)?!1:!Vl(t)},iF=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},oF=function(e,t,r,n){var a=e.dom,i=t.cloneNode(!0);a.setStyles(i,{width:r,height:n}),a.setAttrib(i,"data-mce-selected",null);var o=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:r,height:n}),a.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o},uF=function(e,t){e.parentNode!==t&&t.appendChild(e)},sF=function(e,t,r,n,a,i){var o=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+r>a&&(o=t.pageX+r-a),t.pageY+n>i&&(u=t.pageY+n-i),e.style.width=r-o+"px",e.style.height=n-u+"px"},H0=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},lF=function(e){return e.button===0},fF=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},cF=function(e,t){return function(r){if(lF(r)){var n=hr(t.dom.getParents(r.target),$k(Vl,rF)).getOr(null);if(nF(t.getBody(),n)){var a=t.dom.getPos(n),i=t.getBody(),o=t.getDoc().documentElement;e.set({element:n,dragging:!1,screenX:r.screenX,screenY:r.screenY,maxX:(t.inline?i.scrollWidth:o.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:o.offsetHeight)-2,relX:r.pageX-a.x,relY:r.pageY-a.y,width:n.offsetWidth,height:n.offsetHeight,ghost:oF(t,n,n.offsetWidth,n.offsetHeight)})}}}},dF=function(e,t){var r=wr.throttle(function(n,a){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(n,a)},0);return t.on("remove",r.stop),function(n){return e.on(function(a){var i=Math.max(Math.abs(n.screenX-a.screenX),Math.abs(n.screenY-a.screenY));if(!a.dragging&&i>10){var o=t.fire("dragstart",{target:a.element});if(o.isDefaultPrevented())return;a.dragging=!0,t.focus()}if(a.dragging){var u=fF(a,tF(t,n));uF(a.ghost,t.getBody()),sF(a.ghost,u,a.width,a.height,a.maxX,a.maxY),r(n.clientX,n.clientY)}})}},vF=function(e){var t=e.getSel().getRangeAt(0),r=t.startContainer;return r.nodeType===3?r.parentNode:r},pF=function(e,t){return function(r){e.on(function(n){if(n.dragging&&aF(t,vF(t.selection),n.element)){var a=iF(n.element),i=t.fire("drop",{clientX:r.clientX,clientY:r.clientY});i.isDefaultPrevented()||t.undoManager.transact(function(){H0(n.element),t.insertContent(t.dom.getOuterHTML(a)),t._selectionOverrides.hideFakeCaret()})}}),W0(e)}},hF=function(e,t){return function(){e.on(function(r){r.dragging&&t.fire("dragend")}),W0(e)}},W0=function(e){e.on(function(t){H0(t.ghost)}),e.clear()},mF=function(e){var t=Z3(),r=Tt.DOM,n=document,a=cF(t,e),i=dF(t,e),o=pF(t,e),u=hF(t,e);e.on("mousedown",a),e.on("mousemove",i),e.on("mouseup",o),r.bind(n,"mousemove",i),r.bind(n,"mouseup",u),e.on("remove",function(){r.unbind(n,"mousemove",i),r.unbind(n,"mouseup",u)})},gF=function(e){e.on("drop",function(t){var r=typeof t.clientX!="undefined"?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(Vl(r)||e.dom.getContentEditableParent(r)==="false")&&t.preventDefault()})},bF=function(e){var t=function(a){if(!a.isDefaultPrevented()){var i=a.dataTransfer;i&&(er(i.types,"Files")||i.files.length>0)&&(a.preventDefault(),a.type==="drop"&&Sl(e,"Dropped file type is not supported"))}},r=function(a){nl(e,a.target)&&t(a)},n=function(){var a=Tt.DOM,i=e.dom,o=document,u=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];He(s,function(c){a.bind(o,c,r),i.bind(u,c,t)}),e.on("remove",function(){He(s,function(c){a.unbind(o,c,r),i.unbind(u,c,t)})})};e.on("init",function(){wr.setEditorTimeout(e,n,0)})},yF=function(e){mF(e),gF(e),rE(e)&&bF(e)},wF=function(e){var t=yc(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var r=e.selection.getRng();if(r.collapsed){var n=dv(e,r,!1);e.selection.setRng(n)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},CF=function(e){e.on("init",function(){e.on("focusin",function(t){var r=t.target;if(fn(r)){var n=Cu(e.getBody(),r),a=zt(n)?n:r;e.selection.getNode()!==a&&Eo(e,a).each(function(i){return e.selection.setRng(i)})}})})},V0=Ln,wi=zt,ql=function(e,t){return Cu(e.getBody(),t)},kF=function(e){var t=e.selection,r=e.dom,n=r.isBlock,a=e.getBody(),i=gE(e,a,n,function(){return vi(e)}),o="sel-"+r.uniqueId(),u="data-mce-selected",s,c=function(ce){return r.hasClass(ce,"mce-offscreen-selection")},m=function(ce){return ce!==a&&(wi(ce)||fn(ce))&&r.isChildOf(ce,a)},h=function(ce){return Ta(ce)||Ba(ce)||yo(ce)||wo(ce)},g=function(){var ce=r.get(o);return ce&&ce.getElementsByTagName("*")[0]},S=function(ce){ce&&t.setRng(ce)},_=t.getRng,x=function(ce,Xe,Se,ze){ze===void 0&&(ze=!0);var we=e.fire("ShowCaret",{target:Xe,direction:ce,before:Se});return we.isDefaultPrevented()?null:(ze&&t.scrollIntoView(Xe,ce===-1),i.show(Se,Xe))},C=function(ce){ce.hasAttribute("data-mce-caret")&&(qf(ce),S(_()),t.scrollIntoView(ce))},B=function(){e.on("mouseup",function(we){var xe=_();xe.collapsed&&Kb(e,we.clientX,we.clientY)&&gy(e,xe,!1).each(S)}),e.on("click",function(we){var xe=ql(e,we.target);xe&&(wi(xe)&&(we.preventDefault(),e.focus()),V0(xe)&&r.isChildOf(xe,t.getNode())&&ge())}),e.on("blur NewBlock",ge),e.on("ResizeWindow FullscreenStateChanged",i.reposition);var ce=function(we){var xe=_n(we);if(!we.firstChild)return!1;var Ie=ne.before(we.firstChild),ve=xe.next(Ie);return ve&&!h(ve)},Xe=function(we,xe){var Ie=r.getParent(we,n),ve=r.getParent(xe,n);return Ie===ve},Se=function(we,xe){var Ie=r.getParent(we,n),ve=r.getParent(xe,n);return Ie&&we!==ve&&r.isChildOf(Ie,ve)&&wi(ql(e,Ie))===!1?!0:Ie&&!Xe(Ie,ve)&&ce(Ie)};e.on("tap",function(we){var xe=we.target,Ie=ql(e,xe);wi(Ie)?(we.preventDefault(),Eo(e,Ie).each(he)):m(xe)&&Eo(e,xe).each(he)},!0),e.on("mousedown",function(we){var xe=we.target;if(!(xe!==a&&xe.nodeName!=="HTML"&&!r.isChildOf(xe,a))&&Kb(e,we.clientX,we.clientY)!==!1){var Ie=ql(e,xe);if(Ie)wi(Ie)?(we.preventDefault(),Eo(e,Ie).each(he)):(ge(),!(V0(Ie)&&we.shiftKey)&&!ed(we.clientX,we.clientY,t.getRng())&&($e(),t.placeCaretAt(we.clientX,we.clientY)));else if(m(xe))Eo(e,xe).each(he);else if(fi(xe)===!1){ge(),$e();var ve=yD(a,we.clientX,we.clientY);if(ve&&!Se(xe,ve.node)){we.preventDefault();var De=x(1,ve.node,ve.before,!1);e.getBody().focus(),S(De)}}}}),e.on("keypress",function(we){Ge.modifierPressed(we)||wi(t.getNode())&&we.preventDefault()}),e.on("GetSelectionRange",function(we){var xe=we.range;if(s){if(!s.parentNode){s=null;return}xe=xe.cloneRange(),xe.selectNode(s),we.range=xe}}),e.on("SetSelectionRange",function(we){we.range=j(we.range);var xe=he(we.range,we.forward);xe&&(we.range=xe)});var ze=function(we){return we.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(we){var xe=we.range,Ie=xe.startContainer.parentNode;!z(xe)&&!ze(Ie)&&$e(),c(Ie)||ge()}),e.on("copy",function(we){var xe=we.clipboardData;if(!we.isDefaultPrevented()&&we.clipboardData&&!Y.ie){var Ie=g();Ie&&(we.preventDefault(),xe.clearData(),xe.setData("text/html",Ie.outerHTML),xe.setData("text/plain",Ie.outerText||Ie.innerText))}}),yF(e),wF(e),CF(e)},T=function(ce){return en(ce)||bs(ce)||ys(ce)},z=function(ce){return T(ce.startContainer)||T(ce.endContainer)},j=function(ce){var Xe=e.schema.getShortEndedElements(),Se=r.createRng(),ze=ce.startContainer,we=ce.startOffset,xe=ce.endContainer,Ie=ce.endOffset;return nr(Xe,ze.nodeName.toLowerCase())?we===0?Se.setStartBefore(ze):Se.setStartAfter(ze):Se.setStart(ze,we),nr(Xe,xe.nodeName.toLowerCase())?Ie===0?Se.setEndBefore(xe):Se.setEndAfter(xe):Se.setEnd(xe,Ie),Se},G=function(ce,Xe,Se){var ze=e.$,we=hs(W.fromDom(e.getBody()),"#"+o).fold(function(){return ze([])},function(ve){return ze([ve.dom])});we.length===0&&(we=ze('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o),we.appendTo(e.getBody()));var xe=r.createRng();Xe===Se&&Y.ie?(we.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(Xe),xe.setStartAfter(we[0].firstChild.firstChild),xe.setEndAfter(Xe)):(we.empty().append(qr).append(Xe).append(qr),xe.setStart(we[0].firstChild,1),xe.setEnd(we[0].lastChild,0)),we.css({top:r.getPos(ce,e.getBody()).y}),we[0].focus();var Ie=t.getSel();return Ie.removeAllRanges(),Ie.addRange(xe),xe},ie=function(ce){var Xe=ce.cloneNode(!0),Se=e.fire("ObjectSelected",{target:ce,targetClone:Xe});if(Se.isDefaultPrevented())return null;var ze=G(ce,Se.targetClone,Xe),we=W.fromDom(ce);return He(Ur(W.fromDom(e.getBody()),"*[data-mce-selected]"),function(xe){ae(we,xe)||ei(xe,u)}),r.getAttrib(ce,u)||ce.setAttribute(u,"1"),s=ce,$e(),ze},he=function(ce,Xe){if(!ce)return null;if(ce.collapsed){if(!z(ce)){var Se=Xe?1:-1,ze=gu(Se,a,ce),we=ze.getNode(!Xe);if(fi(we))return x(Se,we,Xe?!ze.isAtEnd():!1,!1);var xe=ze.getNode(Xe);if(fi(xe))return x(Se,xe,Xe?!1:!ze.isAtEnd(),!1)}return null}var Ie=ce.startContainer,ve=ce.startOffset,De=ce.endOffset;if(Ie.nodeType===3&&ve===0&&wi(Ie.parentNode)&&(Ie=Ie.parentNode,ve=r.nodeIndex(Ie),Ie=Ie.parentNode),Ie.nodeType!==1)return null;if(De===ve+1&&Ie===ce.endContainer){var pt=Ie.childNodes[ve];if(m(pt))return ie(pt)}return null},ge=function(){s&&s.removeAttribute(u),hs(W.fromDom(e.getBody()),"#"+o).each(yr),s=null},Le=function(){i.destroy(),s=null},$e=function(){i.hide()};return Y.ceFalse&&!mi(e)&&B(),{showCaret:x,showBlockCaretContainer:C,hideFakeCaret:$e,destroy:Le}},SF=function(e){var t=V.each,r=Ge.BACKSPACE,n=Ge.DELETE,a=e.dom,i=e.selection,o=e.parser,u=Y.gecko,s=Y.ie,c=Y.webkit,m="data:text/mce-internal,",h=s?"Text":"URL",g=function(le,J){try{e.getDoc().execCommand(le,!1,J)}catch{}},S=function(le){return le.isDefaultPrevented()},_=function(le){var J,ue;le.dataTransfer&&(e.selection.isCollapsed()&&le.target.tagName==="IMG"&&i.select(le.target),J=e.selection.getContent(),J.length>0&&(ue=m+escape(e.id)+","+escape(J),le.dataTransfer.setData(h,ue)))},x=function(le){var J;return le.dataTransfer&&(J=le.dataTransfer.getData(h),J&&J.indexOf(m)>=0)?(J=J.substr(m.length).split(","),{id:unescape(J[0]),html:unescape(J[1])}):null},C=function(le,J){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:le,internal:J}):e.execCommand("mceInsertContent",!1,le)},B=function(){var le=function(ue){var ee=a.create("body"),Ne=ue.cloneContents();return ee.appendChild(Ne),i.serializer.serialize(ee,{format:"html"})},J=function(ue){var ee=le(ue),Ne=a.createRng();Ne.selectNode(e.getBody());var Ae=le(Ne);return ee===Ae};e.on("keydown",function(ue){var ee=ue.keyCode,Ne,Ae;if(!S(ue)&&(ee===n||ee===r)){if(Ne=e.selection.isCollapsed(),Ae=e.getBody(),Ne&&!a.isEmpty(Ae)||!Ne&&!J(e.selection.getRng()))return;ue.preventDefault(),e.setContent(""),Ae.firstChild&&a.isBlock(Ae.firstChild)?e.selection.setCursorLocation(Ae.firstChild,0):e.selection.setCursorLocation(Ae,0),e.nodeChanged()}})},T=function(){e.shortcuts.add("meta+a",null,"SelectAll")},z=function(){e.inline||a.bind(e.getDoc(),"mousedown mouseup",function(le){var J;if(le.target===e.getDoc().documentElement)if(J=i.getRng(),e.getBody().focus(),le.type==="mousedown"){if(en(J.startContainer))return;i.placeCaretAt(le.clientX,le.clientY)}else i.setRng(J)})},j=function(){e.on("keydown",function(le){if(!S(le)&&le.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&i.getRng().startOffset===0){var J=i.getNode(),ue=J.previousSibling;if(J.nodeName==="HR"){a.remove(J),le.preventDefault();return}ue&&ue.nodeName&&ue.nodeName.toLowerCase()==="hr"&&(a.remove(ue),le.preventDefault())}}})},G=function(){Range.prototype.getClientRects||e.on("mousedown",function(le){if(!S(le)&&le.target.nodeName==="HTML"){var J=e.getBody();J.blur(),wr.setEditorTimeout(e,function(){J.focus()})}})},ie=function(){e.on("click",function(le){var J=le.target;/^(IMG|HR)$/.test(J.nodeName)&&a.getContentEditableParent(J)!=="false"&&(le.preventDefault(),e.selection.select(J),e.nodeChanged()),J.nodeName==="A"&&a.hasClass(J,"mce-item-anchor")&&(le.preventDefault(),i.select(J))})},he=function(){var le=function(){var ue=a.getAttribs(i.getStart().cloneNode(!1));return function(){var ee=i.getStart();ee!==e.getBody()&&(a.setAttrib(ee,"style",null),t(ue,function(Ne){ee.setAttributeNode(Ne.cloneNode(!0))}))}},J=function(){return!i.isCollapsed()&&a.getParent(i.getStart(),a.isBlock)!==a.getParent(i.getEnd(),a.isBlock)};e.on("keypress",function(ue){var ee;if(!S(ue)&&(ue.keyCode===8||ue.keyCode===46)&&J())return ee=le(),e.getDoc().execCommand("delete",!1,null),ee(),ue.preventDefault(),!1}),a.bind(e.getDoc(),"cut",function(ue){var ee;!S(ue)&&J()&&(ee=le(),wr.setEditorTimeout(e,function(){ee()}))})},ge=function(){e.on("keydown",function(le){if(!S(le)&&le.keyCode===r&&i.isCollapsed()&&i.getRng().startOffset===0){var J=i.getNode().previousSibling;if(J&&J.nodeName&&J.nodeName.toLowerCase()==="table")return le.preventDefault(),!1}})},Le=function(){e.on("keydown",function(le){var J,ue;if(!(S(le)||le.keyCode!==Ge.BACKSPACE)){J=i.getRng();var ee=J.startContainer,Ne=J.startOffset,Ae=a.getRoot();if(ue=ee,!(!J.collapsed||Ne!==0)){for(;ue&&ue.parentNode&&ue.parentNode.firstChild===ue&&ue.parentNode!==Ae;)ue=ue.parentNode;ue.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,ue),J=a.createRng(),J.setStart(ee,0),J.setEnd(ee,0),i.setRng(J))}}})},$e=function(){var le=function(){g("StyleWithCSS",!1),g("enableInlineTableEditing",!1),Hh(e)||g("enableObjectResizing",!1)};JS(e)||e.on("BeforeExecCommand mousedown",le)},ce=function(){var le=function(){t(a.select("a"),function(J){var ue=J.parentNode,ee=a.getRoot();if(ue.lastChild===J){for(;ue&&!a.isBlock(ue);){if(ue.parentNode.lastChild!==ue||ue===ee)return;ue=ue.parentNode}a.add(ue,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(J){(J.type==="setcontent"||J.command==="mceInsertLink")&&le()})},Xe=function(){kr(e)&&e.on("init",function(){g("DefaultParagraphSeparator",kr(e))})},Se=function(){e.on("keyup focusin mouseup",function(le){Ge.modifierPressed(le)||i.normalize()},!0)},ze=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},we=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},xe=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(le){var J;if(le.target.nodeName==="HTML"){if(Y.ie>11){e.getBody().focus();return}J=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(J),e.selection.normalize(),e.nodeChanged()}}))},Ie=function(){Y.mac&&e.on("keydown",function(le){if(Ge.metaKeyPressed(le)&&!le.shiftKey&&(le.keyCode===37||le.keyCode===39)){le.preventDefault();var J=e.selection.getSel();J.modify("move",le.keyCode===37?"backward":"forward","lineboundary")}})},ve=function(){g("AutoUrlDetect",!1)},De=function(){e.on("click",function(le){var J=le.target;do if(J.tagName==="A"){le.preventDefault();return}while(J=J.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},pt=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(le){le.preventDefault()})})},Nt=function(){o.addNodeFilter("br",function(le){for(var J=le.length;J--;)le[J].attr("class")==="Apple-interchange-newline"&&le[J].remove()})},yt=function(){e.on("dragstart",function(le){_(le)}),e.on("drop",function(le){if(!S(le)){var J=x(le);if(J&&J.id!==e.id){le.preventDefault();var ue=td(le.x,le.y,e.getDoc());i.setRng(ue),C(J.html,!0)}}})},Wt=ot,Ht=function(){if(!u||e.removed)return!1;var le=e.selection.getSel();return!le||!le.rangeCount||le.rangeCount===0},Ir=function(){c&&(ie(),pt(),T(),Y.iOS&&(we(),xe(),De())),u&&(G(),$e(),ze(),Ie())},Ar=function(){Le(),B(),Y.windowsPhone||Se(),c&&(z(),ie(),Xe(),pt(),ge(),Nt(),Y.iOS?(we(),xe(),De()):T()),Y.ie>=11&&(xe(),ge()),Y.ie&&(T(),ve(),yt()),u&&(j(),G(),he(),$e(),ce(),ze(),Ie(),ge())};return mi(e)?Ir():Ar(),{refreshContentEditable:Wt,isHidden:Ht}},Bv=Tt.DOM,EF=function(e,t){var r=W.fromDom(e.getBody()),n=Pf(Ja(r)),a=W.fromTag("style");ta(a,"type","text/css"),br(a,W.fromText(t)),br(n,a),e.on("remove",function(){yr(a)})},_F=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},q0=function(e){return Ka(e,function(t){return Bn(t)===!1})},K0=function(e){var t=e.settings,r=e.editorUpload.blobCache;return q0({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:_F(e),validate:!0,blob_cache:r,images_dataimg_filter:t.images_dataimg_filter})},xF=function(e){var t=e.settings;return st(st({},K0(e)),q0({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))},NF=function(e){var t=iv(K0(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(r,n){for(var a=r.length,i,o,u=e.dom,s="data-mce-"+n;a--;)if(i=r[a],o=i.attr(n),o&&!i.attr(s)){if(o.indexOf("data:")===0||o.indexOf("blob:")===0)continue;n==="style"?(o=u.serializeStyle(u.parseStyle(o),i.name),o.length||(o=null),i.attr(s,o),i.attr(n,o)):n==="tabindex"?(i.attr(s,o),i.attr(n,null)):i.attr(s,e.convertURL(o,n,i.name))}}),t.addNodeFilter("script",function(r){for(var n=r.length;n--;){var a=r[n],i=a.attr("type")||"no/type";i.indexOf("mce-")!==0&&a.attr("type","mce-"+i)}}),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",function(r){for(var n=r.length;n--;){var a=r[n];a.type=8,a.name="#comment",a.value="[CDATA["+e.dom.encode(a.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(r){for(var n=r.length,a=e.schema.getNonEmptyElements();n--;){var i=r[n];i.isEmpty(a)&&i.getAll("br").length===0&&(i.append(new cn("br",1)).shortEnded=!0)}}),t},PF=function(e){e.settings.auto_focus&&wr.setEditorTimeout(e,function(){var t;e.settings.auto_focus===!0?t=e:t=e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},AF=function(e){var t=e.dom.getRoot();!e.inline&&(!Xs(e)||e.selection.getStart(!0)===t)&&Rr(t).each(function(r){var n=r.getNode(),a=Ui(n)?Rr(n).getOr(r):r;Y.browser.isIE()?xx(e,a.toRange()):e.selection.setRng(a.toRange())})},OF=function(e){e.bindPendingEventDelegates(),e.initialized=!0,S_(e),e.focus(!0),AF(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),PF(e)},G0=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},TF=function(e,t,r){var n=[new cr(function(a,i){return G0(e).loadAll(t,a,i)})];return e.inline?n:n.concat([new cr(function(a,i){return e.ui.styleSheetLoader.loadAll(r,a,i)})])},BF=function(e,t){var r=G0(e),n=Uh(e),a=function(){r.unloadAll(t),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=function(){e.removed?a():(e.on("remove",a),OF(e))};cr.all(TF(e,t,n)).then(i).catch(i)},Rv=function(e){var t=e.settings,r=e.getDoc(),n=e.getBody();!t.browser_spellcheck&&!t.gecko_spellcheck&&(r.body.spellcheck=!1,Bv.setAttrib(n,"spellcheck","false")),e.quirks=SF(e),k_(e);var a=RS(e);if(a!==void 0&&(n.dir=a),t.protect&&e.on("BeforeSetContent",function(o){V.each(t.protect,function(u){o.content=o.content.replace(u,function(s){return"<!--mce:protected "+escape(s)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),mi(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(o){e.composing=o.type==="compositionstart"}),e.contentStyles.length>0){var i="";V.each(e.contentStyles,function(o){i+=o+`\r
`}),e.dom.addStyle(i)}BF(e,e.contentCSS),t.content_style&&EF(e,t.content_style)},Dv=function(e,t){var r=e.settings,n=e.getElement(),a=e.getDoc();r.inline||(e.getElement().style.visibility=e.orgVisibility),!t&&!e.inline&&(a.open(),a.write(e.iframeHTML),a.close()),e.inline&&(Bv.addClass(n,"mce-content-body"),e.contentDocument=a=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);var i=e.getBody();i.disabled=!0,e.readonly=!!r.readonly,e.readonly||(e.inline&&Bv.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable=e.getParam("content_editable_state",!0)),i.disabled=!1,e.editorUpload=PB(e),e.schema=wa(r),e.dom=Tt(a,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:AS(e),referrerPolicy:Mh(e),onSetAttrib:function(u){e.fire("SetAttrib",u)}}),e.parser=NF(e),e.serializer=$b(xF(e),e),e.selection=Bb(e.dom,e.getWin(),e.serializer,e),e.annotator=Dm(e),e.formatter=ny(e),e.undoManager=ay(e),e._nodeChangeDispatcher=new H3(e),e._selectionOverrides=kF(e),qD(e),q3(e),mi(e)||G3(e);var o=U3(e);HD(e,o),YD(e),jB(e),C_(e),fO(e).fold(function(){Rv(e)},function(u){e.setProgressState(!0),u.then(function(s){e.setProgressState(!1),Rv(e)},function(s){e.notificationManager.open({type:"error",text:String(s)}),Rv(e)})})},Du=Tt.DOM,RF=function(e,t){if(document.domain!==window.location.hostname&&Y.browser.isIE()){var r=Jb("mce");e[r]=function(){Dv(e)};var n='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return Du.setAttrib(t,"src",n),!0}return!1},DF=function(e,t,r,n){var a=W.fromTag("iframe");return ha(a,n),ha(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Fs(a,"tox-edit-area__iframe"),a},IF=function(e){var t=fS(e)+"<html><head>";cS(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var r=dS(e),n=vS(e);return Fh(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Fh(e)+'" />'),t+='</head><body id="'+r+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>',t},FF=function(e,t){var r=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),n=DF(e.id,r,t.height,lS(e)).dom;n.onload=function(){n.onload=null,e.fire("load")};var a=RF(e,n);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=n,e.iframeHTML=IF(e),Du.add(t.iframeContainer,n),a},LF=function(e,t){var r=FF(e,t);t.editorContainer&&(Du.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Du.isHidden(t.editorContainer)),e.getElement().style.display="none",Du.setAttrib(e.id,"aria-hidden","true"),r||Dv(e)},Z0=Tt.DOM,X0=function(e,t,r){var n=Pn.get(r),a=Pn.urls[r]||e.documentBaseUrl.replace(/\/$/,"");if(r=V.trim(r),n&&V.inArray(t,r)===-1){if(V.each(Pn.dependencies(r),function(o){X0(e,t,o)}),e.plugins[r])return;try{var i=new n(e,a,e.$);e.plugins[r]=i,i.init&&(i.init(e,a),t.push(r))}catch(o){gB(e,r,o)}}},Y0=function(e){return e.replace(/^\-/,"")},zF=function(e){var t=[];V.each(Ac(e).split(/[ ,]/),function(r){X0(e,t,Y0(r))})},MF=function(e){var t=V.trim(zh(e)),r=e.ui.registry.getAll().icons,n=st(st({},kl.get("default").icons),kl.get(t).icons);Ut(n,function(a,i){nr(r,i)||e.ui.registry.addIcon(i,a)})},$F=function(e){var t=du(e);if(Ct(t)){e.settings.theme=Y0(t);var r=Ra.get(t);e.theme=new r(e,Ra.urls[t]),e.theme.init&&e.theme.init(e,Ra.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},jF=function(e){return e.theme.renderUI()},UF=function(e){var t=e.getElement(),r=du(e),n=r(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n},Q0=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},HF=function(e){var t=Z0.create("div");return Z0.insertAfter(t,e),Q0(t)},WF=function(e){var t=e.getElement();return e.inline?Q0(null):HF(t)},VF=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,Ct(du(e))?jF(e):Qt(du(e))?UF(e):WF(e)},qF=function(e,t){var r={show:R.from(t.show).getOr(ot),hide:R.from(t.hide).getOr(ot),disable:R.from(t.disable).getOr(ot),isDisabled:R.from(t.isDisabled).getOr(Et),enable:function(){e.mode.isReadOnly()||R.from(t.enable).map(Ti)}};e.ui=st(st({},e.ui),r)},J0=function(e){e.fire("ScriptsLoaded"),MF(e),$F(e),zF(e);var t=VF(e);qF(e,R.from(t.api).getOr({}));var r={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=r.editorContainer?r.editorContainer:null,CB(e),e.inline?Dv(e):LF(e,r)},Ci=Tt.DOM,e1=function(e){return e.charAt(0)==="-"},KF=function(e,t){var r=$h(t),n=OS(t);if(Sn.hasCode(r)===!1&&r!=="en"){var a=n!==""?n:t.editorManager.baseURL+"/langs/"+r+".js";e.add(a,ot,void 0,function(){mB(t,a,r)})}},GF=function(e,t,r,n){var a=du(t);if(Ct(a)){if(!e1(a)&&!Ra.urls.hasOwnProperty(a)){var i=HS(t);i?Ra.load(a,t.documentBaseURI.toAbsolute(i)):Ra.load(a,"themes/"+a+"/theme"+r+".js")}e.loadQueue(function(){Ra.waitFor(a,n)})}else n()},ZF=function(e){return R.from(ES(e)).filter(function(t){return t.length>0}).map(function(t){return{url:t,name:R.none()}})},t1=function(e,t,r){return R.from(t).filter(function(n){return n.length>0&&!kl.has(n)}).map(function(n){return{url:e.editorManager.baseURL+"/icons/"+n+"/icons"+r+".js",name:R.some(n)}})},XF=function(e,t,r){var n=t1(t,"default",r),a=ZF(t).orThunk(function(){return t1(t,zh(t),"")});He(Ik([n,a]),function(i){e.add(i.url,ot,void 0,function(){hB(t,i.url,i.name.getOrUndefined())})})},YF=function(e,t){V.each(tE(e),function(r,n){Pn.load(n,r,ot,void 0,function(){fv(e,r,n)}),e.settings.plugins+=" "+n}),V.each(Ac(e).split(/[ ,]/),function(r){if(r=V.trim(r),r&&!Pn.urls[r])if(e1(r)){r=r.substr(1,r.length);var n=Pn.dependencies(r);V.each(n,function(i){var o={prefix:"plugins/",resource:i,suffix:"/plugin"+t+".js"},u=Pn.createUrl(o,i);Pn.load(u.resource,u,ot,void 0,function(){fv(e,u.prefix+u.resource+u.suffix,u.resource)})})}else{var a={prefix:"plugins/",resource:r,suffix:"/plugin"+t+".js"};Pn.load(r,a,ot,void 0,function(){fv(e,a.prefix+a.resource+a.suffix,r)})}})},QF=function(e,t){var r=aa.ScriptLoader;GF(r,e,t,function(){KF(r,e),XF(r,e,t),YF(e,t),r.loadQueue(function(){e.removed||J0(e)},e,function(){e.removed||J0(e)})})},JF=function(e,t){return bp.forElement(e,{contentCssCors:eE(t),referrerPolicy:Mh(t)})},e5=function(e){var t=e.id;Sn.setCode($h(e));var r=function(){Ci.unbind(window,"ready",r),e.render()};if(!Qi.Event.domLoaded){Ci.bind(window,"ready",r);return}if(!!e.getElement()&&!!Y.contentEditable){var n=W.fromDom(e.getElement()),a=J1(n);e.on("remove",function(){Do(n.dom.attributes,function(o){return ei(n,o.name)}),ha(n,a)}),e.ui.styleSheetLoader=JF(n,e),WS(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||Ci.getParent(t,"form");i&&(e.formElement=i,VS(e)&&!Bf(e.getElement())&&(Ci.insertAfter(Ci.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(o){e.fire(o.type,o)},Ci.bind(i,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),qS(e)&&!i.submit.nodeType&&!i.submit.length&&!i._mceOldSubmit&&(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=Zb(e),e.notificationManager=Gb(e),KS(e)&&e.on("GetContent",function(o){o.save&&(o.content=Ci.encode(o.content))}),GS(e)&&e.on("submit",function(){e.initialized&&e.save()}),ZS(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),QF(e,e.suffix)}},t5=function(e,t){return IO(e,t)},r5={"font-size":"size","font-family":"face"},n5=function(e,t,r){var n=function(i){return If(i,e).orThunk(function(){return ye(i)==="font"?Mr(r5,e).bind(function(o){return np(i,o)}):R.none()})},a=function(i){return ae(W.fromDom(t),i)};return Fd(W.fromDom(r),function(i){return n(i)},a)},a5=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},i5=function(e,t){return R.from(Tt.DOM.getStyle(t,e,!0))},r1=function(e){return function(t,r){return R.from(r).map(W.fromDom).filter(Ke).bind(function(n){return n5(e,t,n.dom).or(i5(e,n.dom))}).getOr("")}},o5=r1("font-size"),u5=mn(a5,r1("font-family")),s5=function(e){return Rr(e.getBody()).map(function(t){var r=t.container();return We(r)?r.parentNode:r})},l5=function(e){return R.from(e.selection.getRng()).bind(function(t){var r=e.getBody(),n=t.startContainer===r&&t.startOffset===0;return n?R.none():R.from(e.selection.getStart(!0))})},Iv=function(e,t){return l5(e).orThunk(Be(s5,e)).map(W.fromDom).filter(Ke).map(t)},n1=function(e,t){if(/^[0-9.]+$/.test(t)){var r=parseInt(t,10);if(r>=1&&r<=7){var n=yS(e),a=wS(e);return a?a[r-1]||t:n[r-1]||t}else return t}else return t},f5=function(e){var t=e.split(/\s*,\s*/);return It(t,function(r){return r.indexOf(" ")!==-1&&!(Jn(r,'"')||Jn(r,"'"))?"'"+r+"'":r}).join(",")},c5=function(e,t){var r=n1(e,t);e.formatter.toggle("fontname",{value:f5(r)}),e.nodeChanged()},d5=function(e){return Iv(e,function(t){return u5(e.getBody(),t.dom)}).getOr("")},v5=function(e,t){e.formatter.toggle("fontsize",{value:n1(e,t)}),e.nodeChanged()},p5=function(e){return Iv(e,function(t){return o5(e.getBody(),t.dom)}).getOr("")},h5=function(e){return Iv(e,function(t){var r=W.fromDom(e.getBody()),n=Fd(t,function(i){return If(i,"line-height")},Be(ae,r)),a=function(){var i=parseFloat(ra(t,"line-height")),o=parseFloat(ra(t,"font-size"));return String(i/o)};return n.getOrThunk(a)}).getOr("")},m5=function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},g5=function(e){var t;return typeof e!="string"?(t=V.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},b5=function(e,t){var r=g5(t);RO(e,r.content,r.details)},Kl=V.each,y5=V.map,w5=V.inArray,a1=function(){function e(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return e.prototype.execCommand=function(t,r,n,a){var i,o=!1,u=this;if(!u.editor.removed){if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)&&(!a||!a.skip_focus)?u.editor.focus():Nx(u.editor),a=u.editor.fire("BeforeExecCommand",{command:t,ui:r,value:n}),a.isDefaultPrevented())return!1;var s=t.toLowerCase();if(i=u.commands.exec[s])return i(s,r,n),u.editor.fire("ExecCommand",{command:t,ui:r,value:n}),!0;if(Kl(this.editor.plugins,function(c){if(c.execCommand&&c.execCommand(t,r,n))return u.editor.fire("ExecCommand",{command:t,ui:r,value:n}),o=!0,!1}),o)return o;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,r,n))return u.editor.fire("ExecCommand",{command:t,ui:r,value:n}),!0;try{o=u.editor.getDoc().execCommand(t,r,n)}catch{}return o?(u.editor.fire("ExecCommand",{command:t,ui:r,value:n}),!0):!1}},e.prototype.queryCommandState=function(t){var r;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),r=this.commands.state[t])return r(t);try{return this.editor.getDoc().queryCommandState(t)}catch{}return!1}},e.prototype.queryCommandValue=function(t){var r;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),r=this.commands.value[t])return r(t);try{return this.editor.getDoc().queryCommandValue(t)}catch{}}},e.prototype.addCommands=function(t,r){r===void 0&&(r="exec");var n=this;Kl(t,function(a,i){Kl(i.toLowerCase().split(","),function(o){n.commands[r][o]=a})})},e.prototype.addCommand=function(t,r,n){var a=this;t=t.toLowerCase(),this.commands.exec[t]=function(i,o,u,s){return r.call(n||a.editor,o,u,s)}},e.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch{}return!1},e.prototype.addQueryStateHandler=function(t,r,n){var a=this;t=t.toLowerCase(),this.commands.state[t]=function(){return r.call(n||a.editor)}},e.prototype.addQueryValueHandler=function(t,r,n){var a=this;t=t.toLowerCase(),this.commands.value[t]=function(){return r.call(n||a.editor)}},e.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},e.prototype.execNativeCommand=function(t,r,n){return r===void 0&&(r=!1),n===void 0&&(n=null),this.editor.getDoc().execCommand(t,r,n)},e.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},e.prototype.toggleFormat=function(t,r){this.editor.formatter.toggle(t,r?{value:r}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(t){var r=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":ot,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(a){var i=t.getDoc(),o;try{r.execNativeCommand(a)}catch{o=!0}if(a==="paste"&&!i.queryCommandEnabled(a)&&(o=!0),o||!i.queryCommandSupported(a)){var u=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Y.mac&&(u=u.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:u,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var a=t.dom.getParent(t.selection.getStart(),"a");a&&t.dom.remove(a,!0);return}t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var i=a.substring(7);i==="full"&&(i="justify"),Kl("left,center,right,justify".split(","),function(o){i!==o&&t.formatter.remove("align"+o)}),i!=="none"&&r.toggleFormat("align"+i)},"InsertUnorderedList,InsertOrderedList":function(a){var i;r.execNativeCommand(a);var o=t.dom.getParent(t.selection.getNode(),"ol,ul");o&&(i=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(r.storeSelection(),t.dom.split(i,o),r.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){r.toggleFormat(a)},"ForeColor,HiliteColor":function(a,i,o){r.toggleFormat(a,o)},FontName:function(a,i,o){c5(t,o)},FontSize:function(a,i,o){v5(t,o)},LineHeight:function(a,i,o){m5(t,o)},RemoveFormat:function(a){t.formatter.remove(a)},mceBlockQuote:function(){r.toggleFormat("blockquote")},FormatBlock:function(a,i,o){return r.toggleFormat(o||"p")},mceCleanup:function(){var a=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(a)},mceRemoveNode:function(a,i,o){var u=o||t.selection.getNode();u!==t.getBody()&&(r.storeSelection(),t.dom.remove(u,!0),r.restoreSelection())},mceSelectNodeDepth:function(a,i,o){var u=0;t.dom.getParent(t.selection.getNode(),function(s){if(s.nodeType===1&&u++===o)return t.selection.select(s),!1},t.getBody())},mceSelectNode:function(a,i,o){t.selection.select(o)},mceInsertContent:function(a,i,o){b5(t,o)},mceInsertRawHTML:function(a,i,o){t.selection.setContent("tiny_mce_marker");var u=t.getContent();t.setContent(u.replace(/tiny_mce_marker/g,function(){return o}))},mceInsertNewLine:function(a,i,o){F0(t,o)},mceToggleFormat:function(a,i,o){r.toggleFormat(o)},mceSetContent:function(a,i,o){t.setContent(o)},"Indent,Outdent":function(a){t0(t,a)},mceRepaint:ot,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(a,i,o){t.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(a,i,o){typeof o=="string"&&(o={href:o});var u=t.dom.getParent(t.selection.getNode(),"a");o.href=o.href.replace(/ /g,"%20"),(!u||!o.href)&&t.formatter.remove("link"),o.href&&t.formatter.apply("link",o,u)},selectAll:function(){var a=t.dom.getParent(t.selection.getStart(),Ln);if(a){var i=t.dom.createRng();i.selectNodeContents(a),t.selection.setRng(i)}},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(a,i,o){return T0(t,o),!0}});var n=function(a){return function(){var i=t.selection,o=i.isCollapsed()?[t.dom.getParent(i.getNode(),t.dom.isBlock)]:i.getSelectedBlocks(),u=y5(o,function(s){return!!t.formatter.matchNode(s,a)});return w5(u,!0)!==-1}};r.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return r.isFormatMatch(a)},mceBlockQuote:function(){return r.isFormatMatch("blockquote")},Outdent:function(){return Qy(t)},"InsertUnorderedList,InsertOrderedList":function(a){var i=t.dom.getParent(t.selection.getNode(),"ul,ol");return i&&(a==="insertunorderedlist"&&i.tagName==="UL"||a==="insertorderedlist"&&i.tagName==="OL")}},"state"),r.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),r.addQueryValueHandler("FontName",function(){return d5(t)},this),r.addQueryValueHandler("FontSize",function(){return p5(t)},this),r.addQueryValueHandler("LineHeight",function(){return h5(t)},this)},e}(),ki="data-mce-contenteditable",C5=function(e,t,r){th(e,t)&&r===!1?_k(e,t):r&&Fs(e,t)},Fv=function(e,t,r){try{e.getDoc().execCommand(t,!1,String(r))}catch{}},Gl=function(e,t){e.dom.contentEditable=t?"true":"false"},k5=function(e){He(Ur(e,'*[contenteditable="true"]'),function(t){ta(t,ki,"true"),Gl(t,!1)})},S5=function(e){He(Ur(e,"*["+ki+'="true"]'),function(t){ei(t,ki),Gl(t,!0)})},E5=function(e){R.from(e.selection.getNode()).each(function(t){t.removeAttribute("data-mce-selected")})},_5=function(e){e.selection.setRng(e.selection.getRng())},x5=function(e,t){var r=W.fromDom(e.getBody());C5(r,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),E5(e),e.readonly=!0,Gl(r,!1),k5(r)):(e.readonly=!1,Gl(r,!0),S5(r),Fv(e,"StyleWithCSS",!1),Fv(e,"enableInlineTableEditing",!1),Fv(e,"enableObjectResizing",!1),Gx(e)&&e.focus(),_5(e),e.nodeChanged())},Si=function(e){return e.readonly},i1=function(e){e.parser.addAttributeFilter("contenteditable",function(t){Si(e)&&He(t,function(r){r.attr(ki,r.attr("contenteditable")),r.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ki,function(t){Si(e)&&He(t,function(r){r.attr("contenteditable",r.attr(ki))})}),e.serializer.addTempAttr(ki)},N5=function(e){e.serializer?i1(e):e.on("PreInit",function(){i1(e)})},P5=function(e){return e.type==="click"},A5=function(e,t){var r=function(n){return ae(n,W.fromDom(e.getBody()))};return Lf(t,"a",r).bind(function(n){return np(n,"href")})},O5=function(e,t){if(P5(t)&&!Ge.metaKeyPressed(t)){var r=W.fromDom(t.target);A5(e,r).each(function(n){if(t.preventDefault(),/^#/.test(n)){var a=e.dom.select(n+',[name="'+Ef(n,"#")+'"]');a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},T5=function(e){e.on("ShowCaret",function(t){Si(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){Si(e)&&t.preventDefault()})},B5=V.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Lv=function(){function e(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Et}return e.isNative=function(t){return!!B5[t.toLowerCase()]},e.prototype.fire=function(t,r){var n=t.toLowerCase(),a=r||{};a.type=n,a.target||(a.target=this.scope),a.preventDefault||(a.preventDefault=function(){a.isDefaultPrevented=Jt},a.stopPropagation=function(){a.isPropagationStopped=Jt},a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=Jt},a.isDefaultPrevented=Et,a.isPropagationStopped=Et,a.isImmediatePropagationStopped=Et),this.settings.beforeFire&&this.settings.beforeFire(a);var i=this.bindings[n];if(i)for(var o=0,u=i.length;o<u;o++){var s=i[o];if(s.once&&this.off(n,s.func),a.isImmediatePropagationStopped())return a.stopPropagation(),a;if(s.func.call(this.scope,a)===!1)return a.preventDefault(),a}return a},e.prototype.on=function(t,r,n,a){if(r===!1&&(r=Et),r){var i={func:r};a&&V.extend(i,a);for(var o=t.toLowerCase().split(" "),u=o.length;u--;){var s=o[u],c=this.bindings[s];c||(c=this.bindings[s]=[],this.toggleEvent(s,!0)),n?c.unshift(i):c.push(i)}}return this},e.prototype.off=function(t,r){var n=this;if(t)for(var a=t.toLowerCase().split(" "),i=a.length;i--;){var o=a[i],u=this.bindings[o];if(!o)return Ut(this.bindings,function(c,m){n.toggleEvent(m,!1),delete n.bindings[m]}),this;if(u){if(!r)u.length=0;else for(var s=u.length;s--;)u[s].func===r&&(u=u.slice(0,s).concat(u.slice(s+1)),this.bindings[o]=u);u.length||(this.toggleEvent(t,!1),delete this.bindings[o])}}else Ut(this.bindings,function(c,m){n.toggleEvent(m,!1)}),this.bindings={};return this},e.prototype.once=function(t,r,n){return this.on(t,r,n,{once:!0})},e.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||this.bindings[t].length===0)},e}(),Iu=function(e){return e._eventDispatcher||(e._eventDispatcher=new Lv({scope:e,toggleEvent:function(t,r){Lv.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,r)}})),e._eventDispatcher},Zl={fire:function(e,t,r){var n=this;if(n.removed&&e!=="remove"&&e!=="detach")return t;var a=Iu(n).fire(e,t);if(r!==!1&&n.parent)for(var i=n.parent();i&&!a.isPropagationStopped();)i.fire(e,a,!1),i=i.parent();return a},on:function(e,t,r){return Iu(this).on(e,t,r)},off:function(e,t){return Iu(this).off(e,t)},once:function(e,t){return Iu(this).once(e,t)},hasEventListeners:function(e){return Iu(this).has(e)}},Xl=Tt.DOM,Ei,Yl=function(e,t){if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var r=Wh(e);return r?(e.eventRoot||(e.eventRoot=Xl.select(r)[0]),e.eventRoot):e.getBody()},R5=function(e){return!e.hidden&&!Si(e)},o1=function(e,t,r){R5(e)?e.fire(t,r):Si(e)&&O5(e,r)},u1=function(e,t){var r;if(e.delegates||(e.delegates={}),!(e.delegates[t]||e.removed)){var n=Yl(e,t);if(Wh(e)){if(Ei||(Ei={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Ei&&(Ut(Ei,function(a,i){e.dom.unbind(Yl(e,i))}),Ei=null)})),Ei[t])return;r=function(a){for(var i=a.target,o=e.editorManager.get(),u=o.length;u--;){var s=o[u].getBody();(s===i||Xl.isChildOf(i,s))&&o1(o[u],t,a)}},Ei[t]=r,Xl.bind(n,t,r)}else r=function(a){o1(e,t,a)},Xl.bind(n,t,r),e.delegates[t]=r}},s1=st(st({},Zl),{bindPendingEventDelegates:function(){var e=this;V.each(e._pendingNativeEvents,function(t){u1(e,t)})},toggleNativeEvent:function(e,t){var r=this;e==="focus"||e==="blur"||(t?r.initialized?u1(r,e):r._pendingNativeEvents?r._pendingNativeEvents.push(e):r._pendingNativeEvents=[e]:r.initialized&&(r.dom.unbind(Yl(r,e),e,r.delegates[e]),delete r.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),r=e.dom;e.delegates&&(Ut(e.delegates,function(n,a){e.dom.unbind(Yl(e,a),a,n)}),delete e.delegates),!e.inline&&t&&r&&(t.onload=null,r.unbind(e.getWin()),r.unbind(e.getDoc())),r&&(r.unbind(t),r.unbind(e.getContainer()))}}),D5=["design","readonly"],l1=function(e,t,r,n){var a=r[t.get()],i=r[n];try{i.activate()}catch(o){console.error("problem while activating editor mode "+n+":",o);return}a.deactivate(),a.editorReadOnly!==i.editorReadOnly&&x5(e,i.editorReadOnly),t.set(n),b_(e,n)},I5=function(e,t,r,n){if(n!==r.get()){if(!nr(t,n))throw new Error("Editor mode '"+n+"' is invalid");e.initialized?l1(e,r,t,n):e.on("init",function(){return l1(e,r,t,n)})}},F5=function(e,t,r){var n;if(er(D5,t))throw new Error("Cannot override default mode "+t);return st(st({},e),(n={},n[t]=st(st({},r),{deactivate:function(){try{r.deactivate()}catch(a){console.error("problem while deactivating editor mode "+t+":",a)}}}),n))},L5=function(e){var t=tr("design"),r=tr({design:{activate:ot,deactivate:ot,editorReadOnly:!1},readonly:{activate:ot,deactivate:ot,editorReadOnly:!0}});return N5(e),T5(e),{isReadOnly:function(){return Si(e)},set:function(n){return I5(e,r.get(),t,n)},get:function(){return t.get()},register:function(n,a){r.set(F5(r.get(),n,a))}}},zv=V.each,Mv=V.explode,z5={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},f1=V.makeMap("alt,ctrl,shift,meta,access"),M5=function(e){var t,r={};zv(Mv(e.toLowerCase(),"+"),function(a){a in f1?r[a]=!0:/^[0-9]{2,}$/.test(a)?r.keyCode=parseInt(a,10):(r.charCode=a.charCodeAt(0),r.keyCode=z5[a]||a.toUpperCase().charCodeAt(0))});var n=[r.keyCode];for(t in f1)r[t]?n.push(t):r[t]=!1;return r.id=n.join(","),r.access&&(r.alt=!0,Y.mac?r.ctrl=!0:r.shift=!0),r.meta&&(Y.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},c1=function(){function e(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var r=this;t.on("keyup keypress keydown",function(n){(r.hasModifier(n)||r.isFunctionKey(n))&&!n.isDefaultPrevented()&&(zv(r.shortcuts,function(a){if(r.matchShortcut(n,a))return r.pendingPatterns=a.subpatterns.slice(0),n.type==="keydown"&&r.executeShortcutAction(a),!0}),r.matchShortcut(n,r.pendingPatterns[0])&&(r.pendingPatterns.length===1&&n.type==="keydown"&&r.executeShortcutAction(r.pendingPatterns[0]),r.pendingPatterns.shift()))})}return e.prototype.add=function(t,r,n,a){var i=this,o=i.normalizeCommandFunc(n);return zv(Mv(V.trim(t)),function(u){var s=i.createShortcut(u,r,o,a);i.shortcuts[s.id]=s}),!0},e.prototype.remove=function(t){var r=this.createShortcut(t);return this.shortcuts[r.id]?(delete this.shortcuts[r.id],!0):!1},e.prototype.normalizeCommandFunc=function(t){var r=this,n=t;return typeof n=="string"?function(){r.editor.execCommand(n,!1,null)}:V.isArray(n)?function(){r.editor.execCommand(n[0],n[1],n[2])}:n},e.prototype.createShortcut=function(t,r,n,a){var i=V.map(Mv(t,">"),M5);return i[i.length-1]=V.extend(i[i.length-1],{func:n,scope:a||this.editor}),V.extend(i[0],{desc:this.editor.translate(r),subpatterns:i.slice(1)})},e.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},e.prototype.isFunctionKey=function(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123},e.prototype.matchShortcut=function(t,r){return!r||r.ctrl!==t.ctrlKey||r.meta!==t.metaKey||r.alt!==t.altKey||r.shift!==t.shiftKey?!1:t.keyCode===r.keyCode||t.charCode&&t.charCode===r.charCode?(t.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},e}(),$5=function(){var e={},t={},r={},n={},a={},i={},o={},u=function(c,m){return function(h,g){return c[h.toLowerCase()]=st(st({},g),{type:m})}},s=function(c,m){return n[c.toLowerCase()]=m};return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(r,"autocompleter"),addContextMenu:u(a,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(o,"sidebar"),addIcon:s,getAll:function(){return{buttons:e,menuItems:t,icons:n,popups:r,contextMenus:a,contextToolbars:i,sidebars:o}}}},j5=function(){var e=$5();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},d1=V.each,U5=V.trim,H5="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),W5={ftp:21,http:80,https:443,mailto:25},_i=function(){function e(t,r){t=U5(t),this.settings=r||{};var n=this.settings.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}var i=t.indexOf("//")===0;if(t.indexOf("/")===0&&!i&&(t=(n&&n.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var o=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")t="//mce_host"+a.toAbsPath(o,t);else{var u=/([^#?]*)([#?]?.*)/.exec(t);t=(n&&n.protocol||"http")+"://mce_host"+a.toAbsPath(o,u[1])+u[2]}}t=t.replace(/@@/g,"(mce_at)");var s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);d1(H5,function(c,m){var h=s[m];h&&(h=h.replace(/\(mce_at\)/g,"@@")),a[c]=h}),n&&(a.protocol||(a.protocol=n.protocol),a.userInfo||(a.userInfo=n.userInfo),!a.port&&a.host==="mce_host"&&(a.port=n.port),(!a.host||a.host==="mce_host")&&(a.host=n.host),a.source=""),i&&(a.protocol="")}return e.parseDataUri=function(t){var r,n=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(n[0]);return a&&(r=a[1]),{type:r,data:n[1]}},e.getDocumentBaseUrl=function(t){var r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=t.href:r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r},e.prototype.setPath=function(t){var r=/^(.*?)\/?(\w+)?$/.exec(t);this.path=r[0],this.directory=r[1],this.file=r[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var r;if(t==="./")return t;var n=new e(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();var a=this.getURI(),i=n.getURI();return a===i||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===i?a:(r=this.toRelPath(this.path,n.path),n.query&&(r+="?"+n.query),n.anchor&&(r+="#"+n.anchor),r)},e.prototype.toAbsolute=function(t,r){var n=new e(t,{base_uri:this});return n.getURI(r&&this.isSameOrigin(n))},e.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var r=W5[this.protocol];if(r&&(this.port||r)==(t.port||r))return!0}return!1},e.prototype.toRelPath=function(t,r){var n=0,a="",i,o,u=t.substring(0,t.lastIndexOf("/")).split("/"),s=r.split("/");if(u.length>=s.length){for(i=0,o=u.length;i<o;i++)if(i>=s.length||u[i]!==s[i]){n=i+1;break}}if(u.length<s.length){for(i=0,o=s.length;i<o;i++)if(i>=u.length||u[i]!==s[i]){n=i+1;break}}if(n===1)return r;for(i=0,o=u.length-(n-1);i<o;i++)a+="../";for(i=n-1,o=s.length;i<o;i++)i!==n-1?a+="/"+s[i]:a+=s[i];return a},e.prototype.toAbsPath=function(t,r){var n,a=0,i=[],o,u=/\/$/.test(r)?"/":"",s=t.split("/"),c=r.split("/");for(d1(s,function(m){m&&i.push(m)}),s=i,n=c.length-1,i=[];n>=0;n--)if(!(c[n].length===0||c[n]===".")){if(c[n]===".."){a++;continue}if(a>0){a--;continue}i.push(c[n])}return n=s.length-a,n<=0?o=Ri(i).join("/"):o=s.slice(0,n).join("/")+"/"+Ri(i).join("/"),o.indexOf("/")!==0&&(o="/"+o),u&&o.lastIndexOf("/")!==o.length-1&&(o+=u),o},e.prototype.getURI=function(t){t===void 0&&(t=!1);var r;return(!this.source||t)&&(r="",t||(this.protocol?r+=this.protocol+"://":r+="//",this.userInfo&&(r+=this.userInfo+"@"),this.host&&(r+=this.host),this.port&&(r+=":"+this.port)),this.path&&(r+=this.path),this.query&&(r+="?"+this.query),this.anchor&&(r+="#"+this.anchor),this.source=r),this.source},e}(),xi=Tt.DOM,v1=V.extend,V5=V.each,p1=V.resolve,q5=Y.ie,Ql=function(){function e(t,r,n){var a=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,v1(this,s1),this.settings=QT(this,t,this.documentBaseUrl,n.defaultSettings,r),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(aa.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Tt.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Gr.languageLoad=this.settings.language_load,Gr.baseURL=n.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new _i(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new c1(this),this.editorCommands=new a1(this),this.settings.cache_suffix&&(Y.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:j5(),styleSheetLoader:void 0,show:ot,hide:ot,enable:ot,disable:ot,isDisabled:Et};var i=this,o=L5(i);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=rt.overrideDefaults(function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}})}return e.prototype.render=function(){e5(this)},e.prototype.focus=function(t){Xx(this,t)},e.prototype.hasFocus=function(){return vi(this)},e.prototype.execCallback=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=this,i=a.settings[t],o;if(!!i)return a.callbackLookup&&(o=a.callbackLookup[t])&&(i=o.func,o=o.scope),typeof i=="string"&&(o=i.replace(/\.\w+$/,""),o=o?p1(o):0,i=p1(i),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[t]={func:i,scope:o}),i.apply(o||a,r)},e.prototype.translate=function(t){return Sn.translate(t)},e.prototype.getParam=function(t,r,n){return tB(this,t,r,n)},e.prototype.hasPlugin=function(t,r){var n=er(Ac(this).split(/[ ,]/),t);return n?r?Pn.get(t)!==void 0:!0:!1},e.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},e.prototype.addCommand=function(t,r,n){this.editorCommands.addCommand(t,r,n)},e.prototype.addQueryStateHandler=function(t,r,n){this.editorCommands.addQueryStateHandler(t,r,n)},e.prototype.addQueryValueHandler=function(t,r,n){this.editorCommands.addQueryValueHandler(t,r,n)},e.prototype.addShortcut=function(t,r,n,a){this.shortcuts.add(t,r,n,a)},e.prototype.execCommand=function(t,r,n,a){return this.editorCommands.execCommand(t,r,n,a)},e.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},e.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},e.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},e.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(xi.show(t.getContainer()),xi.hide(t.id)),t.load(),t.fire("show"))},e.prototype.hide=function(){var t=this,r=t.getDoc();t.hidden||(q5&&r&&!t.inline&&r.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(xi.hide(t.getContainer()),xi.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(t,r){this.fire("ProgressState",{state:t,time:r})},e.prototype.load=function(t){var r=this,n=r.getElement(),a;if(r.removed)return"";if(n){t=t||{},t.load=!0;var i=Bf(n)?n.value:n.innerHTML;return a=r.setContent(i,t),t.element=n,t.no_events||r.fire("LoadContent",t),t.element=n=null,a}},e.prototype.save=function(t){var r=this,n=r.getElement(),a,i;if(!(!n||!r.initialized||r.removed))return t=t||{},t.save=!0,t.element=n,a=t.content=r.getContent(t),t.no_events||r.fire("SaveContent",t),t.format==="raw"&&r.fire("RawSaveContent",t),a=t.content,Bf(n)?n.value=a:((t.is_removing||!r.inline)&&(n.innerHTML=a),(i=xi.getParent(r.id,"form"))&&V5(i.elements,function(o){if(o.name===r.id)return o.value=a,!1})),t.element=n=null,t.set_dirty!==!1&&r.setDirty(!1),a},e.prototype.setContent=function(t,r){return ov(this,t,r)},e.prototype.getContent=function(t){return xT(this,t)},e.prototype.insertContent=function(t,r){r&&(t=v1({content:t},r)),this.execCommand("mceInsertContent",!1,t)},e.prototype.resetContent=function(t){t===void 0?ov(this,this.startContent,{format:"raw"}):ov(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(t){var r=!this.isNotDirty;this.isNotDirty=!t,t&&t!==r&&this.fire("dirty")},e.prototype.getContainer=function(){var t=this;return t.container||(t.container=xi.get(t.editorContainer||t.id+"_parent")),t.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=xi.get(this.id)),this.targetElm},e.prototype.getWin=function(){var t=this,r;return t.contentWindow||(r=t.iframeElement,r&&(t.contentWindow=r.contentWindow)),t.contentWindow},e.prototype.getDoc=function(){var t=this,r;return t.contentDocument||(r=t.getWin(),r&&(t.contentDocument=r.document)),t.contentDocument},e.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},e.prototype.convertURL=function(t,r,n){var a=this,i=a.settings;return i.urlconverter_callback?a.execCallback("urlconverter_callback",t,n,!0,r):!i.convert_urls||n&&n.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:i.relative_urls?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,i.remove_script_host),t)},e.prototype.addVisual=function(t){t5(this,t)},e.prototype.remove=function(){OT(this)},e.prototype.destroy=function(t){TT(this,t)},e.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),dn=Tt.DOM,K5=V.explode,Xn=V.each,G5=V.extend,Z5=0,h1=!1,Jl,Ia=[],Dr=[],X5=function(e){return e!=="length"},m1=function(e){var t=e.type;Xn(Fa.get(),function(r){switch(t){case"scroll":r.fire("ScrollWindow",e);break;case"resize":r.fire("ResizeWindow",e);break}})},g1=function(e){e!==h1&&(e?rt(window).on("resize scroll",m1):rt(window).off("resize scroll",m1),h1=e)},b1=function(e){var t=Dr;delete Ia[e.id];for(var r=0;r<Ia.length;r++)if(Ia[r]===e){Ia.splice(r,1);break}return Dr=mt(Dr,function(n){return e!==n}),Fa.activeEditor===e&&(Fa.activeEditor=Dr.length>0?Dr[0]:null),Fa.focusedEditor===e&&(Fa.focusedEditor=null),t.length!==Dr.length},Y5=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(b1(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},Q5=document.compatMode!=="CSS1Compat",Fa=st(st({},Zl),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:rt,majorVersion:"5",minorVersion:"8.2",releaseDate:"2021-06-23",editors:Ia,i18n:Sn,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,t,r,n="";r=_i.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));var a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,n=a.suffix;else{for(var i=document.getElementsByTagName("script"),o=0;o<i.length;o++){var u=i[o].src||"";if(u!==""){var s=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){s.indexOf(".min")!==-1&&(n=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}}if(!t&&document.currentScript){var u=document.currentScript.src;u.indexOf(".min")!==-1&&(n=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new _i(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new _i(e.baseURL),e.suffix=n,$x(e)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var r=e.suffix;e.suffix&&(this.suffix=r),this.defaultSettings=e;var n=e.plugin_base_urls;n!==void 0&&Ut(n,function(a,i){Gr.PluginManager.urls[i]=a})},init:function(e){var t=this,r,n=V.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=function(h,g){return h.inline&&g.tagName.toLowerCase()in n},i=function(h){var g=h.id;return g||(g=Mr(h,"name").filter(function(S){return!dn.get(S)}).getOrThunk(dn.uniqueId),h.setAttribute("id",g)),g},o=function(h){var g=e[h];if(!!g)return g.apply(t,[])},u=function(h,g){return g.constructor===RegExp?g.test(h.className):dn.hasClass(h,g)},s=function(h){var g=[];if(Y.browser.isIE()&&Y.browser.version.major<11)return El("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(Q5)return El("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(h.types)return Xn(h.types,function(_){g=g.concat(dn.select(_.selector))}),g;if(h.selector)return dn.select(h.selector);if(h.target)return[h.target];switch(h.mode){case"exact":var S=h.elements||"";S.length>0&&Xn(K5(S),function(_){var x=dn.get(_);x?g.push(x):Xn(document.forms,function(C){Xn(C.elements,function(B){B.name===_&&(_="mce_editor_"+Z5++,dn.setAttrib(B,"id",_),g.push(B))})})});break;case"textareas":case"specific_textareas":Xn(dn.select("textarea"),function(_){h.editor_deselector&&u(_,h.editor_deselector)||(!h.editor_selector||u(_,h.editor_selector))&&g.push(_)});break}return g},c=function(h){r=h},m=function(){var h=0,g=[],S,_=function(x,C,B){var T=new Ql(x,C,t);g.push(T),T.on("init",function(){++h===S.length&&c(g)}),T.targetElm=T.targetElm||B,T.render()};if(dn.unbind(window,"ready",m),o("onpageload"),S=rt.unique(s(e)),e.types){Xn(e.types,function(x){V.each(S,function(C){return dn.is(C,x.selector)?(_(i(C),G5({},e,x),C),!1):!0})});return}V.each(S,function(x){Y5(t.get(x.id))}),S=V.grep(S,function(x){return!t.get(x.id)}),S.length===0?c([]):Xn(S,function(x){a(e,x)?El("Could not initialize inline editor on invalid inline target element",x):_(i(x),e,x)})};return t.settings=e,dn.bind(window,"ready",m),new cr(function(h){r?h(r):c=function(g){h(g)}})},get:function(e){return arguments.length===0?Dr.slice(0):Ct(e)?hr(Dr,function(t){return t.id===e}).getOr(null):fa(e)&&Dr[e]?Dr[e]:null},add:function(e){var t=this,r=Ia[e.id];return r===e||(t.get(e.id)===null&&(X5(e.id)&&(Ia[e.id]=e),Ia.push(e),Dr.push(e)),g1(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),Jl||(Jl=function(n){var a=t.fire("BeforeUnload");if(a.returnValue)return n.preventDefault(),n.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",Jl))),e},createEditor:function(e,t){return this.add(new Ql(e,t,this))},remove:function(e){var t=this,r,n;if(!e){for(r=Dr.length-1;r>=0;r--)t.remove(Dr[r]);return}if(Ct(e)){Xn(dn.select(e),function(a){n=t.get(a.id),n&&t.remove(n)});return}return n=e,sr(t.get(n.id))?null:(b1(n)&&t.fire("RemoveEditor",{editor:n}),Dr.length===0&&window.removeEventListener("beforeunload",Jl),n.remove(),g1(Dr.length>0),n)},execCommand:function(e,t,r){var n=this,a=n.get(r);switch(e){case"mceAddEditor":return n.get(r)||new Ql(r,n.settings,n).render(),!0;case"mceRemoveEditor":return a&&a.remove(),!0;case"mceToggleEditor":return a?(a.isHidden()?a.show():a.hide(),!0):(n.execCommand("mceAddEditor",!1,r),!0)}return n.activeEditor?n.activeEditor.execCommand(e,t,r):!1},triggerSave:function(){Xn(Dr,function(e){e.save()})},addI18n:function(e,t){Sn.add(e,t)},translate:function(e){return Sn.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new _i(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new _i(this.baseURL)}});Fa.setup();var y1=Math.min,No=Math.max,ef=Math.round,w1=function(e,t,r){var n=t.x,a=t.y,i=e.w,o=e.h,u=t.w,s=t.h,c=(r||"").split("");return c[0]==="b"&&(a+=s),c[1]==="r"&&(n+=u),c[0]==="c"&&(a+=ef(s/2)),c[1]==="c"&&(n+=ef(u/2)),c[3]==="b"&&(a-=o),c[4]==="r"&&(n-=i),c[3]==="c"&&(a-=ef(o/2)),c[4]==="c"&&(n-=ef(i/2)),Po(n,a,i,o)},J5=function(e,t,r,n){var a,i;for(i=0;i<n.length;i++)if(a=w1(e,t,n[i]),a.x>=r.x&&a.x+a.w<=r.w+r.x&&a.y>=r.y&&a.y+a.h<=r.h+r.y)return n[i];return null},eL=function(e,t,r){return Po(e.x-t,e.y-r,e.w+t*2,e.h+r*2)},tL=function(e,t){var r=No(e.x,t.x),n=No(e.y,t.y),a=y1(e.x+e.w,t.x+t.w),i=y1(e.y+e.h,t.y+t.h);return a-r<0||i-n<0?null:Po(r,n,a-r,i-n)},rL=function(e,t,r){var n=e.x,a=e.y,i=e.x+e.w,o=e.y+e.h,u=t.x+t.w,s=t.y+t.h,c=No(0,t.x-n),m=No(0,t.y-a),h=No(0,i-u),g=No(0,o-s);return n+=c,a+=m,r&&(i+=c,o+=m,n-=h,a-=g),i-=h,o-=g,Po(n,a,i-n,o-a)},Po=function(e,t,r,n){return{x:e,y:t,w:r,h:n}},nL=function(e){return Po(e.left,e.top,e.width,e.height)},aL={inflate:eL,relativePosition:w1,findBestRelativePosition:J5,intersect:tL,clamp:rL,create:Po,fromClientRect:nL},iL=function(e,t,r){r===void 0&&(r=1e3);var n=!1,a=null,i=function(c){return function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];n||(n=!0,a!==null&&(clearTimeout(a),a=null),c.apply(null,m))}},o=i(e),u=i(t),s=function(){for(var c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];!n&&a===null&&(a=setTimeout(function(){return u.apply(null,c)},r))};return{start:s,resolve:o,reject:u}},oL=function(){var e={},t={},r=function(a,i){var o='Script at URL "'+i+'" failed to load',u='Script at URL "'+i+"\" did not call `tinymce.Resource.add('"+a+"', data)` within 1 second";if(e[a]!==void 0)return e[a];var s=new cr(function(c,m){var h=iL(c,m);t[a]=h.resolve,aa.ScriptLoader.loadScript(i,function(){return h.start(u)},function(){return h.reject(o)})});return e[a]=s,s},n=function(a,i){t[a]!==void 0&&(t[a](i),delete t[a]),e[a]=cr.resolve(i)};return{load:r,add:n}},uL=oL(),tf=V.each,sL=V.extend,C1,$v,k1=function(){};k1.extend=C1=function(e){var t=this,r=t.prototype,n=function(){var u,s,c,m=this;if(!$v&&(m.init&&m.init.apply(m,arguments),s=m.Mixins,s))for(u=s.length;u--;)c=s[u],c.init&&c.init.apply(m,arguments)},a=function(){return this},i=function(u,s){return function(){var c=this,m=c._super;c._super=r[u];var h=s.apply(c,arguments);return c._super=m,h}};$v=!0;var o=new t;return $v=!1,e.Mixins&&(tf(e.Mixins,function(u){for(var s in u)s!=="init"&&(e[s]=u[s])}),r.Mixins&&(e.Mixins=r.Mixins.concat(e.Mixins))),e.Methods&&tf(e.Methods.split(","),function(u){e[u]=a}),e.Properties&&tf(e.Properties.split(","),function(u){var s="_"+u;e[u]=function(c){var m=this;return c!==void 0?(m[s]=c,m):m[s]}}),e.Statics&&tf(e.Statics,function(u,s){n[s]=u}),e.Defaults&&r.Defaults&&(e.Defaults=sL({},r.Defaults,e.Defaults)),Ut(e,function(u,s){typeof u=="function"&&r[s]?o[s]=i(s,u):o[s]=u}),n.prototype=o,n.constructor=n,n.extend=C1,n};var rf=Math.min,nf=Math.max,Ni=Math.round,lL=function(e){var t={},r=0,n=0,a=0,i=function(h,g,S){var _,x,C;_=0,x=0,C=0,h=h/255,g=g/255,S=S/255;var B=rf(h,rf(g,S)),T=nf(h,nf(g,S));if(B===T)return C=B,{h:0,s:0,v:C*100};var z=h===B?g-S:S===B?h-g:S-h;return _=h===B?3:S===B?1:5,_=60*(_-z/(T-B)),x=(T-B)/T,C=T,{h:Ni(_),s:Ni(x*100),v:Ni(C*100)}},o=function(h,g,S){if(h=(parseInt(h,10)||0)%360,g=parseInt(g,10)/100,S=parseInt(S,10)/100,g=nf(0,rf(g,1)),S=nf(0,rf(S,1)),g===0){r=n=a=Ni(255*S);return}var _=h/60,x=S*g,C=x*(1-Math.abs(_%2-1)),B=S-x;switch(Math.floor(_)){case 0:r=x,n=C,a=0;break;case 1:r=C,n=x,a=0;break;case 2:r=0,n=x,a=C;break;case 3:r=0,n=C,a=x;break;case 4:r=C,n=0,a=x;break;case 5:r=x,n=0,a=C;break;default:r=n=a=0}r=Ni(255*(r+B)),n=Ni(255*(n+B)),a=Ni(255*(a+B))},u=function(){var h=function(g){return g=parseInt(g,10).toString(16),g.length>1?g:"0"+g};return"#"+h(r)+h(n)+h(a)},s=function(){return{r,g:n,b:a}},c=function(){return i(r,n,a)},m=function(h){var g;return typeof h=="object"?"r"in h?(r=h.r,n=h.g,a=h.b):"v"in h&&o(h.h,h.s,h.v):(g=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(h))?(r=parseInt(g[1],10),n=parseInt(g[2],10),a=parseInt(g[3],10)):(g=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(h))?(r=parseInt(g[1],16),n=parseInt(g[2],16),a=parseInt(g[3],16)):(g=/#([0-F])([0-F])([0-F])/gi.exec(h))&&(r=parseInt(g[1]+g[1],16),n=parseInt(g[2]+g[2],16),a=parseInt(g[3]+g[3],16)),r=r<0?0:r>255?255:r,n=n<0?0:n>255?255:n,a=a<0?0:a>255?255:a,t};return e&&m(e),t.toRgb=s,t.toHsv=c,t.toHex=u,t.parse=m,t},fL=function(e){var t=JSON.stringify(e);return Ct(t)?t.replace(/[\u0080-\uFFFF]/g,function(r){var n=r.charCodeAt(0).toString(16);return"\\u"+"0000".substring(n.length)+n}):t},jv={serialize:fL,parse:function(e){try{return JSON.parse(e)}catch{}}},cL={callbacks:{},count:0,send:function(e){var t=this,r=Tt.DOM,n=e.count!==void 0?e.count:t.count,a="tinymce_jsonp_"+n;t.callbacks[n]=function(i){r.remove(a),delete t.callbacks[n],e.callback(i)},r.add(r.doc.body,"script",{id:a,src:e.url,type:"text/javascript"}),t.count++}},af=st(st({},Zl),{send:function(e){var t,r=0,n=function(){!e.async||t.readyState===4||r++>1e4?(e.success&&r<1e4&&t.status===200?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):wr.setTimeout(n,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",af.fire("beforeInitialize",{settings:e}),t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&V.each(e.requestheaders,function(a){t.setRequestHeader(a.key,a.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=af.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return n();wr.setTimeout(n,10)}}),S1=V.extend,dL=function(){function e(t){this.settings=S1({},t),this.count=0}return e.sendRPC=function(t){return new e().send(t)},e.prototype.send=function(t){var r=t.error,n=t.success,a=S1(this.settings,t);a.success=function(i,o){i=jv.parse(i),typeof i=="undefined"&&(i={error:"JSON Parse error."}),i.error?r.call(a.error_scope||a.scope,i.error,o):n.call(a.success_scope||a.scope,i.result)},a.error=function(i,o){r&&r.call(a.error_scope||a.scope,i,o)},a.data=jv.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),a.content_type="application/json",af.send(a)},e}(),vL=function(){return function(){var e={},t=[],r={getItem:function(n){var a=e[n];return a||null},setItem:function(n,a){t.push(n),e[n]=String(a)},key:function(n){return t[n]},removeItem:function(n){t=t.filter(function(a){return a===n}),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(r,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),r}()},Fu;try{var Uv="__storage_test__";Fu=window.localStorage,Fu.setItem(Uv,Uv),Fu.removeItem(Uv)}catch{Fu=vL()}var pL=Fu,hL={geom:{Rect:aL},util:{Promise:cr,Delay:wr,Tools:V,VK:Ge,URI:_i,Class:k1,EventDispatcher:Lv,Observable:Zl,I18n:Sn,XHR:af,JSON:jv,JSONRequest:dL,JSONP:cL,LocalStorage:pL,Color:lL,ImageUploader:xB},dom:{EventUtils:Qi,Sizzle:xt,DomQuery:rt,TreeWalker:ar,TextSeeker:fh,DOMUtils:Tt,ScriptLoader:aa,RangeUtils:ku,Serializer:$b,StyleSheetLoader:gp,ControlSelection:Fm,BookmarkManager:wu,Selection:Bb,Event:Qi.Event},html:{Styles:Jf,Entities:ni,Node:cn,Schema:wa,SaxParser:il,DomParser:iv,Writer:fg,Serializer:bo},Env:Y,AddOnManager:Gr,Annotator:Dm,Formatter:ny,UndoManager:ay,EditorCommands:a1,WindowManager:Zb,NotificationManager:Gb,EditorObservable:s1,Shortcuts:c1,Editor:Ql,FocusManager:eg,EditorManager:Fa,DOM:Tt.DOM,ScriptLoader:aa.ScriptLoader,PluginManager:Pn,ThemeManager:Ra,IconManager:kl,Resource:uL,trim:V.trim,isArray:V.isArray,is:V.is,toArray:V.toArray,makeMap:V.makeMap,each:V.each,map:V.map,grep:V.grep,inArray:V.inArray,extend:V.extend,create:V.create,walk:V.walk,createNS:V.createNS,resolve:V.resolve,explode:V.explode,_addCacheSuffix:V._addCacheSuffix,isOpera:Y.opera,isWebKit:Y.webkit,isIE:Y.ie,isGecko:Y.gecko,isMac:Y.mac},E1=V.extend(Fa,hL),mL=function(e){try{Fe.exports=e}catch{}},gL=function(e){window.tinymce=e,window.tinyMCE=e};gL(E1),mL(E1)})()})(I1);var TL=I1.exports,BL=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],RL=function(Fe){return BL.map(function(Je){return Je.toLowerCase()}).indexOf(Fe.toLowerCase())!==-1},DL=function(Fe,Je,et){Object.keys(Je).filter(RL).forEach(function(wt){var dt=Je[wt];typeof dt=="function"&&(wt==="onInit"?dt(Fe,et):et.on(wt.substring(2),function(Lt){return dt(Lt,et)}))})},IL=function(Fe,Je,et,wt){var dt=Fe.modelEvents?Fe.modelEvents:null,Lt=Array.isArray(dt)?dt.join(" "):dt;et.on(Lt||"input  focus focusin click focusout drop ObjectResized keydown paste ExecCommand ObjectSelected",function(){Je.emit("update:modelValue",typeof et.getTpContent=="function"?et.getTpContent({format:Fe.outputFormat}):et.getContent({format:Fe.outputFormat}))}),TL.tinymcePlugin&&$L(Wr=>{typeof et.getTpContent=="function"&&(Wr(),Je.emit("update:modelValue",et.getTpContent({format:Fe.outputFormat})),Je.emit("update:modelValue",et.getTpContent({format:Fe.outputFormat})))},50)},FL=function(Fe,Je,et,wt,dt,Lt){typeof wt.setTpContent=="function"?wt.setTpContent(Lt()):wt.setContent(Lt()),et.attrs["onUpdate:modelValue"]&&IL(Je,et,wt),DL(Fe,et.attrs,wt)},R1=0,F1=function(Fe){var Je=Date.now(),et=Math.floor(Math.random()*1e9);return R1++,Fe+"_"+et+R1+String(Je)},LL=function(Fe){return Fe!==null&&Fe.tagName.toLowerCase()==="textarea"},D1=function(Fe){return typeof Fe=="undefined"||Fe===""?[]:Array.isArray(Fe)?Fe:Fe.split(" ")},zL=function(Fe,Je){return D1(Fe).concat(D1(Je))},ML=function(Fe){return Fe==null};const $L=(Fe,Je,et)=>{!et&&(et=Je*1e3);let wt={id:null,outTime:et,outId:null};wt.id=setInterval(dt=>{Fe(()=>{clearTimeout(dt.outId),clearInterval(dt.id)})},Je,wt),wt.outId=setTimeout(()=>{wt.id&&clearInterval(wt.id)},wt.outTime)},jL={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(Fe){return Fe==="html"||Fe==="text"}}};var UL=function(){return{listeners:[],scriptId:F1("tiny-script"),scriptLoaded:!1}},HL=function(){var Fe=UL(),Je=function(wt,dt,Lt,Wr){var Qe=dt.createElement("script");Qe.referrerPolicy="origin",Qe.type="application/javascript",Qe.id=wt,Qe.src=Lt;var vt=function(){Qe.removeEventListener("load",vt),Wr()};Qe.addEventListener("load",vt),dt.head&&dt.head.appendChild(Qe)},et=function(wt,dt,Lt){Fe.scriptLoaded?Lt():(Fe.listeners.push(Lt),wt.getElementById(Fe.scriptId)||Je(Fe.scriptId,wt,dt,function(){Fe.listeners.forEach(function(Wr){return Wr()}),Fe.scriptLoaded=!0}))};return{load:et}},WL=HL();const VL={min_height:300,plugins:["code hr"],toolbar:["code hr"],schema:"html5",table_default_attributes:{border:"1"},table_default_styles:{"border-collapse":"collapse",width:"100%"},table_header_type:"sectionCells",table_responsive_width:!0,file_picker_types:"file img media",fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px"};var Oi=globalThis&&globalThis.__assign||function(){return Oi=Object.assign||function(Fe){for(var Je,et=1,wt=arguments.length;et<wt;et++){Je=arguments[et];for(var dt in Je)Object.prototype.hasOwnProperty.call(Je,dt)&&(Fe[dt]=Je[dt])}return Fe},Oi.apply(this,arguments)},qL=function(Fe,Je,et,wt){return Fe("div",{},Fe(wt||"div",{id:Je,ref:et}))},KL=function(Fe,Je,et){return Fe("div",{},Fe("textarea",{id:Je,visibility:"hidden",ref:et}))};const GL=function(){return typeof window!="undefined"?window:global},Ai=function(){var Fe=GL();return Fe&&Fe.tinymce?Fe.tinymce:null};var Hv=EL({name:"TinymceEditor",props:jL,setup:function(Fe,Je){var et=Fe.init?Oi(VL,Fe.init):{},wt=_L(Fe),dt=wt.disabled,Lt=wt.modelValue,Wr=wt.tagName,Qe=xL(null),vt=null,pr=Fe.id||F1("tiny-vue"),vn=Fe.init&&Fe.init.inline||Fe.inline,pn=!!Je.attrs["onUpdate:modelValue"],$a=!0,ja=Fe.initialValue?Fe.initialValue:"",hn="",de=function(Dt){return pn?function(){return Lt!=null&&Lt.value?Lt.value:""}:function(){return Dt?ja:hn}},Ct=function(){var Dt=de($a),sr=Oi(Oi({},et),{readonly:Fe.disabled,selector:"#"+pr,plugins:zL(et.plugins,Fe.plugins),toolbar:Fe.toolbar||et.toolbar,inline:vn,setup:function(sn){vt=sn,sn.on("init",function(Bn){return FL(Bn,Fe,Je,sn,Lt,Dt)}),sn.on("setContent",function(Bn){}),typeof et.setup=="function"&&et.setup(sn)}});LL(Qe.value)&&(Qe.value.style.visibility=""),Ai().init(sr),$a=!1};O1(dt,function(Dt){var sr;vt!==null&&(typeof((sr=vt.mode)===null||sr===void 0?void 0:sr.set)=="function"?vt.mode.set(Dt?"readonly":"design"):vt.setMode(Dt?"readonly":"design"))}),O1(Wr,function(Dt){var sr;pn||(hn=typeof vt.getTpContent=="function"?vt.getTpContent():vt.getContent()),(sr=Ai())===null||sr===void 0||sr.remove(vt),B1(function(){return Ct()})}),NL(function(){if(Ai()!==null)Ct();else if(Qe.value&&Qe.value.ownerDocument){var Dt=Fe.cloudChannel?Fe.cloudChannel:"5",sr=Fe.apiKey?Fe.apiKey:"no-api-key",sn=ML(Fe.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+sr+"/tinymce/"+Dt+"/tinymce.min.js":Fe.tinymceScriptSrc;WL.load(Qe.value.ownerDocument,sn,Ct)}}),PL(function(){Ai()!==null&&Ai().remove(vt)}),vn||(AL(function(){$a||Ct()}),OL(function(){var Dt;pn||(hn=typeof vt.getTpContent=="function"?vt.getTpContent():vt.getContent()),(Dt=Ai())===null||Dt===void 0||Dt.remove(vt)}));var Tn=function(Dt){var sr;hn=typeof vt.getTpContent=="function"?vt.getTpContent():vt.getContent(),(sr=Ai())===null||sr===void 0||sr.remove(vt),et=Oi(Oi({},et),Dt),B1(function(){return Ct()})};return Je.expose({rerender:Tn}),function(){return vn?qL(T1,pr,Qe,Fe.tagName):KL(T1,pr,Qe)}}});const YL=Object.assign(Hv,{install(Fe){Fe.component(Hv.name,Hv)}});/*! 
*  @plugin @tinymce-plugin/tp-indent2em
*  @version 0.0.9 (2022-4-7)
*  @description 导入word文档
*  @copyright (2022) Five(Li Hailong) https://github.com/tinymce-plugin/tp-indent2em
*/(function(Fe,Je){typeof exports=="object"&&typeof module<"u"?module.exports=Je():typeof define=="function"&&define.amd?define(Je):(Fe=typeof globalThis<"u"?globalThis:Fe||self,Fe["tp-indent2em"]=Je())})(globalThis,function(){var Fe=function(Qe,vt){return function(pr){return Qe.selection.selectorChangedWithUnbind(vt.join(","),function(vn,pn){pr.setActive(parseInt(Qe.dom.getStyle(Qe.dom.getParent(pn.node,"li,p,div"),"text-indent"))>0&&vn)}).unbind}},Je=function(Qe,vt){Qe.undoManager.transact(function(){Qe.focus();for(var pr=Qe.selection.getStart();pr.nodeName!=="LI"&&pr.nodeName!=="P"&&pr.nodeName!=="DIV"&&pr.nodeName!=="BODY";)pr=pr.parentNode;Qe.dom.getStyle(pr,"text-indent")?Qe.execCommand("tpIndent",!1,"remove"):Qe.execCommand("tpIndent")})},et=function(Qe,vt){Qe.ui.registry.getAll().icons[vt.registryName]||Qe.ui.registry.addIcon(vt.registryName,vt.icon),Qe.ui.registry.addToggleButton(vt.registryName,{icon:vt.registryName,tooltip:vt.title,onAction:function(){return Je(Qe)},onSetup:Fe(Qe,['*[style*="text-indent"]','*[data-mce-style*="text-indent"]'])}),Qe.ui.registry.addMenuItem(vt.registryName,{icon:vt.registryName,text:vt.title,onAction:function(){return Je(Qe)}})},wt=function(Qe,vt){Qe.addCommand("mce".concat(vt.registryName.substring(0,1).toUpperCase()+vt.registryName.substring(1)),function(){Je(Qe)})},dt=function(Qe){tinymce.PluginManager.add(Qe.registryName,function(vt,pr){return et(vt,Qe),wt(vt,Qe),{getMetadata:function(){return{name:Qe.name,url:Qe.repo}}}})},Lt={name:"Indent2em",registryName:"tpIndent2em",title:"First line indent",repo:"https://github.com/tinymce-plugin/tp-indent2em",icon:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M170.666667 563.2v-102.4H887.466667v102.4zM170.666667 836.266667v-102.4H887.466667v102.4zM512 290.133333v-102.4H887.466667v102.4zM238.933333 341.333333V136.533333l204.8 102.4z"  p-id="5210"></path></svg>'};dt(Lt);var Wr={opt:Lt};return Wr});/*! 
*  @plugin @tinymce-plugin/tp-imporatword
*  @version 0.0.9 (2022-4-7)
*  @description 导入word文档
*  @copyright (2022) Li Hailong https://github.com/tinymce-plugin/tp-imporatword
*/(function(Fe,Je){typeof exports=="object"&&typeof module<"u"?module.exports=Je():typeof define=="function"&&define.amd?define(Je):(Fe=typeof globalThis<"u"?globalThis:Fe||self,Fe.tpImportword=Je())})(globalThis,function(){var Fe=function(b,f){return Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,v){l.__proto__=v}||function(l,v){for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])},Fe(b,f)};function Je(b,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");Fe(b,f);function l(){this.constructor=b}b.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}var et=function(){return et=Object.assign||function(b){for(var f,l=1,v=arguments.length;l<v;l++){f=arguments[l];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(b[p]=f[p])}return b},et.apply(this,arguments)};function wt(b,f,l){if(l||arguments.length===2)for(var v=0,p=f.length,d;v<p;v++)(d||!(v in f))&&(d||(d=Array.prototype.slice.call(f,0,v)),d[v]=f[v]);return b.concat(d||Array.prototype.slice.call(f))}var dt;(function(b){b.OfficeDocument="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",b.FontTable="http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable",b.Image="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",b.Numbering="http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering",b.Styles="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",b.StylesWithEffects="http://schemas.microsoft.com/office/2007/relationships/stylesWithEffects",b.Theme="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",b.Settings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings",b.WebSettings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/webSettings",b.Hyperlink="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",b.Footnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes",b.Endnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/endnotes",b.Footer="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",b.Header="http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",b.ExtendedProperties="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",b.CoreProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",b.CustomProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/custom-properties"})(dt||(dt={}));function Lt(b,f){return f.elements(b).map(function(l){return{id:f.attr(l,"Id"),type:f.attr(l,"Type"),target:f.attr(l,"Target"),targetMode:f.attr(l,"TargetMode")}})}var Wr={wordml:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",drawingml:"http://schemas.openxmlformats.org/drawingml/2006/main",picture:"http://schemas.openxmlformats.org/drawingml/2006/picture",compatibility:"http://schemas.openxmlformats.org/markup-compatibility/2006"},Qe={Dxa:{mul:.05,unit:"pt"},Emu:{mul:1/12700,unit:"pt"},FontSize:{mul:.5,unit:"pt"},Border:{mul:.125,unit:"pt"},Point:{mul:1,unit:"pt"},Percent:{mul:.02,unit:"%"},LineHeight:{mul:1/240,unit:null}};function vt(b,f){var l;return f===void 0&&(f=Qe.Dxa),b==null||/.+(p[xt]|[%])$/.test(b)?b:"".concat((parseInt(b)*f.mul).toFixed(2)).concat((l=f.unit)!==null&&l!==void 0?l:"")}function pr(b,f){switch(f===void 0&&(f=!1),b){case"1":return!0;case"0":return!1;case"on":return!0;case"off":return!1;case"true":return!0;case"false":return!1;default:return f}}function vn(b,f,l){if(b.namespaceURI!=Wr.wordml)return!1;switch(b.localName){case"color":f.color=l.attr(b,"val");break;case"sz":f.fontSize=l.lengthAttr(b,"val",Qe.FontSize);break;default:return!1}return!0}function pn(b,f){f===void 0&&(f=!1),f&&(b=b.replace(/<[?].*[?]>/,""));var l=new DOMParser().parseFromString(b,"application/xml"),v=$a(l);if(v)throw new Error(v);return l}function $a(b){var f;return(f=b.getElementsByTagName("parsererror")[0])===null||f===void 0?void 0:f.textContent}function ja(b){return new XMLSerializer().serializeToString(b)}var hn=function(){function b(){}return Object.defineProperty(b.prototype,"elements",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){l===void 0&&(l=null);for(var v=[],p=0,d=f.childNodes.length;p<d;p++){var y=f.childNodes.item(p);y.nodeType==1&&(l==null||y.localName==l)&&v.push(y)}return v}}),Object.defineProperty(b.prototype,"element",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){for(var v=0,p=f.childNodes.length;v<p;v++){var d=f.childNodes.item(v);if(d.nodeType==1&&d.localName==l)return d}return null}}),Object.defineProperty(b.prototype,"elementAttr",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){var p=this.element(f,l);return p?this.attr(p,v):void 0}}),Object.defineProperty(b.prototype,"attr",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){for(var v=0,p=f.attributes.length;v<p;v++){var d=f.attributes.item(v);if(d.localName==l)return d.value}return null}}),Object.defineProperty(b.prototype,"intAttr",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){v===void 0&&(v=null);var p=this.attr(f,l);return p?parseInt(p):v}}),Object.defineProperty(b.prototype,"hexAttr",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){v===void 0&&(v=null);var p=this.attr(f,l);return p?parseInt(p,16):v}}),Object.defineProperty(b.prototype,"floatAttr",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){v===void 0&&(v=null);var p=this.attr(f,l);return p?parseFloat(p):v}}),Object.defineProperty(b.prototype,"boolAttr",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){return v===void 0&&(v=null),pr(this.attr(f,l),v)}}),Object.defineProperty(b.prototype,"lengthAttr",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){return v===void 0&&(v=Qe.Dxa),vt(this.attr(f,l),v)}}),b}(),de=new hn,Ct=function(){function b(f,l){Object.defineProperty(this,"_package",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"path",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"_xmlDocument",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rels",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(b.prototype,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(){var f=this;return Promise.all([this._package.loadRelationships(this.path).then(function(l){f.rels=l}),this._package.load(this.path).then(function(l){var v=f._package.parseXmlDocument(l);f._package.options.keepOrigin&&(f._xmlDocument=v),f.parseXml(v.firstElementChild)})])}}),Object.defineProperty(b.prototype,"save",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._package.update(this.path,ja(this._xmlDocument))}}),Object.defineProperty(b.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(f){}}),b}(),Tn={embedRegular:"regular",embedBold:"bold",embedItalic:"italic",embedBoldItalic:"boldItalic"};function Dt(b,f){return f.elements(b).map(function(l){return sr(l,f)})}function sr(b,f){for(var l={name:f.attr(b,"name"),embedFontRefs:[]},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"family":l.family=f.attr(d,"val");break;case"altName":l.altName=f.attr(d,"val");break;case"embedRegular":case"embedBold":case"embedItalic":case"embedBoldItalic":l.embedFontRefs.push(sn(d,f));break}}return l}function sn(b,f){return{id:f.attr(b,"id"),key:f.attr(b,"fontKey"),type:Tn[b.localName]}}var Bn=function(b){Je(f,b);function f(){var l=b!==null&&b.apply(this,arguments)||this;return Object.defineProperty(l,"fonts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){this.fonts=Dt(l,this._package.xmlParser)}}),f}(Ct),Ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lr(b){throw new Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qt={exports:{}};(function(b,f){(function(l){b.exports=l()})(function(){return function l(v,p,d){function y(A,D){if(!p[A]){if(!v[A]){var F=typeof lr=="function"&&lr;if(!D&&F)return F(A,!0);if(E)return E(A,!0);var U=new Error("Cannot find module '"+A+"'");throw U.code="MODULE_NOT_FOUND",U}var P=p[A]={exports:{}};v[A][0].call(P.exports,function(I){var H=v[A][1][I];return y(H||I)},P,P.exports,l,v,p,d)}return p[A].exports}for(var E=typeof lr=="function"&&lr,k=0;k<d.length;k++)y(d[k]);return y}({1:[function(l,v,p){var d=l("./utils"),y=l("./support"),E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";p.encode=function(k){for(var A,D,F,U,P,I,H,O=[],L=0,$=k.length,X=$,Y=d.getTypeOf(k)!=="string";L<k.length;)X=$-L,F=Y?(A=k[L++],D=L<$?k[L++]:0,L<$?k[L++]:0):(A=k.charCodeAt(L++),D=L<$?k.charCodeAt(L++):0,L<$?k.charCodeAt(L++):0),U=A>>2,P=(3&A)<<4|D>>4,I=1<X?(15&D)<<2|F>>6:64,H=2<X?63&F:64,O.push(E.charAt(U)+E.charAt(P)+E.charAt(I)+E.charAt(H));return O.join("")},p.decode=function(k){var A,D,F,U,P,I,H=0,O=0,L="data:";if(k.substr(0,L.length)===L)throw new Error("Invalid base64 input, it looks like a data url.");var $,X=3*(k=k.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(k.charAt(k.length-1)===E.charAt(64)&&X--,k.charAt(k.length-2)===E.charAt(64)&&X--,X%1!=0)throw new Error("Invalid base64 input, bad content length.");for($=y.uint8array?new Uint8Array(0|X):new Array(0|X);H<k.length;)A=E.indexOf(k.charAt(H++))<<2|(U=E.indexOf(k.charAt(H++)))>>4,D=(15&U)<<4|(P=E.indexOf(k.charAt(H++)))>>2,F=(3&P)<<6|(I=E.indexOf(k.charAt(H++))),$[O++]=A,P!==64&&($[O++]=D),I!==64&&($[O++]=F);return $}},{"./support":30,"./utils":32}],2:[function(l,v,p){var d=l("./external"),y=l("./stream/DataWorker"),E=l("./stream/Crc32Probe"),k=l("./stream/DataLengthProbe");function A(D,F,U,P,I){this.compressedSize=D,this.uncompressedSize=F,this.crc32=U,this.compression=P,this.compressedContent=I}A.prototype={getContentWorker:function(){var D=new y(d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new k("data_length")),F=this;return D.on("end",function(){if(this.streamInfo.data_length!==F.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),D},getCompressedWorker:function(){return new y(d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},A.createWorkerFrom=function(D,F,U){return D.pipe(new E).pipe(new k("uncompressedSize")).pipe(F.compressWorker(U)).pipe(new k("compressedSize")).withStreamInfo("compression",F)},v.exports=A},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,v,p){var d=l("./stream/GenericWorker");p.STORE={magic:"\0\0",compressWorker:function(y){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},p.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,v,p){var d=l("./utils"),y=function(){for(var E,k=[],A=0;A<256;A++){E=A;for(var D=0;D<8;D++)E=1&E?3988292384^E>>>1:E>>>1;k[A]=E}return k}();v.exports=function(E,k){return E!==void 0&&E.length?d.getTypeOf(E)!=="string"?function(A,D,F,U){var P=y,I=U+F;A^=-1;for(var H=U;H<I;H++)A=A>>>8^P[255&(A^D[H])];return-1^A}(0|k,E,E.length,0):function(A,D,F,U){var P=y,I=U+F;A^=-1;for(var H=U;H<I;H++)A=A>>>8^P[255&(A^D.charCodeAt(H))];return-1^A}(0|k,E,E.length,0):0}},{"./utils":32}],5:[function(l,v,p){p.base64=!1,p.binary=!1,p.dir=!1,p.createFolders=!0,p.date=null,p.compression=null,p.compressionOptions=null,p.comment=null,p.unixPermissions=null,p.dosPermissions=null},{}],6:[function(l,v,p){var d=null;d=typeof Promise<"u"?Promise:l("lie"),v.exports={Promise:d}},{lie:37}],7:[function(l,v,p){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=l("pako"),E=l("./utils"),k=l("./stream/GenericWorker"),A=d?"uint8array":"array";function D(F,U){k.call(this,"FlateWorker/"+F),this._pako=null,this._pakoAction=F,this._pakoOptions=U,this.meta={}}p.magic="\b\0",E.inherits(D,k),D.prototype.processChunk=function(F){this.meta=F.meta,this._pako===null&&this._createPako(),this._pako.push(E.transformTo(A,F.data),!1)},D.prototype.flush=function(){k.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},D.prototype.cleanUp=function(){k.prototype.cleanUp.call(this),this._pako=null},D.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var F=this;this._pako.onData=function(U){F.push({data:U,meta:F.meta})}},p.compressWorker=function(F){return new D("Deflate",F)},p.uncompressWorker=function(){return new D("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,v,p){function d(P,I){var H,O="";for(H=0;H<I;H++)O+=String.fromCharCode(255&P),P>>>=8;return O}function y(P,I,H,O,L,$){var X,Y,re=P.file,Pe=P.compression,me=$!==A.utf8encode,Oe=E.transformTo("string",$(re.name)),pe=E.transformTo("string",A.utf8encode(re.name)),Ue=re.comment,lt=E.transformTo("string",$(Ue)),Z=E.transformTo("string",A.utf8encode(Ue)),Ce=pe.length!==re.name.length,N=Z.length!==Ue.length,_e="",ht="",V="",bt=re.dir,Me=re.date,ft={crc32:0,compressedSize:0,uncompressedSize:0};I&&!H||(ft.crc32=P.crc32,ft.compressedSize=P.compressedSize,ft.uncompressedSize=P.uncompressedSize);var fe=0;I&&(fe|=8),me||!Ce&&!N||(fe|=2048);var se=0,W=0;bt&&(se|=16),L==="UNIX"?(W=798,se|=function(Ve,qt){var gr=Ve;return Ve||(gr=qt?16893:33204),(65535&gr)<<16}(re.unixPermissions,bt)):(W=20,se|=function(Ve){return 63&(Ve||0)}(re.dosPermissions)),X=Me.getUTCHours(),X<<=6,X|=Me.getUTCMinutes(),X<<=5,X|=Me.getUTCSeconds()/2,Y=Me.getUTCFullYear()-1980,Y<<=4,Y|=Me.getUTCMonth()+1,Y<<=5,Y|=Me.getUTCDate(),Ce&&(ht=d(1,1)+d(D(Oe),4)+pe,_e+="up"+d(ht.length,2)+ht),N&&(V=d(1,1)+d(D(lt),4)+Z,_e+="uc"+d(V.length,2)+V);var Ze="";return Ze+=`
\0`,Ze+=d(fe,2),Ze+=Pe.magic,Ze+=d(X,2),Ze+=d(Y,2),Ze+=d(ft.crc32,4),Ze+=d(ft.compressedSize,4),Ze+=d(ft.uncompressedSize,4),Ze+=d(Oe.length,2),Ze+=d(_e.length,2),{fileRecord:F.LOCAL_FILE_HEADER+Ze+Oe+_e,dirRecord:F.CENTRAL_FILE_HEADER+d(W,2)+Ze+d(lt.length,2)+"\0\0\0\0"+d(se,4)+d(O,4)+Oe+_e+lt}}var E=l("../utils"),k=l("../stream/GenericWorker"),A=l("../utf8"),D=l("../crc32"),F=l("../signature");function U(P,I,H,O){k.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=I,this.zipPlatform=H,this.encodeFileName=O,this.streamFiles=P,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}E.inherits(U,k),U.prototype.push=function(P){var I=P.meta.percent||0,H=this.entriesCount,O=this._sources.length;this.accumulate?this.contentBuffer.push(P):(this.bytesWritten+=P.data.length,k.prototype.push.call(this,{data:P.data,meta:{currentFile:this.currentFile,percent:H?(I+100*(H-O-1))/H:100}}))},U.prototype.openedSource=function(P){this.currentSourceOffset=this.bytesWritten,this.currentFile=P.file.name;var I=this.streamFiles&&!P.file.dir;if(I){var H=y(P,I,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:H.fileRecord,meta:{percent:0}})}else this.accumulate=!0},U.prototype.closedSource=function(P){this.accumulate=!1;var I=this.streamFiles&&!P.file.dir,H=y(P,I,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(H.dirRecord),I)this.push({data:function(O){return F.DATA_DESCRIPTOR+d(O.crc32,4)+d(O.compressedSize,4)+d(O.uncompressedSize,4)}(P),meta:{percent:100}});else for(this.push({data:H.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},U.prototype.flush=function(){for(var P=this.bytesWritten,I=0;I<this.dirRecords.length;I++)this.push({data:this.dirRecords[I],meta:{percent:100}});var H=this.bytesWritten-P,O=function(L,$,X,Y,re){var Pe=E.transformTo("string",re(Y));return F.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(L,2)+d(L,2)+d($,4)+d(X,4)+d(Pe.length,2)+Pe}(this.dirRecords.length,H,P,this.zipComment,this.encodeFileName);this.push({data:O,meta:{percent:100}})},U.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},U.prototype.registerPrevious=function(P){this._sources.push(P);var I=this;return P.on("data",function(H){I.processChunk(H)}),P.on("end",function(){I.closedSource(I.previous.streamInfo),I._sources.length?I.prepareNextSource():I.end()}),P.on("error",function(H){I.error(H)}),this},U.prototype.resume=function(){return!!k.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},U.prototype.error=function(P){var I=this._sources;if(!k.prototype.error.call(this,P))return!1;for(var H=0;H<I.length;H++)try{I[H].error(P)}catch{}return!0},U.prototype.lock=function(){k.prototype.lock.call(this);for(var P=this._sources,I=0;I<P.length;I++)P[I].lock()},v.exports=U},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,v,p){var d=l("../compressions"),y=l("./ZipFileWorker");p.generateWorker=function(E,k,A){var D=new y(k.streamFiles,A,k.platform,k.encodeFileName),F=0;try{E.forEach(function(U,P){F++;var I=function($,X){var Y=$||X,re=d[Y];if(!re)throw new Error(Y+" is not a valid compression method !");return re}(P.options.compression,k.compression),H=P.options.compressionOptions||k.compressionOptions||{},O=P.dir,L=P.date;P._compressWorker(I,H).withStreamInfo("file",{name:U,dir:O,date:L,comment:P.comment||"",unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions}).pipe(D)}),D.entriesCount=F}catch(U){D.error(U)}return D}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,v,p){function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new d;for(var E in this)typeof this[E]!="function"&&(y[E]=this[E]);return y}}(d.prototype=l("./object")).loadAsync=l("./load"),d.support=l("./support"),d.defaults=l("./defaults"),d.version="3.7.1",d.loadAsync=function(y,E){return new d().loadAsync(y,E)},d.external=l("./external"),v.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,v,p){var d=l("./utils"),y=l("./external"),E=l("./utf8"),k=l("./zipEntries"),A=l("./stream/Crc32Probe"),D=l("./nodejsUtils");function F(U){return new y.Promise(function(P,I){var H=U.decompressed.getContentWorker().pipe(new A);H.on("error",function(O){I(O)}).on("end",function(){H.streamInfo.crc32!==U.decompressed.crc32?I(new Error("Corrupted zip : CRC32 mismatch")):P()}).resume()})}v.exports=function(U,P){var I=this;return P=d.extend(P||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:E.utf8decode}),D.isNode&&D.isStream(U)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):d.prepareContent("the loaded zip file",U,!0,P.optimizedBinaryString,P.base64).then(function(H){var O=new k(P);return O.load(H),O}).then(function(H){var O=[y.Promise.resolve(H)],L=H.files;if(P.checkCRC32)for(var $=0;$<L.length;$++)O.push(F(L[$]));return y.Promise.all(O)}).then(function(H){for(var O=H.shift(),L=O.files,$=0;$<L.length;$++){var X=L[$];I.file(X.fileNameStr,X.decompressed,{binary:!0,optimizedBinaryString:!0,date:X.date,dir:X.dir,comment:X.fileCommentStr.length?X.fileCommentStr:null,unixPermissions:X.unixPermissions,dosPermissions:X.dosPermissions,createFolders:P.createFolders})}return O.zipComment.length&&(I.comment=O.zipComment),I})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,v,p){var d=l("../utils"),y=l("../stream/GenericWorker");function E(k,A){y.call(this,"Nodejs stream input adapter for "+k),this._upstreamEnded=!1,this._bindStream(A)}d.inherits(E,y),E.prototype._bindStream=function(k){var A=this;(this._stream=k).pause(),k.on("data",function(D){A.push({data:D,meta:{percent:0}})}).on("error",function(D){A.isPaused?this.generatedError=D:A.error(D)}).on("end",function(){A.isPaused?A._upstreamEnded=!0:A.end()})},E.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},E.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},v.exports=E},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,v,p){var d=l("readable-stream").Readable;function y(E,k,A){d.call(this,k),this._helper=E;var D=this;E.on("data",function(F,U){D.push(F)||D._helper.pause(),A&&A(U)}).on("error",function(F){D.emit("error",F)}).on("end",function(){D.push(null)})}l("../utils").inherits(y,d),y.prototype._read=function(){this._helper.resume()},v.exports=y},{"../utils":32,"readable-stream":16}],14:[function(l,v,p){v.exports={isNode:typeof Buffer<"u",newBufferFrom:function(d,y){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(d,y);if(typeof d=="number")throw new Error('The "data" argument must not be a number');return new Buffer(d,y)},allocBuffer:function(d){if(Buffer.alloc)return Buffer.alloc(d);var y=new Buffer(d);return y.fill(0),y},isBuffer:function(d){return Buffer.isBuffer(d)},isStream:function(d){return d&&typeof d.on=="function"&&typeof d.pause=="function"&&typeof d.resume=="function"}}},{}],15:[function(l,v,p){function d(re,Pe,me){var Oe,pe=E.getTypeOf(Pe),Ue=E.extend(me||{},D);Ue.date=Ue.date||new Date,Ue.compression!==null&&(Ue.compression=Ue.compression.toUpperCase()),typeof Ue.unixPermissions=="string"&&(Ue.unixPermissions=parseInt(Ue.unixPermissions,8)),Ue.unixPermissions&&16384&Ue.unixPermissions&&(Ue.dir=!0),Ue.dosPermissions&&16&Ue.dosPermissions&&(Ue.dir=!0),Ue.dir&&(re=L(re)),Ue.createFolders&&(Oe=O(re))&&$.call(this,Oe,!0);var lt=pe==="string"&&Ue.binary===!1&&Ue.base64===!1;me&&me.binary!==void 0||(Ue.binary=!lt),(Pe instanceof F&&Pe.uncompressedSize===0||Ue.dir||!Pe||Pe.length===0)&&(Ue.base64=!1,Ue.binary=!0,Pe="",Ue.compression="STORE",pe="string");var Z=null;Z=Pe instanceof F||Pe instanceof k?Pe:I.isNode&&I.isStream(Pe)?new H(re,Pe):E.prepareContent(re,Pe,Ue.binary,Ue.optimizedBinaryString,Ue.base64);var Ce=new U(re,Z,Ue);this.files[re]=Ce}var y=l("./utf8"),E=l("./utils"),k=l("./stream/GenericWorker"),A=l("./stream/StreamHelper"),D=l("./defaults"),F=l("./compressedObject"),U=l("./zipObject"),P=l("./generate"),I=l("./nodejsUtils"),H=l("./nodejs/NodejsStreamInputAdapter"),O=function(re){re.slice(-1)==="/"&&(re=re.substring(0,re.length-1));var Pe=re.lastIndexOf("/");return 0<Pe?re.substring(0,Pe):""},L=function(re){return re.slice(-1)!=="/"&&(re+="/"),re},$=function(re,Pe){return Pe=Pe!==void 0?Pe:D.createFolders,re=L(re),this.files[re]||d.call(this,re,null,{dir:!0,createFolders:Pe}),this.files[re]};function X(re){return Object.prototype.toString.call(re)==="[object RegExp]"}var Y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(re){var Pe,me,Oe;for(Pe in this.files)Oe=this.files[Pe],(me=Pe.slice(this.root.length,Pe.length))&&Pe.slice(0,this.root.length)===this.root&&re(me,Oe)},filter:function(re){var Pe=[];return this.forEach(function(me,Oe){re(me,Oe)&&Pe.push(Oe)}),Pe},file:function(re,Pe,me){if(arguments.length!==1)return re=this.root+re,d.call(this,re,Pe,me),this;if(X(re)){var Oe=re;return this.filter(function(Ue,lt){return!lt.dir&&Oe.test(Ue)})}var pe=this.files[this.root+re];return pe&&!pe.dir?pe:null},folder:function(re){if(!re)return this;if(X(re))return this.filter(function(pe,Ue){return Ue.dir&&re.test(pe)});var Pe=this.root+re,me=$.call(this,Pe),Oe=this.clone();return Oe.root=me.name,Oe},remove:function(re){re=this.root+re;var Pe=this.files[re];if(Pe||(re.slice(-1)!=="/"&&(re+="/"),Pe=this.files[re]),Pe&&!Pe.dir)delete this.files[re];else for(var me=this.filter(function(pe,Ue){return Ue.name.slice(0,re.length)===re}),Oe=0;Oe<me.length;Oe++)delete this.files[me[Oe].name];return this},generate:function(re){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(re){var Pe,me={};try{if((me=E.extend(re||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=me.type.toLowerCase(),me.compression=me.compression.toUpperCase(),me.type==="binarystring"&&(me.type="string"),!me.type)throw new Error("No output type specified.");E.checkSupport(me.type),me.platform!=="darwin"&&me.platform!=="freebsd"&&me.platform!=="linux"&&me.platform!=="sunos"||(me.platform="UNIX"),me.platform==="win32"&&(me.platform="DOS");var Oe=me.comment||this.comment||"";Pe=P.generateWorker(this,me,Oe)}catch(pe){(Pe=new k("error")).error(pe)}return new A(Pe,me.type||"string",me.mimeType)},generateAsync:function(re,Pe){return this.generateInternalStream(re).accumulate(Pe)},generateNodeStream:function(re,Pe){return(re=re||{}).type||(re.type="nodebuffer"),this.generateInternalStream(re).toNodejsStream(Pe)}};v.exports=Y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,v,p){v.exports=l("stream")},{stream:void 0}],17:[function(l,v,p){var d=l("./DataReader");function y(E){d.call(this,E);for(var k=0;k<this.data.length;k++)E[k]=255&E[k]}l("../utils").inherits(y,d),y.prototype.byteAt=function(E){return this.data[this.zero+E]},y.prototype.lastIndexOfSignature=function(E){for(var k=E.charCodeAt(0),A=E.charCodeAt(1),D=E.charCodeAt(2),F=E.charCodeAt(3),U=this.length-4;0<=U;--U)if(this.data[U]===k&&this.data[U+1]===A&&this.data[U+2]===D&&this.data[U+3]===F)return U-this.zero;return-1},y.prototype.readAndCheckSignature=function(E){var k=E.charCodeAt(0),A=E.charCodeAt(1),D=E.charCodeAt(2),F=E.charCodeAt(3),U=this.readData(4);return k===U[0]&&A===U[1]&&D===U[2]&&F===U[3]},y.prototype.readData=function(E){if(this.checkOffset(E),E===0)return[];var k=this.data.slice(this.zero+this.index,this.zero+this.index+E);return this.index+=E,k},v.exports=y},{"../utils":32,"./DataReader":18}],18:[function(l,v,p){var d=l("../utils");function y(E){this.data=E,this.length=E.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(E){this.checkIndex(this.index+E)},checkIndex:function(E){if(this.length<this.zero+E||E<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+E+"). Corrupted zip ?")},setIndex:function(E){this.checkIndex(E),this.index=E},skip:function(E){this.setIndex(this.index+E)},byteAt:function(E){},readInt:function(E){var k,A=0;for(this.checkOffset(E),k=this.index+E-1;k>=this.index;k--)A=(A<<8)+this.byteAt(k);return this.index+=E,A},readString:function(E){return d.transformTo("string",this.readData(E))},readData:function(E){},lastIndexOfSignature:function(E){},readAndCheckSignature:function(E){},readDate:function(){var E=this.readInt(4);return new Date(Date.UTC(1980+(E>>25&127),(E>>21&15)-1,E>>16&31,E>>11&31,E>>5&63,(31&E)<<1))}},v.exports=y},{"../utils":32}],19:[function(l,v,p){var d=l("./Uint8ArrayReader");function y(E){d.call(this,E)}l("../utils").inherits(y,d),y.prototype.readData=function(E){this.checkOffset(E);var k=this.data.slice(this.zero+this.index,this.zero+this.index+E);return this.index+=E,k},v.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,v,p){var d=l("./DataReader");function y(E){d.call(this,E)}l("../utils").inherits(y,d),y.prototype.byteAt=function(E){return this.data.charCodeAt(this.zero+E)},y.prototype.lastIndexOfSignature=function(E){return this.data.lastIndexOf(E)-this.zero},y.prototype.readAndCheckSignature=function(E){return E===this.readData(4)},y.prototype.readData=function(E){this.checkOffset(E);var k=this.data.slice(this.zero+this.index,this.zero+this.index+E);return this.index+=E,k},v.exports=y},{"../utils":32,"./DataReader":18}],21:[function(l,v,p){var d=l("./ArrayReader");function y(E){d.call(this,E)}l("../utils").inherits(y,d),y.prototype.readData=function(E){if(this.checkOffset(E),E===0)return new Uint8Array(0);var k=this.data.subarray(this.zero+this.index,this.zero+this.index+E);return this.index+=E,k},v.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(l,v,p){var d=l("../utils"),y=l("../support"),E=l("./ArrayReader"),k=l("./StringReader"),A=l("./NodeBufferReader"),D=l("./Uint8ArrayReader");v.exports=function(F){var U=d.getTypeOf(F);return d.checkSupport(U),U!=="string"||y.uint8array?U==="nodebuffer"?new A(F):y.uint8array?new D(d.transformTo("uint8array",F)):new E(d.transformTo("array",F)):new k(F)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,v,p){p.LOCAL_FILE_HEADER="PK",p.CENTRAL_FILE_HEADER="PK",p.CENTRAL_DIRECTORY_END="PK",p.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",p.ZIP64_CENTRAL_DIRECTORY_END="PK",p.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,v,p){var d=l("./GenericWorker"),y=l("../utils");function E(k){d.call(this,"ConvertWorker to "+k),this.destType=k}y.inherits(E,d),E.prototype.processChunk=function(k){this.push({data:y.transformTo(this.destType,k.data),meta:k.meta})},v.exports=E},{"../utils":32,"./GenericWorker":28}],25:[function(l,v,p){var d=l("./GenericWorker"),y=l("../crc32");function E(){d.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(E,d),E.prototype.processChunk=function(k){this.streamInfo.crc32=y(k.data,this.streamInfo.crc32||0),this.push(k)},v.exports=E},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,v,p){var d=l("../utils"),y=l("./GenericWorker");function E(k){y.call(this,"DataLengthProbe for "+k),this.propName=k,this.withStreamInfo(k,0)}d.inherits(E,y),E.prototype.processChunk=function(k){if(k){var A=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=A+k.data.length}y.prototype.processChunk.call(this,k)},v.exports=E},{"../utils":32,"./GenericWorker":28}],27:[function(l,v,p){var d=l("../utils"),y=l("./GenericWorker");function E(k){y.call(this,"DataWorker");var A=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,k.then(function(D){A.dataIsReady=!0,A.data=D,A.max=D&&D.length||0,A.type=d.getTypeOf(D),A.isPaused||A._tickAndRepeat()},function(D){A.error(D)})}d.inherits(E,y),E.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},E.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,d.delay(this._tickAndRepeat,[],this)),!0)},E.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(d.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},E.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var k=null,A=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":k=this.data.substring(this.index,A);break;case"uint8array":k=this.data.subarray(this.index,A);break;case"array":case"nodebuffer":k=this.data.slice(this.index,A)}return this.index=A,this.push({data:k,meta:{percent:this.max?this.index/this.max*100:0}})},v.exports=E},{"../utils":32,"./GenericWorker":28}],28:[function(l,v,p){function d(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,E){return this._listeners[y].push(E),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,E){if(this._listeners[y])for(var k=0;k<this._listeners[y].length;k++)this._listeners[y][k].call(this,E)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var E=this;return y.on("data",function(k){E.processChunk(k)}),y.on("end",function(){E.end()}),y.on("error",function(k){E.error(k)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,E){return this.extraStreamInfo[y]=E,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},v.exports=d},{}],29:[function(l,v,p){var d=l("../utils"),y=l("./ConvertWorker"),E=l("./GenericWorker"),k=l("../base64"),A=l("../support"),D=l("../external"),F=null;if(A.nodestream)try{F=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function U(I,H){return new D.Promise(function(O,L){var $=[],X=I._internalType,Y=I._outputType,re=I._mimeType;I.on("data",function(Pe,me){$.push(Pe),H&&H(me)}).on("error",function(Pe){$=[],L(Pe)}).on("end",function(){try{var Pe=function(me,Oe,pe){switch(me){case"blob":return d.newBlob(d.transformTo("arraybuffer",Oe),pe);case"base64":return k.encode(Oe);default:return d.transformTo(me,Oe)}}(Y,function(me,Oe){var pe,Ue=0,lt=null,Z=0;for(pe=0;pe<Oe.length;pe++)Z+=Oe[pe].length;switch(me){case"string":return Oe.join("");case"array":return Array.prototype.concat.apply([],Oe);case"uint8array":for(lt=new Uint8Array(Z),pe=0;pe<Oe.length;pe++)lt.set(Oe[pe],Ue),Ue+=Oe[pe].length;return lt;case"nodebuffer":return Buffer.concat(Oe);default:throw new Error("concat : unsupported type '"+me+"'")}}(X,$),re);O(Pe)}catch(me){L(me)}$=[]}).resume()})}function P(I,H,O){var L=H;switch(H){case"blob":case"arraybuffer":L="uint8array";break;case"base64":L="string"}try{this._internalType=L,this._outputType=H,this._mimeType=O,d.checkSupport(L),this._worker=I.pipe(new y(L)),I.lock()}catch($){this._worker=new E("error"),this._worker.error($)}}P.prototype={accumulate:function(I){return U(this,I)},on:function(I,H){var O=this;return I==="data"?this._worker.on(I,function(L){H.call(O,L.data,L.meta)}):this._worker.on(I,function(){d.delay(H,arguments,O)}),this},resume:function(){return d.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(I){if(d.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new F(this,{objectMode:this._outputType!=="nodebuffer"},I)}},v.exports=P},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,v,p){if(p.base64=!0,p.array=!0,p.string=!0,p.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",p.nodebuffer=typeof Buffer<"u",p.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")p.blob=!1;else{var d=new ArrayBuffer(0);try{p.blob=new Blob([d],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(d),p.blob=y.getBlob("application/zip").size===0}catch{p.blob=!1}}}try{p.nodestream=!!l("readable-stream").Readable}catch{p.nodestream=!1}},{"readable-stream":16}],31:[function(l,v,p){for(var d=l("./utils"),y=l("./support"),E=l("./nodejsUtils"),k=l("./stream/GenericWorker"),A=new Array(256),D=0;D<256;D++)A[D]=252<=D?6:248<=D?5:240<=D?4:224<=D?3:192<=D?2:1;A[254]=A[254]=1;function F(){k.call(this,"utf-8 decode"),this.leftOver=null}function U(){k.call(this,"utf-8 encode")}p.utf8encode=function(P){return y.nodebuffer?E.newBufferFrom(P,"utf-8"):function(I){var H,O,L,$,X,Y=I.length,re=0;for($=0;$<Y;$++)(64512&(O=I.charCodeAt($)))==55296&&$+1<Y&&(64512&(L=I.charCodeAt($+1)))==56320&&(O=65536+(O-55296<<10)+(L-56320),$++),re+=O<128?1:O<2048?2:O<65536?3:4;for(H=y.uint8array?new Uint8Array(re):new Array(re),$=X=0;X<re;$++)(64512&(O=I.charCodeAt($)))==55296&&$+1<Y&&(64512&(L=I.charCodeAt($+1)))==56320&&(O=65536+(O-55296<<10)+(L-56320),$++),O<128?H[X++]=O:(O<2048?H[X++]=192|O>>>6:(O<65536?H[X++]=224|O>>>12:(H[X++]=240|O>>>18,H[X++]=128|O>>>12&63),H[X++]=128|O>>>6&63),H[X++]=128|63&O);return H}(P)},p.utf8decode=function(P){return y.nodebuffer?d.transformTo("nodebuffer",P).toString("utf-8"):function(I){var H,O,L,$,X=I.length,Y=new Array(2*X);for(H=O=0;H<X;)if((L=I[H++])<128)Y[O++]=L;else if(4<($=A[L]))Y[O++]=65533,H+=$-1;else{for(L&=$===2?31:$===3?15:7;1<$&&H<X;)L=L<<6|63&I[H++],$--;1<$?Y[O++]=65533:L<65536?Y[O++]=L:(L-=65536,Y[O++]=55296|L>>10&1023,Y[O++]=56320|1023&L)}return Y.length!==O&&(Y.subarray?Y=Y.subarray(0,O):Y.length=O),d.applyFromCharCode(Y)}(P=d.transformTo(y.uint8array?"uint8array":"array",P))},d.inherits(F,k),F.prototype.processChunk=function(P){var I=d.transformTo(y.uint8array?"uint8array":"array",P.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var H=I;(I=new Uint8Array(H.length+this.leftOver.length)).set(this.leftOver,0),I.set(H,this.leftOver.length)}else I=this.leftOver.concat(I);this.leftOver=null}var O=function($,X){var Y;for((X=X||$.length)>$.length&&(X=$.length),Y=X-1;0<=Y&&(192&$[Y])==128;)Y--;return Y<0||Y===0?X:Y+A[$[Y]]>X?Y:X}(I),L=I;O!==I.length&&(y.uint8array?(L=I.subarray(0,O),this.leftOver=I.subarray(O,I.length)):(L=I.slice(0,O),this.leftOver=I.slice(O,I.length))),this.push({data:p.utf8decode(L),meta:P.meta})},F.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:p.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},p.Utf8DecodeWorker=F,d.inherits(U,k),U.prototype.processChunk=function(P){this.push({data:p.utf8encode(P.data),meta:P.meta})},p.Utf8EncodeWorker=U},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,v,p){var d=l("./support"),y=l("./base64"),E=l("./nodejsUtils"),k=l("set-immediate-shim"),A=l("./external");function D(O){return O}function F(O,L){for(var $=0;$<O.length;++$)L[$]=255&O.charCodeAt($);return L}p.newBlob=function(O,L){p.checkSupport("blob");try{return new Blob([O],{type:L})}catch{try{var $=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return $.append(O),$.getBlob(L)}catch{throw new Error("Bug : can't construct the Blob.")}}};var U={stringifyByChunk:function(O,L,$){var X=[],Y=0,re=O.length;if(re<=$)return String.fromCharCode.apply(null,O);for(;Y<re;)L==="array"||L==="nodebuffer"?X.push(String.fromCharCode.apply(null,O.slice(Y,Math.min(Y+$,re)))):X.push(String.fromCharCode.apply(null,O.subarray(Y,Math.min(Y+$,re)))),Y+=$;return X.join("")},stringifyByChar:function(O){for(var L="",$=0;$<O.length;$++)L+=String.fromCharCode(O[$]);return L},applyCanBeUsed:{uint8array:function(){try{return d.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return d.nodebuffer&&String.fromCharCode.apply(null,E.allocBuffer(1)).length===1}catch{return!1}}()}};function P(O){var L=65536,$=p.getTypeOf(O),X=!0;if($==="uint8array"?X=U.applyCanBeUsed.uint8array:$==="nodebuffer"&&(X=U.applyCanBeUsed.nodebuffer),X)for(;1<L;)try{return U.stringifyByChunk(O,$,L)}catch{L=Math.floor(L/2)}return U.stringifyByChar(O)}function I(O,L){for(var $=0;$<O.length;$++)L[$]=O[$];return L}p.applyFromCharCode=P;var H={};H.string={string:D,array:function(O){return F(O,new Array(O.length))},arraybuffer:function(O){return H.string.uint8array(O).buffer},uint8array:function(O){return F(O,new Uint8Array(O.length))},nodebuffer:function(O){return F(O,E.allocBuffer(O.length))}},H.array={string:P,array:D,arraybuffer:function(O){return new Uint8Array(O).buffer},uint8array:function(O){return new Uint8Array(O)},nodebuffer:function(O){return E.newBufferFrom(O)}},H.arraybuffer={string:function(O){return P(new Uint8Array(O))},array:function(O){return I(new Uint8Array(O),new Array(O.byteLength))},arraybuffer:D,uint8array:function(O){return new Uint8Array(O)},nodebuffer:function(O){return E.newBufferFrom(new Uint8Array(O))}},H.uint8array={string:P,array:function(O){return I(O,new Array(O.length))},arraybuffer:function(O){return O.buffer},uint8array:D,nodebuffer:function(O){return E.newBufferFrom(O)}},H.nodebuffer={string:P,array:function(O){return I(O,new Array(O.length))},arraybuffer:function(O){return H.nodebuffer.uint8array(O).buffer},uint8array:function(O){return I(O,new Uint8Array(O.length))},nodebuffer:D},p.transformTo=function(O,L){if(L=L||"",!O)return L;p.checkSupport(O);var $=p.getTypeOf(L);return H[$][O](L)},p.getTypeOf=function(O){return typeof O=="string"?"string":Object.prototype.toString.call(O)==="[object Array]"?"array":d.nodebuffer&&E.isBuffer(O)?"nodebuffer":d.uint8array&&O instanceof Uint8Array?"uint8array":d.arraybuffer&&O instanceof ArrayBuffer?"arraybuffer":void 0},p.checkSupport=function(O){if(!d[O.toLowerCase()])throw new Error(O+" is not supported by this platform")},p.MAX_VALUE_16BITS=65535,p.MAX_VALUE_32BITS=-1,p.pretty=function(O){var L,$,X="";for($=0;$<(O||"").length;$++)X+="\\x"+((L=O.charCodeAt($))<16?"0":"")+L.toString(16).toUpperCase();return X},p.delay=function(O,L,$){k(function(){O.apply($||null,L||[])})},p.inherits=function(O,L){function $(){}$.prototype=L.prototype,O.prototype=new $},p.extend=function(){var O,L,$={};for(O=0;O<arguments.length;O++)for(L in arguments[O])arguments[O].hasOwnProperty(L)&&$[L]===void 0&&($[L]=arguments[O][L]);return $},p.prepareContent=function(O,L,$,X,Y){return A.Promise.resolve(L).then(function(re){return d.blob&&(re instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(re))!==-1)&&typeof FileReader<"u"?new A.Promise(function(Pe,me){var Oe=new FileReader;Oe.onload=function(pe){Pe(pe.target.result)},Oe.onerror=function(pe){me(pe.target.error)},Oe.readAsArrayBuffer(re)}):re}).then(function(re){var Pe=p.getTypeOf(re);return Pe?(Pe==="arraybuffer"?re=p.transformTo("uint8array",re):Pe==="string"&&(Y?re=y.decode(re):$&&X!==!0&&(re=function(me){return F(me,d.uint8array?new Uint8Array(me.length):new Array(me.length))}(re))),re):A.Promise.reject(new Error("Can't read the data of '"+O+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(l,v,p){var d=l("./reader/readerFor"),y=l("./utils"),E=l("./signature"),k=l("./zipEntry"),A=(l("./utf8"),l("./support"));function D(F){this.files=[],this.loadOptions=F}D.prototype={checkSignature:function(F){if(!this.reader.readAndCheckSignature(F)){this.reader.index-=4;var U=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(U)+", expected "+y.pretty(F)+")")}},isSignature:function(F,U){var P=this.reader.index;this.reader.setIndex(F);var I=this.reader.readString(4)===U;return this.reader.setIndex(P),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var F=this.reader.readData(this.zipCommentLength),U=A.uint8array?"uint8array":"array",P=y.transformTo(U,F);this.zipComment=this.loadOptions.decodeFileName(P)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var F,U,P,I=this.zip64EndOfCentralSize-44;0<I;)F=this.reader.readInt(2),U=this.reader.readInt(4),P=this.reader.readData(U),this.zip64ExtensibleData[F]={id:F,length:U,value:P}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var F,U;for(F=0;F<this.files.length;F++)U=this.files[F],this.reader.setIndex(U.localHeaderOffset),this.checkSignature(E.LOCAL_FILE_HEADER),U.readLocalPart(this.reader),U.handleUTF8(),U.processAttributes()},readCentralDir:function(){var F;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(E.CENTRAL_FILE_HEADER);)(F=new k({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(F);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var F=this.reader.lastIndexOfSignature(E.CENTRAL_DIRECTORY_END);if(F<0)throw this.isSignature(0,E.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(F);var U=F;if(this.checkSignature(E.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(F=this.reader.lastIndexOfSignature(E.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(F),this.checkSignature(E.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,E.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(E.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(E.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var P=this.centralDirOffset+this.centralDirSize;this.zip64&&(P+=20,P+=12+this.zip64EndOfCentralSize);var I=U-P;if(0<I)this.isSignature(U,E.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(F){this.reader=d(F)},load:function(F){this.prepareReader(F),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},v.exports=D},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(l,v,p){var d=l("./reader/readerFor"),y=l("./utils"),E=l("./compressedObject"),k=l("./crc32"),A=l("./utf8"),D=l("./compressions"),F=l("./support");function U(P,I){this.options=P,this.loadOptions=I}U.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(P){var I,H;if(P.skip(22),this.fileNameLength=P.readInt(2),H=P.readInt(2),this.fileName=P.readData(this.fileNameLength),P.skip(H),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((I=function(O){for(var L in D)if(D.hasOwnProperty(L)&&D[L].magic===O)return D[L];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new E(this.compressedSize,this.uncompressedSize,this.crc32,I,P.readData(this.compressedSize))},readCentralPart:function(P){this.versionMadeBy=P.readInt(2),P.skip(2),this.bitFlag=P.readInt(2),this.compressionMethod=P.readString(2),this.date=P.readDate(),this.crc32=P.readInt(4),this.compressedSize=P.readInt(4),this.uncompressedSize=P.readInt(4);var I=P.readInt(2);if(this.extraFieldsLength=P.readInt(2),this.fileCommentLength=P.readInt(2),this.diskNumberStart=P.readInt(2),this.internalFileAttributes=P.readInt(2),this.externalFileAttributes=P.readInt(4),this.localHeaderOffset=P.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");P.skip(I),this.readExtraFields(P),this.parseZIP64ExtraField(P),this.fileComment=P.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var P=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),P==0&&(this.dosPermissions=63&this.externalFileAttributes),P==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(P){if(this.extraFields[1]){var I=d(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=I.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=I.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=I.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=I.readInt(4))}},readExtraFields:function(P){var I,H,O,L=P.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});P.index+4<L;)I=P.readInt(2),H=P.readInt(2),O=P.readData(H),this.extraFields[I]={id:I,length:H,value:O};P.setIndex(L)},handleUTF8:function(){var P=F.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=A.utf8decode(this.fileName),this.fileCommentStr=A.utf8decode(this.fileComment);else{var I=this.findExtraFieldUnicodePath();if(I!==null)this.fileNameStr=I;else{var H=y.transformTo(P,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(H)}var O=this.findExtraFieldUnicodeComment();if(O!==null)this.fileCommentStr=O;else{var L=y.transformTo(P,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(L)}}},findExtraFieldUnicodePath:function(){var P=this.extraFields[28789];if(P){var I=d(P.value);return I.readInt(1)!==1||k(this.fileName)!==I.readInt(4)?null:A.utf8decode(I.readData(P.length-5))}return null},findExtraFieldUnicodeComment:function(){var P=this.extraFields[25461];if(P){var I=d(P.value);return I.readInt(1)!==1||k(this.fileComment)!==I.readInt(4)?null:A.utf8decode(I.readData(P.length-5))}return null}},v.exports=U},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,v,p){function d(I,H,O){this.name=I,this.dir=O.dir,this.date=O.date,this.comment=O.comment,this.unixPermissions=O.unixPermissions,this.dosPermissions=O.dosPermissions,this._data=H,this._dataBinary=O.binary,this.options={compression:O.compression,compressionOptions:O.compressionOptions}}var y=l("./stream/StreamHelper"),E=l("./stream/DataWorker"),k=l("./utf8"),A=l("./compressedObject"),D=l("./stream/GenericWorker");d.prototype={internalStream:function(I){var H=null,O="string";try{if(!I)throw new Error("No output type specified.");var L=(O=I.toLowerCase())==="string"||O==="text";O!=="binarystring"&&O!=="text"||(O="string"),H=this._decompressWorker();var $=!this._dataBinary;$&&!L&&(H=H.pipe(new k.Utf8EncodeWorker)),!$&&L&&(H=H.pipe(new k.Utf8DecodeWorker))}catch(X){(H=new D("error")).error(X)}return new y(H,O,"")},async:function(I,H){return this.internalStream(I).accumulate(H)},nodeStream:function(I,H){return this.internalStream(I||"nodebuffer").toNodejsStream(H)},_compressWorker:function(I,H){if(this._data instanceof A&&this._data.compression.magic===I.magic)return this._data.getCompressedWorker();var O=this._decompressWorker();return this._dataBinary||(O=O.pipe(new k.Utf8EncodeWorker)),A.createWorkerFrom(O,I,H)},_decompressWorker:function(){return this._data instanceof A?this._data.getContentWorker():this._data instanceof D?this._data:new E(this._data)}};for(var F=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],U=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},P=0;P<F.length;P++)d.prototype[F[P]]=U;v.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,v,p){(function(d){var y,E,k=d.MutationObserver||d.WebKitMutationObserver;if(k){var A=0,D=new k(I),F=d.document.createTextNode("");D.observe(F,{characterData:!0}),y=function(){F.data=A=++A%2}}else if(d.setImmediate||d.MessageChannel===void 0)y="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var H=d.document.createElement("script");H.onreadystatechange=function(){I(),H.onreadystatechange=null,H.parentNode.removeChild(H),H=null},d.document.documentElement.appendChild(H)}:function(){setTimeout(I,0)};else{var U=new d.MessageChannel;U.port1.onmessage=I,y=function(){U.port2.postMessage(0)}}var P=[];function I(){var H,O;E=!0;for(var L=P.length;L;){for(O=P,P=[],H=-1;++H<L;)O[H]();L=P.length}E=!1}v.exports=function(H){P.push(H)!==1||E||y()}}).call(this,typeof Ua<"u"?Ua:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,v,p){var d=l("immediate");function y(){}var E={},k=["REJECTED"],A=["FULFILLED"],D=["PENDING"];function F(L){if(typeof L!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,L!==y&&H(this,L)}function U(L,$,X){this.promise=L,typeof $=="function"&&(this.onFulfilled=$,this.callFulfilled=this.otherCallFulfilled),typeof X=="function"&&(this.onRejected=X,this.callRejected=this.otherCallRejected)}function P(L,$,X){d(function(){var Y;try{Y=$(X)}catch(re){return E.reject(L,re)}Y===L?E.reject(L,new TypeError("Cannot resolve promise with itself")):E.resolve(L,Y)})}function I(L){var $=L&&L.then;if(L&&(typeof L=="object"||typeof L=="function")&&typeof $=="function")return function(){$.apply(L,arguments)}}function H(L,$){var X=!1;function Y(me){X||(X=!0,E.reject(L,me))}function re(me){X||(X=!0,E.resolve(L,me))}var Pe=O(function(){$(re,Y)});Pe.status==="error"&&Y(Pe.value)}function O(L,$){var X={};try{X.value=L($),X.status="success"}catch(Y){X.status="error",X.value=Y}return X}(v.exports=F).prototype.finally=function(L){if(typeof L!="function")return this;var $=this.constructor;return this.then(function(X){return $.resolve(L()).then(function(){return X})},function(X){return $.resolve(L()).then(function(){throw X})})},F.prototype.catch=function(L){return this.then(null,L)},F.prototype.then=function(L,$){if(typeof L!="function"&&this.state===A||typeof $!="function"&&this.state===k)return this;var X=new this.constructor(y);return this.state!==D?P(X,this.state===A?L:$,this.outcome):this.queue.push(new U(X,L,$)),X},U.prototype.callFulfilled=function(L){E.resolve(this.promise,L)},U.prototype.otherCallFulfilled=function(L){P(this.promise,this.onFulfilled,L)},U.prototype.callRejected=function(L){E.reject(this.promise,L)},U.prototype.otherCallRejected=function(L){P(this.promise,this.onRejected,L)},E.resolve=function(L,$){var X=O(I,$);if(X.status==="error")return E.reject(L,X.value);var Y=X.value;if(Y)H(L,Y);else{L.state=A,L.outcome=$;for(var re=-1,Pe=L.queue.length;++re<Pe;)L.queue[re].callFulfilled($)}return L},E.reject=function(L,$){L.state=k,L.outcome=$;for(var X=-1,Y=L.queue.length;++X<Y;)L.queue[X].callRejected($);return L},F.resolve=function(L){return L instanceof this?L:E.resolve(new this(y),L)},F.reject=function(L){var $=new this(y);return E.reject($,L)},F.all=function(L){var $=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=L.length,Y=!1;if(!X)return this.resolve([]);for(var re=new Array(X),Pe=0,me=-1,Oe=new this(y);++me<X;)pe(L[me],me);return Oe;function pe(Ue,lt){$.resolve(Ue).then(function(Z){re[lt]=Z,++Pe!==X||Y||(Y=!0,E.resolve(Oe,re))},function(Z){Y||(Y=!0,E.reject(Oe,Z))})}},F.race=function(L){var $=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=L.length,Y=!1;if(!X)return this.resolve([]);for(var re=-1,Pe=new this(y);++re<X;)me=L[re],$.resolve(me).then(function(Oe){Y||(Y=!0,E.resolve(Pe,Oe))},function(Oe){Y||(Y=!0,E.reject(Pe,Oe))});var me;return Pe}},{immediate:36}],38:[function(l,v,p){var d={};(0,l("./lib/utils/common").assign)(d,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),v.exports=d},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,v,p){var d=l("./zlib/deflate"),y=l("./utils/common"),E=l("./utils/strings"),k=l("./zlib/messages"),A=l("./zlib/zstream"),D=Object.prototype.toString,F=0,U=-1,P=0,I=8;function H(L){if(!(this instanceof H))return new H(L);this.options=y.assign({level:U,method:I,chunkSize:16384,windowBits:15,memLevel:8,strategy:P,to:""},L||{});var $=this.options;$.raw&&0<$.windowBits?$.windowBits=-$.windowBits:$.gzip&&0<$.windowBits&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var X=d.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(X!==F)throw new Error(k[X]);if($.header&&d.deflateSetHeader(this.strm,$.header),$.dictionary){var Y;if(Y=typeof $.dictionary=="string"?E.string2buf($.dictionary):D.call($.dictionary)==="[object ArrayBuffer]"?new Uint8Array($.dictionary):$.dictionary,(X=d.deflateSetDictionary(this.strm,Y))!==F)throw new Error(k[X]);this._dict_set=!0}}function O(L,$){var X=new H($);if(X.push(L,!0),X.err)throw X.msg||k[X.err];return X.result}H.prototype.push=function(L,$){var X,Y,re=this.strm,Pe=this.options.chunkSize;if(this.ended)return!1;Y=$===~~$?$:$===!0?4:0,typeof L=="string"?re.input=E.string2buf(L):D.call(L)==="[object ArrayBuffer]"?re.input=new Uint8Array(L):re.input=L,re.next_in=0,re.avail_in=re.input.length;do{if(re.avail_out===0&&(re.output=new y.Buf8(Pe),re.next_out=0,re.avail_out=Pe),(X=d.deflate(re,Y))!==1&&X!==F)return this.onEnd(X),!(this.ended=!0);re.avail_out!==0&&(re.avail_in!==0||Y!==4&&Y!==2)||(this.options.to==="string"?this.onData(E.buf2binstring(y.shrinkBuf(re.output,re.next_out))):this.onData(y.shrinkBuf(re.output,re.next_out)))}while((0<re.avail_in||re.avail_out===0)&&X!==1);return Y===4?(X=d.deflateEnd(this.strm),this.onEnd(X),this.ended=!0,X===F):Y!==2||(this.onEnd(F),!(re.avail_out=0))},H.prototype.onData=function(L){this.chunks.push(L)},H.prototype.onEnd=function(L){L===F&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},p.Deflate=H,p.deflate=O,p.deflateRaw=function(L,$){return($=$||{}).raw=!0,O(L,$)},p.gzip=function(L,$){return($=$||{}).gzip=!0,O(L,$)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,v,p){var d=l("./zlib/inflate"),y=l("./utils/common"),E=l("./utils/strings"),k=l("./zlib/constants"),A=l("./zlib/messages"),D=l("./zlib/zstream"),F=l("./zlib/gzheader"),U=Object.prototype.toString;function P(H){if(!(this instanceof P))return new P(H);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},H||{});var O=this.options;O.raw&&0<=O.windowBits&&O.windowBits<16&&(O.windowBits=-O.windowBits,O.windowBits===0&&(O.windowBits=-15)),!(0<=O.windowBits&&O.windowBits<16)||H&&H.windowBits||(O.windowBits+=32),15<O.windowBits&&O.windowBits<48&&(15&O.windowBits)==0&&(O.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var L=d.inflateInit2(this.strm,O.windowBits);if(L!==k.Z_OK)throw new Error(A[L]);this.header=new F,d.inflateGetHeader(this.strm,this.header)}function I(H,O){var L=new P(O);if(L.push(H,!0),L.err)throw L.msg||A[L.err];return L.result}P.prototype.push=function(H,O){var L,$,X,Y,re,Pe,me=this.strm,Oe=this.options.chunkSize,pe=this.options.dictionary,Ue=!1;if(this.ended)return!1;$=O===~~O?O:O===!0?k.Z_FINISH:k.Z_NO_FLUSH,typeof H=="string"?me.input=E.binstring2buf(H):U.call(H)==="[object ArrayBuffer]"?me.input=new Uint8Array(H):me.input=H,me.next_in=0,me.avail_in=me.input.length;do{if(me.avail_out===0&&(me.output=new y.Buf8(Oe),me.next_out=0,me.avail_out=Oe),(L=d.inflate(me,k.Z_NO_FLUSH))===k.Z_NEED_DICT&&pe&&(Pe=typeof pe=="string"?E.string2buf(pe):U.call(pe)==="[object ArrayBuffer]"?new Uint8Array(pe):pe,L=d.inflateSetDictionary(this.strm,Pe)),L===k.Z_BUF_ERROR&&Ue===!0&&(L=k.Z_OK,Ue=!1),L!==k.Z_STREAM_END&&L!==k.Z_OK)return this.onEnd(L),!(this.ended=!0);me.next_out&&(me.avail_out!==0&&L!==k.Z_STREAM_END&&(me.avail_in!==0||$!==k.Z_FINISH&&$!==k.Z_SYNC_FLUSH)||(this.options.to==="string"?(X=E.utf8border(me.output,me.next_out),Y=me.next_out-X,re=E.buf2string(me.output,X),me.next_out=Y,me.avail_out=Oe-Y,Y&&y.arraySet(me.output,me.output,X,Y,0),this.onData(re)):this.onData(y.shrinkBuf(me.output,me.next_out)))),me.avail_in===0&&me.avail_out===0&&(Ue=!0)}while((0<me.avail_in||me.avail_out===0)&&L!==k.Z_STREAM_END);return L===k.Z_STREAM_END&&($=k.Z_FINISH),$===k.Z_FINISH?(L=d.inflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===k.Z_OK):$!==k.Z_SYNC_FLUSH||(this.onEnd(k.Z_OK),!(me.avail_out=0))},P.prototype.onData=function(H){this.chunks.push(H)},P.prototype.onEnd=function(H){H===k.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},p.Inflate=P,p.inflate=I,p.inflateRaw=function(H,O){return(O=O||{}).raw=!0,I(H,O)},p.ungzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,v,p){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";p.assign=function(k){for(var A=Array.prototype.slice.call(arguments,1);A.length;){var D=A.shift();if(D){if(typeof D!="object")throw new TypeError(D+"must be non-object");for(var F in D)D.hasOwnProperty(F)&&(k[F]=D[F])}}return k},p.shrinkBuf=function(k,A){return k.length===A?k:k.subarray?k.subarray(0,A):(k.length=A,k)};var y={arraySet:function(k,A,D,F,U){if(A.subarray&&k.subarray)k.set(A.subarray(D,D+F),U);else for(var P=0;P<F;P++)k[U+P]=A[D+P]},flattenChunks:function(k){var A,D,F,U,P,I;for(A=F=0,D=k.length;A<D;A++)F+=k[A].length;for(I=new Uint8Array(F),A=U=0,D=k.length;A<D;A++)P=k[A],I.set(P,U),U+=P.length;return I}},E={arraySet:function(k,A,D,F,U){for(var P=0;P<F;P++)k[U+P]=A[D+P]},flattenChunks:function(k){return[].concat.apply([],k)}};p.setTyped=function(k){k?(p.Buf8=Uint8Array,p.Buf16=Uint16Array,p.Buf32=Int32Array,p.assign(p,y)):(p.Buf8=Array,p.Buf16=Array,p.Buf32=Array,p.assign(p,E))},p.setTyped(d)},{}],42:[function(l,v,p){var d=l("./common"),y=!0,E=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{E=!1}for(var k=new d.Buf8(256),A=0;A<256;A++)k[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function D(F,U){if(U<65537&&(F.subarray&&E||!F.subarray&&y))return String.fromCharCode.apply(null,d.shrinkBuf(F,U));for(var P="",I=0;I<U;I++)P+=String.fromCharCode(F[I]);return P}k[254]=k[254]=1,p.string2buf=function(F){var U,P,I,H,O,L=F.length,$=0;for(H=0;H<L;H++)(64512&(P=F.charCodeAt(H)))==55296&&H+1<L&&(64512&(I=F.charCodeAt(H+1)))==56320&&(P=65536+(P-55296<<10)+(I-56320),H++),$+=P<128?1:P<2048?2:P<65536?3:4;for(U=new d.Buf8($),H=O=0;O<$;H++)(64512&(P=F.charCodeAt(H)))==55296&&H+1<L&&(64512&(I=F.charCodeAt(H+1)))==56320&&(P=65536+(P-55296<<10)+(I-56320),H++),P<128?U[O++]=P:(P<2048?U[O++]=192|P>>>6:(P<65536?U[O++]=224|P>>>12:(U[O++]=240|P>>>18,U[O++]=128|P>>>12&63),U[O++]=128|P>>>6&63),U[O++]=128|63&P);return U},p.buf2binstring=function(F){return D(F,F.length)},p.binstring2buf=function(F){for(var U=new d.Buf8(F.length),P=0,I=U.length;P<I;P++)U[P]=F.charCodeAt(P);return U},p.buf2string=function(F,U){var P,I,H,O,L=U||F.length,$=new Array(2*L);for(P=I=0;P<L;)if((H=F[P++])<128)$[I++]=H;else if(4<(O=k[H]))$[I++]=65533,P+=O-1;else{for(H&=O===2?31:O===3?15:7;1<O&&P<L;)H=H<<6|63&F[P++],O--;1<O?$[I++]=65533:H<65536?$[I++]=H:(H-=65536,$[I++]=55296|H>>10&1023,$[I++]=56320|1023&H)}return D($,I)},p.utf8border=function(F,U){var P;for((U=U||F.length)>F.length&&(U=F.length),P=U-1;0<=P&&(192&F[P])==128;)P--;return P<0||P===0?U:P+k[F[P]]>U?P:U}},{"./common":41}],43:[function(l,v,p){v.exports=function(d,y,E,k){for(var A=65535&d|0,D=d>>>16&65535|0,F=0;E!==0;){for(E-=F=2e3<E?2e3:E;D=D+(A=A+y[k++]|0)|0,--F;);A%=65521,D%=65521}return A|D<<16|0}},{}],44:[function(l,v,p){v.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,v,p){var d=function(){for(var y,E=[],k=0;k<256;k++){y=k;for(var A=0;A<8;A++)y=1&y?3988292384^y>>>1:y>>>1;E[k]=y}return E}();v.exports=function(y,E,k,A){var D=d,F=A+k;y^=-1;for(var U=A;U<F;U++)y=y>>>8^D[255&(y^E[U])];return-1^y}},{}],46:[function(l,v,p){var d,y=l("../utils/common"),E=l("./trees"),k=l("./adler32"),A=l("./crc32"),D=l("./messages"),F=0,U=4,P=0,I=-2,H=-1,O=4,L=2,$=8,X=9,Y=286,re=30,Pe=19,me=2*Y+1,Oe=15,pe=3,Ue=258,lt=Ue+pe+1,Z=42,Ce=113,N=1,_e=2,ht=3,V=4;function bt(w,ke){return w.msg=D[ke],ke}function Me(w){return(w<<1)-(4<w?9:0)}function ft(w){for(var ke=w.length;0<=--ke;)w[ke]=0}function fe(w){var ke=w.state,ae=ke.pending;ae>w.avail_out&&(ae=w.avail_out),ae!==0&&(y.arraySet(w.output,ke.pending_buf,ke.pending_out,ae,w.next_out),w.next_out+=ae,ke.pending_out+=ae,w.total_out+=ae,w.avail_out-=ae,ke.pending-=ae,ke.pending===0&&(ke.pending_out=0))}function se(w,ke){E._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,ke),w.block_start=w.strstart,fe(w.strm)}function W(w,ke){w.pending_buf[w.pending++]=ke}function Ze(w,ke){w.pending_buf[w.pending++]=ke>>>8&255,w.pending_buf[w.pending++]=255&ke}function Ve(w,ke){var ae,q,M=w.max_chain_length,Q=w.strstart,ye=w.prev_length,Te=w.nice_match,oe=w.strstart>w.w_size-lt?w.strstart-(w.w_size-lt):0,je=w.window,Ke=w.w_mask,Re=w.prev,it=w.strstart+Ue,$t=je[Q+ye-1],St=je[Q+ye];w.prev_length>=w.good_match&&(M>>=2),Te>w.lookahead&&(Te=w.lookahead);do if(je[(ae=ke)+ye]===St&&je[ae+ye-1]===$t&&je[ae]===je[Q]&&je[++ae]===je[Q+1]){Q+=2,ae++;do;while(je[++Q]===je[++ae]&&je[++Q]===je[++ae]&&je[++Q]===je[++ae]&&je[++Q]===je[++ae]&&je[++Q]===je[++ae]&&je[++Q]===je[++ae]&&je[++Q]===je[++ae]&&je[++Q]===je[++ae]&&Q<it);if(q=Ue-(it-Q),Q=it-Ue,ye<q){if(w.match_start=ke,Te<=(ye=q))break;$t=je[Q+ye-1],St=je[Q+ye]}}while((ke=Re[ke&Ke])>oe&&--M!=0);return ye<=w.lookahead?ye:w.lookahead}function qt(w){var ke,ae,q,M,Q,ye,Te,oe,je,Ke,Re=w.w_size;do{if(M=w.window_size-w.lookahead-w.strstart,w.strstart>=Re+(Re-lt)){for(y.arraySet(w.window,w.window,Re,Re,0),w.match_start-=Re,w.strstart-=Re,w.block_start-=Re,ke=ae=w.hash_size;q=w.head[--ke],w.head[ke]=Re<=q?q-Re:0,--ae;);for(ke=ae=Re;q=w.prev[--ke],w.prev[ke]=Re<=q?q-Re:0,--ae;);M+=Re}if(w.strm.avail_in===0)break;if(ye=w.strm,Te=w.window,oe=w.strstart+w.lookahead,je=M,Ke=void 0,Ke=ye.avail_in,je<Ke&&(Ke=je),ae=Ke===0?0:(ye.avail_in-=Ke,y.arraySet(Te,ye.input,ye.next_in,Ke,oe),ye.state.wrap===1?ye.adler=k(ye.adler,Te,Ke,oe):ye.state.wrap===2&&(ye.adler=A(ye.adler,Te,Ke,oe)),ye.next_in+=Ke,ye.total_in+=Ke,Ke),w.lookahead+=ae,w.lookahead+w.insert>=pe)for(Q=w.strstart-w.insert,w.ins_h=w.window[Q],w.ins_h=(w.ins_h<<w.hash_shift^w.window[Q+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[Q+pe-1])&w.hash_mask,w.prev[Q&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=Q,Q++,w.insert--,!(w.lookahead+w.insert<pe)););}while(w.lookahead<lt&&w.strm.avail_in!==0)}function gr(w,ke){for(var ae,q;;){if(w.lookahead<lt){if(qt(w),w.lookahead<lt&&ke===F)return N;if(w.lookahead===0)break}if(ae=0,w.lookahead>=pe&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+pe-1])&w.hash_mask,ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),ae!==0&&w.strstart-ae<=w.w_size-lt&&(w.match_length=Ve(w,ae)),w.match_length>=pe)if(q=E._tr_tally(w,w.strstart-w.match_start,w.match_length-pe),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=pe){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+pe-1])&w.hash_mask,ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else q=E._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(q&&(se(w,!1),w.strm.avail_out===0))return N}return w.insert=w.strstart<pe-1?w.strstart:pe-1,ke===U?(se(w,!0),w.strm.avail_out===0?ht:V):w.last_lit&&(se(w,!1),w.strm.avail_out===0)?N:_e}function kt(w,ke){for(var ae,q,M;;){if(w.lookahead<lt){if(qt(w),w.lookahead<lt&&ke===F)return N;if(w.lookahead===0)break}if(ae=0,w.lookahead>=pe&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+pe-1])&w.hash_mask,ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=pe-1,ae!==0&&w.prev_length<w.max_lazy_match&&w.strstart-ae<=w.w_size-lt&&(w.match_length=Ve(w,ae),w.match_length<=5&&(w.strategy===1||w.match_length===pe&&4096<w.strstart-w.match_start)&&(w.match_length=pe-1)),w.prev_length>=pe&&w.match_length<=w.prev_length){for(M=w.strstart+w.lookahead-pe,q=E._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-pe),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=M&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+pe-1])&w.hash_mask,ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=pe-1,w.strstart++,q&&(se(w,!1),w.strm.avail_out===0))return N}else if(w.match_available){if((q=E._tr_tally(w,0,w.window[w.strstart-1]))&&se(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return N}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(q=E._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<pe-1?w.strstart:pe-1,ke===U?(se(w,!0),w.strm.avail_out===0?ht:V):w.last_lit&&(se(w,!1),w.strm.avail_out===0)?N:_e}function At(w,ke,ae,q,M){this.good_length=w,this.max_lazy=ke,this.nice_length=ae,this.max_chain=q,this.func=M}function Zt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(2*me),this.dyn_dtree=new y.Buf16(2*(2*re+1)),this.bl_tree=new y.Buf16(2*(2*Pe+1)),ft(this.dyn_ltree),ft(this.dyn_dtree),ft(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(Oe+1),this.heap=new y.Buf16(2*Y+1),ft(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(2*Y+1),ft(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Kt(w){var ke;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=L,(ke=w.state).pending=0,ke.pending_out=0,ke.wrap<0&&(ke.wrap=-ke.wrap),ke.status=ke.wrap?Z:Ce,w.adler=ke.wrap===2?0:1,ke.last_flush=F,E._tr_init(ke),P):bt(w,I)}function Er(w){var ke=Kt(w);return ke===P&&function(ae){ae.window_size=2*ae.w_size,ft(ae.head),ae.max_lazy_match=d[ae.level].max_lazy,ae.good_match=d[ae.level].good_length,ae.nice_match=d[ae.level].nice_length,ae.max_chain_length=d[ae.level].max_chain,ae.strstart=0,ae.block_start=0,ae.lookahead=0,ae.insert=0,ae.match_length=ae.prev_length=pe-1,ae.match_available=0,ae.ins_h=0}(w.state),ke}function Vr(w,ke,ae,q,M,Q){if(!w)return I;var ye=1;if(ke===H&&(ke=6),q<0?(ye=0,q=-q):15<q&&(ye=2,q-=16),M<1||X<M||ae!==$||q<8||15<q||ke<0||9<ke||Q<0||O<Q)return bt(w,I);q===8&&(q=9);var Te=new Zt;return(w.state=Te).strm=w,Te.wrap=ye,Te.gzhead=null,Te.w_bits=q,Te.w_size=1<<Te.w_bits,Te.w_mask=Te.w_size-1,Te.hash_bits=M+7,Te.hash_size=1<<Te.hash_bits,Te.hash_mask=Te.hash_size-1,Te.hash_shift=~~((Te.hash_bits+pe-1)/pe),Te.window=new y.Buf8(2*Te.w_size),Te.head=new y.Buf16(Te.hash_size),Te.prev=new y.Buf16(Te.w_size),Te.lit_bufsize=1<<M+6,Te.pending_buf_size=4*Te.lit_bufsize,Te.pending_buf=new y.Buf8(Te.pending_buf_size),Te.d_buf=1*Te.lit_bufsize,Te.l_buf=3*Te.lit_bufsize,Te.level=ke,Te.strategy=Q,Te.method=ae,Er(w)}d=[new At(0,0,0,0,function(w,ke){var ae=65535;for(ae>w.pending_buf_size-5&&(ae=w.pending_buf_size-5);;){if(w.lookahead<=1){if(qt(w),w.lookahead===0&&ke===F)return N;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var q=w.block_start+ae;if((w.strstart===0||w.strstart>=q)&&(w.lookahead=w.strstart-q,w.strstart=q,se(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-lt&&(se(w,!1),w.strm.avail_out===0))return N}return w.insert=0,ke===U?(se(w,!0),w.strm.avail_out===0?ht:V):(w.strstart>w.block_start&&(se(w,!1),w.strm.avail_out),N)}),new At(4,4,8,4,gr),new At(4,5,16,8,gr),new At(4,6,32,32,gr),new At(4,4,16,16,kt),new At(8,16,32,32,kt),new At(8,16,128,128,kt),new At(8,32,128,256,kt),new At(32,128,258,1024,kt),new At(32,258,258,4096,kt)],p.deflateInit=function(w,ke){return Vr(w,ke,$,15,8,0)},p.deflateInit2=Vr,p.deflateReset=Er,p.deflateResetKeep=Kt,p.deflateSetHeader=function(w,ke){return w&&w.state?w.state.wrap!==2?I:(w.state.gzhead=ke,P):I},p.deflate=function(w,ke){var ae,q,M,Q;if(!w||!w.state||5<ke||ke<0)return w?bt(w,I):I;if(q=w.state,!w.output||!w.input&&w.avail_in!==0||q.status===666&&ke!==U)return bt(w,w.avail_out===0?-5:I);if(q.strm=w,ae=q.last_flush,q.last_flush=ke,q.status===Z)if(q.wrap===2)w.adler=0,W(q,31),W(q,139),W(q,8),q.gzhead?(W(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),W(q,255&q.gzhead.time),W(q,q.gzhead.time>>8&255),W(q,q.gzhead.time>>16&255),W(q,q.gzhead.time>>24&255),W(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),W(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(W(q,255&q.gzhead.extra.length),W(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(w.adler=A(w.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(W(q,0),W(q,0),W(q,0),W(q,0),W(q,0),W(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),W(q,3),q.status=Ce);else{var ye=$+(q.w_bits-8<<4)<<8;ye|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(ye|=32),ye+=31-ye%31,q.status=Ce,Ze(q,ye),q.strstart!==0&&(Ze(q,w.adler>>>16),Ze(q,65535&w.adler)),w.adler=1}if(q.status===69)if(q.gzhead.extra){for(M=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>M&&(w.adler=A(w.adler,q.pending_buf,q.pending-M,M)),fe(w),M=q.pending,q.pending!==q.pending_buf_size));)W(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>M&&(w.adler=A(w.adler,q.pending_buf,q.pending-M,M)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){M=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>M&&(w.adler=A(w.adler,q.pending_buf,q.pending-M,M)),fe(w),M=q.pending,q.pending===q.pending_buf_size)){Q=1;break}Q=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,W(q,Q)}while(Q!==0);q.gzhead.hcrc&&q.pending>M&&(w.adler=A(w.adler,q.pending_buf,q.pending-M,M)),Q===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){M=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>M&&(w.adler=A(w.adler,q.pending_buf,q.pending-M,M)),fe(w),M=q.pending,q.pending===q.pending_buf_size)){Q=1;break}Q=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,W(q,Q)}while(Q!==0);q.gzhead.hcrc&&q.pending>M&&(w.adler=A(w.adler,q.pending_buf,q.pending-M,M)),Q===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&fe(w),q.pending+2<=q.pending_buf_size&&(W(q,255&w.adler),W(q,w.adler>>8&255),w.adler=0,q.status=Ce)):q.status=Ce),q.pending!==0){if(fe(w),w.avail_out===0)return q.last_flush=-1,P}else if(w.avail_in===0&&Me(ke)<=Me(ae)&&ke!==U)return bt(w,-5);if(q.status===666&&w.avail_in!==0)return bt(w,-5);if(w.avail_in!==0||q.lookahead!==0||ke!==F&&q.status!==666){var Te=q.strategy===2?function(oe,je){for(var Ke;;){if(oe.lookahead===0&&(qt(oe),oe.lookahead===0)){if(je===F)return N;break}if(oe.match_length=0,Ke=E._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,Ke&&(se(oe,!1),oe.strm.avail_out===0))return N}return oe.insert=0,je===U?(se(oe,!0),oe.strm.avail_out===0?ht:V):oe.last_lit&&(se(oe,!1),oe.strm.avail_out===0)?N:_e}(q,ke):q.strategy===3?function(oe,je){for(var Ke,Re,it,$t,St=oe.window;;){if(oe.lookahead<=Ue){if(qt(oe),oe.lookahead<=Ue&&je===F)return N;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=pe&&0<oe.strstart&&(Re=St[it=oe.strstart-1])===St[++it]&&Re===St[++it]&&Re===St[++it]){$t=oe.strstart+Ue;do;while(Re===St[++it]&&Re===St[++it]&&Re===St[++it]&&Re===St[++it]&&Re===St[++it]&&Re===St[++it]&&Re===St[++it]&&Re===St[++it]&&it<$t);oe.match_length=Ue-($t-it),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=pe?(Ke=E._tr_tally(oe,1,oe.match_length-pe),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(Ke=E._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),Ke&&(se(oe,!1),oe.strm.avail_out===0))return N}return oe.insert=0,je===U?(se(oe,!0),oe.strm.avail_out===0?ht:V):oe.last_lit&&(se(oe,!1),oe.strm.avail_out===0)?N:_e}(q,ke):d[q.level].func(q,ke);if(Te!==ht&&Te!==V||(q.status=666),Te===N||Te===ht)return w.avail_out===0&&(q.last_flush=-1),P;if(Te===_e&&(ke===1?E._tr_align(q):ke!==5&&(E._tr_stored_block(q,0,0,!1),ke===3&&(ft(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),fe(w),w.avail_out===0))return q.last_flush=-1,P}return ke!==U?P:q.wrap<=0?1:(q.wrap===2?(W(q,255&w.adler),W(q,w.adler>>8&255),W(q,w.adler>>16&255),W(q,w.adler>>24&255),W(q,255&w.total_in),W(q,w.total_in>>8&255),W(q,w.total_in>>16&255),W(q,w.total_in>>24&255)):(Ze(q,w.adler>>>16),Ze(q,65535&w.adler)),fe(w),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?P:1)},p.deflateEnd=function(w){var ke;return w&&w.state?(ke=w.state.status)!==Z&&ke!==69&&ke!==73&&ke!==91&&ke!==103&&ke!==Ce&&ke!==666?bt(w,I):(w.state=null,ke===Ce?bt(w,-3):P):I},p.deflateSetDictionary=function(w,ke){var ae,q,M,Q,ye,Te,oe,je,Ke=ke.length;if(!w||!w.state||(Q=(ae=w.state).wrap)===2||Q===1&&ae.status!==Z||ae.lookahead)return I;for(Q===1&&(w.adler=k(w.adler,ke,Ke,0)),ae.wrap=0,Ke>=ae.w_size&&(Q===0&&(ft(ae.head),ae.strstart=0,ae.block_start=0,ae.insert=0),je=new y.Buf8(ae.w_size),y.arraySet(je,ke,Ke-ae.w_size,ae.w_size,0),ke=je,Ke=ae.w_size),ye=w.avail_in,Te=w.next_in,oe=w.input,w.avail_in=Ke,w.next_in=0,w.input=ke,qt(ae);ae.lookahead>=pe;){for(q=ae.strstart,M=ae.lookahead-(pe-1);ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[q+pe-1])&ae.hash_mask,ae.prev[q&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=q,q++,--M;);ae.strstart=q,ae.lookahead=pe-1,qt(ae)}return ae.strstart+=ae.lookahead,ae.block_start=ae.strstart,ae.insert=ae.lookahead,ae.lookahead=0,ae.match_length=ae.prev_length=pe-1,ae.match_available=0,w.next_in=Te,w.input=oe,w.avail_in=ye,ae.wrap=Q,P},p.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,v,p){v.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,v,p){v.exports=function(d,y){var E,k,A,D,F,U,P,I,H,O,L,$,X,Y,re,Pe,me,Oe,pe,Ue,lt,Z,Ce,N,_e;E=d.state,k=d.next_in,N=d.input,A=k+(d.avail_in-5),D=d.next_out,_e=d.output,F=D-(y-d.avail_out),U=D+(d.avail_out-257),P=E.dmax,I=E.wsize,H=E.whave,O=E.wnext,L=E.window,$=E.hold,X=E.bits,Y=E.lencode,re=E.distcode,Pe=(1<<E.lenbits)-1,me=(1<<E.distbits)-1;e:do{X<15&&($+=N[k++]<<X,X+=8,$+=N[k++]<<X,X+=8),Oe=Y[$&Pe];t:for(;;){if($>>>=pe=Oe>>>24,X-=pe,(pe=Oe>>>16&255)===0)_e[D++]=65535&Oe;else{if(!(16&pe)){if((64&pe)==0){Oe=Y[(65535&Oe)+($&(1<<pe)-1)];continue t}if(32&pe){E.mode=12;break e}d.msg="invalid literal/length code",E.mode=30;break e}Ue=65535&Oe,(pe&=15)&&(X<pe&&($+=N[k++]<<X,X+=8),Ue+=$&(1<<pe)-1,$>>>=pe,X-=pe),X<15&&($+=N[k++]<<X,X+=8,$+=N[k++]<<X,X+=8),Oe=re[$&me];r:for(;;){if($>>>=pe=Oe>>>24,X-=pe,!(16&(pe=Oe>>>16&255))){if((64&pe)==0){Oe=re[(65535&Oe)+($&(1<<pe)-1)];continue r}d.msg="invalid distance code",E.mode=30;break e}if(lt=65535&Oe,X<(pe&=15)&&($+=N[k++]<<X,(X+=8)<pe&&($+=N[k++]<<X,X+=8)),P<(lt+=$&(1<<pe)-1)){d.msg="invalid distance too far back",E.mode=30;break e}if($>>>=pe,X-=pe,(pe=D-F)<lt){if(H<(pe=lt-pe)&&E.sane){d.msg="invalid distance too far back",E.mode=30;break e}if(Ce=L,(Z=0)===O){if(Z+=I-pe,pe<Ue){for(Ue-=pe;_e[D++]=L[Z++],--pe;);Z=D-lt,Ce=_e}}else if(O<pe){if(Z+=I+O-pe,(pe-=O)<Ue){for(Ue-=pe;_e[D++]=L[Z++],--pe;);if(Z=0,O<Ue){for(Ue-=pe=O;_e[D++]=L[Z++],--pe;);Z=D-lt,Ce=_e}}}else if(Z+=O-pe,pe<Ue){for(Ue-=pe;_e[D++]=L[Z++],--pe;);Z=D-lt,Ce=_e}for(;2<Ue;)_e[D++]=Ce[Z++],_e[D++]=Ce[Z++],_e[D++]=Ce[Z++],Ue-=3;Ue&&(_e[D++]=Ce[Z++],1<Ue&&(_e[D++]=Ce[Z++]))}else{for(Z=D-lt;_e[D++]=_e[Z++],_e[D++]=_e[Z++],_e[D++]=_e[Z++],2<(Ue-=3););Ue&&(_e[D++]=_e[Z++],1<Ue&&(_e[D++]=_e[Z++]))}break}}break}}while(k<A&&D<U);k-=Ue=X>>3,$&=(1<<(X-=Ue<<3))-1,d.next_in=k,d.next_out=D,d.avail_in=k<A?A-k+5:5-(k-A),d.avail_out=D<U?U-D+257:257-(D-U),E.hold=$,E.bits=X}},{}],49:[function(l,v,p){var d=l("../utils/common"),y=l("./adler32"),E=l("./crc32"),k=l("./inffast"),A=l("./inftrees"),D=1,F=2,U=0,P=-2,I=1,H=852,O=592;function L(Z){return(Z>>>24&255)+(Z>>>8&65280)+((65280&Z)<<8)+((255&Z)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function X(Z){var Ce;return Z&&Z.state?(Ce=Z.state,Z.total_in=Z.total_out=Ce.total=0,Z.msg="",Ce.wrap&&(Z.adler=1&Ce.wrap),Ce.mode=I,Ce.last=0,Ce.havedict=0,Ce.dmax=32768,Ce.head=null,Ce.hold=0,Ce.bits=0,Ce.lencode=Ce.lendyn=new d.Buf32(H),Ce.distcode=Ce.distdyn=new d.Buf32(O),Ce.sane=1,Ce.back=-1,U):P}function Y(Z){var Ce;return Z&&Z.state?((Ce=Z.state).wsize=0,Ce.whave=0,Ce.wnext=0,X(Z)):P}function re(Z,Ce){var N,_e;return Z&&Z.state?(_e=Z.state,Ce<0?(N=0,Ce=-Ce):(N=1+(Ce>>4),Ce<48&&(Ce&=15)),Ce&&(Ce<8||15<Ce)?P:(_e.window!==null&&_e.wbits!==Ce&&(_e.window=null),_e.wrap=N,_e.wbits=Ce,Y(Z))):P}function Pe(Z,Ce){var N,_e;return Z?(_e=new $,(Z.state=_e).window=null,(N=re(Z,Ce))!==U&&(Z.state=null),N):P}var me,Oe,pe=!0;function Ue(Z){if(pe){var Ce;for(me=new d.Buf32(512),Oe=new d.Buf32(32),Ce=0;Ce<144;)Z.lens[Ce++]=8;for(;Ce<256;)Z.lens[Ce++]=9;for(;Ce<280;)Z.lens[Ce++]=7;for(;Ce<288;)Z.lens[Ce++]=8;for(A(D,Z.lens,0,288,me,0,Z.work,{bits:9}),Ce=0;Ce<32;)Z.lens[Ce++]=5;A(F,Z.lens,0,32,Oe,0,Z.work,{bits:5}),pe=!1}Z.lencode=me,Z.lenbits=9,Z.distcode=Oe,Z.distbits=5}function lt(Z,Ce,N,_e){var ht,V=Z.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new d.Buf8(V.wsize)),_e>=V.wsize?(d.arraySet(V.window,Ce,N-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(_e<(ht=V.wsize-V.wnext)&&(ht=_e),d.arraySet(V.window,Ce,N-_e,ht,V.wnext),(_e-=ht)?(d.arraySet(V.window,Ce,N-_e,_e,0),V.wnext=_e,V.whave=V.wsize):(V.wnext+=ht,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=ht))),0}p.inflateReset=Y,p.inflateReset2=re,p.inflateResetKeep=X,p.inflateInit=function(Z){return Pe(Z,15)},p.inflateInit2=Pe,p.inflate=function(Z,Ce){var N,_e,ht,V,bt,Me,ft,fe,se,W,Ze,Ve,qt,gr,kt,At,Zt,Kt,Er,Vr,w,ke,ae,q,M=0,Q=new d.Buf8(4),ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Z||!Z.state||!Z.output||!Z.input&&Z.avail_in!==0)return P;(N=Z.state).mode===12&&(N.mode=13),bt=Z.next_out,ht=Z.output,ft=Z.avail_out,V=Z.next_in,_e=Z.input,Me=Z.avail_in,fe=N.hold,se=N.bits,W=Me,Ze=ft,ke=U;e:for(;;)switch(N.mode){case I:if(N.wrap===0){N.mode=13;break}for(;se<16;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}if(2&N.wrap&&fe===35615){Q[N.check=0]=255&fe,Q[1]=fe>>>8&255,N.check=E(N.check,Q,2,0),se=fe=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&fe)<<8)+(fe>>8))%31){Z.msg="incorrect header check",N.mode=30;break}if((15&fe)!=8){Z.msg="unknown compression method",N.mode=30;break}if(se-=4,w=8+(15&(fe>>>=4)),N.wbits===0)N.wbits=w;else if(w>N.wbits){Z.msg="invalid window size",N.mode=30;break}N.dmax=1<<w,Z.adler=N.check=1,N.mode=512&fe?10:12,se=fe=0;break;case 2:for(;se<16;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}if(N.flags=fe,(255&N.flags)!=8){Z.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){Z.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=fe>>8&1),512&N.flags&&(Q[0]=255&fe,Q[1]=fe>>>8&255,N.check=E(N.check,Q,2,0)),se=fe=0,N.mode=3;case 3:for(;se<32;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}N.head&&(N.head.time=fe),512&N.flags&&(Q[0]=255&fe,Q[1]=fe>>>8&255,Q[2]=fe>>>16&255,Q[3]=fe>>>24&255,N.check=E(N.check,Q,4,0)),se=fe=0,N.mode=4;case 4:for(;se<16;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}N.head&&(N.head.xflags=255&fe,N.head.os=fe>>8),512&N.flags&&(Q[0]=255&fe,Q[1]=fe>>>8&255,N.check=E(N.check,Q,2,0)),se=fe=0,N.mode=5;case 5:if(1024&N.flags){for(;se<16;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}N.length=fe,N.head&&(N.head.extra_len=fe),512&N.flags&&(Q[0]=255&fe,Q[1]=fe>>>8&255,N.check=E(N.check,Q,2,0)),se=fe=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(Me<(Ve=N.length)&&(Ve=Me),Ve&&(N.head&&(w=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),d.arraySet(N.head.extra,_e,V,Ve,w)),512&N.flags&&(N.check=E(N.check,_e,Ve,V)),Me-=Ve,V+=Ve,N.length-=Ve),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(Me===0)break e;for(Ve=0;w=_e[V+Ve++],N.head&&w&&N.length<65536&&(N.head.name+=String.fromCharCode(w)),w&&Ve<Me;);if(512&N.flags&&(N.check=E(N.check,_e,Ve,V)),Me-=Ve,V+=Ve,w)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(Me===0)break e;for(Ve=0;w=_e[V+Ve++],N.head&&w&&N.length<65536&&(N.head.comment+=String.fromCharCode(w)),w&&Ve<Me;);if(512&N.flags&&(N.check=E(N.check,_e,Ve,V)),Me-=Ve,V+=Ve,w)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;se<16;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}if(fe!==(65535&N.check)){Z.msg="header crc mismatch",N.mode=30;break}se=fe=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),Z.adler=N.check=0,N.mode=12;break;case 10:for(;se<32;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}Z.adler=N.check=L(fe),se=fe=0,N.mode=11;case 11:if(N.havedict===0)return Z.next_out=bt,Z.avail_out=ft,Z.next_in=V,Z.avail_in=Me,N.hold=fe,N.bits=se,2;Z.adler=N.check=1,N.mode=12;case 12:if(Ce===5||Ce===6)break e;case 13:if(N.last){fe>>>=7&se,se-=7&se,N.mode=27;break}for(;se<3;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}switch(N.last=1&fe,se-=1,3&(fe>>>=1)){case 0:N.mode=14;break;case 1:if(Ue(N),N.mode=20,Ce!==6)break;fe>>>=2,se-=2;break e;case 2:N.mode=17;break;case 3:Z.msg="invalid block type",N.mode=30}fe>>>=2,se-=2;break;case 14:for(fe>>>=7&se,se-=7&se;se<32;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}if((65535&fe)!=(fe>>>16^65535)){Z.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&fe,se=fe=0,N.mode=15,Ce===6)break e;case 15:N.mode=16;case 16:if(Ve=N.length){if(Me<Ve&&(Ve=Me),ft<Ve&&(Ve=ft),Ve===0)break e;d.arraySet(ht,_e,V,Ve,bt),Me-=Ve,V+=Ve,ft-=Ve,bt+=Ve,N.length-=Ve;break}N.mode=12;break;case 17:for(;se<14;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}if(N.nlen=257+(31&fe),fe>>>=5,se-=5,N.ndist=1+(31&fe),fe>>>=5,se-=5,N.ncode=4+(15&fe),fe>>>=4,se-=4,286<N.nlen||30<N.ndist){Z.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;se<3;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}N.lens[ye[N.have++]]=7&fe,fe>>>=3,se-=3}for(;N.have<19;)N.lens[ye[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,ae={bits:N.lenbits},ke=A(0,N.lens,0,19,N.lencode,0,N.work,ae),N.lenbits=ae.bits,ke){Z.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;At=(M=N.lencode[fe&(1<<N.lenbits)-1])>>>16&255,Zt=65535&M,!((kt=M>>>24)<=se);){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}if(Zt<16)fe>>>=kt,se-=kt,N.lens[N.have++]=Zt;else{if(Zt===16){for(q=kt+2;se<q;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}if(fe>>>=kt,se-=kt,N.have===0){Z.msg="invalid bit length repeat",N.mode=30;break}w=N.lens[N.have-1],Ve=3+(3&fe),fe>>>=2,se-=2}else if(Zt===17){for(q=kt+3;se<q;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}se-=kt,w=0,Ve=3+(7&(fe>>>=kt)),fe>>>=3,se-=3}else{for(q=kt+7;se<q;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}se-=kt,w=0,Ve=11+(127&(fe>>>=kt)),fe>>>=7,se-=7}if(N.have+Ve>N.nlen+N.ndist){Z.msg="invalid bit length repeat",N.mode=30;break}for(;Ve--;)N.lens[N.have++]=w}}if(N.mode===30)break;if(N.lens[256]===0){Z.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,ae={bits:N.lenbits},ke=A(D,N.lens,0,N.nlen,N.lencode,0,N.work,ae),N.lenbits=ae.bits,ke){Z.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,ae={bits:N.distbits},ke=A(F,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,ae),N.distbits=ae.bits,ke){Z.msg="invalid distances set",N.mode=30;break}if(N.mode=20,Ce===6)break e;case 20:N.mode=21;case 21:if(6<=Me&&258<=ft){Z.next_out=bt,Z.avail_out=ft,Z.next_in=V,Z.avail_in=Me,N.hold=fe,N.bits=se,k(Z,Ze),bt=Z.next_out,ht=Z.output,ft=Z.avail_out,V=Z.next_in,_e=Z.input,Me=Z.avail_in,fe=N.hold,se=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;At=(M=N.lencode[fe&(1<<N.lenbits)-1])>>>16&255,Zt=65535&M,!((kt=M>>>24)<=se);){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}if(At&&(240&At)==0){for(Kt=kt,Er=At,Vr=Zt;At=(M=N.lencode[Vr+((fe&(1<<Kt+Er)-1)>>Kt)])>>>16&255,Zt=65535&M,!(Kt+(kt=M>>>24)<=se);){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}fe>>>=Kt,se-=Kt,N.back+=Kt}if(fe>>>=kt,se-=kt,N.back+=kt,N.length=Zt,At===0){N.mode=26;break}if(32&At){N.back=-1,N.mode=12;break}if(64&At){Z.msg="invalid literal/length code",N.mode=30;break}N.extra=15&At,N.mode=22;case 22:if(N.extra){for(q=N.extra;se<q;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}N.length+=fe&(1<<N.extra)-1,fe>>>=N.extra,se-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;At=(M=N.distcode[fe&(1<<N.distbits)-1])>>>16&255,Zt=65535&M,!((kt=M>>>24)<=se);){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}if((240&At)==0){for(Kt=kt,Er=At,Vr=Zt;At=(M=N.distcode[Vr+((fe&(1<<Kt+Er)-1)>>Kt)])>>>16&255,Zt=65535&M,!(Kt+(kt=M>>>24)<=se);){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}fe>>>=Kt,se-=Kt,N.back+=Kt}if(fe>>>=kt,se-=kt,N.back+=kt,64&At){Z.msg="invalid distance code",N.mode=30;break}N.offset=Zt,N.extra=15&At,N.mode=24;case 24:if(N.extra){for(q=N.extra;se<q;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}N.offset+=fe&(1<<N.extra)-1,fe>>>=N.extra,se-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){Z.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(ft===0)break e;if(Ve=Ze-ft,N.offset>Ve){if((Ve=N.offset-Ve)>N.whave&&N.sane){Z.msg="invalid distance too far back",N.mode=30;break}qt=Ve>N.wnext?(Ve-=N.wnext,N.wsize-Ve):N.wnext-Ve,Ve>N.length&&(Ve=N.length),gr=N.window}else gr=ht,qt=bt-N.offset,Ve=N.length;for(ft<Ve&&(Ve=ft),ft-=Ve,N.length-=Ve;ht[bt++]=gr[qt++],--Ve;);N.length===0&&(N.mode=21);break;case 26:if(ft===0)break e;ht[bt++]=N.length,ft--,N.mode=21;break;case 27:if(N.wrap){for(;se<32;){if(Me===0)break e;Me--,fe|=_e[V++]<<se,se+=8}if(Ze-=ft,Z.total_out+=Ze,N.total+=Ze,Ze&&(Z.adler=N.check=N.flags?E(N.check,ht,Ze,bt-Ze):y(N.check,ht,Ze,bt-Ze)),Ze=ft,(N.flags?fe:L(fe))!==N.check){Z.msg="incorrect data check",N.mode=30;break}se=fe=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;se<32;){if(Me===0)break e;Me--,fe+=_e[V++]<<se,se+=8}if(fe!==(4294967295&N.total)){Z.msg="incorrect length check",N.mode=30;break}se=fe=0}N.mode=29;case 29:ke=1;break e;case 30:ke=-3;break e;case 31:return-4;case 32:default:return P}return Z.next_out=bt,Z.avail_out=ft,Z.next_in=V,Z.avail_in=Me,N.hold=fe,N.bits=se,(N.wsize||Ze!==Z.avail_out&&N.mode<30&&(N.mode<27||Ce!==4))&&lt(Z,Z.output,Z.next_out,Ze-Z.avail_out)?(N.mode=31,-4):(W-=Z.avail_in,Ze-=Z.avail_out,Z.total_in+=W,Z.total_out+=Ze,N.total+=Ze,N.wrap&&Ze&&(Z.adler=N.check=N.flags?E(N.check,ht,Ze,Z.next_out-Ze):y(N.check,ht,Ze,Z.next_out-Ze)),Z.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(W==0&&Ze===0||Ce===4)&&ke===U&&(ke=-5),ke)},p.inflateEnd=function(Z){if(!Z||!Z.state)return P;var Ce=Z.state;return Ce.window&&(Ce.window=null),Z.state=null,U},p.inflateGetHeader=function(Z,Ce){var N;return Z&&Z.state?(2&(N=Z.state).wrap)==0?P:((N.head=Ce).done=!1,U):P},p.inflateSetDictionary=function(Z,Ce){var N,_e=Ce.length;return Z&&Z.state?(N=Z.state).wrap!==0&&N.mode!==11?P:N.mode===11&&y(1,Ce,_e,0)!==N.check?-3:lt(Z,Ce,_e,_e)?(N.mode=31,-4):(N.havedict=1,U):P},p.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,v,p){var d=l("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],E=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],A=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];v.exports=function(D,F,U,P,I,H,O,L){var $,X,Y,re,Pe,me,Oe,pe,Ue,lt=L.bits,Z=0,Ce=0,N=0,_e=0,ht=0,V=0,bt=0,Me=0,ft=0,fe=0,se=null,W=0,Ze=new d.Buf16(16),Ve=new d.Buf16(16),qt=null,gr=0;for(Z=0;Z<=15;Z++)Ze[Z]=0;for(Ce=0;Ce<P;Ce++)Ze[F[U+Ce]]++;for(ht=lt,_e=15;1<=_e&&Ze[_e]===0;_e--);if(_e<ht&&(ht=_e),_e===0)return I[H++]=20971520,I[H++]=20971520,L.bits=1,0;for(N=1;N<_e&&Ze[N]===0;N++);for(ht<N&&(ht=N),Z=Me=1;Z<=15;Z++)if(Me<<=1,(Me-=Ze[Z])<0)return-1;if(0<Me&&(D===0||_e!==1))return-1;for(Ve[1]=0,Z=1;Z<15;Z++)Ve[Z+1]=Ve[Z]+Ze[Z];for(Ce=0;Ce<P;Ce++)F[U+Ce]!==0&&(O[Ve[F[U+Ce]]++]=Ce);if(me=D===0?(se=qt=O,19):D===1?(se=y,W-=257,qt=E,gr-=257,256):(se=k,qt=A,-1),Z=N,Pe=H,bt=Ce=fe=0,Y=-1,re=(ft=1<<(V=ht))-1,D===1&&852<ft||D===2&&592<ft)return 1;for(;;){for(Oe=Z-bt,Ue=O[Ce]<me?(pe=0,O[Ce]):O[Ce]>me?(pe=qt[gr+O[Ce]],se[W+O[Ce]]):(pe=96,0),$=1<<Z-bt,N=X=1<<V;I[Pe+(fe>>bt)+(X-=$)]=Oe<<24|pe<<16|Ue|0,X!==0;);for($=1<<Z-1;fe&$;)$>>=1;if($!==0?(fe&=$-1,fe+=$):fe=0,Ce++,--Ze[Z]==0){if(Z===_e)break;Z=F[U+O[Ce]]}if(ht<Z&&(fe&re)!==Y){for(bt===0&&(bt=ht),Pe+=N,Me=1<<(V=Z-bt);V+bt<_e&&!((Me-=Ze[V+bt])<=0);)V++,Me<<=1;if(ft+=1<<V,D===1&&852<ft||D===2&&592<ft)return 1;I[Y=fe&re]=ht<<24|V<<16|Pe-H|0}}return fe!==0&&(I[Pe+fe]=Z-bt<<24|64<<16|0),L.bits=ht,0}},{"../utils/common":41}],51:[function(l,v,p){v.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,v,p){var d=l("../utils/common"),y=0,E=1;function k(M){for(var Q=M.length;0<=--Q;)M[Q]=0}var A=0,D=29,F=256,U=F+1+D,P=30,I=19,H=2*U+1,O=15,L=16,$=7,X=256,Y=16,re=17,Pe=18,me=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Oe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],lt=new Array(2*(U+2));k(lt);var Z=new Array(2*P);k(Z);var Ce=new Array(512);k(Ce);var N=new Array(256);k(N);var _e=new Array(D);k(_e);var ht,V,bt,Me=new Array(P);function ft(M,Q,ye,Te,oe){this.static_tree=M,this.extra_bits=Q,this.extra_base=ye,this.elems=Te,this.max_length=oe,this.has_stree=M&&M.length}function fe(M,Q){this.dyn_tree=M,this.max_code=0,this.stat_desc=Q}function se(M){return M<256?Ce[M]:Ce[256+(M>>>7)]}function W(M,Q){M.pending_buf[M.pending++]=255&Q,M.pending_buf[M.pending++]=Q>>>8&255}function Ze(M,Q,ye){M.bi_valid>L-ye?(M.bi_buf|=Q<<M.bi_valid&65535,W(M,M.bi_buf),M.bi_buf=Q>>L-M.bi_valid,M.bi_valid+=ye-L):(M.bi_buf|=Q<<M.bi_valid&65535,M.bi_valid+=ye)}function Ve(M,Q,ye){Ze(M,ye[2*Q],ye[2*Q+1])}function qt(M,Q){for(var ye=0;ye|=1&M,M>>>=1,ye<<=1,0<--Q;);return ye>>>1}function gr(M,Q,ye){var Te,oe,je=new Array(O+1),Ke=0;for(Te=1;Te<=O;Te++)je[Te]=Ke=Ke+ye[Te-1]<<1;for(oe=0;oe<=Q;oe++){var Re=M[2*oe+1];Re!==0&&(M[2*oe]=qt(je[Re]++,Re))}}function kt(M){var Q;for(Q=0;Q<U;Q++)M.dyn_ltree[2*Q]=0;for(Q=0;Q<P;Q++)M.dyn_dtree[2*Q]=0;for(Q=0;Q<I;Q++)M.bl_tree[2*Q]=0;M.dyn_ltree[2*X]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function At(M){8<M.bi_valid?W(M,M.bi_buf):0<M.bi_valid&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function Zt(M,Q,ye,Te){var oe=2*Q,je=2*ye;return M[oe]<M[je]||M[oe]===M[je]&&Te[Q]<=Te[ye]}function Kt(M,Q,ye){for(var Te=M.heap[ye],oe=ye<<1;oe<=M.heap_len&&(oe<M.heap_len&&Zt(Q,M.heap[oe+1],M.heap[oe],M.depth)&&oe++,!Zt(Q,Te,M.heap[oe],M.depth));)M.heap[ye]=M.heap[oe],ye=oe,oe<<=1;M.heap[ye]=Te}function Er(M,Q,ye){var Te,oe,je,Ke,Re=0;if(M.last_lit!==0)for(;Te=M.pending_buf[M.d_buf+2*Re]<<8|M.pending_buf[M.d_buf+2*Re+1],oe=M.pending_buf[M.l_buf+Re],Re++,Te===0?Ve(M,oe,Q):(Ve(M,(je=N[oe])+F+1,Q),(Ke=me[je])!==0&&Ze(M,oe-=_e[je],Ke),Ve(M,je=se(--Te),ye),(Ke=Oe[je])!==0&&Ze(M,Te-=Me[je],Ke)),Re<M.last_lit;);Ve(M,X,Q)}function Vr(M,Q){var ye,Te,oe,je=Q.dyn_tree,Ke=Q.stat_desc.static_tree,Re=Q.stat_desc.has_stree,it=Q.stat_desc.elems,$t=-1;for(M.heap_len=0,M.heap_max=H,ye=0;ye<it;ye++)je[2*ye]!==0?(M.heap[++M.heap_len]=$t=ye,M.depth[ye]=0):je[2*ye+1]=0;for(;M.heap_len<2;)je[2*(oe=M.heap[++M.heap_len]=$t<2?++$t:0)]=1,M.depth[oe]=0,M.opt_len--,Re&&(M.static_len-=Ke[2*oe+1]);for(Q.max_code=$t,ye=M.heap_len>>1;1<=ye;ye--)Kt(M,je,ye);for(oe=it;ye=M.heap[1],M.heap[1]=M.heap[M.heap_len--],Kt(M,je,1),Te=M.heap[1],M.heap[--M.heap_max]=ye,M.heap[--M.heap_max]=Te,je[2*oe]=je[2*ye]+je[2*Te],M.depth[oe]=(M.depth[ye]>=M.depth[Te]?M.depth[ye]:M.depth[Te])+1,je[2*ye+1]=je[2*Te+1]=oe,M.heap[1]=oe++,Kt(M,je,1),2<=M.heap_len;);M.heap[--M.heap_max]=M.heap[1],function(St,fr){var Qa,Jr,_r,Gt,Li,yn,$r=fr.dyn_tree,Ko=fr.max_code,us=fr.stat_desc.static_tree,jr=fr.stat_desc.has_stree,zi=fr.stat_desc.extra_bits,Go=fr.stat_desc.extra_base,ea=fr.stat_desc.max_length,Mi=0;for(Gt=0;Gt<=O;Gt++)St.bl_count[Gt]=0;for($r[2*St.heap[St.heap_max]+1]=0,Qa=St.heap_max+1;Qa<H;Qa++)ea<(Gt=$r[2*$r[2*(Jr=St.heap[Qa])+1]+1]+1)&&(Gt=ea,Mi++),$r[2*Jr+1]=Gt,Ko<Jr||(St.bl_count[Gt]++,Li=0,Go<=Jr&&(Li=zi[Jr-Go]),yn=$r[2*Jr],St.opt_len+=yn*(Gt+Li),jr&&(St.static_len+=yn*(us[2*Jr+1]+Li)));if(Mi!==0){do{for(Gt=ea-1;St.bl_count[Gt]===0;)Gt--;St.bl_count[Gt]--,St.bl_count[Gt+1]+=2,St.bl_count[ea]--,Mi-=2}while(0<Mi);for(Gt=ea;Gt!==0;Gt--)for(Jr=St.bl_count[Gt];Jr!==0;)Ko<(_r=St.heap[--Qa])||($r[2*_r+1]!==Gt&&(St.opt_len+=(Gt-$r[2*_r+1])*$r[2*_r],$r[2*_r+1]=Gt),Jr--)}}(M,Q),gr(je,$t,M.bl_count)}function w(M,Q,ye){var Te,oe,je=-1,Ke=Q[1],Re=0,it=7,$t=4;for(Ke===0&&(it=138,$t=3),Q[2*(ye+1)+1]=65535,Te=0;Te<=ye;Te++)oe=Ke,Ke=Q[2*(Te+1)+1],++Re<it&&oe===Ke||(Re<$t?M.bl_tree[2*oe]+=Re:oe!==0?(oe!==je&&M.bl_tree[2*oe]++,M.bl_tree[2*Y]++):Re<=10?M.bl_tree[2*re]++:M.bl_tree[2*Pe]++,je=oe,$t=(Re=0)===Ke?(it=138,3):oe===Ke?(it=6,3):(it=7,4))}function ke(M,Q,ye){var Te,oe,je=-1,Ke=Q[1],Re=0,it=7,$t=4;for(Ke===0&&(it=138,$t=3),Te=0;Te<=ye;Te++)if(oe=Ke,Ke=Q[2*(Te+1)+1],!(++Re<it&&oe===Ke)){if(Re<$t)for(;Ve(M,oe,M.bl_tree),--Re!=0;);else oe!==0?(oe!==je&&(Ve(M,oe,M.bl_tree),Re--),Ve(M,Y,M.bl_tree),Ze(M,Re-3,2)):Re<=10?(Ve(M,re,M.bl_tree),Ze(M,Re-3,3)):(Ve(M,Pe,M.bl_tree),Ze(M,Re-11,7));je=oe,$t=(Re=0)===Ke?(it=138,3):oe===Ke?(it=6,3):(it=7,4)}}k(Me);var ae=!1;function q(M,Q,ye,Te){Ze(M,(A<<1)+(Te?1:0),3),function(oe,je,Ke,Re){At(oe),Re&&(W(oe,Ke),W(oe,~Ke)),d.arraySet(oe.pending_buf,oe.window,je,Ke,oe.pending),oe.pending+=Ke}(M,Q,ye,!0)}p._tr_init=function(M){ae||(function(){var Q,ye,Te,oe,je,Ke=new Array(O+1);for(oe=Te=0;oe<D-1;oe++)for(_e[oe]=Te,Q=0;Q<1<<me[oe];Q++)N[Te++]=oe;for(N[Te-1]=oe,oe=je=0;oe<16;oe++)for(Me[oe]=je,Q=0;Q<1<<Oe[oe];Q++)Ce[je++]=oe;for(je>>=7;oe<P;oe++)for(Me[oe]=je<<7,Q=0;Q<1<<Oe[oe]-7;Q++)Ce[256+je++]=oe;for(ye=0;ye<=O;ye++)Ke[ye]=0;for(Q=0;Q<=143;)lt[2*Q+1]=8,Q++,Ke[8]++;for(;Q<=255;)lt[2*Q+1]=9,Q++,Ke[9]++;for(;Q<=279;)lt[2*Q+1]=7,Q++,Ke[7]++;for(;Q<=287;)lt[2*Q+1]=8,Q++,Ke[8]++;for(gr(lt,U+1,Ke),Q=0;Q<P;Q++)Z[2*Q+1]=5,Z[2*Q]=qt(Q,5);ht=new ft(lt,me,F+1,U,O),V=new ft(Z,Oe,0,P,O),bt=new ft(new Array(0),pe,0,I,$)}(),ae=!0),M.l_desc=new fe(M.dyn_ltree,ht),M.d_desc=new fe(M.dyn_dtree,V),M.bl_desc=new fe(M.bl_tree,bt),M.bi_buf=0,M.bi_valid=0,kt(M)},p._tr_stored_block=q,p._tr_flush_block=function(M,Q,ye,Te){var oe,je,Ke=0;0<M.level?(M.strm.data_type===2&&(M.strm.data_type=function(Re){var it,$t=4093624447;for(it=0;it<=31;it++,$t>>>=1)if(1&$t&&Re.dyn_ltree[2*it]!==0)return y;if(Re.dyn_ltree[18]!==0||Re.dyn_ltree[20]!==0||Re.dyn_ltree[26]!==0)return E;for(it=32;it<F;it++)if(Re.dyn_ltree[2*it]!==0)return E;return y}(M)),Vr(M,M.l_desc),Vr(M,M.d_desc),Ke=function(Re){var it;for(w(Re,Re.dyn_ltree,Re.l_desc.max_code),w(Re,Re.dyn_dtree,Re.d_desc.max_code),Vr(Re,Re.bl_desc),it=I-1;3<=it&&Re.bl_tree[2*Ue[it]+1]===0;it--);return Re.opt_len+=3*(it+1)+5+5+4,it}(M),oe=M.opt_len+3+7>>>3,(je=M.static_len+3+7>>>3)<=oe&&(oe=je)):oe=je=ye+5,ye+4<=oe&&Q!==-1?q(M,Q,ye,Te):M.strategy===4||je===oe?(Ze(M,2+(Te?1:0),3),Er(M,lt,Z)):(Ze(M,4+(Te?1:0),3),function(Re,it,$t,St){var fr;for(Ze(Re,it-257,5),Ze(Re,$t-1,5),Ze(Re,St-4,4),fr=0;fr<St;fr++)Ze(Re,Re.bl_tree[2*Ue[fr]+1],3);ke(Re,Re.dyn_ltree,it-1),ke(Re,Re.dyn_dtree,$t-1)}(M,M.l_desc.max_code+1,M.d_desc.max_code+1,Ke+1),Er(M,M.dyn_ltree,M.dyn_dtree)),kt(M),Te&&At(M)},p._tr_tally=function(M,Q,ye){return M.pending_buf[M.d_buf+2*M.last_lit]=Q>>>8&255,M.pending_buf[M.d_buf+2*M.last_lit+1]=255&Q,M.pending_buf[M.l_buf+M.last_lit]=255&ye,M.last_lit++,Q===0?M.dyn_ltree[2*ye]++:(M.matches++,Q--,M.dyn_ltree[2*(N[ye]+F+1)]++,M.dyn_dtree[2*se(Q)]++),M.last_lit===M.lit_bufsize-1},p._tr_align=function(M){Ze(M,2,3),Ve(M,X,lt),function(Q){Q.bi_valid===16?(W(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=255&Q.bi_buf,Q.bi_buf>>=8,Q.bi_valid-=8)}(M)}},{"../utils/common":41}],53:[function(l,v,p){v.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,v,p){v.exports=typeof setImmediate=="function"?setImmediate:function(){var d=[].slice.apply(arguments);d.splice(1,0,0),setTimeout.apply(null,d)}},{}]},{},[10])(10)})})(Qt);function fa(b){return b==null?void 0:b.replace(/[ .]+/g,"-").replace(/[&]+/g,"and").toLowerCase()}function ot(b){var f=b.lastIndexOf("/")+1,l=f==0?"":b.substring(0,f),v=f==0?b:b.substring(f);return[l,v]}function mn(b,f){try{var l="http://docx/",v=new URL(b,l+f).toString();return v.substring(l.length)}catch{return"".concat(f).concat(b)}}function uf(b,f){return b.reduce(function(l,v){return l[f(v)]=v,l},{})}function qe(b){return new Promise(function(f,l){var v=new FileReader;v.onloadend=function(){return f(v.result.replace(/application\/octet\-stream;/,"image/png;"))},v.readAsDataURL(b)})}function Lr(b){return b&&typeof b=="object"&&!Array.isArray(b)}function Be(b){for(var f,l=[],v=1;v<arguments.length;v++)l[v-1]=arguments[v];if(!l.length)return b;var p=l.shift();if(Lr(b)&&Lr(p))for(var d in p)if(Lr(p[d])){var y=(f=b[d])!==null&&f!==void 0?f:b[d]={};Be(y,p[d])}else b[d]=p[d];return Be.apply(void 0,wt([b],l,!1))}var Oo=function(){function b(f,l){Object.defineProperty(this,"_zip",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"xmlParser",{enumerable:!0,configurable:!0,writable:!0,value:new hn})}return Object.defineProperty(b.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(f){return this._zip.files[Lu(f)]}}),Object.defineProperty(b.prototype,"update",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){this._zip.file(f,l)}}),Object.defineProperty(b,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){return Qt.exports.loadAsync(f).then(function(v){return new b(v,l)})}}),Object.defineProperty(b.prototype,"save",{enumerable:!1,configurable:!0,writable:!0,value:function(f){return f===void 0&&(f="blob"),this._zip.generateAsync({type:f})}}),Object.defineProperty(b.prototype,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v,p;return l===void 0&&(l="string"),(p=(v=this.get(f))===null||v===void 0?void 0:v.async(l))!==null&&p!==void 0?p:Promise.resolve(null)}}),Object.defineProperty(b.prototype,"loadRelationships",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this;f===void 0&&(f=null);var v="_rels/.rels";if(f!=null){var p=ot(f),d=p[0],y=p[1];v="".concat(d,"_rels/").concat(y,".rels")}return this.load(v).then(function(E){return E?Lt(l.parseXmlDocument(E).firstElementChild,l.xmlParser):null})}}),Object.defineProperty(b.prototype,"parseXmlDocument",{enumerable:!1,configurable:!0,writable:!0,value:function(f){return pn(f,this.options.trimXmlDeclaration)}}),b}();function Lu(b){return b.startsWith("/")?b.substr(1):b}var sf=function(b){Je(f,b);function f(l,v,p){var d=b.call(this,l,v)||this;return Object.defineProperty(d,"_documentParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),d._documentParser=p,d}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){this.body=this._documentParser.parseDocumentFile(l)}}),f}(Ct);function Ti(b,f){return{type:f.attr(b,"val"),color:f.attr(b,"color"),size:f.lengthAttr(b,"sz",Qe.Border),offset:f.lengthAttr(b,"space",Qe.Point),frame:f.boolAttr(b,"frame"),shadow:f.boolAttr(b,"shadow")}}function Et(b,f){for(var l={},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"left":l.left=Ti(d,f);break;case"top":l.top=Ti(d,f);break;case"right":l.right=Ti(d,f);break;case"bottom":l.bottom=Ti(d,f);break}}return l}var Jt;(function(b){b.Continuous="continuous",b.NextPage="nextPage",b.NextColumn="nextColumn",b.EvenPage="evenPage",b.OddPage="oddPage"})(Jt||(Jt={}));function Ha(b,f){var l,v;f===void 0&&(f=de);for(var p={},d=0,y=f.elements(b);d<y.length;d++){var E=y[d];switch(E.localName){case"pgSz":p.pageSize={width:f.lengthAttr(E,"w"),height:f.lengthAttr(E,"h"),orientation:f.attr(E,"orient")};break;case"type":p.type=f.attr(E,"val");break;case"pgMar":p.pageMargins={left:f.lengthAttr(E,"left"),right:f.lengthAttr(E,"right"),top:f.lengthAttr(E,"top"),bottom:f.lengthAttr(E,"bottom"),header:f.lengthAttr(E,"header"),footer:f.lengthAttr(E,"footer"),gutter:f.lengthAttr(E,"gutter")};break;case"cols":p.columns=To(E,f);break;case"headerReference":((l=p.headerRefs)!==null&&l!==void 0?l:p.headerRefs=[]).push(zu(E,f));break;case"footerReference":((v=p.footerRefs)!==null&&v!==void 0?v:p.footerRefs=[]).push(zu(E,f));break;case"titlePg":p.titlePage=f.boolAttr(E,"val",!0);break;case"pgBorders":p.pageBorders=Et(E,f);break;case"pgNumType":p.pageNumber=Bo(E,f);break}}return p}function To(b,f){return{numberOfColumns:f.intAttr(b,"num"),space:f.lengthAttr(b,"space"),separator:f.boolAttr(b,"sep"),equalWidth:f.boolAttr(b,"equalWidth",!0),columns:f.elements(b,"col").map(function(l){return{width:f.lengthAttr(l,"w"),space:f.lengthAttr(l,"space")}})}}function Bo(b,f){return{chapSep:f.attr(b,"chapSep"),chapStyle:f.attr(b,"chapStyle"),format:f.attr(b,"fmt"),start:f.intAttr(b,"start")}}function zu(b,f){return{id:f.attr(b,"id"),type:f.attr(b,"type")}}function R(b,f){return{before:f.lengthAttr(b,"before"),after:f.lengthAttr(b,"after"),line:f.intAttr(b,"line"),lineRule:f.attr(b,"lineRule")}}function Wa(b,f){for(var l={},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];lf(d,l,f)}return l}function lf(b,f,l){return!!vn(b,f,l)}function Mu(b,f){for(var l={},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];Ro(d,l,f)}return l}function Ro(b,f,l){if(b.namespaceURI!=Wr.wordml)return!1;if(vn(b,f,l))return!0;switch(b.localName){case"tabs":f.tabs=ff(b,l);break;case"sectPr":f.sectionProps=Ha(b,l);break;case"numPr":f.numbering=er(b,l);break;case"spacing":return f.lineSpacing=R(b,l),!1;case"textAlignment":return f.textAlignment=l.attr(b,"val"),!1;case"keepNext":f.keepLines=l.boolAttr(b,"val",!0);break;case"pageBreakBefore":f.pageBreakBefore=l.boolAttr(b,"val",!0);break;case"outlineLvl":f.outlineLevel=l.intAttr(b,"val");break;case"pStyle":f.styleName=l.attr(b,"val");break;case"rPr":f.runProps=Wa(b,l);break;default:return!1}return!0}function ff(b,f){return f.elements(b,"tab").map(function(l){return{position:f.lengthAttr(l,"pos"),leader:f.attr(l,"leader"),style:f.attr(l,"val")}})}function er(b,f){for(var l={},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"numId":l.id=f.attr(d,"val");break;case"ilvl":l.level=f.intAttr(d,"val");break}}return l}function Br(b,f){for(var l={numberings:[],abstractNumberings:[],bulletPictures:[]},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"num":l.numberings.push(It(d,f));break;case"abstractNum":l.abstractNumberings.push(He(d,f));break;case"numPicBullet":l.bulletPictures.push(mt(d,f));break}}return l}function It(b,f){for(var l={id:f.attr(b,"numId"),overrides:[]},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"abstractNumId":l.abstractId=f.attr(d,"val");break;case"lvlOverride":l.overrides.push(cf(d,f));break}}return l}function He(b,f){for(var l={id:f.attr(b,"abstractNumId"),levels:[]},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"name":l.name=f.attr(d,"val");break;case"multiLevelType":l.multiLevelType=f.attr(d,"val");break;case"numStyleLink":l.numberingStyleLink=f.attr(d,"val");break;case"styleLink":l.styleLink=f.attr(d,"val");break;case"lvl":l.levels.push(Do(d,f));break}}return l}function Do(b,f){for(var l={level:f.intAttr(b,"ilvl")},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"start":l.start=f.attr(d,"val");break;case"lvlRestart":l.restart=f.intAttr(d,"val");break;case"numFmt":l.format=f.attr(d,"val");break;case"lvlText":l.text=f.attr(d,"val");break;case"lvlJc":l.justification=f.attr(d,"val");break;case"lvlPicBulletId":l.bulletPictureId=f.attr(d,"val");break;case"pStyle":l.paragraphStyle=f.attr(d,"val");break;case"pPr":l.paragraphProps=Mu(d,f);break;case"rPr":l.runProps=Wa(d,f);break}}return l}function cf(b,f){for(var l={level:f.intAttr(b,"ilvl")},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"startOverride":l.start=f.intAttr(d,"val");break;case"lvl":l.numberingLevel=Do(d,f);break}}return l}function mt(b,f){var l=f.element(b,"pict"),v=l&&f.element(l,"shape"),p=v&&f.element(v,"imagedata");return p?{id:f.attr(b,"numPicBulletId"),referenceId:f.attr(p,"id"),style:f.attr(v,"style")}:null}var $u=function(b){Je(f,b);function f(l,v,p){var d=b.call(this,l,v)||this;return Object.defineProperty(d,"_documentParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"numberings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"abstractNumberings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"bulletPictures",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"domNumberings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),d._documentParser=p,d}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){Object.assign(this,Br(l,this._package.xmlParser)),this.domNumberings=this._documentParser.parseNumberingFile(l)}}),f}(Ct),Qr=function(b){Je(f,b);function f(l,v,p){var d=b.call(this,l,v)||this;return Object.defineProperty(d,"styles",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"_documentParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),d._documentParser=p,d}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){this.styles=this._documentParser.parseStylesFile(l)}}),f}(Ct),nt;(function(b){b.Document="document",b.Paragraph="paragraph",b.Run="run",b.Break="break",b.NoBreakHyphen="noBreakHyphen",b.Table="table",b.Row="row",b.Cell="cell",b.Hyperlink="hyperlink",b.Drawing="drawing",b.Image="image",b.Text="text",b.Tab="tab",b.Symbol="symbol",b.BookmarkStart="bookmarkStart",b.BookmarkEnd="bookmarkEnd",b.Footer="footer",b.Header="header",b.FootnoteReference="footnoteReference",b.EndnoteReference="endnoteReference",b.Footnote="footnote",b.Endnote="endnote",b.SimpleField="simpleField",b.ComplexField="complexField",b.Instruction="instruction"})(nt||(nt={}));var hr=function(){function b(){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:nt.Header}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"cssStyle",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"className",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return b}(),Bi=function(){function b(){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:nt.Footer}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"cssStyle",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"className",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return b}(),ju=function(b){Je(f,b);function f(l,v,p){var d=b.call(this,l,v)||this;return Object.defineProperty(d,"rootElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"_documentParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),d._documentParser=p,d}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){this.rootElement=this.createRootElement(),this.rootElement.children=this._documentParser.parseBodyElements(l)}}),f}(Ct),Va=function(b){Je(f,b);function f(){return b!==null&&b.apply(this,arguments)||this}return Object.defineProperty(f.prototype,"createRootElement",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new hr}}),f}(ju),qa=function(b){Je(f,b);function f(){return b!==null&&b.apply(this,arguments)||this}return Object.defineProperty(f.prototype,"createRootElement",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new Bi}}),f}(ju);function Ri(b,f){for(var l={},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"Template":l.template=d.textContent;break;case"Pages":l.pages=ca(d.textContent);break;case"Words":l.words=ca(d.textContent);break;case"Characters":l.characters=ca(d.textContent);break;case"Application":l.application=d.textContent;break;case"Lines":l.lines=ca(d.textContent);break;case"Paragraphs":l.paragraphs=ca(d.textContent);break;case"Company":l.company=d.textContent;break;case"AppVersion":l.appVersion=d.textContent;break}}return l}function ca(b){if(!(typeof b>"u"))return parseInt(b)}var df=function(b){Je(f,b);function f(){var l=b!==null&&b.apply(this,arguments)||this;return Object.defineProperty(l,"props",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){this.props=Ri(l,this._package.xmlParser)}}),f}(Ct);function vf(b,f){for(var l={},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"title":l.title=d.textContent;break;case"description":l.description=d.textContent;break;case"subject":l.subject=d.textContent;break;case"creator":l.creator=d.textContent;break;case"keywords":l.keywords=d.textContent;break;case"language":l.language=d.textContent;break;case"lastModifiedBy":l.lastModifiedBy=d.textContent;break;case"revision":d.textContent&&(l.revision=parseInt(d.textContent));break}}return l}var Io=function(b){Je(f,b);function f(){var l=b!==null&&b.apply(this,arguments)||this;return Object.defineProperty(l,"props",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){this.props=vf(l,this._package.xmlParser)}}),f}(Ct),zr=function(){function b(){Object.defineProperty(this,"colorScheme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontScheme",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return b}();function Rn(b,f){for(var l=new zr,v=f.element(b,"themeElements"),p=0,d=f.elements(v);p<d.length;p++){var y=d[p];switch(y.localName){case"clrScheme":l.colorScheme=Dn(y,f);break;case"fontScheme":l.fontScheme=pf(y,f);break}}return l}function Dn(b,f){for(var l={name:f.attr(b,"name"),colors:{}},v=0,p=f.elements(b);v<p.length;v++){var d=p[v],y=f.element(d,"srgbClr"),E=f.element(d,"sysClr");y?l.colors[d.localName]=f.attr(y,"val"):E&&(l.colors[d.localName]=f.attr(E,"lastClr"))}return l}function pf(b,f){for(var l={name:f.attr(b,"name")},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"majorFont":l.majorFont=In(d,f);break;case"minorFont":l.minorFont=In(d,f);break}}return l}function In(b,f){return{latinTypeface:f.elementAttr(b,"latin","typeface"),eaTypeface:f.elementAttr(b,"ea","typeface"),csTypeface:f.elementAttr(b,"cs","typeface")}}var hf=function(b){Je(f,b);function f(l,v){var p=b.call(this,l,v)||this;return Object.defineProperty(p,"theme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),p}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){this.theme=Rn(l,this._package.xmlParser)}}),f}(Ct),Ut=function(){function b(){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"noteType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"cssStyle",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"className",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return b}(),Uu=function(b){Je(f,b);function f(){var l=b!==null&&b.apply(this,arguments)||this;return Object.defineProperty(l,"type",{enumerable:!0,configurable:!0,writable:!0,value:nt.Footnote}),l}return f}(Ut),mf=function(b){Je(f,b);function f(){var l=b!==null&&b.apply(this,arguments)||this;return Object.defineProperty(l,"type",{enumerable:!0,configurable:!0,writable:!0,value:nt.Endnote}),l}return f}(Ut),Di=function(b){Je(f,b);function f(l,v,p){var d=b.call(this,l,v)||this;return Object.defineProperty(d,"_documentParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d,"notes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),d._documentParser=p,d}return f}(Ct),Hu=function(b){Je(f,b);function f(l,v,p){return b.call(this,l,v,p)||this}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){this.notes=this._documentParser.parseNotes(l,"footnote",Uu)}}),f}(Di),Wu=function(b){Je(f,b);function f(l,v,p){return b.call(this,l,v,p)||this}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){this.notes=this._documentParser.parseNotes(l,"endnote",mf)}}),f}(Di);function Ka(b,f){for(var l={},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"defaultTabStop":l.defaultTabStop=f.lengthAttr(d,"val");break;case"footnotePr":l.footnoteProps=Vu(d,f);break;case"endnotePr":l.endnoteProps=Vu(d,f);break;case"autoHyphenation":l.autoHyphenation=f.boolAttr(d,"val");break}}return l}function Vu(b,f){for(var l={defaultNoteIds:[]},v=0,p=f.elements(b);v<p.length;v++){var d=p[v];switch(d.localName){case"numFmt":l.nummeringFormat=f.attr(d,"val");break;case"footnote":case"endnote":l.defaultNoteIds.push(f.attr(d,"id"));break}}return l}var gf=function(b){Je(f,b);function f(l,v){var p=b.call(this,l,v)||this;return Object.defineProperty(p,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),p}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){this.settings=Ka(l,this._package.xmlParser)}}),f}(Ct);function Mr(b,f){return f.elements(b,"property").map(function(l){var v=l.firstChild;return{formatId:f.attr(l,"fmtid"),name:f.attr(l,"name"),type:v.nodeName,value:v.textContent}})}var nr=function(b){Je(f,b);function f(){var l=b!==null&&b.apply(this,arguments)||this;return Object.defineProperty(l,"props",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l}return Object.defineProperty(f.prototype,"parseXml",{enumerable:!1,configurable:!0,writable:!0,value:function(l){this.props=Mr(l,this._package.xmlParser)}}),f}(Ct),Ga=[{type:dt.OfficeDocument,target:"word/document.xml"},{type:dt.ExtendedProperties,target:"docProps/app.xml"},{type:dt.CoreProperties,target:"docProps/core.xml"},{type:dt.CustomProperties,target:"docProps/custom.xml"}],bf=function(){function b(){Object.defineProperty(this,"_package",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rels",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parts",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"partsMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"documentPart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontTablePart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberingPart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stylesPart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"footnotesPart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endnotesPart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"themePart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"corePropsPart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extendedPropsPart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settingsPart",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(b,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){var p=new b;return p._options=v,p._parser=l,Oo.load(f,v).then(function(d){return p._package=d,p._package.loadRelationships()}).then(function(d){p.rels=d;var y=Ga.map(function(E){var k,A=(k=d.find(function(D){return D.type===E.type}))!==null&&k!==void 0?k:E;return p.loadRelationshipPart(A.target,A.type)});return Promise.all(y)}).then(function(){return p})}}),Object.defineProperty(b.prototype,"save",{enumerable:!1,configurable:!0,writable:!0,value:function(f){return f===void 0&&(f="blob"),this._package.save(f)}}),Object.defineProperty(b.prototype,"loadRelationshipPart",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=this;if(this.partsMap[f])return Promise.resolve(this.partsMap[f]);if(!this._package.get(f))return Promise.resolve(null);var p=null;switch(l){case dt.OfficeDocument:this.documentPart=p=new sf(this._package,f,this._parser);break;case dt.FontTable:this.fontTablePart=p=new Bn(this._package,f);break;case dt.Numbering:this.numberingPart=p=new $u(this._package,f,this._parser);break;case dt.Styles:this.stylesPart=p=new Qr(this._package,f,this._parser);break;case dt.Theme:this.themePart=p=new hf(this._package,f);break;case dt.Footnotes:this.footnotesPart=p=new Hu(this._package,f,this._parser);break;case dt.Endnotes:this.endnotesPart=p=new Wu(this._package,f,this._parser);break;case dt.Footer:p=new qa(this._package,f,this._parser);break;case dt.Header:p=new Va(this._package,f,this._parser);break;case dt.CoreProperties:this.corePropsPart=p=new Io(this._package,f);break;case dt.ExtendedProperties:this.extendedPropsPart=p=new df(this._package,f);break;case dt.CustomProperties:p=new nr(this._package,f);break;case dt.Settings:this.settingsPart=p=new gf(this._package,f);break}return p==null?Promise.resolve(null):(this.partsMap[f]=p,this.parts.push(p),p.load().then(function(){if(p.rels==null||p.rels.length==0)return p;var d=ot(p.path)[0],y=p.rels.map(function(E){return v.loadRelationshipPart(mn(E.target,d),E.type)});return Promise.all(y).then(function(){return p})}))}}),Object.defineProperty(b.prototype,"loadDocumentImage",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=this;return this.loadResource(l!=null?l:this.documentPart,f,"blob").then(function(p){return v.blobToURL(p)})}}),Object.defineProperty(b.prototype,"loadNumberingImage",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this;return this.loadResource(this.numberingPart,f,"blob").then(function(v){return l.blobToURL(v)})}}),Object.defineProperty(b.prototype,"loadFont",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=this;return this.loadResource(this.fontTablePart,f,"uint8array").then(function(p){return p&&v.blobToURL(new Blob([Fo(p,l)]))})}}),Object.defineProperty(b.prototype,"blobToURL",{enumerable:!1,configurable:!0,writable:!0,value:function(f){return f?this._options.useBase64URL?qe(f):URL.createObjectURL(f):null}}),Object.defineProperty(b.prototype,"findPartByRelId",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v;l===void 0&&(l=null);var p=((v=l.rels)!==null&&v!==void 0?v:this.rels).find(function(y){return y.id==f}),d=l?ot(l.path)[0]:"";return p?this.partsMap[mn(p.target,d)]:null}}),Object.defineProperty(b.prototype,"getPathById",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=f.rels.find(function(d){return d.id==l}),p=ot(f.path)[0];return v?mn(v.target,p):null}}),Object.defineProperty(b.prototype,"loadResource",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){var p=this.getPathById(f,l);return p?this._package.load(p,v):Promise.resolve(null)}}),b}();function Fo(b,f){for(var l=16,v=f.replace(/{|}|-/g,""),p=new Array(l),d=0;d<l;d++)p[l-d-1]=parseInt(v.substr(d*2,2),16);for(var d=0;d<32;d++)b[d]=b[d]^p[d%l];return b}function yf(b,f){return{type:nt.BookmarkStart,id:f.attr(b,"id"),name:f.attr(b,"name"),colFirst:f.intAttr(b,"colFirst"),colLast:f.intAttr(b,"colLast")}}function Za(b,f){return{type:nt.BookmarkEnd,id:f.attr(b,"id")}}var da={shd:"inherit",color:"black",borderColor:"black",highlight:"transparent"},va=function(){function b(f){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.options=et({ignoreWidth:!1,debug:!1},f)}return Object.defineProperty(b.prototype,"parseNotes",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){for(var p=[],d=0,y=de.elements(f,l);d<y.length;d++){var E=y[d],k=new v;k.id=de.attr(E,"id"),k.noteType=de.attr(E,"type"),k.children=this.parseBodyElements(E),p.push(k)}return p}}),Object.defineProperty(b.prototype,"parseDocumentFile",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=de.element(f,"body"),v=de.element(f,"background"),p=de.element(l,"sectPr");return{type:nt.Document,children:this.parseBodyElements(l),props:p?Ha(p,de):null,cssStyle:v?this.parseBackground(v):{}}}}),Object.defineProperty(b.prototype,"parseBackground",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l={},v=Ft.colorAttr(f,"color");return v&&(l["background-color"]=v),l}}),Object.defineProperty(b.prototype,"parseBodyElements",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this,v=[];return Ft.foreach(f,function(p){switch(p.localName){case"p":v.push(l.parseParagraph(p));break;case"tbl":v.push(l.parseTable(p));break;case"sdt":l.parseSdt(p).forEach(function(d){return v.push(d)});break}}),v}}),Object.defineProperty(b.prototype,"parseStylesFile",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this,v=[];return Ft.foreach(f,function(p){switch(p.localName){case"style":v.push(l.parseStyle(p));break;case"docDefaults":v.push(l.parseDefaultStyles(p));break}}),v}}),Object.defineProperty(b.prototype,"parseDefaultStyles",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this,v={id:null,name:null,target:null,basedOn:null,styles:[]};return Ft.foreach(f,function(p){switch(p.localName){case"rPrDefault":var d=de.element(p,"rPr");d&&v.styles.push({target:"span",values:l.parseDefaultProperties(d,{})});break;case"pPrDefault":var y=de.element(p,"pPr");y&&v.styles.push({target:"p",values:l.parseDefaultProperties(y,{})});break}}),v}}),Object.defineProperty(b.prototype,"parseStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this,v={id:de.attr(f,"styleId"),isDefault:de.boolAttr(f,"default"),name:null,target:null,basedOn:null,styles:[],linked:null};switch(de.attr(f,"type")){case"paragraph":v.target="p";break;case"table":v.target="table";break;case"character":v.target="span";break}return Ft.foreach(f,function(p){switch(p.localName){case"basedOn":v.basedOn=de.attr(p,"val");break;case"name":v.name=de.attr(p,"val");break;case"link":v.linked=de.attr(p,"val");break;case"next":v.next=de.attr(p,"val");break;case"aliases":v.aliases=de.attr(p,"val").split(",");break;case"pPr":v.styles.push({target:"p",values:l.parseDefaultProperties(p,{})}),v.paragraphProps=Mu(p,de);break;case"rPr":v.styles.push({target:"span",values:l.parseDefaultProperties(p,{})}),v.runProps=Wa(p,de);break;case"tblPr":case"tcPr":v.styles.push({target:"td",values:l.parseDefaultProperties(p,{})});break;case"tblStylePr":for(var d=0,y=l.parseTableStyle(p);d<y.length;d++){var E=y[d];v.styles.push(E)}break;case"rsid":case"qFormat":case"hidden":case"semiHidden":case"unhideWhenUsed":case"autoRedefine":case"uiPriority":break;default:l.options.debug&&console.warn("DOCX: Unknown style element: ".concat(p.localName))}}),v}}),Object.defineProperty(b.prototype,"parseTableStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this,v=[],p=de.attr(f,"type"),d="",y="";switch(p){case"firstRow":y=".first-row",d="tr.first-row td";break;case"lastRow":y=".last-row",d="tr.last-row td";break;case"firstCol":y=".first-col",d="td.first-col";break;case"lastCol":y=".last-col",d="td.last-col";break;case"band1Vert":y=":not(.no-vband)",d="td.odd-col";break;case"band2Vert":y=":not(.no-vband)",d="td.even-col";break;case"band1Horz":y=":not(.no-hband)",d="tr.odd-row";break;case"band2Horz":y=":not(.no-hband)",d="tr.even-row";break;default:return[]}return Ft.foreach(f,function(E){switch(E.localName){case"pPr":v.push({target:"".concat(d," p"),mod:y,values:l.parseDefaultProperties(E,{})});break;case"rPr":v.push({target:"".concat(d," span"),mod:y,values:l.parseDefaultProperties(E,{})});break;case"tblPr":case"tcPr":v.push({target:d,mod:y,values:l.parseDefaultProperties(E,{})});break}}),v}}),Object.defineProperty(b.prototype,"parseNumberingFile",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this,v=[],p={},d=[];return Ft.foreach(f,function(y){switch(y.localName){case"abstractNum":l.parseAbstractNumbering(y,d).forEach(function(A){return v.push(A)});break;case"numPicBullet":d.push(l.parseNumberingPicBullet(y));break;case"num":var E=de.attr(y,"numId"),k=de.elementAttr(y,"abstractNumId","val");p[k]=E;break}}),v.forEach(function(y){return y.id=p[y.id]}),v}}),Object.defineProperty(b.prototype,"parseNumberingPicBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=de.element(f,"pict"),v=l&&de.element(l,"shape"),p=v&&de.element(v,"imagedata");return p?{id:de.intAttr(f,"numPicBulletId"),src:de.attr(p,"id"),style:de.attr(v,"style")}:null}}),Object.defineProperty(b.prototype,"parseAbstractNumbering",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=this,p=[],d=de.attr(f,"abstractNumId");return Ft.foreach(f,function(y){switch(y.localName){case"lvl":p.push(v.parseNumberingLevel(d,y,l));break}}),p}}),Object.defineProperty(b.prototype,"parseNumberingLevel",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){var p=this,d={id:f,level:de.intAttr(l,"ilvl"),pStyleName:void 0,pStyle:{},rStyle:{},suff:"tab"};return Ft.foreach(l,function(y){switch(y.localName){case"pPr":p.parseDefaultProperties(y,d.pStyle);break;case"rPr":p.parseDefaultProperties(y,d.rStyle);break;case"lvlPicBulletId":var E=de.intAttr(y,"val");d.bullet=v.find(function(k){return k.id==E});break;case"lvlText":d.levelText=de.attr(y,"val");break;case"pStyle":d.pStyleName=de.attr(y,"val");break;case"numFmt":d.format=de.attr(y,"val");break;case"suff":d.suff=de.attr(y,"val");break}}),d}}),Object.defineProperty(b.prototype,"parseSdt",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=de.element(f,"sdtContent");return l?this.parseBodyElements(l):[]}}),Object.defineProperty(b.prototype,"parseParagraph",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this,v={type:nt.Paragraph,children:[]};return Ft.foreach(f,function(p){switch(p.localName){case"r":v.children.push(l.parseRun(p,v));break;case"hyperlink":v.children.push(l.parseHyperlink(p,v));break;case"bookmarkStart":v.children.push(yf(p,de));break;case"bookmarkEnd":v.children.push(Za(p,de));break;case"pPr":l.parseParagraphProperties(p,v);break}}),v}}),Object.defineProperty(b.prototype,"parseParagraphProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=this;this.parseDefaultProperties(f,l.cssStyle={},null,function(p){if(Ro(p,l,de))return!0;switch(p.localName){case"pStyle":l.styleName=de.attr(p,"val");break;case"cnfStyle":l.className=Mt.classNameOfCnfStyle(p);break;case"framePr":v.parseFrame(p,l);break;case"rPr":break;default:return!1}return!0})}}),Object.defineProperty(b.prototype,"parseFrame",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=de.attr(f,"dropCap");v=="drop"&&(l.cssStyle.float="left")}}),Object.defineProperty(b.prototype,"parseHyperlink",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=this,p={type:nt.Hyperlink,parent:l,children:[]},d=de.attr(f,"anchor");return d&&(p.href="#"+d),Ft.foreach(f,function(y){switch(y.localName){case"r":p.children.push(v.parseRun(y,p));break}}),p}}),Object.defineProperty(b.prototype,"parseRun",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=this,p={type:nt.Run,parent:l,children:[]};return Ft.foreach(f,function(d){switch(d.localName){case"t":p.children.push({type:nt.Text,text:d.textContent});break;case"fldSimple":p.children.push({type:nt.SimpleField,instruction:de.attr(d,"instr"),lock:de.boolAttr(d,"lock",!1),dirty:de.boolAttr(d,"dirty",!1)});break;case"instrText":p.fieldRun=!0,p.children.push({type:nt.Instruction,text:d.textContent});break;case"fldChar":p.fieldRun=!0,p.children.push({type:nt.ComplexField,charType:de.attr(d,"fldCharType"),lock:de.boolAttr(d,"lock",!1),dirty:de.boolAttr(d,"dirty",!1)});break;case"noBreakHyphen":p.children.push({type:nt.NoBreakHyphen});break;case"br":p.children.push({type:nt.Break,break:de.attr(d,"type")||"textWrapping"});break;case"lastRenderedPageBreak":p.children.push({type:nt.Break,break:"lastRenderedPageBreak"});break;case"sym":p.children.push({type:nt.Symbol,font:de.attr(d,"font"),char:de.attr(d,"char")});break;case"tab":p.children.push({type:nt.Tab});break;case"footnoteReference":p.children.push({type:nt.FootnoteReference,id:de.attr(d,"id")});break;case"endnoteReference":p.children.push({type:nt.EndnoteReference,id:de.attr(d,"id")});break;case"drawing":var y=v.parseDrawing(d);y&&(p.children=[y]);break;case"rPr":v.parseRunProperties(d,p);break}}),p}}),Object.defineProperty(b.prototype,"parseRunProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){this.parseDefaultProperties(f,l.cssStyle={},null,function(v){switch(v.localName){case"rStyle":l.styleName=de.attr(v,"val");break;case"vertAlign":l.verticalAlign=Mt.valueOfVertAlign(v,!0);break;default:return!1}return!0})}}),Object.defineProperty(b.prototype,"parseDrawing",{enumerable:!1,configurable:!0,writable:!0,value:function(f){for(var l=0,v=de.elements(f);l<v.length;l++){var p=v[l];switch(p.localName){case"inline":case"anchor":return this.parseDrawingWrapper(p)}}}}),Object.defineProperty(b.prototype,"parseDrawingWrapper",{enumerable:!1,configurable:!0,writable:!0,value:function(f){for(var l,v={type:nt.Drawing,children:[],cssStyle:{}},p=f.localName=="anchor",d=null,y=de.boolAttr(f,"simplePos"),E={relative:"page",align:"left",offset:"0"},k={relative:"page",align:"top",offset:"0"},A=0,D=de.elements(f);A<D.length;A++){var F=D[A];switch(F.localName){case"simplePos":y&&(E.offset=de.lengthAttr(F,"x",Qe.Emu),k.offset=de.lengthAttr(F,"y",Qe.Emu));break;case"extent":v.cssStyle.width=de.lengthAttr(F,"cx",Qe.Emu),v.cssStyle.height=de.lengthAttr(F,"cy",Qe.Emu);break;case"positionH":case"positionV":if(!y){var U=F.localName=="positionH"?E:k,P=de.element(F,"align"),I=de.element(F,"posOffset");U.relative=(l=de.attr(F,"relativeFrom"))!==null&&l!==void 0?l:U.relative,P&&(U.align=P.textContent),I&&(U.offset=Ft.sizeValue(I,Qe.Emu))}break;case"wrapTopAndBottom":d="wrapTopAndBottom";break;case"wrapNone":d="wrapNone";break;case"graphic":var H=this.parseGraphic(F);H&&v.children.push(H);break}}return d=="wrapTopAndBottom"?(v.cssStyle.display="block",E.align&&(v.cssStyle["text-align"]=E.align,v.cssStyle.width="100%")):d=="wrapNone"?(v.cssStyle.display="block",v.cssStyle.position="relative",v.cssStyle.width="0px",v.cssStyle.height="0px",E.offset&&(v.cssStyle.left=E.offset),k.offset&&(v.cssStyle.top=k.offset)):p&&(E.align=="left"||E.align=="right")&&(v.cssStyle.float=E.align),v}}),Object.defineProperty(b.prototype,"parseGraphic",{enumerable:!1,configurable:!0,writable:!0,value:function(f){for(var l=de.element(f,"graphicData"),v=0,p=de.elements(l);v<p.length;v++){var d=p[v];switch(d.localName){case"pic":return this.parsePicture(d)}}return null}}),Object.defineProperty(b.prototype,"parsePicture",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l={type:nt.Image,src:"",cssStyle:{}},v=de.element(f,"blipFill"),p=de.element(v,"blip");l.src=de.attr(p,"embed");var d=de.element(f,"spPr"),y=de.element(d,"xfrm");l.cssStyle.position="relative";for(var E=0,k=de.elements(y);E<k.length;E++){var A=k[E];switch(A.localName){case"ext":l.cssStyle.width=de.lengthAttr(A,"cx",Qe.Emu),l.cssStyle.height=de.lengthAttr(A,"cy",Qe.Emu);break;case"off":l.cssStyle.left=de.lengthAttr(A,"x",Qe.Emu),l.cssStyle.top=de.lengthAttr(A,"y",Qe.Emu);break}}return l}}),Object.defineProperty(b.prototype,"parseTable",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this,v={type:nt.Table,children:[]};return Ft.foreach(f,function(p){switch(p.localName){case"tr":v.children.push(l.parseTableRow(p));break;case"tblGrid":v.columns=l.parseTableColumns(p);break;case"tblPr":l.parseTableProperties(p,v);break}}),v}}),Object.defineProperty(b.prototype,"parseTableColumns",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=[];return Ft.foreach(f,function(v){switch(v.localName){case"gridCol":l.push({width:de.lengthAttr(v,"w")});break}}),l}}),Object.defineProperty(b.prototype,"parseTableProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=this;switch(l.cssStyle={},l.cellStyle={},this.parseDefaultProperties(f,l.cssStyle,l.cellStyle,function(p){switch(p.localName){case"tblStyle":l.styleName=de.attr(p,"val");break;case"tblLook":l.className=Mt.classNameOftblLook(p);break;case"tblpPr":v.parseTablePosition(p,l);break;case"tblStyleColBandSize":l.colBandSize=de.intAttr(p,"val");break;case"tblStyleRowBandSize":l.rowBandSize=de.intAttr(p,"val");break;default:return!1}return!0}),l.cssStyle["text-align"]){case"center":delete l.cssStyle["text-align"],l.cssStyle["margin-left"]="auto",l.cssStyle["margin-right"]="auto";break;case"right":delete l.cssStyle["text-align"],l.cssStyle["margin-left"]="auto";break}}}),Object.defineProperty(b.prototype,"parseTablePosition",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=de.lengthAttr(f,"topFromText"),p=de.lengthAttr(f,"bottomFromText"),d=de.lengthAttr(f,"rightFromText"),y=de.lengthAttr(f,"leftFromText");l.cssStyle.float="left",l.cssStyle["margin-bottom"]=Mt.addSize(l.cssStyle["margin-bottom"],p),l.cssStyle["margin-left"]=Mt.addSize(l.cssStyle["margin-left"],y),l.cssStyle["margin-right"]=Mt.addSize(l.cssStyle["margin-right"],d),l.cssStyle["margin-top"]=Mt.addSize(l.cssStyle["margin-top"],v)}}),Object.defineProperty(b.prototype,"parseTableRow",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this,v={type:nt.Row,children:[]};return Ft.foreach(f,function(p){switch(p.localName){case"tc":v.children.push(l.parseTableCell(p));break;case"trPr":l.parseTableRowProperties(p,v);break}}),v}}),Object.defineProperty(b.prototype,"parseTableRowProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){l.cssStyle=this.parseDefaultProperties(f,{},null,function(v){switch(v.localName){case"cnfStyle":l.className=Mt.classNameOfCnfStyle(v);break;case"tblHeader":l.isHeader=de.boolAttr(v,"val");break;default:return!1}return!0})}}),Object.defineProperty(b.prototype,"parseTableCell",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this,v={type:nt.Cell,children:[]};return Ft.foreach(f,function(p){switch(p.localName){case"tbl":v.children.push(l.parseTable(p));break;case"p":v.children.push(l.parseParagraph(p));break;case"tcPr":l.parseTableCellProperties(p,v);break}}),v}}),Object.defineProperty(b.prototype,"parseTableCellProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){l.cssStyle=this.parseDefaultProperties(f,{},null,function(v){var p;switch(v.localName){case"gridSpan":l.span=de.intAttr(v,"val",null);break;case"vMerge":l.verticalMerge=(p=de.attr(v,"val"))!==null&&p!==void 0?p:"continue";break;case"cnfStyle":l.className=Mt.classNameOfCnfStyle(v);break;default:return!1}return!0})}}),Object.defineProperty(b.prototype,"parseDefaultProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v,p){var d=this;return l===void 0&&(l=null),v===void 0&&(v=null),p===void 0&&(p=null),l=l||{},Ft.foreach(f,function(y){if(!(p!=null&&p(y)))switch(y.localName){case"jc":l["text-align"]=Mt.valueOfJc(y);break;case"textAlignment":l["vertical-align"]=Mt.valueOfTextAlignment(y);break;case"color":l.color=Ft.colorAttr(y,"val",null,da.color);break;case"sz":l["font-size"]=l["min-height"]=de.lengthAttr(y,"val",Qe.FontSize);break;case"shd":l["background-color"]=Ft.colorAttr(y,"fill",null,da.shd);break;case"highlight":l["background-color"]=Ft.colorAttr(y,"val",null,da.highlight);break;case"vertAlign":break;case"position":l.verticalAlign=de.lengthAttr(y,"val",Qe.FontSize);break;case"tcW":if(d.options.ignoreWidth)break;case"tblW":l.width=Mt.valueOfSize(y,"w");break;case"trHeight":d.parseTrHeight(y,l);break;case"strike":l["text-decoration"]=de.boolAttr(y,"val",!0)?"line-through":"none";break;case"b":l["font-weight"]=de.boolAttr(y,"val",!0)?"bold":"normal";break;case"i":l["font-style"]=de.boolAttr(y,"val",!0)?"italic":"normal";break;case"caps":l["text-transform"]=de.boolAttr(y,"val",!0)?"uppercase":"none";break;case"smallCaps":l["text-transform"]=de.boolAttr(y,"val",!0)?"lowercase":"none";break;case"u":d.parseUnderline(y,l);break;case"ind":case"tblInd":d.parseIndentation(y,l);break;case"rFonts":d.parseFont(y,l);break;case"tblBorders":d.parseBorderProperties(y,v||l);break;case"tblCellSpacing":l["border-spacing"]=Mt.valueOfMargin(y),l["border-collapse"]="separate";break;case"pBdr":d.parseBorderProperties(y,l);break;case"bdr":l.border=Mt.valueOfBorder(y);break;case"tcBorders":d.parseBorderProperties(y,l);break;case"vanish":de.boolAttr(y,"val",!0)&&(l.display="none");break;case"kern":break;case"noWrap":break;case"tblCellMar":case"tcMar":d.parseMarginProperties(y,v||l);break;case"tblLayout":l["table-layout"]=Mt.valueOfTblLayout(y);break;case"vAlign":l["vertical-align"]=Mt.valueOfTextAlignment(y);break;case"spacing":f.localName=="pPr"&&d.parseSpacing(y,l);break;case"wordWrap":de.boolAttr(y,"val")&&(l["overflow-wrap"]="break-word");break;case"bCs":case"iCs":case"szCs":case"tabs":case"outlineLvl":case"contextualSpacing":case"tblStyleColBandSize":case"tblStyleRowBandSize":case"webHidden":case"pageBreakBefore":case"suppressLineNumbers":case"keepLines":case"keepNext":case"lang":case"widowControl":case"bidi":case"rtl":case"noProof":break;default:d.options.debug&&console.warn("DOCX: Unknown document element: ".concat(f.localName,".").concat(y.localName));break}}),l}}),Object.defineProperty(b.prototype,"parseUnderline",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=de.attr(f,"val");if(v!=null){switch(v){case"dash":case"dashDotDotHeavy":case"dashDotHeavy":case"dashedHeavy":case"dashLong":case"dashLongHeavy":case"dotDash":case"dotDotDash":l["text-decoration-style"]="dashed";break;case"dotted":case"dottedHeavy":l["text-decoration-style"]="dotted";break;case"double":l["text-decoration-style"]="double";break;case"single":case"thick":l["text-decoration"]="underline";break;case"wave":case"wavyDouble":case"wavyHeavy":l["text-decoration-style"]="wavy";break;case"words":l["text-decoration"]="underline";break;case"none":l["text-decoration"]="none";break}var p=Ft.colorAttr(f,"color");p&&(l["text-decoration-color"]=p)}}}),Object.defineProperty(b.prototype,"parseFont",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=de.attr(f,"ascii"),p=Mt.themeValue(f,"asciiTheme"),d=[v,p].filter(function(y){return y}).join(", ");d.length>0&&(l["font-family"]=d)}}),Object.defineProperty(b.prototype,"parseIndentation",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=de.lengthAttr(f,"firstLine"),p=de.lengthAttr(f,"hanging"),d=de.lengthAttr(f,"left"),y=de.lengthAttr(f,"start"),E=de.lengthAttr(f,"right"),k=de.lengthAttr(f,"end");v&&(l["text-indent"]=v),p&&(l["text-indent"]="-".concat(p)),(d||y)&&(l["margin-left"]=d||y),(E||k)&&(l["margin-right"]=E||k)}}),Object.defineProperty(b.prototype,"parseSpacing",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=de.lengthAttr(f,"before"),p=de.lengthAttr(f,"after"),d=de.intAttr(f,"line",null),y=de.attr(f,"lineRule");if(v&&(l["margin-top"]=v),p&&(l["margin-bottom"]=p),d!==null)switch(y){case"auto":l["line-height"]="".concat((d/240).toFixed(2));break;case"atLeast":l["line-height"]="calc(100% + ".concat(d/20,"pt)");break;default:l["line-height"]=l["min-height"]="".concat(d/20,"pt");break}}}),Object.defineProperty(b.prototype,"parseMarginProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){Ft.foreach(f,function(v){switch(v.localName){case"left":l["padding-left"]=Mt.valueOfMargin(v);break;case"right":l["padding-right"]=Mt.valueOfMargin(v);break;case"top":l["padding-top"]=Mt.valueOfMargin(v);break;case"bottom":l["padding-bottom"]=Mt.valueOfMargin(v);break}})}}),Object.defineProperty(b.prototype,"parseTrHeight",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){switch(de.attr(f,"hRule")){case"exact":l.height=de.lengthAttr(f,"val");break;case"atLeast":default:l.height=de.lengthAttr(f,"val");break}}}),Object.defineProperty(b.prototype,"parseBorderProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){Ft.foreach(f,function(v){switch(v.localName){case"start":case"left":l["border-left"]=Mt.valueOfBorder(v);break;case"end":case"right":l["border-right"]=Mt.valueOfBorder(v);break;case"top":l["border-top"]=Mt.valueOfBorder(v);break;case"bottom":l["border-bottom"]=Mt.valueOfBorder(v);break}})}}),b}(),qu=["black","blue","cyan","darkBlue","darkCyan","darkGray","darkGreen","darkMagenta","darkRed","darkYellow","green","lightGray","magenta","none","red","white","yellow"],Ft=function(){function b(){}return Object.defineProperty(b,"foreach",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){for(var v=0;v<f.childNodes.length;v++){var p=f.childNodes[v];p.nodeType==Node.ELEMENT_NODE&&l(p)}}}),Object.defineProperty(b,"colorAttr",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v,p){v===void 0&&(v=null),p===void 0&&(p="black");var d=de.attr(f,l);if(d)return d=="auto"?p:qu.includes(d)?d:"#".concat(d);var y=de.attr(f,"themeColor");return y?"var(--docx-".concat(y,"-color)"):v}}),Object.defineProperty(b,"sizeValue",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){return l===void 0&&(l=Qe.Dxa),vt(f.textContent,l)}}),b}(),Mt=function(){function b(){}return Object.defineProperty(b,"themeValue",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=de.attr(f,l);return v?"var(--docx-".concat(v,"-font)"):null}}),Object.defineProperty(b,"valueOfSize",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=Qe.Dxa;switch(de.attr(f,"type")){case"dxa":break;case"pct":v=Qe.Percent;break;case"auto":return"auto"}return de.lengthAttr(f,l,v)}}),Object.defineProperty(b,"valueOfMargin",{enumerable:!1,configurable:!0,writable:!0,value:function(f){return de.lengthAttr(f,"w")}}),Object.defineProperty(b,"valueOfBorder",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=de.attr(f,"val");if(l=="nil")return"none";var v=Ft.colorAttr(f,"color"),p=de.lengthAttr(f,"sz",Qe.Border);return"".concat(p," solid ").concat(v=="auto"?da.borderColor:v)}}),Object.defineProperty(b,"valueOfTblLayout",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=de.attr(f,"val");return l=="fixed"?"fixed":"auto"}}),Object.defineProperty(b,"classNameOfCnfStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=de.attr(f,"val"),v=["first-row","last-row","first-col","last-col","odd-col","even-col","odd-row","even-row","ne-cell","nw-cell","se-cell","sw-cell"];return v.filter(function(p,d){return l[d]=="1"}).join(" ")}}),Object.defineProperty(b,"valueOfJc",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=de.attr(f,"val");switch(l){case"start":case"left":return"left";case"center":return"center";case"end":case"right":return"right";case"both":return"justify"}return l}}),Object.defineProperty(b,"valueOfVertAlign",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){l===void 0&&(l=!1);var v=de.attr(f,"val");switch(v){case"subscript":return"sub";case"superscript":return l?"sup":"super"}return l?null:v}}),Object.defineProperty(b,"valueOfTextAlignment",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=de.attr(f,"val");switch(l){case"auto":case"baseline":return"baseline";case"top":return"top";case"center":return"middle";case"bottom":return"bottom"}return l}}),Object.defineProperty(b,"addSize",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){return f==null?l:l==null?f:"calc(".concat(f," + ").concat(l,")")}}),Object.defineProperty(b,"classNameOftblLook",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=de.hexAttr(f,"val",0),v="";return(de.boolAttr(f,"firstRow")||l&32)&&(v+=" first-row"),(de.boolAttr(f,"lastRow")||l&64)&&(v+=" last-row"),(de.boolAttr(f,"firstColumn")||l&128)&&(v+=" first-col"),(de.boolAttr(f,"lastColumn")||l&256)&&(v+=" last-col"),(de.boolAttr(f,"noHBand")||l&512)&&(v+=" no-hband"),(de.boolAttr(f,"noVBand")||l&1024)&&(v+=" no-vband"),v.trim()}}),b}(),gn={pos:0,leader:"none",style:"left"},st=50;function wf(b){b===void 0&&(b=document.body);var f=document.createElement("div");f.style.width="100pt",b.appendChild(f);var l=100/f.offsetWidth;return b.removeChild(f),l}function Lo(b,f,l,v){v===void 0&&(v=72/96);var p=b.closest("p"),d=b.getBoundingClientRect(),y=p.getBoundingClientRect(),E=getComputedStyle(p),k=(f==null?void 0:f.length)>0?f.map(function(Oe){return{pos:Ku(Oe.position),leader:Oe.leader,style:Oe.style}}).sort(function(Oe,pe){return Oe.pos-pe.pos}):[gn],A=k[k.length-1],D=y.width*v,F=Ku(l),U=A.pos+F;if(U<D)for(;U<D&&k.length<st;U+=F)k.push(et(et({},gn),{pos:U}));var P=parseFloat(E.marginLeft),I=y.left+P,H=(d.left-I)*v,O=k.find(function(Oe){return Oe.style!="clear"&&Oe.pos>H});if(O!=null){var L=1;if(O.style=="right"||O.style=="center"){var $=Array.from(p.querySelectorAll(".".concat(b.className))),X=$.indexOf(b)+1,Y=document.createRange();Y.setStart(b,1),X<$.length?Y.setEndBefore($[X]):Y.setEndAfter(p);var re=O.style=="center"?.5:1,Pe=Y.getBoundingClientRect(),me=Pe.left+re*Pe.width-(y.left-P);L=O.pos-me*v}else L=O.pos-H;switch(b.innerHTML="&nbsp;",b.style.textDecoration="inherit",b.style.wordSpacing="".concat(L.toFixed(0),"pt"),O.leader){case"dot":case"middleDot":b.style.textDecoration="underline",b.style.textDecorationStyle="dotted";break;case"hyphen":case"heavy":case"underscore":b.style.textDecoration="underline";break}}}function Ku(b){return parseFloat(b)}var Gu={exports:{}},zo={exports:{}},Mo={exports:{}},Xa=1e3,pa=Xa*60,Qn=pa*60,Fn=Qn*24,Zu=Fn*365.25,Cf=function(b,f){f=f||{};var l=typeof b;if(l==="string"&&b.length>0)return kf(b);if(l==="number"&&isNaN(b)===!1)return f.long?Sf(b):Xu(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function kf(b){if(b=String(b),!(b.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(b);if(f){var l=parseFloat(f[1]),v=(f[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return l*Zu;case"days":case"day":case"d":return l*Fn;case"hours":case"hour":case"hrs":case"hr":case"h":return l*Qn;case"minutes":case"minute":case"mins":case"min":case"m":return l*pa;case"seconds":case"second":case"secs":case"sec":case"s":return l*Xa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function Xu(b){return b>=Fn?Math.round(b/Fn)+"d":b>=Qn?Math.round(b/Qn)+"h":b>=pa?Math.round(b/pa)+"m":b>=Xa?Math.round(b/Xa)+"s":b+"ms"}function Sf(b){return Ii(b,Fn,"day")||Ii(b,Qn,"hour")||Ii(b,pa,"minute")||Ii(b,Xa,"second")||b+" ms"}function Ii(b,f,l){if(!(b<f))return b<f*1.5?Math.floor(b/f)+" "+l:Math.ceil(b/f)+" "+l+"s"}(function(b,f){f=b.exports=p.debug=p.default=p,f.coerce=k,f.disable=y,f.enable=d,f.enabled=E,f.humanize=Cf,f.names=[],f.skips=[],f.formatters={};var l;function v(A){var D=0,F;for(F in A)D=(D<<5)-D+A.charCodeAt(F),D|=0;return f.colors[Math.abs(D)%f.colors.length]}function p(A){function D(){if(D.enabled){var F=D,U=+new Date,P=U-(l||U);F.diff=P,F.prev=l,F.curr=U,l=U;for(var I=new Array(arguments.length),H=0;H<I.length;H++)I[H]=arguments[H];I[0]=f.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");var O=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,function($,X){if($==="%%")return $;O++;var Y=f.formatters[X];if(typeof Y=="function"){var re=I[O];$=Y.call(F,re),I.splice(O,1),O--}return $}),f.formatArgs.call(F,I);var L=D.log||f.log||console.log.bind(console);L.apply(F,I)}}return D.namespace=A,D.enabled=f.enabled(A),D.useColors=f.useColors(),D.color=v(A),typeof f.init=="function"&&f.init(D),D}function d(A){f.save(A),f.names=[],f.skips=[];for(var D=(typeof A=="string"?A:"").split(/[\s,]+/),F=D.length,U=0;U<F;U++)!D[U]||(A=D[U].replace(/\*/g,".*?"),A[0]==="-"?f.skips.push(new RegExp("^"+A.substr(1)+"$")):f.names.push(new RegExp("^"+A+"$")))}function y(){f.enable("")}function E(A){var D,F;for(D=0,F=f.skips.length;D<F;D++)if(f.skips[D].test(A))return!1;for(D=0,F=f.names.length;D<F;D++)if(f.names[D].test(A))return!0;return!1}function k(A){return A instanceof Error?A.stack||A.message:A}})(Mo,Mo.exports),function(b,f){f=b.exports=Mo.exports,f.log=p,f.formatArgs=v,f.save=d,f.load=y,f.useColors=l,f.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:E(),f.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function l(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}f.formatters.j=function(k){try{return JSON.stringify(k)}catch(A){return"[UnexpectedJSONParseError]: "+A.message}};function v(k){var A=this.useColors;if(k[0]=(A?"%c":"")+this.namespace+(A?" %c":" ")+k[0]+(A?"%c ":" ")+"+"+f.humanize(this.diff),!!A){var D="color: "+this.color;k.splice(1,0,D,"color: inherit");var F=0,U=0;k[0].replace(/%[a-zA-Z%]/g,function(P){P!=="%%"&&(F++,P==="%c"&&(U=F))}),k.splice(U,0,D)}}function p(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function d(k){try{k==null?f.storage.removeItem("debug"):f.storage.debug=k}catch{}}function y(){var k;try{k=f.storage.debug}catch{}return!k&&typeof process<"u"&&"env"in process&&(k={}.DEBUG),k}f.enable(y());function E(){try{return window.localStorage}catch{}}}(zo,zo.exports),function(b){(function(f,l){var v=b.exports;v?b.exports=l(zo.exports("eventproxy")):this[f]=l()})("EventProxy",function(f){f=f||function(){};var l=Array.prototype.slice,v=Array.prototype.concat,p="__all__",d=function(){if(!(this instanceof d))return new d;this._callbacks={},this._fired={}};d.prototype.addListener=function(k,A){return f("Add listener for %s",k),this._callbacks[k]=this._callbacks[k]||[],this._callbacks[k].push(A),this},d.prototype.bind=d.prototype.addListener,d.prototype.on=d.prototype.addListener,d.prototype.subscribe=d.prototype.addListener,d.prototype.headbind=function(k,A){return f("Add listener for %s",k),this._callbacks[k]=this._callbacks[k]||[],this._callbacks[k].unshift(A),this},d.prototype.removeListener=function(k,A){var D=this._callbacks;if(!k)f("Remove all listeners"),this._callbacks={};else if(!A)f("Remove all listeners of %s",k),D[k]=[];else{var F=D[k];if(F)for(var U=F.length,P=0;P<U;P++)A===F[P]&&(f("Remove a listener of %s",k),F[P]=null)}return this},d.prototype.unbind=d.prototype.removeListener,d.prototype.removeAllListeners=function(k){return this.unbind(k)},d.prototype.bindForAll=function(k){this.bind(p,k)},d.prototype.unbindForAll=function(k){this.unbind(p,k)},d.prototype.trigger=function(k,A){var D,F,U,P,I,H=2,O=this._callbacks;for(f("Emit event %s with data %j",k,A);H--;)if(F=H?k:p,D=O[F],D)for(P=0,I=D.length;P<I;P++)if(!(U=D[P]))D.splice(P,1),P--,I--;else{for(var L=[],$=H?1:0,X=$;X<arguments.length;X++)L.push(arguments[X]);U.apply(this,L)}return this},d.prototype.emit=d.prototype.trigger,d.prototype.fire=d.prototype.trigger,d.prototype.once=function(k,A){var D=this,F=function(){A.apply(D,arguments),D.unbind(k,F)};return this.bind(k,F),this};var y=typeof setImmediate<"u"&&setImmediate||typeof process<"u"&&process.nextTick||function(k){setTimeout(k,0)};d.prototype.emitLater=function(){var k=this,A=arguments;y(function(){k.trigger.apply(k,A)})},d.prototype.immediate=function(k,A,D){return this.bind(k,A),this.trigger(k,D),this},d.prototype.asap=d.prototype.immediate;var E=function(k,A,D,F){var U=this,P=arguments.length,I=0,H={};if(P<3)return this;var O=l.call(arguments,0,-2),L=arguments[P-2],$=arguments[P-1];if(typeof L!="function")return this;f("Assign listener for events %j, once is %s",O,!!$);for(var X=function(me){var Oe=$?"once":"bind";U[Oe](me,function(pe){U._fired[me]=U._fired[me]||{},U._fired[me].data=pe,H[me]||(H[me]=!0,I++)})},Y=O.length,re=0;re<Y;re++)X(O[re]);var Pe=function(me){if(!(I<Y)&&!!H[me]){for(var Oe=[],pe=0;pe<Y;pe++)Oe.push(U._fired[O[pe]].data);$&&U.unbindForAll(Pe),f("Events %j all emited with data %j",O,Oe),L.apply(null,Oe)}};U.bindForAll(Pe)};return d.prototype.all=function(k,A,D){var F=v.apply([],arguments);return F.push(!0),E.apply(this,F),this},d.prototype.assign=d.prototype.all,d.prototype.fail=function(k){var A=this;return A.once("error",function(){A.unbind(),k.apply(null,arguments)}),this},d.prototype.throw=function(){var k=this;k.emit.apply(k,["error"].concat(l.call(arguments)))},d.prototype.tail=function(){var k=v.apply([],arguments);return k.push(!1),E.apply(this,k),this},d.prototype.assignAll=d.prototype.tail,d.prototype.assignAlways=d.prototype.tail,d.prototype.after=function(k,A,D){if(A===0)return D.call(null,[]),this;var F=this,U=[];this._after=this._after||{};var P=k+"_group";this._after[P]={index:0,results:[]},f("After emit %s times, event %s's listenner will execute",A,k);var I=function(H,O){H===k&&(A--,U.push(O),A<1&&(f("Event %s was emit %s, and execute the listenner",k,A),F.unbindForAll(I),D.apply(null,[U]))),H===P&&(A--,F._after[P].results[O.index]=O.result,A<1&&(f("Event %s was emit %s, and execute the listenner",k,A),F.unbindForAll(I),D.call(null,F._after[P].results)))};return F.bindForAll(I),this},d.prototype.group=function(k,A){var D=this,F=k+"_group",U=D._after[F].index;return D._after[F].index++,function(P,I){if(P)return D.emit.apply(D,["error"].concat(l.call(arguments)));D.emit(F,{index:U,result:A?A.apply(null,l.call(arguments,1)):I})}},d.prototype.any=function(){var k=this,A=arguments[arguments.length-1],D=l.call(arguments,0,-1),F=D.join("_");f("Add listenner for Any of events %j emit",D),k.once(F,A);for(var U=function(I){k.bind(I,function(H){f("One of events %j emited, execute the listenner"),k.trigger(F,{data:H,eventName:I})})},P=0;P<D.length;P++)U(D[P])},d.prototype.not=function(k,A){var D=this;f("Add listenner for not event %s",k),D.bindForAll(function(F,U){F!==k&&(f("listenner execute of event %s emit, but not event %s.",F,k),A(U))})},d.prototype.done=function(k,A){var D=this;return function(F,U){if(F)return D.emit.apply(D,["error"].concat(l.call(arguments)));var P=l.call(arguments,1);if(typeof k=="string")return A?D.emit(k,A.apply(null,P)):D.emit.apply(D,[k].concat(P));if(arguments.length<=2)return k(U);k.apply(null,P)}},d.prototype.doneLater=function(k,A){var D=this.done(k,A);return function(F,U){var P=arguments;y(function(){D.apply(null,P)})}},d.create=function(){var k=new d,A=v.apply([],arguments);if(A.length){var D=A[A.length-1],F=A[A.length-2];typeof D=="function"&&typeof F=="function"&&(A.pop(),k.fail(D)),k.assign.apply(k,A)}return k},d.EventProxy=d,d})}(Gu);var Ef=Gu.exports,mr=function(){function b(f){Object.defineProperty(this,"htmlDocument",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"className",{enumerable:!0,configurable:!0,writable:!0,value:"docx"}),Object.defineProperty(this,"document",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"styleMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"currentPart",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"tableVerticalMerges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"currentVerticalMerge",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"tableCellPositions",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"currentCellPosition",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footnoteMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"endnoteMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"currentFootnoteIds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentEndnoteIds",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usedHederFooterParts",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"renderImageCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"defaultTabSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"domNumberings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"ep2",{enumerable:!0,configurable:!0,writable:!0,value:new Ef}),Object.defineProperty(this,"currentTabs",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tabsTimeout",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"createElement",{enumerable:!0,configurable:!0,writable:!0,value:Jn})}return Object.defineProperty(b.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v,p){var d=this;return v===void 0&&(v=null),new Promise(function(y){var E;d.document=f,d.options=p,d.className=p.className,d.styleMap=null,d.renderImageCount=0,v=v||l,$o(l),f.numberingPart&&(d.prodessNumberings(f.numberingPart.domNumberings),f.numberingPart.domNumberings.forEach(function(A){!d.domNumberings[A.id]&&(d.domNumberings[A.id]={}),d.domNumberings[A.id][A.level]=et(et({},A),{count:1,pCount:1})})),f.settingsPart&&(d.defaultTabSize=(E=f.settingsPart.settings)===null||E===void 0?void 0:E.defaultTabStop),!p.ignoreFonts&&f.fontTablePart&&d.renderFontTable(f.fontTablePart,v),d.countNum=100;var k=d.renderSections(f.documentPart.body);Ya(l,k),console.log(d.domNumberings),d.refreshTabStops(),d.ep2.after("renderImage",d.renderImageCount,function(A){y("ok")})})}}),Object.defineProperty(b.prototype,"renderTheme",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v,p,d={},y=(v=f.theme)===null||v===void 0?void 0:v.fontScheme;y&&(y.majorFont&&(d["--docx-majorHAnsi-font"]=y.majorFont.latinTypeface),y.minorFont&&(d["--docx-minorHAnsi-font"]=y.minorFont.latinTypeface));var E=(p=f.theme)===null||p===void 0?void 0:p.colorScheme;if(E)for(var k=0,A=Object.entries(E.colors);k<A.length;k++){var D=A[k],F=D[0],U=D[1];d["--docx-".concat(F,"-color")]="#".concat(U)}var P=this.styleToString(".".concat(this.className),d);l.appendChild(jo(P))}}),Object.defineProperty(b.prototype,"renderFontTable",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){for(var v=this,p=function(A){for(var D=function(I){d.document.loadFont(I.id,I.key).then(function(H){var O={"font-family":A.name,src:"url(".concat(H,")")};(I.type=="bold"||I.type=="boldItalic")&&(O["font-weight"]="bold"),(I.type=="italic"||I.type=="boldItalic")&&(O["font-style"]="italic"),Yu(l,"docxjs ".concat(A.name," font"));var L=v.styleToString("@font-face",O);l.appendChild(jo(L)),v.refreshTabStops()})},F=0,U=A.embedFontRefs;F<U.length;F++){var P=U[F];D(P)}},d=this,y=0,E=f.fonts;y<E.length;y++){var k=E[y];p(k)}}}),Object.defineProperty(b.prototype,"processStyleName",{enumerable:!1,configurable:!0,writable:!0,value:function(f){return f?"".concat(this.className,"_").concat(fa(f)):this.className}}),Object.defineProperty(b.prototype,"processStyles",{enumerable:!1,configurable:!0,writable:!0,value:function(f){for(var l=uf(f.filter(function(I){return I.id!=null}),function(I){return I.id}),v=0,p=f.filter(function(I){return I.basedOn});v<p.length;v++){var d=p[v],y=l[d.basedOn];if(y){d.paragraphProps=Be(d.paragraphProps,y.paragraphProps),d.runProps=Be(d.runProps,y.runProps);for(var E=function(I){var H=d.styles.find(function(O){return O.target==I.target});H?k.copyStyleProperties(I.values,H.values):d.styles.push(et(et({},I),{values:et({},I.values)}))},k=this,A=0,D=y.styles;A<D.length;A++){var F=D[A];E(F)}}else this.options.debug&&console.warn("Can't find base style ".concat(d.basedOn))}for(var U=0,P=f;U<P.length;U++){var d=P[U];d.cssName=this.processStyleName(d.id)}return l}}),Object.defineProperty(b.prototype,"prodessNumberings",{enumerable:!1,configurable:!0,writable:!0,value:function(f){for(var l,v=0,p=f.filter(function(E){return E.pStyleName});v<p.length;v++){var d=p[v],y=this.findStyle(d.pStyleName);!((l=y==null?void 0:y.paragraphProps)===null||l===void 0)&&l.numbering&&(y.paragraphProps.numbering.level=d.level)}}}),Object.defineProperty(b.prototype,"processElement",{enumerable:!1,configurable:!0,writable:!0,value:function(f){if(f.children)for(var l=0,v=f.children;l<v.length;l++){var p=v[l];p.parent=f,p.type==nt.Table?this.processTable(p):this.processElement(p)}}}),Object.defineProperty(b.prototype,"processTable",{enumerable:!1,configurable:!0,writable:!0,value:function(f){for(var l=0,v=f.children;l<v.length;l++)for(var p=v[l],d=0,y=p.children;d<y.length;d++){var E=y[d];E.cssStyle=this.copyStyleProperties(f.cellStyle,E.cssStyle,["border-left","border-right","border-top","border-bottom","padding-left","padding-right","padding-top","padding-bottom"]),this.processElement(E)}}}),Object.defineProperty(b.prototype,"copyStyleProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){if(v===void 0&&(v=null),!f)return l;l==null&&(l={}),v==null&&(v=Object.getOwnPropertyNames(f));for(var p=0,d=v;p<d.length;p++){var y=d[p];f.hasOwnProperty(y)&&!l.hasOwnProperty(y)&&(l[y]=f[y])}return l}}),Object.defineProperty(b.prototype,"createSection",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=this.createElement("div",{className:f});return v}}),Object.defineProperty(b.prototype,"renderSections",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=[];this.processElement(f);for(var v=this.splitBySection(f.children),p=null,d=0,y=v.length;d<y;d++){this.currentFootnoteIds=[];var E=v[d],k=E.sectProps||f.props,A=this.createSection(this.className+"-centent-body",k);this.options.renderHeaders&&this.renderHeaderFooter(k.headerRefs,k,l.length,p!=k,A);var D=this.createElement("div");this.renderElements(E.elements,D),A.appendChild(D),this.options.renderFootnotes&&this.renderNotes(this.currentFootnoteIds,this.footnoteMap,A),this.options.renderEndnotes&&d==y-1&&this.renderNotes(this.currentEndnoteIds,this.endnoteMap,A),this.options.renderFooters&&this.renderHeaderFooter(k.footerRefs,k,l.length,p!=k,A),l.push(A),p=k}return l}}),Object.defineProperty(b.prototype,"renderHeaderFooter",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v,p,d){var y,E;if(f){var k=(E=(y=l.titlePage&&p?f.find(function(D){return D.type=="first"}):null)!==null&&y!==void 0?y:v%2==1?f.find(function(D){return D.type=="even"}):null)!==null&&E!==void 0?E:f.find(function(D){return D.type=="default"}),A=k&&this.document.findPartByRelId(k.id,this.document.documentPart);A&&(this.currentPart=A,this.usedHederFooterParts.includes(A.path)||(this.processElement(A.rootElement),this.usedHederFooterParts.push(A.path)),this.renderElements([A.rootElement],d),this.currentPart=null)}}}),Object.defineProperty(b.prototype,"isPageBreakElement",{enumerable:!1,configurable:!0,writable:!0,value:function(f){return f.type!=nt.Break?!1:f.break=="lastRenderedPageBreak"?!this.options.ignoreLastRenderedPageBreak:f.break=="page"}}),Object.defineProperty(b.prototype,"splitBySection",{enumerable:!1,configurable:!0,writable:!0,value:function(f){for(var l=this,v,p={sectProps:null,elements:[]},d=[p],y=0,E=f;y<E.length;y++){var k=E[y];if(k.type==nt.Paragraph){var A=this.findStyle(k.styleName);!((v=A==null?void 0:A.paragraphProps)===null||v===void 0)&&v.pageBreakBefore&&(p.sectProps=F,p={sectProps:null,elements:[]},d.push(p))}if(p.elements.push(k),k.type==nt.Paragraph){var D=k,F=D.sectionProps,U=-1,P=-1;if(this.options.breakPages&&D.children&&(U=D.children.findIndex(function(Pe){var me,Oe;return P=(Oe=(me=Pe.children)===null||me===void 0?void 0:me.findIndex(l.isPageBreakElement.bind(l)))!==null&&Oe!==void 0?Oe:-1,P!=-1})),(F||U!=-1)&&(p.sectProps=F,p={sectProps:null,elements:[]},d.push(p)),U!=-1){var I=D.children[U],H=P<I.children.length-1;if(U<D.children.length-1||H){var O=k.children,L=et(et({},k),{children:O.slice(U)});if(k.children=O.slice(0,U),p.elements.push(L),H){var $=I.children,X=et(et({},I),{children:$.slice(0,P)});k.children.push(X),I.children=$.slice(P)}}}}}for(var Y=null,re=d.length-1;re>=0;re--)d[re].sectProps==null?d[re].sectProps=Y:Y=d[re].sectProps;return d}}),Object.defineProperty(b.prototype,"renderWrapper",{enumerable:!1,configurable:!0,writable:!0,value:function(f){return this.createElement("div",{className:"".concat(this.className,"-wrapper")},f)}}),Object.defineProperty(b.prototype,"renderDefaultStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var f=this.className,l=`
.`.concat(f,`-wrapper { background: gray; padding: 30px; padding-bottom: 0px; display: flex; flex-flow: column; align-items: center; } 
.`).concat(f,"-wrapper>section.").concat(f,` { background: white; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); margin-bottom: 30px; }
.`).concat(f,` { color: black; }
section.`).concat(f,` { box-sizing: border-box; display: flex; flex-flow: column nowrap; position: relative; overflow: hidden; }
section.`).concat(f,`>article { margin-bottom: auto; }
.`).concat(f,` table { border-collapse: collapse; }
.`).concat(f," table td, .").concat(f,` table th { vertical-align: top; }
.`).concat(f,` p { margin: 0pt; min-height: 1em; }
.`).concat(f,` span { white-space: pre-wrap; overflow-wrap: break-word; }
.`).concat(f,` a { color: inherit; text-decoration: inherit; }
`);return jo(l)}}),Object.defineProperty(b.prototype,"renderNotes",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){var p=f.map(function(y){return l[y]}).filter(function(y){return y});if(p.length>0){var d=this.createElement("ol",null,this.renderElements(p));v.appendChild(d)}}}),Object.defineProperty(b.prototype,"renderElement",{enumerable:!1,configurable:!0,writable:!0,value:function(f){switch(f.type){case nt.Paragraph:return this.renderParagraph(f);case nt.BookmarkStart:return this.renderBookmarkStart(f);case nt.BookmarkEnd:return null;case nt.Run:return this.renderRun(f);case nt.Table:return this.renderTable(f);case nt.Row:return this.renderTableRow(f);case nt.Cell:return this.renderTableCell(f);case nt.Hyperlink:return this.renderHyperlink(f);case nt.Drawing:return this.renderDrawing(f);case nt.Image:return this.renderImage(f);case nt.Text:return this.renderText(f);case nt.Tab:return this.renderTab(f);case nt.Symbol:return this.renderSymbol(f);case nt.Break:return this.renderBreak(f);case nt.Footer:return this.renderContainer(f,"footer");case nt.Header:return this.renderContainer(f,"header");case nt.Footnote:case nt.Endnote:return this.renderContainer(f,"li");case nt.FootnoteReference:return this.renderFootnoteReference(f);case nt.EndnoteReference:return this.renderEndnoteReference(f);case nt.NoBreakHyphen:return this.createElement("wbr")}return null}}),Object.defineProperty(b.prototype,"renderChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){return this.renderElements(f.children,l)}}),Object.defineProperty(b.prototype,"renderElements",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){var v=this;if(f==null)return null;var p=f.map(function(d){return v.renderElement(d)}).filter(function(d){return d!=null});return l&&Ya(l,p),p}}),Object.defineProperty(b.prototype,"renderContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){return this.createElement(l,null,this.renderChildren(f))}}),Object.defineProperty(b.prototype,"renderParagraph",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l,v,p,d,y=this.createElement("p"),E=this.findStyle(f.styleName);(l=f.tabs)!==null&&l!==void 0||(f.tabs=(v=E==null?void 0:E.paragraphProps)===null||v===void 0?void 0:v.tabs),this.renderClass(f,y),this.renderChildren(f,y),this.renderStyleValues(f.cssStyle,y),this.renderCommonProperties(y.style,f);var k=(p=f.numbering)!==null&&p!==void 0?p:(d=E==null?void 0:E.paragraphProps)===null||d===void 0?void 0:d.numbering;if(k){if(this.domNumberings[k.id]&&this.domNumberings[k.id][k.level]){var A=this.domNumberings[k.id][k.level];if(y.firstChild&&y.firstChild.innerHTML)y.firstChild.innerHTML=this.numLevelTextToContent(A)+y.firstChild.innerHTML;else{var D=this.createElement("span");D.innerHTML=this.numLevelTextToContent(A),y.appendChild(D)}}y.classList.add(this.numberingClass(k.id,k.level))}return y}}),Object.defineProperty(b.prototype,"renderRunProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){this.renderCommonProperties(f,l)}}),Object.defineProperty(b.prototype,"renderCommonProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){l!=null&&(l.color&&(f.color=l.color),l.fontSize&&(f["font-size"]=l.fontSize))}}),Object.defineProperty(b.prototype,"renderHyperlink",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this.createElement("a");return this.renderChildren(f,l),this.renderStyleValues(f.cssStyle,l),f.href&&(l.href=f.href),l}}),Object.defineProperty(b.prototype,"renderDrawing",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this.createElement("div");return l.style.display="inline-block",l.style.position="relative",l.style.textIndent="0px",this.renderChildren(f,l),this.renderStyleValues(f.cssStyle,l),l}}),Object.defineProperty(b.prototype,"renderImage",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this.createElement("img");!f.cssStyle["max-width"]&&(f.cssStyle["max-width"]="100%"),this.renderStyleValues(f.cssStyle,l);var v=this;return v.renderImageCount++,l.setAttribute("data-tp-src",f.src),this.document&&this.document.loadDocumentImage(f.src,this.currentPart).then(function(p){v.ep2.emit("renderImage",{status:"ok",src:p,rId:f.src}),l.src=p}),l}}),Object.defineProperty(b.prototype,"renderText",{enumerable:!1,configurable:!0,writable:!0,value:function(f){return this.htmlDocument.createTextNode(f.text)}}),Object.defineProperty(b.prototype,"renderBreak",{enumerable:!1,configurable:!0,writable:!0,value:function(f){return f.break=="textWrapping"?this.createElement("br"):null}}),Object.defineProperty(b.prototype,"renderSymbol",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this.createElement("span");return l.style.fontFamily=f.font,l.innerHTML="&#x".concat(f.char,";"),l}}),Object.defineProperty(b.prototype,"renderFootnoteReference",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this.createElement("sup");return this.currentFootnoteIds.push(f.id),l.textContent="".concat(this.currentFootnoteIds.length),l}}),Object.defineProperty(b.prototype,"renderEndnoteReference",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this.createElement("sup");return this.currentEndnoteIds.push(f.id),l.textContent="".concat(this.currentEndnoteIds.length),l}}),Object.defineProperty(b.prototype,"renderTab",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l,v=this.createElement("span");if(v.innerHTML="&emsp;",this.options.experimental){v.className=this.tabStopClass();var p=(l=Qu(f,nt.Paragraph))===null||l===void 0?void 0:l.tabs;this.currentTabs.push({stops:p,span:v})}return v}}),Object.defineProperty(b.prototype,"renderBookmarkStart",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this.createElement("span");return l.id=f.name,l}}),Object.defineProperty(b.prototype,"renderRun",{enumerable:!1,configurable:!0,writable:!0,value:function(f){if(f.fieldRun)return null;var l=this.createElement("span");if(f.id&&(l.id=f.id),this.renderClass(f,l),this.renderStyleValues(f.cssStyle,l),f.verticalAlign){var v=this.createElement(f.verticalAlign);this.renderChildren(f,v),l.appendChild(v)}else this.renderChildren(f,l);return l}}),Object.defineProperty(b.prototype,"renderTable",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this.createElement("table");return this.tableCellPositions.push(this.currentCellPosition),this.tableVerticalMerges.push(this.currentVerticalMerge),this.currentVerticalMerge={},this.currentCellPosition={col:0,row:0},f.columns&&l.appendChild(this.renderTableColumns(f.columns)),!f.cssStyle["border-collapse"]&&(f.cssStyle["border-collapse"]="collapse"),this.renderClass(f,l),this.renderChildren(f,l),this.renderStyleValues(f.cssStyle,l),this.currentVerticalMerge=this.tableVerticalMerges.pop(),this.currentCellPosition=this.tableCellPositions.pop(),l}}),Object.defineProperty(b.prototype,"renderTableColumns",{enumerable:!1,configurable:!0,writable:!0,value:function(f){for(var l=this.createElement("colgroup"),v=0,p=f;v<p.length;v++){var d=p[v],y=this.createElement("col");d.width&&(y.style.width=d.width),l.appendChild(y)}return l}}),Object.defineProperty(b.prototype,"renderTableRow",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this.createElement("tr");return this.currentCellPosition.col=0,this.renderClass(f,l),this.renderChildren(f,l),this.renderStyleValues(f.cssStyle,l),this.currentCellPosition.row++,l}}),Object.defineProperty(b.prototype,"renderTableCell",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this.createElement("td");if(f.verticalMerge){var v=this.currentCellPosition.col;f.verticalMerge=="restart"?(this.currentVerticalMerge[v]=l,l.rowSpan=1):this.currentVerticalMerge[v]&&(this.currentVerticalMerge[v].rowSpan+=1,l.style.display="none")}return this.renderClass(f,l),this.renderChildren(f,l),this.renderStyleValues(f.cssStyle,l),f.span&&(l.colSpan=f.span),this.currentCellPosition.col++,l}}),Object.defineProperty(b.prototype,"renderStyleValues",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){f&&Object.keys(f).forEach(function(v){l.style[v]=typeof f[v]=="string"?f[v].replace(/pt/g,"px"):f[v]})}}),Object.defineProperty(b.prototype,"renderClass",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){f.className&&(l.className=f.className),f.styleName&&l.classList.add(this.processStyleName(f.styleName))}}),Object.defineProperty(b.prototype,"findStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l;return f&&((l=this.styleMap)===null||l===void 0?void 0:l[f])}}),Object.defineProperty(b.prototype,"numberingClass",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){return"".concat(this.className,"-num-").concat(f,"-").concat(l)}}),Object.defineProperty(b.prototype,"tabStopClass",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"".concat(this.className,"-tab-stop")}}),Object.defineProperty(b.prototype,"styleToString",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v){v===void 0&&(v=null);var p="".concat(f,` {\r
`);for(var d in l)p+="  ".concat(d,": ").concat(l[d],`;\r
`);return v&&(p+=v),p+`}\r
`}}),Object.defineProperty(b.prototype,"styleInlineToString",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){l===void 0&&(l=null);var v='style="';!f["font-style"]&&(f["font-style"]="normal");for(var p in f)v+="".concat(p,": ").concat(f[p],"; ");return l&&(v+=l),v+'"'}}),Object.defineProperty(b.prototype,"numberingCounter",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l){return"".concat(this.className,"-num-").concat(f,"-").concat(l)}}),Object.defineProperty(b.prototype,"levelTextToContent",{enumerable:!1,configurable:!0,writable:!0,value:function(f,l,v,p){var d=this,y,E={tab:"\\9",space:"\\a0"},k=f.replace(/%\d*/g,function(A){var D=parseInt(A.substring(1),10)-1;return'"counter('.concat(d.numberingCounter(v,D),", ").concat(p,')"')});return'"'.concat(k).concat((y=E[numberingData.suff])!==null&&y!==void 0?y:"",'"')}}),Object.defineProperty(b.prototype,"numLevelTextToContent",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l=this,v,p={tab:"&emsp;",space:"&nbsp;"},d={chineseCounting:["\u96F6","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341"],decimalEnclosedCircleChinese:["\u24EA","\u2460","\u2461","\u2462","\u2463","\u2464","\u2465","\u2466","\u2467","\u2468","\u2469","\u246A","\u246B","\u246C","\u246D","\u246E","\u246F","\u2470","\u2471","\u2472","\u2473","\u3251","\u3252","\u3253","\u3254","\u3255","\u3256","\u3257","\u3258","\u3259","\u325A","\u325B","\u325C","\u325D","\u325E","\u325F","\u32B1","\u32B2","\u32B3","\u32B4","\u32B5","\u32B6","\u32B7","\u32B8","\u32B9","\u32BA","\u32BB","\u32BC","\u32BD","\u32BE","\u32BF"],upperLetter:["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],lowerLetter:["","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],test1:[" ","\u24B6","\u24B7","\u24B8","\u24B9","\u24BA","\u24BB","\u24BC","\u24BD","\u24BE","\u24BF","\u24C0","\u24C1","\u24C2","\u24C3","\u24C4","\u24C5","\u24C6","\u24C7","\u24C8","\u24C9","\u24CA","\u24CB","\u24CC","\u24CD","\u24CE","\u24CF"],test2:[" ","\u24D0","\u24D1","\u24D2","\u24D3","\u24D4","\u24D5","\u24D6","\u24D7","\u24D8","\u24D9","\u24DA","\u24DB","\u24DC","\u24DD","\u24DE","\u24DF","\u24E0","\u24E1","\u24E2","\u24E3","\u24E4","\u24E5","\u24E6","\u24E7","\u24E8","\u24E9"],test3:[" ","\u2776","\u2777","\u2778","\u2779","\u277A","\u277B","\u277C","\u277D","\u277E","\u277F","\u24EB","\u24EC","\u24ED","\u24EE","\u24EF","\u24F0","\u24F1","\u24F2","\u24F3","\u24F4"],test4:[" ","\u24F5","\u24F6","\u24F7","\u24F8","\u24F9","\u24FA","\u24FB","\u24FC","\u24FD","\u24FE"],test5:[" ","\u3280","\u3281","\u3282","\u3283","\u3284","\u3285","\u3286","\u3287","\u3288","\u3289"],upperRoman:[" ","\u2160","\u2161","\u2162","\u2163","\u2164","\u2165","\u2166","\u2167","\u2168","\u2169","\u216A","\u216B"],lowerRoman:["","\u2170","\u2171","\u2172","\u2173","\u2174","\u2175","\u2176","\u2177","\u2178","\u2179","\u217A","\u217B"]},y=f.levelText.replace(/%\d*/g,function(E){var k=parseInt(E.substring(1),10)-1,A=1;return k==f.level?(A=f.count,l.domNumberings[f.id][k].pCount=A,l.domNumberings[f.id][k+1]&&(l.domNumberings[f.id][k+1].count=1),f.count++):l.domNumberings[f.id]&&l.domNumberings[f.id][k]&&(A=l.domNumberings[f.id][k].count-1,A==0&&(A=1)),d[f.format]&&(A=d[f.format][A]),"".concat(A)});return f.format=="bullet"&&(y="<em "+this.styleInlineToString(f.rStyle)+'">'+f.levelText+"</em>"),"".concat(y).concat((v=p[f.suff])!==null&&v!==void 0?v:"")}}),Object.defineProperty(b.prototype,"numFormatToCssValue",{enumerable:!1,configurable:!0,writable:!0,value:function(f){var l={none:"none",bullet:"disc",decimal:"decimal",lowerLetter:"lower-alpha",upperLetter:"upper-alpha",lowerRoman:"lower-roman",upperRoman:"upper-roman"};return l[f]||f}}),Object.defineProperty(b.prototype,"refreshTabStops",{enumerable:!1,configurable:!0,writable:!0,value:function(){var f=this;!this.options.experimental||(clearTimeout(this.tabsTimeout),this.tabsTimeout=setTimeout(function(){for(var l=wf(),v=0,p=f.currentTabs;v<p.length;v++){var d=p[v];Lo(d.span,d.stops,f.defaultTabSize,l)}},500))}}),b}();function Jn(b,f,l){f===void 0&&(f=void 0),l===void 0&&(l=void 0);var v=Object.assign(document.createElement(b),f);return l&&Ya(v,l),v}function $o(b){b.innerHTML=""}function Ya(b,f){f.forEach(function(l){return b.appendChild(l)})}function jo(b){return Jn("style",{innerHTML:b})}function Yu(b,f){b.appendChild(document.createComment(f))}function Qu(b,f){for(var l=b.parent;l!=null&&l.type!=f;)l=l.parent;return l}var Uo={ignoreHeight:!1,ignoreWidth:!1,ignoreFonts:!1,breakPages:!0,debug:!1,experimental:!0,className:"tp-importword",inWrapper:!1,trimXmlDeclaration:!0,ignoreLastRenderedPageBreak:!0,renderHeaders:!1,renderFooters:!1,renderFootnotes:!1,renderEndnotes:!1,useBase64URL:!1};function bn(b,f){f===void 0&&(f=null);var l=et(et({},Uo),f),v=window.document.createElement("div"),p=new mr(window.document);return new Promise(function(d){bf.load(b,new va(l),l).then(function(y){console.log(y),p.render(y,v,null,l).then(function(){d({html:v.innerHTML})})})})}var _f=tinymce.util.Tools.resolve("tinymce.util.Promise"),xf=tinymce.util.Tools.resolve("tinymce.Env"),Ju=tinymce.util.Tools.resolve("tinymce.util.Delay"),es=function(b){return new _f(function(f){var l=document.createElement("input");l.type="file",l.style.position="fixed",l.style.left="0",l.style.top="0",l.style.opacity="0.001",document.body.appendChild(l);var v=function(d){f(Array.prototype.slice.call(d.target.files))};l.addEventListener("change",v);var p=function(d){var y=function(E){try{f(Array.prototype.slice.call(E.target?E.target.files:[]))}catch{}l.parentNode.removeChild(l)};xf.os.isAndroid()&&d.type!=="remove"?Ju.setEditorTimeout(b,y,0):y(),b.off("focusin remove",p)};b.on("focusin remove",p),l.click()})},Ho=null,Fi=null;function Wo(b,f){rs(f,function(l){bn(l).then(function(v){ts(b,v)})})}function ts(b,f){var l=f.html;typeof Ho=="function"||(b.insertContent(l.replace(/\s\s\s/gi,"&nbsp; ")),top.tinymce.activeEditor.notificationManager.close(),b.notificationManager.open({text:" \u5BFC\u5165 word \u6210\u529F ",type:"success",timeout:2e3}))}function rs(b,f){var l=b[0],v=new FileReader;v.onload=function(p){var d=p.target.result;f(d)},v.readAsArrayBuffer(l)}var Nf=function(b){Ho=b.getParam("importword_filter",void 0,"function"),Fi=b.getParam("importword_handler",void 0,"function")},Vo=function(b,f){Nf(b),es(b).then(function(l){if(typeof Fi=="function"){var v=function(d){Wo(b,d)};Fi(b,l,v)}else{var p=l[0].name||"defule.docx";p.substr(p.lastIndexOf(".")+1)=="docx"?(b.notificationManager.open({text:"\u6B63\u5728\u8F6C\u6362\u4E2D...",type:"info",closeButton:!1}),Wo(b,l)):b.notificationManager.open({text:"\u76EE\u524D\u4EC5\u652F\u6301docx\u6587\u4EF6\u683C\u5F0F\uFF0C\u82E5\u4E3Adoc\u683C\u5F0F\uFF0C\u8BF7\u5C06\u65B0\u5EFAdocx",type:"warning"})}})},ns=function(b,f){b.ui.registry.getAll().icons[f.registryName]||b.ui.registry.addIcon(f.registryName,f.icon),b.ui.registry.addButton(f.registryName,{icon:f.registryName,tooltip:f.title,onAction:function(){return Vo(b)}}),b.ui.registry.addMenuItem(f.registryName,{icon:f.registryName,text:f.title,onAction:function(){return Vo(b)}})},as=function(b,f){b.addCommand("mce".concat(f.registryName.substring(0,1).toUpperCase()+f.registryName.substring(1)),function(){})},is=function(b){tinymce.PluginManager.add(b.registryName,function(f,l){return ns(f,b),as(f,b),{getMetadata:function(){return{name:b.name,url:b.repo}}}})},qo={name:"Importword",registryName:"tpImportword",title:"\u5BFC\u5165word",repo:"https://github.com/Five-great/tinymce-plugins",icon:'<svg t="1604625110140" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14669" width="24" height="24"><path d="M546.21184 76.9024a30.72 30.72 0 0 1 21.70368 8.9856l248.22784 247.75168a30.72 30.72 0 0 1 9.0112 21.74464v163.3792a10.24 10.24 0 0 1-10.24 10.24h-51.712a10.24 10.24 0 0 1-10.24-10.24v-109.568h-232.448a30.72 30.72 0 0 1-30.72-30.72v-229.888h-330.752v726.016h438.272a10.24 10.24 0 0 1 10.24 10.24v51.2a10.24 10.24 0 0 1-10.24 10.24h-478.72a30.72 30.72 0 0 1-30.72-30.72V107.6224a30.72 30.72 0 0 1 30.72-30.72h427.61728z m197.84192 531.712l-171.40736 141.43488a30.72 30.72 0 0 0 0 47.39072l171.40736 141.43488a10.24 10.24 0 0 0 14.2848-1.2288l36.01408-41.95328a10.24 10.24 0 0 0-1.6128-14.848l-94.68416-71.26016h232.43264a10.24 10.24 0 0 0 10.24-10.24v-51.2a10.24 10.24 0 0 0-10.24-10.24h-232.448l94.69952-71.26016a10.24 10.24 0 0 0 1.6128-14.848l-36.01408-41.95328a10.24 10.24 0 0 0-14.2848-1.2288z m-323.8912-224.512a10.24 10.24 0 0 1 10.24 10.24v51.2a10.24 10.24 0 0 1-10.24 10.24h-190.464a10.24 10.24 0 0 1-10.24-10.24v-51.2a10.24 10.24 0 0 1 10.24-10.24h190.464z m141.312-207.36v155.648a5.12 5.12 0 0 0 5.12 5.12h155.648l-160.768-160.768zM276.48 542.72l37.888 171.008 45.056-171.008h59.904l43.52 173.568 38.4-173.568h50.688l-60.928 248.832H437.76l-49.664-185.856-49.664 185.856H284.16L225.28 542.72h51.2z m143.68768-292.2496a10.24 10.24 0 0 1 10.24 10.24v51.2a10.24 10.24 0 0 1-10.24 10.24h-190.464a10.24 10.24 0 0 1-10.24-10.24v-51.2a10.24 10.24 0 0 1 10.24-10.24h190.464z" fill="#333" ></path></svg>'};is(qo);var os={opt:qo};return os});export{YL as T};
