System.register(["./pinia-legacy.js","./vue-legacy.js"],(function(n){"use strict";var e,t,o,i,r,a,u,l,c,s;return{setters:[function(){},function(n){e=n.M,t=n.H,o=n.v,i=n.z,r=n.a4,a=n.ah,u=n.ai,l=n.aj,c=n.O,s=n.G}],execute:function(){var d,f=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],p=function(n){return-1!==f.map((function(n){return n.toLowerCase()})).indexOf(n.toLowerCase())},m=function(n,e,t,o,i,r){o.setContent(r()),t.attrs["onUpdate:modelValue"]&&function(n,e,t,o){var i=n.modelEvents?n.modelEvents:null,r=Array.isArray(i)?i.join(" "):i;t.on(r||"input  focus focusin click focusout drop ObjectResized keydown paste ExecCommand ObjectSelected",(function(){e.emit("update:modelValue","function"==typeof t.getTpContent?t.getTpContent({format:n.outputFormat}):t.getContent({format:n.outputFormat}))})),tinymce.tinymcePlugin&&C((function(o){"function"==typeof t.getTpContent&&(o(),e.emit("update:modelValue",t.getTpContent({format:n.outputFormat})),e.emit("update:modelValue",t.getTpContent({format:n.outputFormat})))}),50)}(e,t,o),function(n,e,t){Object.keys(e).filter(p).forEach((function(o){var i=e[o];"function"==typeof i&&("onInit"===o?i(n,t):t.on(o.substring(2),(function(n){return i(n,t)})))}))}(n,t.attrs,o)},v=0,g=function(n){var e=Date.now();return n+"_"+Math.floor(1e9*Math.random())+ ++v+String(e)},y=function(n){return void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" ")},C=function(n,e,t){!t&&(t=1e3*e);var o={id:null,outTime:t,outId:null};o.id=setInterval((function(e){n((function(){clearTimeout(e.outId),clearInterval(e.id)}))}),e,o),o.outId=setTimeout((function(){o.id&&clearInterval(o.id)}),o.outTime)},b=function(){return{listeners:[],scriptId:g("tiny-script"),scriptLoaded:!1}},h=(d=b(),{load:function(n,e,t){d.scriptLoaded?t():(d.listeners.push(t),n.getElementById(d.scriptId)||function(n,e,t,o){var i=e.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=n,i.src=t,i.addEventListener("load",(function n(){i.removeEventListener("load",n),o()})),e.head&&e.head.appendChild(i)}(d.scriptId,n,e,(function(){d.listeners.forEach((function(n){return n()})),d.scriptLoaded=!0})))},reinitialize:function(){d=b()}}),S=function(){return"undefined"!=typeof window?window:global},x=function(){var n=S();return n&&n.tinymce?n.tinymce:null},w={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return"html"===n||"text"===n}}},O=globalThis&&globalThis.__assign||function(){return O=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},O.apply(this,arguments)},j={min_height:300,plugins:["code hr"],toolbar:["code hr"],schema:"html5",table_default_attributes:{border:"1"},table_default_styles:{"border-collapse":"collapse",width:"100%"},table_header_type:"sectionCells",table_responsive_width:!0,file_picker_types:"file img media",fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px"};n("E",e({props:w,setup:function(n,e){var d=n.init?Object.assign(j,n.init):{},f=t(n),p=f.disabled,v=f.modelValue,C=f.tagName,b=o(null),S=null,w=n.id||g("tiny-vue"),D=n.init&&n.init.inline||n.inline,E=!!e.attrs["onUpdate:modelValue"],_=!0,I=n.initialValue?n.initialValue:"",M="",A=function(){var t,o,i,r=(t=_,E?function(){return(null==v?void 0:v.value)?v.value:""}:function(){return t?I:M}),a=O(O({},d),{readonly:n.disabled,selector:"#"+w,plugins:(o=d.plugins,i=n.plugins,y(o).concat(y(i))),toolbar:n.toolbar||d.toolbar,inline:D,setup:function(t){S=t,t.on("init",(function(o){return m(o,n,e,t,0,r)})),"function"==typeof d.setup&&d.setup(t)}});(function(n){return null!==n&&"textarea"===n.tagName.toLowerCase()})(b.value)&&(b.value.style.visibility=""),x().init(a),_=!1};return i(p,(function(n){var e;null!==S&&("function"==typeof(null===(e=S.mode)||void 0===e?void 0:e.set)?S.mode.set(n?"readonly":"design"):S.setMode(n?"readonly":"design"))})),i(C,(function(n){var e;E||(M=S.getContent()),null===(e=x())||void 0===e||e.remove(S),s((function(){return A()}))})),r((function(){if(null!==x())A();else if(b.value&&b.value.ownerDocument){var e=n.cloudChannel?n.cloudChannel:"6",t=n.apiKey?n.apiKey:"no-api-key",o=null==n.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js":n.tinymceScriptSrc;h.load(b.value.ownerDocument,o,A)}})),a((function(){null!==x()&&x().remove(S)})),D||(u((function(){_||A()})),l((function(){var n;E||(M=S.getContent()),null===(n=x())||void 0===n||n.remove(S)}))),e.expose({rerender:function(n){var e;M=S.getContent(),null===(e=x())||void 0===e||e.remove(S),d=O(O({},d),n),s((function(){return A()}))}}),function(){return D?function(n,e,t,o){return n(o||"div",{id:e,ref:t})}(c,w,b,n.tagName):c("textarea",{id:w,visibility:"hidden",ref:b})}}}))}}}));
