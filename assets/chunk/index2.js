import"./zh_CN.js";import{T as tV}from"./tpImportword.js";import"./index3.js";import{c as TA}from"./pinia.js";import{_ as nV}from"../index.js";import{a1 as kA,K as rV,L as y4,a2 as OA,R as aV,S as oV,T as iV}from"./vue.js";import"./tinymce-plugin-routes.js";(function(){var mn=function(e){var t=typeof e;return e===null?"null":t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},Ht=function(e){return function(t){return mn(t)===e}},Nt=function(e){return function(t){return typeof t===e}},jt=function(e){return function(t){return e===t}},wt=Ht("string"),$t=Ht("object"),Pt=Ht("array"),ut=Nt("boolean"),Ye=jt(void 0),gn=function(e){return e==null},Ct=function(e){return!gn(e)},ze=Nt("function"),Bt=Nt("number"),Xe=function(e,t){if(Pt(e)){for(var n=0,a=e.length;n<a;++n)if(!t(e[n]))return!1;return!0}return!1},de=function(){},st=function(e){return function(){return e()}},Ee=function(e,t){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return e(t.apply(null,n))}},Gt=function(e,t){return function(n){return e(t(n))}},$=function(e){return function(){return e}},_e=function(e){return e};function nn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var c=t.concat(a);return e.apply(null,c)}}var cn=function(e){return function(t){return!e(t)}},bt=function(e){return function(){throw new Error(e)}},Vt=$(!1),Ut=$(!0),qe=tinymce.util.Tools.resolve("tinymce.ThemeManager"),G=function(){return G=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},G.apply(this,arguments)};function k(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function Ue(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var c=arguments[t],s=0,v=c.length;s<v;s++,i++)a[i]=c[s];return a}var St=function(){return vt},vt=function(){var e=function(i){return i.isNone()},t=function(i){return i()},n=function(i){return i},a={fold:function(i,c){return i()},is:Vt,isSome:Vt,isNone:Ut,getOr:n,getOrThunk:t,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:$(null),getOrUndefined:$(void 0),or:n,orThunk:t,map:St,each:de,bind:St,exists:Vt,forall:Ut,filter:St,equals:e,equals_:e,toArray:function(){return[]},toString:$("none()")};return a}(),Ie=function(e){var t=$(e),n=function(){return i},a=function(c){return c(e)},i={fold:function(c,s){return s(e)},is:function(c){return e===c},isSome:Ut,isNone:Vt,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(c){return Ie(c(e))},each:function(c){c(e)},bind:a,exists:a,forall:a,filter:function(c){return c(e)?i:vt},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(c){return c.is(e)},equals_:function(c,s){return c.fold(Vt,function(v){return s(e,v)})}};return i},Ve=function(e){return e==null?vt:Ie(e)},g={some:Ie,none:St,from:Ve},he=Array.prototype.slice,ee=Array.prototype.indexOf,Qe=Array.prototype.push,Qt=function(e,t){return ee.call(e,t)},Jt=function(e,t){var n=Qt(e,t);return n===-1?g.none():g.some(n)},Tt=function(e,t){return Qt(e,t)>-1},Ot=function(e,t){for(var n=0,a=e.length;n<a;n++){var i=e[n];if(t(i,n))return!0}return!1},an=function(e,t){for(var n=[],a=0;a<e;a++)n.push(t(a));return n},kn=function(e,t){for(var n=[],a=0;a<e.length;a+=t){var i=he.call(e,a,a+t);n.push(i)}return n},ne=function(e,t){for(var n=e.length,a=new Array(n),i=0;i<n;i++){var c=e[i];a[i]=t(c,i)}return a},Le=function(e,t){for(var n=0,a=e.length;n<a;n++){var i=e[n];t(i,n)}},At=function(e,t){for(var n=e.length-1;n>=0;n--){var a=e[n];t(a,n)}},ke=function(e,t){for(var n=[],a=[],i=0,c=e.length;i<c;i++){var s=e[i],v=t(s,i)?n:a;v.push(s)}return{pass:n,fail:a}},Y=function(e,t){for(var n=[],a=0,i=e.length;a<i;a++){var c=e[a];t(c,a)&&n.push(c)}return n},Se=function(e,t,n){return At(e,function(a){n=t(n,a)}),n},z=function(e,t,n){return Le(e,function(a){n=t(n,a)}),n},ge=function(e,t,n){for(var a=0,i=e.length;a<i;a++){var c=e[a];if(t(c,a))return g.some(c);if(n(c,a))break}return g.none()},ve=function(e,t){return ge(e,t,Vt)},Ke=function(e,t){for(var n=0,a=e.length;n<a;n++){var i=e[n];if(t(i,n))return g.some(n)}return g.none()},kt=function(e){for(var t=[],n=0,a=e.length;n<a;++n){if(!Pt(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Qe.apply(t,e[n])}return t},Dt=function(e,t){return kt(ne(e,t))},ln=function(e,t){for(var n=0,a=e.length;n<a;++n){var i=e[n];if(t(i,n)!==!0)return!1}return!0},on=function(e){var t=he.call(e,0);return t.reverse(),t},Gn=function(e,t){return Y(e,function(n){return!Tt(t,n)})},Qn=function(e,t){for(var n={},a=0,i=e.length;a<i;a++){var c=e[a];n[String(c)]=t(c,a)}return n},Sr=function(e,t){var n=he.call(e,0);return n.sort(t),n},rt=function(e,t){return t>=0&&t<e.length?g.some(e[t]):g.none()},$e=function(e){return rt(e,0)},ct=function(e){return rt(e,e.length-1)},ht=ze(Array.from)?Array.from:function(e){return he.call(e)},dt=function(e,t){for(var n=0;n<e.length;n++){var a=t(e[n],n);if(a.isSome())return a}return g.none()},Xt=function(e){var t=function(S){return e===S},n=function(S){return Xt(e)},a=function(S){return Xt(e)},i=function(S){return Xt(S(e))},c=function(S){return Xt(e)},s=function(S){S(e)},v=function(S){return S(e)},d=function(S,D){return D(e)},h=function(S){return S(e)},y=function(S){return S(e)},x=function(){return g.some(e)};return{is:t,isValue:Ut,isError:Vt,getOr:$(e),getOrThunk:$(e),getOrDie:$(e),or:n,orThunk:a,fold:d,map:i,mapError:c,each:s,bind:v,exists:h,forall:y,toOptional:x}},Sn=function(e){var t=function(h){return h()},n=function(){return bt(String(e))()},a=function(h){return h},i=function(h){return h()},c=function(h){return Sn(e)},s=function(h){return Sn(h(e))},v=function(h){return Sn(e)},d=function(h,y){return h(e)};return{is:Vt,isValue:Vt,isError:Ut,getOr:_e,getOrThunk:t,getOrDie:n,or:a,orThunk:i,fold:d,map:c,mapError:s,each:de,bind:v,exists:Vt,forall:Ut,toOptional:g.none}},yn=function(e,t){return e.fold(function(){return Sn(t)},Xt)},Lt={value:Xt,error:Sn,fromOption:yn},_n;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(_n||(_n={}));var Nn=function(e,t,n){return e.stype===_n.Error?t(e.serror):n(e.svalue)},gr=function(e){var t=[],n=[];return Le(e,function(a){Nn(a,function(i){return n.push(i)},function(i){return t.push(i)})}),{values:t,errors:n}},Dr=function(e,t){return e.stype===_n.Error?{stype:_n.Error,serror:t(e.serror)}:e},lr=function(e,t){return e.stype===_n.Value?{stype:_n.Value,svalue:t(e.svalue)}:e},Fr=function(e,t){return e.stype===_n.Value?t(e.svalue):e},Pr=function(e,t){return e.stype===_n.Error?t(e.serror):e},ue=function(e){return{stype:_n.Value,svalue:e}},Ne=function(e){return{stype:_n.Error,serror:e}},mt=function(e){return Nn(e,Lt.error,Lt.value)},rn=function(e){return e.fold(Ne,ue)},Ft={fromResult:rn,toResult:mt,svalue:ue,partition:gr,serror:Ne,bind:Fr,bindError:Pr,map:lr,mapError:Dr,fold:Nn},pn=Object.keys,Ar=Object.hasOwnProperty,Vn=function(e,t){for(var n=pn(e),a=0,i=n.length;a<i;a++){var c=n[a],s=e[c];t(s,c)}},qn=function(e,t){return sa(e,function(n,a){return{k:a,v:t(n,a)}})},sa=function(e,t){var n={};return Vn(e,function(a,i){var c=t(a,i);n[c.k]=c.v}),n},Jr=function(e){return function(t,n){e[n]=t}},oa=function(e,t,n,a){var i={};return Vn(e,function(c,s){(t(c,s)?n:a)(c,s)}),i},Ea=function(e,t){var n={};return oa(e,t,Jr(n),de),n},Vr=function(e,t){var n=[];return Vn(e,function(a,i){n.push(t(a,i))}),n},Qr=function(e,t){for(var n=pn(e),a=0,i=n.length;a<i;a++){var c=n[a],s=e[c];if(t(s,c,e))return g.some(s)}return g.none()},ia=function(e){return Vr(e,function(t){return t})},Zt=function(e,t){return Cr(e,t)?g.from(e[t]):g.none()},Cr=function(e,t){return Ar.call(e,t)},_r=function(e,t){return Cr(e,t)&&e[t]!==void 0&&e[t]!==null},ua=function(e){if(!Pt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var t=[],n={};return Le(e,function(a,i){var c=pn(a);if(c.length!==1)throw new Error("one and only one name per case");var s=c[0],v=a[s];if(n[s]!==void 0)throw new Error("duplicate key detected:"+s);if(s==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Pt(v))throw new Error("case arguments must be an array");t.push(s),n[s]=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var y=d.length;if(y!==v.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+v.length+" ("+v+"), got "+y);var x=function(S){var D=pn(S);if(t.length!==D.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+D.join(","));var B=ln(t,function(R){return Tt(D,R)});if(!B)throw new Error("Not all branches were specified when using match. Specified: "+D.join(", ")+`
Required: `+t.join(", "));return S[s].apply(null,d)};return{fold:function(){for(var S=[],D=0;D<arguments.length;D++)S[D]=arguments[D];if(S.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+S.length);var B=S[i];return B.apply(null,d)},match:x,log:function(S){console.log(S,{constructors:t,constructor:s,params:d})}}}}),n},xr={generate:ua},Gr=Object.prototype.hasOwnProperty,da=function(e,t){return t},Ta=function(e,t){var n=$t(e)&&$t(t);return n?Fn(e,t):t},ka=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length===0)throw new Error("Can't merge zero objects");for(var a={},i=0;i<t.length;i++){var c=t[i];for(var s in c)Gr.call(c,s)&&(a[s]=e(a[s],c[s]))}return a}},Fn=ka(Ta),ma=ka(da),qr=function(e){var t=!1,n;return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return t||(t=!0,n=e.apply(null,a)),n}},ga=xr.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Ma=function(e){return ga.defaultedThunk($(e))},W=function(e){return ga.mergeWithThunk($(e))},ae=ga.strict,be=ga.asOption,Oe=ga.defaultedThunk;ga.asDefaultedOptionThunk;var F=ga.mergeWithThunk;xr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var V=function(e){var t=[],n=[];return Le(e,function(a){a.fold(function(i){t.push(i)},function(i){n.push(i)})}),{errors:t,values:n}},pe=function(e,t){var n={};return Vn(e,function(a,i){Tt(t,i)||(n[i]=a)}),n},Me=function(e,t){var n;return n={},n[e]=t,n},Re=function(e){var t={};return Le(e,function(n){t[n.key]=n.value}),t},pt=function(e,t){return pe(e,t)},O=function(e,t){return Me(e,t)},H=function(e){return Re(e)},Z=function(e,t){return e.length===0?Lt.value(t):Lt.value(Fn(t,ma.apply(void 0,e)))},U=function(e){return Lt.error(kt(e))},Ce=function(e,t){var n=V(e);return n.errors.length>0?U(n.errors):Z(n.values,t)},Be=function(e,t){return e.length>0?Ft.svalue(Fn(t,ma.apply(void 0,e))):Ft.svalue(t)},It=function(e){return Ee(Ft.serror,kt)(e)},Kt=function(e,t){var n=Ft.partition(e);return n.errors.length>0?It(n.errors):Be(n.values,t)},it=function(e){var t=Ft.partition(e);return t.errors.length>0?It(t.errors):Ft.svalue(t.values)},en={consolidateObj:Kt,consolidateArr:it},Kn=function(e){return $t(e)&&pn(e).length>100?" removed due to size":JSON.stringify(e,null,2)},Rr=function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e;return ne(t,function(n){return"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo()})},Wn=function(e,t){return Ft.serror([{path:e,getErrorInfo:t}])},er=function(e,t,n){return Wn(e,function(){return'Could not find valid *strict* value for "'+t+'" in '+Kn(n)})},ya=function(e,t){return Wn(e,function(){return'Choice schema did not contain choice key: "'+t+'"'})},zr=function(e,t,n){return Wn(e,function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Kn(t)})},K=function(e,t){return Wn(e,function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"})},fe=function(e,t){return Wn(e,function(){return t})},Je=xr.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Et=function(e,t,n){return Zt(t,n).fold(function(){return er(e,n,t)},Ft.svalue)},Yt=function(e,t,n){var a=Zt(e,t).fold(function(){return n(e)},_e);return Ft.svalue(a)},En=function(e,t){return Ft.svalue(Zt(e,t))},Er=function(e,t,n){var a=Zt(e,t).map(function(i){return i===!0?n(e):i});return Ft.svalue(a)},kr=function(e,t,n,a){return n.fold(function(i,c,s,v){var d=function(y){var x=v.extract(e.concat([i]),a,y);return Ft.map(x,function(S){return Me(c,a(S))})},h=function(y){return y.fold(function(){var x=Me(c,a(g.none()));return Ft.svalue(x)},function(x){var S=v.extract(e.concat([i]),a,x);return Ft.map(S,function(D){return Me(c,a(g.some(D)))})})};return function(){return s.fold(function(){return Ft.bind(Et(e,t,i),d)},function(y){return Ft.bind(Yt(t,i,y),d)},function(){return Ft.bind(En(t,i),h)},function(y){return Ft.bind(Er(t,i,y),h)},function(y){var x=y(t),S=Ft.map(Yt(t,i,$({})),function(D){return Fn(x,D)});return Ft.bind(S,d)})}()},function(i,c){var s=c(t);return Ft.svalue(Me(i,a(s)))})},ha=function(e,t,n,a){var i=ne(n,function(c){return kr(e,t,c,a)});return en.consolidateObj(i,{})},ea=function(e){var t=function(a,i,c){return e().extract(a,i,c)},n=function(){return e().toString()};return{extract:t,toString:n}},M=function(e){var t=function(a,i,c){return Ft.bindError(e(c,i),function(s){return fe(a,s)})},n=function(){return"val"};return{extract:t,toString:n}},oe=function(e){return pn(Ea(e,function(t){return t!=null}))},ce=function(e){var t=ie(e),n=Se(e,function(i,c){return c.fold(function(s){return Fn(i,O(s,!0))},$(i))},{}),a=function(i,c,s){var v=ut(s)?[]:oe(s),d=Y(v,function(h){return!_r(n,h)});return d.length===0?t.extract(i,c,s):K(i,d)};return{extract:a,toString:t.toString}},ie=function(e){var t=function(a,i,c){return ha(a,c,e,i)},n=function(){var a=ne(e,function(i){return i.fold(function(c,s,v,d){return c+" -> "+d.toString()},function(c,s){return"state("+c+")"})});return`obj{
`+a.join(`
`)+"}"};return{extract:t,toString:n}},yt=function(e){var t=function(a,i,c){var s=ne(c,function(v,d){return e.extract(a.concat(["["+d+"]"]),i,v)});return en.consolidateArr(s)},n=function(){return"array("+e.toString()+")"};return{extract:t,toString:n}},bn=function(e){var t=function(a,i,c){for(var s=[],v=0,d=e;v<d.length;v++){var h=d[v],y=h.extract(a,i,c);if(y.stype===_n.Value)return y;s.push(y)}return en.consolidateArr(s)},n=function(){return"oneOf("+ne(e,function(a){return a.toString()}).join(", ")+")"};return{extract:t,toString:n}},tr=function(e,t){var n=function(c,s){return yt(M(e)).extract(c,_e,s)},a=function(c,s,v){var d=pn(v),h=n(c,d);return Ft.bind(h,function(y){var x=ne(y,function(S){return Je.field(S,S,ae(),t)});return ie(x).extract(c,s,v)})},i=function(){return"setOf("+t.toString()+")"};return{extract:a,toString:i}},hr=function(e,t){var n=qr(function(){return t()}),a=function(c,s,v){return n().extract(c,s,v)},i=function(){return n().toString()};return{extract:a,toString:i}},Dn=$(M(Ft.svalue)),ta=Ee(yt,ie),Hr=Je.state,Br=Je.field,ii=function(e,t,n,a,i){var c=Zt(a,i);return c.fold(function(){return zr(e,a,i)},function(s){return s.extract(e.concat(["branch: "+i]),t,n)})},Ai=function(e,t){var n=function(i,c,s){var v=Zt(s,e);return v.fold(function(){return ya(i,e)},function(d){return ii(i,c,s,t,d)})},a=function(){return"chooseOn("+e+"). Possible values: "+pn(t)};return{extract:n,toString:a}},qo=M(Ft.svalue),mu=function(e){return ta(e)},ar=function(){return yt(qo)},gu=ea,Ko=function(e){return M(function(t){return e(t).fold(Ft.serror,Ft.svalue)})},hu=function(e,t){return tr(function(n){return Ft.fromResult(e(n))},t)},Xo=function(e,t,n,a){var i=t.extract([e],n,a);return Ft.mapError(i,function(c){return{input:a,errors:c}})},fr=function(e,t,n){return Ft.toResult(Xo(e,t,_e,n))},Co=function(e){return e.fold(function(t){throw new Error(Do(t))},_e)},Kr=function(e,t,n){return Co(fr(e,t,n))},Do=function(e){return`Errors: 
`+Rr(e.errors).join(`
`)+`

Input object: `+Kn(e.input)},Fo=function(e,t){return Ai(e,t)},_a=function(e,t){return Ai(e,qn(t,ie))},bc=function(e,t){return hr(e,t)},C=$(qo),j=function(e,t){return M(function(n){var a=typeof n;return e(n)?Ft.svalue(n):Ft.serror("Expected type: "+t+" but got: "+a)})},ye=j(Bt,"number"),we=j(wt,"string"),nt=j(ut,"boolean"),b=j(ze,"function"),P=function(e){var t=function(n,a){for(var i=n.next();!i.done;){if(!a(i.value))return!1;i=n.next()}return!0};if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(function(n){return P(e[n])});case"Map":return t(e.keys(),P)&&t(e.values(),P);case"Set":return t(e.keys(),P);default:return!1}},L=M(function(e){return P(e)?Ft.svalue(e):Ft.serror("Expected value to be acceptable for sending via postMessage")}),te=function(e){return Ko(function(t){return Tt(e,t)?Lt.value(t):Lt.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')})},q=function(e){return Br(e,e,ae(),Dn())},gt=function(e,t){return Br(e,e,ae(),t)},vn=function(e){return gt(e,ye)},Mt=function(e){return gt(e,we)},or=function(e,t){return Br(e,e,ae(),te(t))},Pn=function(e){return gt(e,nt)},Xn=function(e){return gt(e,b)},La=function(e,t){return Br(e,e,be(),M(function(n){return Ft.serror("The field: "+e+" is forbidden. "+t)}))},so=function(e,t){return Br(e,e,ae(),ie(t))},Ei=function(e,t){return Br(e,e,ae(),ta(t))},lo=function(e,t){return Br(e,e,ae(),yt(t))},ir=function(e){return Br(e,e,be(),Dn())},Da=function(e,t){return Br(e,e,be(),t)},Ui=function(e){return Da(e,ye)},pr=function(e){return Da(e,we)},fo=function(e){return Da(e,b)},Af=function(e,t){return Da(e,yt(t))},ja=function(e,t){return Da(e,ie(t))},zd=function(e,t){return Da(e,ce(t))},me=function(e,t){return Br(e,e,Ma(t),Dn())},Po=function(e,t,n){return Br(e,e,Ma(t),n)},Mi=function(e,t){return Po(e,t,ye)},pu=function(e,t){return Po(e,t,we)},vo=function(e,t,n){return Po(e,t,te(n))},br=function(e,t){return Po(e,t,nt)},Nr=function(e,t){return Po(e,t,b)},$a=function(e,t){return Po(e,t,L)},Wi=function(e,t,n){return Po(e,t,yt(n))},mi=function(e,t,n){return Po(e,t,ie(n))},Oa=function(e,t){return Hr(e,t)},xt=function(e){var t=e,n=function(){return t},a=function(i){t=i};return{get:n,set:a}},as=function(e,t){var n=t||document,a=n.createElement("div");if(a.innerHTML=e,!a.hasChildNodes()||a.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return ji(a.childNodes[0])},bu=function(e,t){var n=t||document,a=n.createElement(e);return ji(a)},os=function(e,t){var n=t||document,a=n.createTextNode(e);return ji(a)},ji=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ra=function(e,t,n){return g.from(e.dom.elementFromPoint(t,n)).map(ji)},Rt={fromHtml:as,fromTag:bu,fromText:os,fromDom:ji,fromPoint:Ra},zo=function(e,t,n,a){var i=e.isiOS()&&/ipad/i.test(n)===!0,c=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),v=s||a("(pointer:coarse)"),d=i||!c&&s&&a("(min-device-width:768px)"),h=c||s&&!d,y=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,x=!h&&!d&&!y;return{isiPad:$(i),isiPhone:$(c),isTablet:$(d),isPhone:$(h),isTouch:$(v),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:$(y),isDesktop:$(x)}},Nu=function(e,t){for(var n=0;n<e.length;n++){var a=e[n];if(a.test(t))return a}},Bo=function(e,t){var n=Nu(e,t);if(!n)return{major:0,minor:0};var a=function(i){return Number(t.replace(n,"$"+i))};return gi(a(1),a(2))},_i=function(e,t){var n=String(t).toLowerCase();return e.length===0?is():Bo(e,n)},is=function(){return gi(0,0)},gi=function(e,t){return{major:e,minor:t}},Gi={nu:gi,detect:_i,unknown:is},Ef=function(e,t){var n=String(t).toLowerCase();return ve(e,function(a){return a.search(n)})},us=function(e,t){return Ef(e,t).map(function(n){var a=Gi.detect(n.versionRegexes,t);return{current:n.name,version:a}})},cs=function(e,t){return Ef(e,t).map(function(n){var a=Gi.detect(n.versionRegexes,t);return{current:n.name,version:a}})},yu={detectBrowser:us,detectOs:cs},il=function(e,t,n){return t===""||e.length>=t.length&&e.substr(n,n+t.length)===t},Fa=function(e,t){return e.indexOf(t)!==-1},Vu=function(e,t){return il(e,t,e.length-t.length)},Bd=function(e){return function(t){return t.replace(e,"")}},ul=Bd(/^\s+|\s+$/g),qi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Yo=function(e){return function(t){return Fa(t,e)}},Zr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Fa(e,"edge/")&&Fa(e,"chrome")&&Fa(e,"safari")&&Fa(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,qi],search:function(e){return Fa(e,"chrome")&&!Fa(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Fa(e,"msie")||Fa(e,"trident")}},{name:"Opera",versionRegexes:[qi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Yo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Yo("firefox")},{name:"Safari",versionRegexes:[qi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Fa(e,"safari")||Fa(e,"mobile/"))&&Fa(e,"applewebkit")}}],cl=[{name:"Windows",search:Yo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Fa(e,"iphone")||Fa(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Yo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Yo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Yo("linux"),versionRegexes:[]},{name:"Solaris",search:Yo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Yo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Yo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],sl={browsers:$(Zr),oses:$(cl)},ss="Edge",Mf="Chrome",yc="IE",ll="Opera",ls="Firefox",fl="Safari",Uu=function(){return fs({current:void 0,version:Gi.unknown()})},fs=function(e){var t=e.current,n=e.version,a=function(i){return function(){return t===i}};return{current:t,version:n,isEdge:a(ss),isChrome:a(Mf),isIE:a(yc),isOpera:a(ll),isFirefox:a(ls),isSafari:a(fl)}},vl={unknown:Uu,nu:fs,edge:$(ss),chrome:$(Mf),ie:$(yc),opera:$(ll),firefox:$(ls),safari:$(fl)},Jo="Windows",Ga="iOS",$o="Android",Na="Linux",wc="OSX",_f="Solaris",Ki="FreeBSD",vs="ChromeOS",$d=function(){return Df({current:void 0,version:Gi.unknown()})},Df=function(e){var t=e.current,n=e.version,a=function(i){return function(){return t===i}};return{current:t,version:n,isWindows:a(Jo),isiOS:a(Ga),isAndroid:a($o),isOSX:a(wc),isLinux:a(Na),isSolaris:a(_f),isFreeBSD:a(Ki),isChromeOS:a(vs)}},xc={unknown:$d,nu:Df,windows:$(Jo),ios:$(Ga),android:$($o),linux:$(Na),osx:$(wc),solaris:$(_f),freebsd:$(Ki),chromeos:$(vs)},Rd=function(e,t){var n=sl.browsers(),a=sl.oses(),i=yu.detectBrowser(n,e).fold(vl.unknown,vl.nu),c=yu.detectOs(a,e).fold(xc.unknown,xc.nu),s=zo(c,i,e,t);return{browser:i,os:c,deviceType:s}},Ff={detect:Rd},Hd=function(e){return window.matchMedia(e).matches},Pf=qr(function(){return Ff.detect(navigator.userAgent,Hd)}),Ro=function(){return Pf()},Id=function(e,t,n){return(e.compareDocumentPosition(t)&n)!==0},Ld=function(e,t){return Id(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},In=9,zf=11,ds=1,Bf=3,$f=function(e,t){var n=e.dom;if(n.nodeType!==ds)return!1;var a=n;if(a.matches!==void 0)return a.matches(t);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(t);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(t);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Sc=function(e){return e.nodeType!==ds&&e.nodeType!==In&&e.nodeType!==zf||e.childElementCount===0},Rf=function(e,t){var n=t===void 0?document:t.dom;return Sc(n)?[]:ne(n.querySelectorAll(e),Rt.fromDom)},Nd=function(e,t){var n=t===void 0?document:t.dom;return Sc(n)?g.none():g.from(n.querySelector(e)).map(Rt.fromDom)},wa=function(e,t){return e.dom===t.dom},Hf=function(e,t){var n=e.dom,a=t.dom;return n===a?!1:n.contains(a)},Vd=function(e,t){return Ld(e.dom,t.dom)},ms=function(e,t){return Ro().browser.isIE()?Vd(e,t):Hf(e,t)},gs=function(e){return ze(e)?e:Vt},p=function(e,t,n){for(var a=e.dom,i=gs(n);a.parentNode;){a=a.parentNode;var c=Rt.fromDom(a),s=t(c);if(s.isSome())return s;if(i(c))break}return g.none()},T=function(e,t,n){var a=t(e),i=gs(n);return a.orThunk(function(){return i(e)?g.none():p(e,t,i)})},_=function(e,t){return wa(e.element,t.event.target)},X=function(e){if(!_r(e,"can")&&!_r(e,"abort")&&!_r(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return Kr("Extracting event.handler",ce([me("can",Ut),me("abort",Vt),me("run",de)]),e)},se=function(e,t){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return z(e,function(i,c){return i&&t(c).apply(void 0,n)},!0)}},We=function(e,t){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return z(e,function(i,c){return i||t(c).apply(void 0,n)},!1)}},dn=function(e){return ze(e)?{can:Ut,abort:Vt,run:e}:e},Rn=function(e){var t=se(e,function(i){return i.can}),n=We(e,function(i){return i.abort}),a=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];Le(e,function(s){s.run.apply(void 0,i)})};return X({can:t,abort:n,run:a})},zn=$,Hn=zn("touchstart"),$r=zn("touchmove"),Xr=zn("touchend"),If=zn("touchcancel"),hi=zn("mousedown"),hs=zn("mousemove"),ps=zn("mouseout"),Lf=zn("mouseup"),Wu=zn("mouseover"),ju=zn("focusin"),Nf=zn("focusout"),Vf=zn("keydown"),Mb=zn("keyup"),bs=zn("input"),dl=zn("change"),ml=zn("click"),Ud=zn("transitionend"),_b=zn("selectstart"),pa=function(e){return $("alloy."+e)},vh={tap:pa("tap")},Xi=pa("focus"),Wd=pa("blur.post"),gl=pa("paste.post"),Yi=pa("receive"),To=pa("execute"),hl=pa("focus.item"),ys=vh.tap,Db=pa("longpress"),Uf=pa("sandbox.close"),Wf=pa("typeahead.cancel"),jf=pa("system.init"),Fb=pa("system.touchmove"),wu=pa("system.touchend"),pl=pa("system.scroll"),ws=pa("system.resize"),Cc=pa("system.attached"),bl=pa("system.detached"),xs=pa("system.dismissRequested"),dh=pa("system.repositionRequested"),mh=pa("focusmanager.shifted"),Gf=pa("slotcontainer.visibility"),jd=pa("change.tab"),Tc=pa("dismiss.tab"),gh=pa("highlight"),Gd=pa("dehighlight"),ur=function(e,t){Kf(e,e.element,t,{})},Cn=function(e,t,n){Kf(e,e.element,t,n)},kc=function(e){ur(e,To())},qf=function(e,t,n){Kf(e,t,n,{})},Kf=function(e,t,n,a){var i=G({target:t},a);e.getSystem().triggerEvent(n,t,i)},qd=function(e,t,n,a){e.getSystem().triggerEvent(n,t,a.event)},cr=function(e){return H(e)},Xf=function(e,t){return{key:e,value:X({abort:t})}},Kd=function(e,t){return{key:e,value:X({can:t})}},Xd=function(e){return{key:e,value:X({run:function(t,n){n.event.prevent()}})}},Ze=function(e,t){return{key:e,value:X({run:t})}},Yd=function(e,t,n){return{key:e,value:X({run:function(a,i){t.apply(void 0,[a,i].concat(n))}})}},hh=function(e){return function(t){return Ze(e,t)}},Yf=function(e){return function(t){return{key:e,value:X({run:function(n,a){_(n,a)&&t(n,a)}})}}},ph=function(e,t){return Ze(e,function(n,a){n.getSystem().getByUid(t).each(function(i){qd(i,i.element,e,a)})})},xu=function(e,t,n){var a=t.partUids[n];return ph(e,a)},Jf=function(e,t){return Ze(e,function(n,a){var i=a.event,c=n.getSystem().getByDom(i.target).fold(function(){var s=T(i.target,function(v){return n.getSystem().getByDom(v).toOptional()},Vt);return s.getOr(n)},function(s){return s});t(n,c,a)})},Gu=function(e){return Ze(e,function(t,n){n.cut()})},Su=function(e){return Ze(e,function(t,n){n.stop()})},Ss=function(e,t){return Yf(e)(t)},na=Yf(Cc()),ui=Yf(bl()),Pb=Yf(jf()),Ji=hh(To());typeof window!="undefined"||Function("return this;")();var Di=function(e){var t=e.dom.nodeName;return t.toLowerCase()},bh=function(e){return e.dom.nodeType},yl=function(e){return function(t){return bh(t)===e}},qu=yl(ds),Oc=yl(Bf),Jd=yl(In),zb=yl(zf),Fi=function(e){return Rt.fromDom(e.dom.ownerDocument)},Cs=function(e){return Jd(e)?e:Fi(e)},Zd=function(e){return Rt.fromDom(Cs(e).dom.documentElement)},Ts=function(e){return Rt.fromDom(Cs(e).dom.defaultView)},Ho=function(e){return g.from(e.dom.parentNode).map(Rt.fromDom)},Bb=function(e){return Ho(e)},Zf=function(e){return g.from(e.dom.offsetParent).map(Rt.fromDom)},Qf=function(e){return g.from(e.dom.nextSibling).map(Rt.fromDom)},Pi=function(e){return ne(e.dom.childNodes,Rt.fromDom)},Qd=function(e,t){var n=e.dom.childNodes;return g.from(n[t]).map(Rt.fromDom)},$b=function(e){return Qd(e,0)},em=function(e){return zb(e)&&Ct(e.dom.host)},tm=ze(Element.prototype.attachShadow)&&ze(Node.prototype.getRootNode),Rb=$(tm),Va=tm?function(e){return Rt.fromDom(e.dom.getRootNode())}:Cs,ev=function(e){return em(e)?e:Rt.fromDom(Cs(e).dom.body)},Hb=function(e){return yh(e).isSome()},yh=function(e){var t=Va(e);return em(t)?g.some(t):g.none()},nm=function(e){return Rt.fromDom(e.dom.host)},tv=function(e){if(Rb()&&Ct(e.target)){var t=Rt.fromDom(e.target);if(qu(t)&&rm(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return $e(n)}}return g.from(e.target)},rm=function(e){return Ct(e.dom.shadowRoot)},nv=function(e,t){var n=Ho(e);n.each(function(a){a.dom.insertBefore(t.dom,e.dom)})},wh=function(e,t){var n=Qf(e);n.fold(function(){var a=Ho(e);a.each(function(i){Io(i,t)})},function(a){nv(a,t)})},xh=function(e,t){var n=$b(e);n.fold(function(){Io(e,t)},function(a){e.dom.insertBefore(t.dom,a.dom)})},Io=function(e,t){e.dom.appendChild(t.dom)},Ib=function(e,t,n){Qd(e,n).fold(function(){Io(e,t)},function(a){nv(a,t)})},Lb=function(e,t){Le(t,function(n){nv(e,n)})},Sh=function(e,t){Le(t,function(n){Io(e,n)})},am=function(e){e.dom.textContent="",Le(Pi(e),function(t){Ku(t)})},Ku=function(e){var t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Ac=function(e){var t=Pi(e);t.length>0&&Lb(e,t),Ku(e)},Ch=function(e,t){var n=t||document,a=n.createElement("div");return a.innerHTML=e,Pi(Rt.fromDom(a))},om=function(e){return e.dom.innerHTML},wl=function(e,t){var n=Fi(e),a=n.dom,i=Rt.fromDom(a.createDocumentFragment()),c=Ch(t,a);Sh(i,c),am(e),Io(e,i)},Nb=function(e){var t=Rt.fromTag("div"),n=Rt.fromDom(e.dom.cloneNode(!0));return Io(t,n),om(t)},Th=function(e,t,n){if(wt(n)||ut(n)||Bt(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},sr=function(e,t,n){Th(e.dom,t,n)},kh=function(e,t){var n=e.dom;Vn(t,function(a,i){Th(n,i,a)})},mo=function(e,t){var n=e.dom.getAttribute(t);return n===null?void 0:n},Ec=function(e,t){return g.from(mo(e,t))},Oh=function(e,t){var n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},Lo=function(e,t){e.dom.removeAttribute(t)},Vb=function(e,t){return Rt.fromDom(e.dom.cloneNode(t))},Ub=function(e){return Vb(e,!1)},Wb=function(e){if(em(e))return"#shadow-root";var t=Ub(e);return Nb(t)},Xu=function(e){return Wb(e)},jb=function(e,t,n){return wa(t,e.element)&&!wa(t,n)},Ah=cr([Kd(Xi(),function(e,t){var n=t.event,a=n.originator,i=n.target;return jb(e,a,i)?(console.warn(Xi()+` did not get interpreted by the desired target. 
Originator: `+Xu(a)+`
Target: `+Xu(i)+`
Check the `+Xi()+" event handlers"),!1):!0})]),Eh=Object.freeze({__proto__:null,events:Ah}),Mh=0,sn=function(e){var t=new Date,n=t.getTime(),a=Math.floor(Math.random()*1e9);return Mh++,e+"_"+a+Mh+String(n)},Gb=$("alloy-id-"),_h=$("data-alloy-id"),qb=Gb(),rv=_h(),im=function(e,t){var n=sn(qb+e);return av(t,n),n},av=function(e,t){Object.defineProperty(e.dom,rv,{value:t,writable:!0})},xl=function(e){var t=qu(e)?e.dom[rv]:null;return g.from(t)},Sl=function(e){return sn(e)},um=_e,Cl=function(e){var t=function(n){return function(){throw new Error("The component must be in a context to send: "+n+(e?`
`+Xu(e().element)+" is not in context.":""))}};return{debugInfo:$("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:Vt}},Kb=Cl(),Xb=function(e,t,n){var a=n.toString(),i=a.indexOf(")")+1,c=a.indexOf("("),s=a.substring(c+1,i-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:No(s.slice(0,1).concat(s.slice(3)))}},e},No=function(e){return ne(e,function(t){return Vu(t,"/*")?t.substring(0,t.length-2):t})},ov=function(e,t){var n=e.toString(),a=n.indexOf(")")+1,i=n.indexOf("("),c=n.substring(i+1,a-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:No(c)}},e},Dh=function(e,t){var n=t.toString(),a=n.indexOf(")")+1,i=n.indexOf("("),c=n.substring(i+1,a-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:No(c.slice(1))}},e},iv=sn("alloy-premade"),Fh=function(e){return O(iv,e)},Yb=function(e){return Zt(e,iv)},Cu=function(e){return Dh(function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return e.apply(void 0,Ue([t.getApis(),t],n))},e)},zi={init:function(){return ci({readState:function(){return"No State required"}})}},ci=function(e){return e},Jb=function(e,t){var n=ne(t,function(i){return ja(i.name(),[q("config"),me("state",zi)])}),a=fr("component.behaviours",ie(n),e.behaviours).fold(function(i){throw new Error(Do(i)+`
Complete spec:
`+JSON.stringify(e,null,2))},function(i){return i});return{list:t,data:qn(a,function(i){var c=i.map(function(s){return{config:s.config,state:s.state.init(s.config)}});return function(){return c}})}},Zb=function(e){return e.list},Qb=function(e){return e.data},Ph=function(e,t){var n={};return Vn(e,function(a,i){Vn(a,function(c,s){var v=Zt(n,s).getOr([]);n[s]=v.concat([t(i,c)])})}),n},pi=function(e){return{classes:e.classes!==void 0?e.classes:[],attributes:e.attributes!==void 0?e.attributes:{},styles:e.styles!==void 0?e.styles:{}}},zh=function(e,t){return G(G({},e),{attributes:G(G({},e.attributes),t.attributes),styles:G(G({},e.styles),t.styles),classes:e.classes.concat(t.classes)})},Yu=function(e,t,n,a){var i=G({},t);Le(n,function(y){i[y.name()]=y.exhibit(e,a)});var c=Ph(i,function(y,x){return{name:y,modification:x}}),s=function(y){return Se(y,function(x,S){return G(G({},S.modification),x)},{})},v=Se(c.classes,function(y,x){return x.modification.concat(y)},[]),d=s(c.attributes),h=s(c.styles);return pi({classes:v,attributes:d,styles:h})},ey=function(e,t,n,a){try{var i=Sr(n,function(c,s){var v=c[t],d=s[t],h=a.indexOf(v),y=a.indexOf(d);if(h===-1)throw new Error("The ordering for "+e+" does not have an entry for "+v+`.
Order specified: `+JSON.stringify(a,null,2));if(y===-1)throw new Error("The ordering for "+e+" does not have an entry for "+d+`.
Order specified: `+JSON.stringify(a,null,2));return h<y?-1:y<h?1:0});return Lt.value(i)}catch(c){return Lt.error([c])}},ty=function(e,t){return{handler:e,purpose:t}},Bh=function(e,t){return{cHandler:e,purpose:t}},uv=function(e,t){return Bh(nn.apply(void 0,[e.handler].concat(t)),e.purpose)},Tl=function(e){return e.cHandler},ny=function(e,t){return{name:e,handler:t}},ry=function(e,t){var n={};return Le(e,function(a){n[a.name()]=a.handlers(t)}),n},cm=function(e,t,n){var a=G(G({},n),ry(t,e));return Ph(a,ny)},ay=function(e,t,n,a){var i=cm(e,n,a);return Rh(i,t)},$h=function(e){var t=dn(e);return function(n,a){for(var i=[],c=2;c<arguments.length;c++)i[c-2]=arguments[c];var s=[n,a].concat(i);t.abort.apply(void 0,s)?a.stop():t.can.apply(void 0,s)&&t.run.apply(void 0,s)}},oy=function(e,t){return Lt.error(["The event ("+e+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(ne(t,function(n){return n.name}),null,2)])},iy=function(e,t,n){var a=t[n];return a?ey("Event: "+n,"name",e,a).map(function(i){var c=ne(i,function(s){return s.handler});return Rn(c)}):oy(n,e)},Rh=function(e,t){var n=Vr(e,function(a,i){var c=a.length===1?Lt.value(a[0].handler):iy(a,t,i);return c.map(function(s){var v=$h(s),d=a.length>1?Y(t[i],function(h){return Ot(a,function(y){return y.name===h})}).join(" > "):a[0].name;return O(i,ty(v,d))})});return Ce(n,{})},Mc="alloy.base.behaviour",uy=function(e){var t;return fr("custom.definition",ie([Br("dom","dom",ae(),ie([q("tag"),me("styles",{}),me("classes",[]),me("attributes",{}),ir("value"),ir("innerHtml")])),q("components"),q("uid"),me("events",{}),me("apis",{}),Br("eventOrder","eventOrder",W((t={},t[To()]=["disabling",Mc,"toggling","typeaheadevents"],t[Xi()]=[Mc,"focusing","keying"],t[jf()]=[Mc,"disabling","toggling","representing"],t[bs()]=[Mc,"representing","streaming","invalidating"],t[bl()]=[Mc,"representing","item-events","tooltipping"],t[hi()]=["focusing",Mc,"item-type-events"],t[Hn()]=["focusing",Mc,"item-type-events"],t[Wu()]=["item-type-events","tooltipping"],t[Yi()]=["receiving","reflecting","tooltipping"],t)),C()),ir("domModification")]),e)},sm=function(e){return G(G({},e.dom),{uid:e.uid,domChildren:ne(e.components,function(t){return t.element})})},Hh=function(e){return e.domModification.fold(function(){return pi({})},pi)},cy=function(e){return e.events},cv=function(e,t){var n=mo(e,t);return n===void 0||n===""?[]:n.split(" ")},ks=function(e,t,n){var a=cv(e,t),i=a.concat([n]);return sr(e,t,i.join(" ")),!0},_c=function(e,t,n){var a=Y(cv(e,t),function(i){return i!==n});return a.length>0?sr(e,t,a.join(" ")):Lo(e,t),!1},kl=function(e){return e.dom.classList!==void 0},Ih=function(e){return cv(e,"class")},Os=function(e,t){return ks(e,"class",t)},sy=function(e,t){return _c(e,"class",t)},Yr=function(e,t){kl(e)?e.dom.classList.add(t):Os(e,t)},Dc=function(e){var t=kl(e)?e.dom.classList:Ih(e);t.length===0&&Lo(e,"class")},xa=function(e,t){if(kl(e)){var n=e.dom.classList;n.remove(t)}else sy(e,t);Dc(e)},Bi=function(e,t){return kl(e)&&e.dom.classList.contains(t)},Ol=function(e,t){Le(t,function(n){Yr(e,n)})},Ha=function(e,t){Le(t,function(n){xa(e,n)})},Ju=function(e){return e.style!==void 0&&ze(e.style.getPropertyValue)},$i=function(e){var t=Oc(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;var n=t.ownerDocument;return yh(Rt.fromDom(t)).fold(function(){return n.body.contains(t)},Gt($i,nm))},Tu=function(){return sv(Rt.fromDom(document))},sv=function(e){var t=e.dom.body;if(t==null)throw new Error("Body is not available yet");return Rt.fromDom(t)},lm=function(e,t,n){if(!wt(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ju(e)&&e.style.setProperty(t,n)},Lh=function(e,t){Ju(e)&&e.style.removeProperty(t)},Ln=function(e,t,n){var a=e.dom;lm(a,t,n)},As=function(e,t){var n=e.dom;Vn(t,function(a,i){lm(n,i,a)})},Al=function(e,t){var n=e.dom;Vn(t,function(a,i){a.fold(function(){Lh(n,i)},function(c){lm(n,i,c)})})},bi=function(e,t){var n=e.dom,a=window.getComputedStyle(n),i=a.getPropertyValue(t);return i===""&&!$i(e)?Nh(n,t):i},Nh=function(e,t){return Ju(e)?e.style.getPropertyValue(t):""},la=function(e,t){var n=e.dom,a=Nh(n,t);return g.from(a).filter(function(i){return i.length>0})},ly=function(e){var t={},n=e.dom;if(Ju(n))for(var a=0;a<n.style.length;a++){var i=n.style.item(a);t[i]=n.style[i]}return t},Es=function(e,t,n){var a=Rt.fromTag(e);Ln(a,t,n);var i=la(a,t);return i.isSome()},Ur=function(e,t){var n=e.dom;Lh(n,t),Ec(e,"style").map(ul).is("")&&Lo(e,"style")},El=function(e){return e.dom.offsetWidth},Zu=function(e){return e.dom.value},Ml=function(e,t){if(t===void 0)throw new Error("Value.set was undefined");e.dom.value=t},fy=function(e){var t=Rt.fromTag(e.tag);kh(t,e.attributes),Ol(t,e.classes),As(t,e.styles),e.innerHtml.each(function(a){return wl(t,a)});var n=e.domChildren;if(Sh(t,n),e.value.each(function(a){Ml(t,a)}),!e.uid)debugger;return av(t,e.uid),t},vy=function(e){var t=Zt(e,"behaviours").getOr({}),n=Y(pn(t),function(a){return t[a]!==void 0});return ne(n,function(a){return t[a].me})},dy=function(e,t){return Jb(e,t)},Ms=function(e){var t=vy(e);return dy(e,t)},my=function(e,t,n){var a=sm(e),i=Hh(e),c={"alloy.base.modification":i},s=t.length>0?Yu(n,c,t,a):i;return zh(a,s)},gy=function(e,t,n){var a={"alloy.base.behaviour":cy(e)};return ay(n,e.eventOrder,t,a).getOrDie()},Vh=function(e){var t=function(){return re},n=xt(Kb),a=Co(uy(e)),i=Ms(e),c=Zb(i),s=Qb(i),v=my(a,c,s),d=fy(v),h=gy(a,c,s),y=xt(a.components),x=function(le){n.set(le)},S=function(){n.set(Cl(t))},D=function(){var le=Pi(d),Fe=Dt(le,function(Te){return n.get().getByDom(Te).fold(function(){return[]},function(De){return[De]})});y.set(Fe)},B=function(le){var Fe=s,Te=ze(Fe[le.name()])?Fe[le.name()]:function(){throw new Error("Could not find "+le.name()+" in "+JSON.stringify(e,null,2))};return Te()},R=function(le){return ze(s[le.name()])},J=function(){return a.apis},I=function(le){return s[le]().map(function(Fe){return Fe.state.readState()}).getOr("not enabled")},re={getSystem:n.get,config:B,hasConfigured:R,spec:e,readState:I,getApis:J,connect:x,disconnect:S,element:d,syncComponents:D,components:y.get,events:h};return re},hy=function(e){var t=Zt(e,"components").getOr([]);return ne(t,go)},py=function(e){var t=um(e),n=t.events,a=k(t,["events"]),i=hy(a),c=G(G({},a),{events:G(G({},Eh),n),components:i});return Lt.value(Vh(c))},Qu=function(e){var t=Rt.fromText(e);return fm({element:t})},fm=function(e){var t=Kr("external.component",ce([q("element"),ir("uid")]),e),n=xt(Cl()),a=function(s){n.set(s)},i=function(){n.set(Cl(function(){return c}))};t.uid.each(function(s){av(t.element,s)});var c={getSystem:n.get,config:g.none,hasConfigured:Vt,connect:a,disconnect:i,getApis:function(){return{}},element:t.element,spec:e,readState:$("No state"),syncComponents:de,components:$([]),events:{}};return Fh(c)},by=Sl,go=function(e){return Yb(e).fold(function(){var t=e.hasOwnProperty("uid")?e:G({uid:by("")},e);return py(t).getOrDie()},function(t){return t})},ko=Fh,vm=function(e,t){var n=function(v,d){if(!Bt(d)&&!d.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+d);var h=v.dom;Ju(h)&&(h.style[e]=d+"px")},a=function(v){var d=t(v);if(d<=0||d===null){var h=bi(v,e);return parseFloat(h)||0}return d},i=a,c=function(v,d){return z(d,function(h,y){var x=bi(v,y),S=x===void 0?0:parseInt(x,10);return isNaN(S)?h:h+S},0)},s=function(v,d,h){var y=c(v,h),x=d>y?d-y:0;return x};return{set:n,get:a,getOuter:i,aggregate:c,max:s}},dm=vm("height",function(e){var t=e.dom;return $i(e)?t.getBoundingClientRect().height:t.offsetHeight}),ho=function(e){return dm.get(e)},Fc=function(e){return dm.getOuter(e)},lv=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],a=dm.max(e,t,n);Ln(e,"max-height",a+"px")},mm=function(e,t){var n=function(a,i){return mm(e+a,t+i)};return{left:e,top:t,translate:n}},ra=mm,fv=function(e){var t=e.getBoundingClientRect();return ra(t.left,t.top)},vv=function(e,t){return e!==void 0?e:t!==void 0?t:0},ku=function(e){var t=e.dom.ownerDocument,n=t.body,a=t.defaultView,i=t.documentElement;if(n===e.dom)return ra(n.offsetLeft,n.offsetTop);var c=vv(a==null?void 0:a.pageYOffset,i.scrollTop),s=vv(a==null?void 0:a.pageXOffset,i.scrollLeft),v=vv(i.clientTop,n.clientTop),d=vv(i.clientLeft,n.clientLeft);return _l(e).translate(s-d,c-v)},_l=function(e){var t=e.dom,n=t.ownerDocument,a=n.body;return a===t?ra(a.offsetLeft,a.offsetTop):$i(e)?fv(t):ra(0,0)},dv=vm("width",function(e){return e.dom.offsetWidth}),yy=function(e,t){return dv.set(e,t)},Oo=function(e){return dv.get(e)},Pc=function(e){return dv.getOuter(e)},Dl=function(e,t){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],a=dv.max(e,t,n);Ln(e,"max-width",a+"px")},Uh=function(e,t,n,a,i,c,s){return{target:e,x:t,y:n,stop:a,prevent:i,kill:c,raw:s}},Wh=function(e){var t=Rt.fromDom(tv(e).getOr(e.target)),n=function(){return e.stopPropagation()},a=function(){return e.preventDefault()},i=Ee(a,n);return Uh(t,e.clientX,e.clientY,n,a,i,e)},zc=function(e,t){return function(n){e(n)&&t(Wh(n))}},jh=function(e,t,n,a,i){var c=zc(n,a);return e.dom.addEventListener(t,c,i),{unbind:nn(Sy,e,t,c,i)}},wy=function(e,t,n,a){return jh(e,t,n,a,!1)},xy=function(e,t,n,a){return jh(e,t,n,a,!0)},Sy=function(e,t,n,a){e.dom.removeEventListener(t,n,a)},Zi=function(e){var t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,a=t.body.scrollTop||t.documentElement.scrollTop;return ra(n,a)},mv=function(e,t,n){var a=n!==void 0?n.dom:document,i=a.defaultView;i&&i.scrollTo(e,t)},Cy=function(e){var t=e===void 0?window:e;return g.from(t.visualViewport)},Gh=function(e,t,n,a){return{x:e,y:t,width:n,height:a,right:e+n,bottom:t+a}},qh=function(e){var t=e===void 0?window:e,n=t.document,a=Zi(Rt.fromDom(n));return Cy(t).fold(function(){var i=t.document.documentElement,c=i.clientWidth,s=i.clientHeight;return Gh(a.left,a.top,c,s)},function(i){return Gh(Math.max(i.pageLeft,a.left),Math.max(i.pageTop,a.top),i.width,i.height)})},Kh=function(e,t){var n=e.view(t);return n.fold($([]),function(a){var i=e.owner(a),c=Kh(e,i);return[a].concat(c)})},Ty=function(e,t){var n=t.owner(e),a=Kh(t,n);return g.some(a)},ky=function(e){var t,n=e.dom===document?g.none():g.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return n.map(Rt.fromDom)},Oy=function(e){return Fi(e)},Xh=Object.freeze({__proto__:null,view:ky,owner:Oy}),gv=function(e){var t=Rt.fromDom(document),n=Zi(t),a=Ty(e,Xh);return a.fold(nn(ku,e),function(i){var c=_l(e),s=Se(i,function(v,d){var h=_l(d);return{left:v.left+h.left,top:v.top+h.top}},{left:0,top:0});return ra(s.left+c.left+n.left,s.top+c.top+n.top)})},Yh=function(e,t,n){return{point:e,width:t,height:n}},Jh=function(e,t,n,a){return{x:e,y:t,width:n,height:a}},si=function(e,t,n,a){return{x:e,y:t,width:n,height:a,right:e+n,bottom:t+a}},li=function(e){var t=ku(e),n=Pc(e),a=Fc(e);return si(t.left,t.top,n,a)},ec=function(e){var t=gv(e),n=Pc(e),a=Fc(e);return si(t.left,t.top,n,a)},qa=function(){return qh(window)};function tc(e,t,n,a,i){return e(n,a)?g.some(n):ze(i)&&i(n)?g.none():t(n,a,i)}var Zh=function(e,t,n){for(var a=e.dom,i=ze(n)?n:Vt;a.parentNode;){a=a.parentNode;var c=Rt.fromDom(a);if(t(c))return g.some(c);if(i(c))break}return g.none()},_s=function(e,t,n){var a=function(i,c){return c(i)};return tc(a,Zh,e,t,n)},Ay=function(e,t){var n=function(a){for(var i=0;i<a.childNodes.length;i++){var c=Rt.fromDom(a.childNodes[i]);if(t(c))return g.some(c);var s=n(a.childNodes[i]);if(s.isSome())return s}return g.none()};return n(e.dom)},Qh=function(e,t,n){return _s(e,t,n).isSome()},hv=function(e,t,n){return Zh(e,function(a){return $f(a,t)},n)},Ka=function(e,t){return Nd(t,e)},Ri=function(e,t,n){var a=function(i,c){return $f(i,c)};return tc(a,hv,e,t,n)},Ey=function(e){var t=_s(e,function(n){if(!qu(n))return!1;var a=mo(n,"id");return a!==void 0&&a.indexOf("aria-owns")>-1});return t.bind(function(n){var a=mo(n,"id"),i=Va(n);return Ka(i,'[aria-owns="'+a+'"]')})},ep=function(){var e=sn("aria-owns"),t=function(a){sr(a,"aria-owns",e)},n=function(a){Lo(a,"aria-owns")};return{id:e,link:t,unlink:n}},My=function(e,t){return Ey(t).exists(function(n){return Ou(e,n)})},Ou=function(e,t){return Qh(t,function(n){return wa(n,e.element)},Vt)||My(e,t)},tp="unknown",Ds;(function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"})(Ds||(Ds={}));var gm=xt({}),_y=function(e,t){var n=[],a=new Date().getTime();return{logEventCut:function(i,c,s){n.push({outcome:"cut",target:c,purpose:s})},logEventStopped:function(i,c,s){n.push({outcome:"stopped",target:c,purpose:s})},logNoParent:function(i,c,s){n.push({outcome:"no-parent",target:c,purpose:s})},logEventNoHandlers:function(i,c){n.push({outcome:"no-handlers-left",target:c})},logEventResponse:function(i,c,s){n.push({outcome:"response",purpose:s,target:c})},write:function(){var i=new Date().getTime();Tt(["mousemove","mouseover","mouseout",jf()],e)||console.log(e,{event:e,time:i-a,target:t.dom,sequence:ne(n,function(c){return Tt(["cut","stopped","response"],c.outcome)?"{"+c.purpose+"} "+c.outcome+" at ("+Xu(c.target)+")":c.outcome})})}}},Dy=function(e,t,n){var a=Zt(gm.get(),e).orThunk(function(){var s=pn(gm.get());return dt(s,function(v){return e.indexOf(v)>-1?g.some(gm.get()[v]):g.none()})}).getOr(Ds.NORMAL);switch(a){case Ds.NORMAL:return n(By());case Ds.LOGGING:{var i=_y(e,t),c=n(i);return i.write(),c}case Ds.STOP:return!0}},Fy=["alloy/data/Fields","alloy/debugging/Debugging"],Py=function(){var e=new Error;if(e.stack!==void 0){var t=e.stack.split(`
`);return ve(t,function(n){return n.indexOf("alloy")>0&&!Ot(Fy,function(a){return n.indexOf(a)>-1})}).getOr(tp)}else return tp},zy={logEventCut:de,logEventStopped:de,logNoParent:de,logEventNoHandlers:de,logEventResponse:de,write:de},pv=function(e,t,n){return Dy(e,t,n)},By=$(zy),np=$([q("menu"),q("selectedMenu")]),hm=$([q("item"),q("selectedItem")]);$(ie(hm().concat(np())));var $y=$(ie(hm())),Ry=so("initSize",[q("numColumns"),q("numRows")]),Fs=function(){return gt("markers",$y())},nc=function(){return so("markers",[q("backgroundMenu")].concat(np()).concat(hm()))},Au=function(e){return so("markers",ne(e,q))},bv=function(e,t,n){return Py(),Br(t,t,n,Ko(function(a){return Lt.value(function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return a.apply(void 0,i)})}))},vr=function(e){return bv("onHandler",e,Ma(de))},to=function(e){return bv("onKeyboardHandler",e,Ma(g.none))},Bc=function(e){return bv("onHandler",e,ae())},pm=function(e){return bv("onKeyboardHandler",e,ae())},Ir=function(e,t){return Oa(e,$(t))},Qi=function(e){return Oa(e,_e)},rp=$(Ry),no=function(e,t,n,a,i,c){return{x:e,y:t,bubble:n,direction:a,boundsRestriction:i,label:c}},eu=xr.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),ap=function(e,t,n,a,i,c,s,v,d){return e.fold(t,n,a,i,c,s,v,d)},Hy=function(e,t,n,a){return e.fold(t,t,a,a,t,a,n,n)},op=function(e,t,n,a){return e.fold(t,a,t,a,n,n,t,a)},yv=eu.southeast,bm=eu.southwest,ym=eu.northeast,wm=eu.northwest,ip=eu.south,up=eu.north,Iy=eu.east,Ly=eu.west,Ny=function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},ro=function(e,t){return Qn(["left","right","top","bottom"],function(n){return Zt(t,n).map(function(a){return Ny(e,a)})})},wv=function(e,t,n){var a=function(d,h){var y=d==="top"||d==="bottom"?n.top:n.left;return Zt(t,d).bind(_e).bind(function(x){return d==="left"||d==="top"?x>=h?g.some(x):g.none():x<=h?g.some(x):g.none()}).map(function(x){return x+y}).getOr(h)},i=a("left",e.x),c=a("top",e.y),s=a("right",e.right),v=a("bottom",e.bottom);return si(i,c,s-i,v-c)},cp=function(e){return e.x},sp=function(e,t){return e.x+e.width/2-t.width/2},lp=function(e,t){return e.x+e.width-t.width},xm=function(e,t){return e.y-t.height},Fl=function(e){return e.y+e.height},Sm=function(e,t){return e.y+e.height/2-t.height/2},fp=function(e){return e.x+e.width},vp=function(e,t){return e.x-t.width},Xa=function(e,t,n){return no(cp(e),Fl(e),n.southeast(),yv(),ro(e,{left:1,top:3}),"layout-se")},Ya=function(e,t,n){return no(lp(e,t),Fl(e),n.southwest(),bm(),ro(e,{right:0,top:3}),"layout-sw")},ao=function(e,t,n){return no(cp(e),xm(e,t),n.northeast(),ym(),ro(e,{left:1,bottom:2}),"layout-ne")},po=function(e,t,n){return no(lp(e,t),xm(e,t),n.northwest(),wm(),ro(e,{right:0,bottom:2}),"layout-nw")},Vo=function(e,t,n){return no(sp(e,t),xm(e,t),n.north(),up(),ro(e,{bottom:2}),"layout-n")},Ja=function(e,t,n){return no(sp(e,t),Fl(e),n.south(),ip(),ro(e,{top:3}),"layout-s")},Cm=function(e,t,n){return no(fp(e),Sm(e,t),n.east(),Iy(),ro(e,{left:0}),"layout-e")},Ps=function(e,t,n){return no(vp(e,t),Sm(e,t),n.west(),Ly(),ro(e,{right:1}),"layout-w")},Tm=function(){return[Xa,Ya,ao,po,Ja,Vo,Cm,Ps]},dp=function(){return[Ya,Xa,po,ao,Ja,Vo,Cm,Ps]},mp=function(){return[ao,po,Xa,Ya,Vo,Ja]},gp=function(){return[po,ao,Ya,Xa,Vo,Ja]},km=function(){return[Xa,Ya,ao,po,Ja,Vo]},Om=function(){return[Ya,Xa,po,ao,Ja,Vo]},Vy=function(e,t){return t.universal?e:Y(e,function(n){return Tt(t.channels,n)})},Uy=function(e){return cr([Ze(Yi(),function(t,n){var a=e.channels,i=pn(a),c=n,s=Vy(i,c);Le(s,function(v){var d=a[v],h=d.schema,y=Kr("channel["+v+`] data
Receiver: `+Xu(t.element),h,c.data);d.onReceive(t,y)})})])},Wy=Object.freeze({__proto__:null,events:Uy}),hp=[gt("channels",hu(Lt.value,ce([Bc("onReceive"),me("schema",C())])))],Am=function(e,t,n){return Ji(function(a){n(a,e,t)})},Em=function(e,t,n){return Pb(function(a,i){n(a,e,t)})},jy=function(e,t,n,a,i,c){var s=ce(e),v=ja(t,[zd("config",e)]);return Mm(s,v,t,n,a,i,c)},Gy=function(e,t,n,a,i,c){var s=e,v=ja(t,[Da("config",e)]);return Mm(s,v,t,n,a,i,c)},qy=function(e,t,n){var a=function(i){for(var c=[],s=1;s<arguments.length;s++)c[s-1]=arguments[s];var v=[i].concat(c);return i.config({name:$(e)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)},function(d){var h=Array.prototype.slice.call(v,1);return t.apply(void 0,[i,d.config,d.state].concat(h))})};return Xb(a,n,t)},rc=function(e){return{key:e,value:void 0}},Mm=function(e,t,n,a,i,c,s){var v=function(x){return _r(x,n)?x[n]():g.none()},d=qn(i,function(x,S){return qy(n,x,S)}),h=qn(c,function(x,S){return ov(x,S)}),y=G(G(G({},h),d),{revoke:nn(rc,n),config:function(x){var S=Kr(n+"-config",e,x);return{key:n,value:{config:S,me:y,configAsRaw:qr(function(){return Kr(n+"-config",e,x)}),initialConfig:x,state:s}}},schema:$(t),exhibit:function(x,S){return v(x).bind(function(D){return Zt(a,"exhibit").map(function(B){return B(S,D.config,D.state)})}).getOr(pi({}))},name:$(n),handlers:function(x){return v(x).map(function(S){var D=Zt(a,"events").getOr(function(){return{}});return D(S.config,S.state)}).getOr({})}});return y},lt=function(e){return H(e)},Ky=ce([q("fields"),q("name"),me("active",{}),me("apis",{}),me("state",zi),me("extra",{})]),Aa=function(e){var t=Kr("Creating behaviour: "+e.name,Ky,e);return jy(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Xy=ce([q("branchKey"),q("branches"),q("name"),me("active",{}),me("apis",{}),me("state",zi),me("extra",{})]),pp=function(e){var t=Kr("Creating behaviour: "+e.name,Xy,e);return Gy(_a(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},bp=$(void 0),Zo=Aa({fields:hp,name:"receiving",active:Wy}),yp=function(e,t){return pi({classes:[],styles:t.useFixed()?{}:{position:"relative"}})},_m=Object.freeze({__proto__:null,exhibit:yp}),Dm=function(){return Rt.fromDom(document)},ac=function(e){return e.dom.focus()},Yy=function(e){return e.dom.blur()},Fm=function(e){var t=Va(e).dom;return e.dom===t.activeElement},Hi=function(e){return e===void 0&&(e=Dm()),g.from(e.dom.activeElement).map(Rt.fromDom)},bo=function(e){return Hi(Va(e)).filter(function(t){return e.dom.contains(t.dom)})},wp=function(e,t){var n=Va(t),a=Hi(n).bind(function(c){var s=function(v){return wa(c,v)};return s(t)?g.some(t):Ay(t,s)}),i=e(t);return a.each(function(c){Hi(n).filter(function(s){return wa(s,c)}).fold(function(){ac(c)},de)}),i},Ii=function(e,t,n,a,i){return{position:e,left:t,top:n,right:a,bottom:i}},zs=function(e,t){var n=function(a){return a+"px"};Al(e,{position:g.some(t.position),left:t.left.map(n),top:t.top.map(n),right:t.right.map(n),bottom:t.bottom.map(n)})},Pm=xr.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),xp=function(e,t,n,a,i,c){var s=t.x-n,v=t.y-a,d=t.width,h=t.height,y=i-(s+d),x=c-(v+h),S=g.some(s),D=g.some(v),B=g.some(y),R=g.some(x),J=g.none();return ap(t.direction,function(){return Ii(e,S,D,J,J)},function(){return Ii(e,J,D,B,J)},function(){return Ii(e,S,J,J,R)},function(){return Ii(e,J,J,B,R)},function(){return Ii(e,S,D,J,J)},function(){return Ii(e,S,J,J,R)},function(){return Ii(e,S,D,J,J)},function(){return Ii(e,J,D,B,J)})},Jy=function(e,t){return e.fold(function(){return Ii("absolute",g.some(t.x),g.some(t.y),g.none(),g.none())},function(n,a,i,c){return xp("absolute",t,n,a,i,c)},function(n,a,i,c){return xp("fixed",t,n,a,i,c)})},Pl=function(e,t){var n=nn(gv,t),a=e.fold(n,n,function(){var s=Zi();return gv(t).translate(-s.left,-s.top)}),i=Pc(t),c=Fc(t);return si(a.left,a.top,i,c)},zl=function(e,t){return t.fold(function(){return e.fold(qa,qa,si)},function(n){return e.fold(n,n,function(){var a=n(),i=Bl(e,a.x,a.y);return si(i.left,i.top,a.width,a.height)})})},Bl=function(e,t,n){var a=ra(t,n),i=function(){var c=Zi();return a.translate(-c.left,-c.top)};return e.fold($(a),$(a),i)},Zy=function(e,t,n,a){return e.fold(t,n,a)};Pm.none;var Qy=Pm.relative,Sp=Pm.fixed,zm=function(e,t){return{anchorBox:e,origin:t}},Cp=function(e,t){return zm(e,t)},$c=function(e,t,n,a){var i=e+t;return i>a?n:i<n?a:i},tu=function(e,t,n){return Math.min(Math.max(e,t),n)},Rc=xr.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),xv=function(e,t,n,a,i){var c=i.x,s=i.y,v=i.width,d=i.height,h=e>=c,y=t>=s,x=h&&y,S=e+n<=c+v,D=t+a<=s+d,B=S&&D,R=Math.abs(Math.min(n,h?c+v-e:c-(e+n))),J=Math.abs(Math.min(a,y?s+d-t:s-(t+a))),I=Math.max(i.x,i.right-n),re=Math.max(i.y,i.bottom-a),le=tu(e,i.x,I),Fe=tu(t,i.y,re);return{originInBounds:x,sizeInBounds:B,limitX:le,limitY:Fe,deltaW:R,deltaH:J}},Sv=function(e,t,n,a){var i=e.x,c=e.y,s=e.bubble.offset,v=s.left,d=s.top,h=wv(a,e.boundsRestriction,s),y=h.y,x=h.bottom,S=h.x,D=h.right,B=i+v,R=c+d,J=xv(B,R,t,n,h),I=J.originInBounds,re=J.sizeInBounds,le=J.limitX,Fe=J.limitY,Te=J.deltaW,De=J.deltaH,Ae=$(Fe+De-y),tt=$(x-Fe),tn=Hy(e.direction,tt,tt,Ae),_t=$(le+Te-S),He=$(D-le),Ge=op(e.direction,He,He,_t),qt={x:le,y:Fe,width:Te,height:De,maxHeight:tn,maxWidth:Ge,direction:e.direction,classes:{on:e.bubble.classesOn,off:e.bubble.classesOff},label:e.label,candidateYforTest:R};return I&&re?Rc.fit(qt):Rc.nofit(qt,Te,De)},e2=function(e,t,n,a,i){var c=n.width,s=n.height,v=function(h,y,x,S){var D=h(t,n,a),B=Sv(D,c,s,i);return B.fold(Rc.fit,function(R,J,I){var re=I>S||J>x;return re?Rc.nofit(R,J,I):Rc.nofit(y,x,S)})},d=z(e,function(h,y){var x=nn(v,y);return h.fold(Rc.fit,x)},Rc.nofit({x:t.x,y:t.y,width:n.width,height:n.height,maxHeight:n.height,maxWidth:n.width,direction:yv(),classes:{on:[],off:[]},label:"none",candidateYforTest:t.y},-1,-1));return d.fold(_e,_e)},t2=function(e){return{width:Pc(e),height:Fc(e)}},n2=function(e,t,n,a){Ur(t,"max-height"),Ur(t,"max-width");var i=t2(t);return e2(a.preference,e,i,n,a.bounds)},$l=function(e,t){var n=t.classes;Ha(e,n.off),Ol(e,n.on)},Bm=function(e,t,n){var a=n.maxHeightFunction;a(e,t.maxHeight)},Tp=function(e,t,n){var a=n.maxWidthFunction;a(e,t.maxWidth)},r2=function(e,t,n){zs(e,Jy(n.origin,t))},kp=function(e,t){lv(e,Math.floor(t))},a2=$(function(e,t){kp(e,t),As(e,{"overflow-x":"hidden","overflow-y":"auto"})}),Cv=$(function(e,t){kp(e,t)}),Tv=function(e,t,n){return e[t]===void 0?n:e[t]},Op=function(e,t,n,a,i,c){var s=Tv(c,"maxHeightFunction",a2()),v=Tv(c,"maxWidthFunction",de),d=e.anchorBox,h=e.origin,y={bounds:zl(h,i),origin:h,preference:a,maxHeightFunction:s,maxWidthFunction:v};o2(d,t,n,y)},o2=function(e,t,n,a){var i=n2(e,t,n,a);r2(t,i,a),$l(t,i),Bm(t,i,a),Tp(t,i,a)},Rl=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Bs=function(e,t,n){var a=function(c){return Zt(n,c).getOr([])},i=function(c,s,v){var d=Gn(Rl,v);return{offset:ra(c,s),classesOn:Dt(v,a),classesOff:Dt(d,a)}};return{southeast:function(){return i(-e,t,["top","alignLeft"])},southwest:function(){return i(e,t,["top","alignRight"])},south:function(){return i(-e/2,t,["top","alignCentre"])},northeast:function(){return i(-e,-t,["bottom","alignLeft"])},northwest:function(){return i(e,-t,["bottom","alignRight"])},north:function(){return i(-e/2,-t,["bottom","alignCentre"])},east:function(){return i(e,-t/2,["valignCentre","left"])},west:function(){return i(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return i(-e,t,["top","alignRight"])},innerNortheast:function(){return i(e,t,["top","alignLeft"])},innerNorth:function(){return i(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return i(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return i(e,-t,["bottom","alignLeft"])},innerSouth:function(){return i(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return i(e,-t/2,["valignCentre","right"])},innerEast:function(){return i(-e,-t/2,["valignCentre","left"])}}},Hl=function(){return Bs(0,0,{})},Il=function(e){return e},$m=function(e,t){return function(n){return i2(n)==="rtl"?t:e}},i2=function(e){return bi(e,"direction")==="rtl"?"rtl":"ltr"},Eu;(function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"})(Eu||(Eu={}));var Rm="data-alloy-vertical-dir",Ll=function(e){return Qh(e,function(t){return qu(t)&&mo(t,"data-alloy-vertical-dir")===Eu.BottomToTop})},Mu=function(){return ja("layouts",[q("onLtr"),q("onRtl"),ir("onBottomLtr"),ir("onBottomRtl")])},kv=function(e,t,n,a,i,c,s){var v=s.map(Ll).getOr(!1),d=t.layouts.map(function(D){return D.onLtr(e)}),h=t.layouts.map(function(D){return D.onRtl(e)}),y=v?t.layouts.bind(function(D){return D.onBottomLtr.map(function(B){return B(e)})}).or(d).getOr(i):d.getOr(n),x=v?t.layouts.bind(function(D){return D.onBottomRtl.map(function(B){return B(e)})}).or(h).getOr(c):h.getOr(a),S=$m(y,x);return S(e)},u2=function(e,t,n){var a=t.hotspot,i=Pl(n,a.element),c=kv(e.element,t,km(),Om(),mp(),gp(),g.some(t.hotspot.element));return g.some(Il({anchorBox:i,bubble:t.bubble.getOr(Hl()),overrides:t.overrides,layouts:c,placer:g.none()}))},c2=[q("hotspot"),ir("bubble"),me("overrides",{}),Mu(),Ir("placement",u2)],s2=function(e,t,n){var a=Bl(n,t.x,t.y),i=si(a.left,a.top,t.width,t.height),c=kv(e.element,t,Tm(),dp(),Tm(),dp(),g.none());return g.some(Il({anchorBox:i,bubble:t.bubble,overrides:t.overrides,layouts:c,placer:g.none()}))},l2=[q("x"),q("y"),me("height",0),me("width",0),me("bubble",Hl()),me("overrides",{}),Mu(),Ir("placement",s2)],Hm=xr.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),f2=function(e){return e.fold(_e,function(t,n,a){return t.translate(-n,-a)})},v2=function(e){return e.fold(_e,_e)},$s=function(e){return z(e,function(t,n){return t.translate(n.left,n.top)},ra(0,0))},d2=function(e){var t=ne(e,f2);return $s(t)},Ap=function(e){var t=ne(e,v2);return $s(t)},Ov=Hm.screen,Im=Hm.absolute,Lm=function(e,t,n){var a=Ts(n.root).dom,i=function(c){var s=Fi(c),v=Fi(e.element);return wa(s,v)};return g.from(a.frameElement).map(Rt.fromDom).filter(i).map(ku)},Ao=function(e,t,n){var a=Fi(e.element),i=Zi(a),c=Lm(e,t,n).getOr(i);return Im(c,i.left,i.top)},Ep=function(e,t,n,a){var i=e,c=t,s=n,v=a;e<0&&(i=0,s=n+e),t<0&&(c=0,v=a+t);var d=Ov(ra(i,c));return g.some(Yh(d,s,v))},Av=function(e,t,n,a,i){return e.map(function(c){var s=[t,c.point],v=Zy(a,function(){return Ap(s)},function(){return Ap(s)},function(){return d2(s)}),d=Jh(v.left,v.top,c.width,c.height),h=n.showAbove?mp():km(),y=n.showAbove?gp():Om(),x=kv(i,n,h,y,h,y,g.none());return Il({anchorBox:d,bubble:n.bubble.getOr(Hl()),overrides:n.overrides,layouts:x,placer:g.none()})})},m2=function(e,t,n){var a=Ao(e,n,t);return t.node.filter($i).bind(function(i){var c=i.dom.getBoundingClientRect(),s=Ep(c.left,c.top,c.width,c.height),v=t.node.getOr(e.element);return Av(s,a,t,n,v)})},g2=[q("node"),q("root"),ir("bubble"),Mu(),me("overrides",{}),me("showAbove",!1),Ir("placement",m2)],oc="\uFEFF",Ev="\xA0",h2=function(e,t,n,a){return{start:e,soffset:t,finish:n,foffset:a}},Mv={create:h2},_v=xr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mp=function(e,t,n,a){return e.fold(t,n,a)},p2=function(e){return e.fold(_e,_e,_e)},_p=_v.before,b2=_v.on,y2=_v.after,w2={before:_p,on:b2,after:y2,cata:Mp,getStart:p2},_u=xr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Nl=function(e){return _u.exact(e.start,e.soffset,e.finish,e.foffset)},x2=function(e){return e.match({domRange:function(t){return Rt.fromDom(t.startContainer)},relative:function(t,n){return w2.getStart(t)},exact:function(t,n,a,i){return t}})},Dp=_u.domRange,S2=_u.relative,Fp=_u.exact,Pp=function(e){var t=x2(e);return Ts(t)},Nm=Mv.create,Vl={domRange:Dp,relative:S2,exact:Fp,exactFromRange:Nl,getWin:Pp,range:Nm},C2=function(e,t){t.fold(function(n){e.setStartBefore(n.dom)},function(n,a){e.setStart(n.dom,a)},function(n){e.setStartAfter(n.dom)})},T2=function(e,t){t.fold(function(n){e.setEndBefore(n.dom)},function(n,a){e.setEnd(n.dom,a)},function(n){e.setEndAfter(n.dom)})},Rs=function(e,t,n){var a=e.document.createRange();return C2(a,t),T2(a,n),a},zp=function(e,t,n,a,i){var c=e.document.createRange();return c.setStart(t.dom,n),c.setEnd(a.dom,i),c},k2=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}},O2=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?g.some(n).map(k2):g.none()},Hs=xr.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Bp=function(e,t,n){return t(Rt.fromDom(n.startContainer),n.startOffset,Rt.fromDom(n.endContainer),n.endOffset)},$p=function(e,t){return t.match({domRange:function(n){return{ltr:$(n),rtl:g.none}},relative:function(n,a){return{ltr:qr(function(){return Rs(e,n,a)}),rtl:qr(function(){return g.some(Rs(e,a,n))})}},exact:function(n,a,i,c){return{ltr:qr(function(){return zp(e,n,a,i,c)}),rtl:qr(function(){return g.some(zp(e,i,c,n,a))})}}})},Rp=function(e,t){var n=t.ltr();if(n.collapsed){var a=t.rtl().filter(function(i){return i.collapsed===!1});return a.map(function(i){return Hs.rtl(Rt.fromDom(i.endContainer),i.endOffset,Rt.fromDom(i.startContainer),i.startOffset)}).getOrThunk(function(){return Bp(e,Hs.ltr,n)})}else return Bp(e,Hs.ltr,n)},Hp=function(e,t){var n=$p(e,t);return Rp(e,n)},A2=function(e,t){var n=Hp(e,t);return n.match({ltr:function(a,i,c,s){var v=e.document.createRange();return v.setStart(a.dom,i),v.setEnd(c.dom,s),v},rtl:function(a,i,c,s){var v=e.document.createRange();return v.setStart(c.dom,s),v.setEnd(a.dom,i),v}})};Hs.ltr,Hs.rtl;var Ip=function(e,t){var n=function(c){if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return a(c).getOr("")},a=function(c){return e(c)?g.from(c.dom.nodeValue):g.none()},i=function(c,s){if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=s};return{get:n,getOption:a,set:i}},Lp=Ip(Oc,"text"),E2=function(e){return Lp.get(e)},Np=function(e){return Lp.getOption(e)},M2=function(e){return Di(e)==="img"?1:Np(e).fold(function(){return Pi(e).length},function(t){return t.length})},_2=function(e){return Np(e).filter(function(t){return t.trim().length!==0||t.indexOf(Ev)>-1}).isSome()},Vp=["img","br"],Is=function(e){var t=_2(e);return t||Tt(Vp,Di(e))},D2=function(e){return F2(e,Is)},F2=function(e,t){var n=function(a){for(var i=Pi(a),c=i.length-1;c>=0;c--){var s=i[c];if(t(s))return g.some(s);var v=n(s);if(v.isSome())return v}return g.none()};return n(e)},Eo=function(e,t){return Rf(t,e)},Up=function(e,t,n,a){var i=Fi(e),c=i.dom.createRange();return c.setStart(e.dom,t),c.setEnd(n.dom,a),c},P2=function(e,t,n,a){var i=Up(e,t,n,a),c=wa(e,n)&&t===a;return i.collapsed&&!c},Uo=function(e){return g.from(e.getSelection())},Wp=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return g.some(Mv.create(Rt.fromDom(t.startContainer),t.startOffset,Rt.fromDom(n.endContainer),n.endOffset))}else return g.none()},z2=function(e){if(e.anchorNode===null||e.focusNode===null)return Wp(e);var t=Rt.fromDom(e.anchorNode),n=Rt.fromDom(e.focusNode);return P2(t,e.anchorOffset,n,e.focusOffset)?g.some(Mv.create(t,e.anchorOffset,n,e.focusOffset)):Wp(e)},B2=function(e){return Uo(e).filter(function(t){return t.rangeCount>0}).bind(z2)},Vm=function(e,t){var n=A2(e,t);return O2(n)},Ls=function(e,t){return{element:e,offset:t}},Um=function(e,t){var n=Pi(e);if(n.length===0)return Ls(e,t);if(t<n.length)return Ls(n[t],0);var a=n[n.length-1],i=Oc(a)?E2(a).length:Pi(a).length;return Ls(a,i)},jp=function(e,t){return Oc(e)?Ls(e,t):Um(e,t)},Gp=function(e,t){var n=t.getSelection.getOrThunk(function(){return function(){return B2(e)}});return n().map(function(a){var i=jp(a.start,a.soffset),c=jp(a.finish,a.foffset);return Vl.range(i.element,i.offset,c.element,c.offset)})},$2=function(e,t,n){var a=Ts(t.root).dom,i=Ao(e,n,t),c=Gp(a,t).bind(function(d){var h=Vm(a,Vl.exactFromRange(d)).orThunk(function(){var y=Rt.fromText(oc);return nv(d.start,y),Vm(a,Vl.exact(y,0,y,1)).map(function(x){return Ku(y),x})});return h.bind(function(y){return Ep(y.left,y.top,y.width,y.height)})}),s=Gp(a,t).bind(function(d){return qu(d.start)?g.some(d.start):Bb(d.start)}),v=s.getOr(e.element);return Av(c,i,t,n,v)},qp=[ir("getSelection"),q("root"),ir("bubble"),Mu(),me("overrides",{}),me("showAbove",!1),Ir("placement",$2)],yi=function(e){return e.x+e.width},ic=function(e,t){return e.x-t.width},Dv=function(e,t){return e.y-t.height+e.height},Hc=function(e){return e.y},Fv=function(e,t,n){return no(yi(e),Hc(e),n.southeast(),yv(),ro(e,{left:0,top:2}),"link-layout-se")},Kp=function(e,t,n){return no(ic(e,t),Hc(e),n.southwest(),bm(),ro(e,{right:1,top:2}),"link-layout-sw")},Xp=function(e,t,n){return no(yi(e),Dv(e,t),n.northeast(),ym(),ro(e,{left:0,bottom:3}),"link-layout-ne")},Yp=function(e,t,n){return no(ic(e,t),Dv(e,t),n.northwest(),wm(),ro(e,{right:1,bottom:3}),"link-layout-nw")},Jp=function(){return[Fv,Kp,Xp,Yp]},Zp=function(){return[Kp,Fv,Yp,Xp]},R2=function(e,t,n){var a=Pl(n,t.item.element),i=kv(e.element,t,Jp(),Zp(),Jp(),Zp(),g.none());return g.some(Il({anchorBox:a,bubble:Hl(),overrides:t.overrides,layouts:i,placer:g.none()}))},H2=[q("item"),Mu(),me("overrides",{}),Ir("placement",R2)],I2=_a("anchor",{selection:qp,node:g2,hotspot:c2,submenu:H2,makeshift:l2}),L2=function(){var e=document.documentElement;return Sp(0,0,e.clientWidth,e.clientHeight)},N2=function(e){var t=ku(e.element),n=e.element.dom.getBoundingClientRect();return Qy(t.left,t.top,n.width,n.height)},V2=function(e,t,n,a,i){var c=Cp(n.anchorBox,t);Op(c,i.element,n.bubble,n.layouts,a,n.overrides)},Pv=function(e,t,n,a,i){Qp(e,t,n,a,i,g.none())},Qp=function(e,t,n,a,i,c){var s=c.map(li);return e1(e,t,n,a,i,s)},e1=function(e,t,n,a,i,c){var s=Kr("positioning anchor.info",I2,a);wp(function(){Ln(i.element,"position","fixed");var v=la(i.element,"visibility");Ln(i.element,"visibility","hidden");var d=t.useFixed()?L2():N2(e),h=s.placement,y=c.map($).or(t.getBounds);h(e,s,d).each(function(x){var S=x.placer.getOr(V2);S(e,d,x,y,i)}),v.fold(function(){Ur(i.element,"visibility")},function(x){Ln(i.element,"visibility",x)}),la(i.element,"left").isNone()&&la(i.element,"top").isNone()&&la(i.element,"right").isNone()&&la(i.element,"bottom").isNone()&&la(i.element,"position").is("fixed")&&Ur(i.element,"position")},i.element)},U2=function(e,t,n){return t.useFixed()?"fixed":"absolute"},W2=Object.freeze({__proto__:null,position:Pv,positionWithin:Qp,positionWithinBounds:e1,getMode:U2}),j2=[me("useFixed",Vt),ir("getBounds")],yo=Aa({fields:j2,name:"positioning",active:_m,apis:W2}),Ns=function(e){ur(e,bl());var t=e.components();Le(t,Ns)},Vs=function(e){var t=e.components();Le(t,Vs),ur(e,Cc())},Wm=function(e,t){Io(e.element,t.element)},t1=function(e){Le(e.components(),function(t){return Ku(t.element)}),am(e.element),e.syncComponents()},jm=function(e,t){var n=e.components();t1(e);var a=Gn(n,t);Le(a,function(i){Ns(i),e.getSystem().removeFromWorld(i)}),Le(t,function(i){i.getSystem().isConnected()?Wm(e,i):(e.getSystem().addToWorld(i),Wm(e,i),$i(e.element)&&Vs(i)),e.syncComponents()})},uc=function(e,t){n1(e,t,Io)},n1=function(e,t,n){e.getSystem().addToWorld(t),n(e.element,t.element),$i(e.element)&&Vs(t),e.syncComponents()},Gm=function(e){Ns(e),Ku(e.element),e.getSystem().removeFromWorld(e)},Ic=function(e){var t=Ho(e.element).bind(function(n){return e.getSystem().getByDom(n).toOptional()});Gm(e),t.each(function(n){n.syncComponents()})},r1=function(e){var t=e.components();Le(t,Gm),am(e.element),e.syncComponents()},qm=function(e,t){a1(e,t,Io)},G2=function(e,t){a1(e,t,wh)},a1=function(e,t,n){n(e,t.element);var a=Pi(t.element);Le(a,function(i){t.getByDom(i).each(Vs)})},o1=function(e){var t=Pi(e.element);Le(t,function(n){e.getByDom(n).each(Ns)}),Ku(e.element)},i1=function(e,t,n,a){n.get().each(function(s){r1(e)});var i=t.getAttachPoint(e);uc(i,e);var c=e.getSystem().build(a);return uc(e,c),n.set(c),c},u1=function(e,t,n,a){var i=i1(e,t,n,a);return t.onOpen(e,i),i},q2=function(e,t,n,a){return n.get().map(function(){return i1(e,t,n,a)})},K2=function(e,t,n,a,i){Km(e,t),u1(e,t,n,a),i(),Xm(e,t)},c1=function(e,t,n){n.get().each(function(a){r1(e),Ic(e),t.onClose(e,a),n.clear()})},s1=function(e,t,n){return n.isOpen()},X2=function(e,t,n,a){return s1(e,t,n)&&n.get().exists(function(i){return t.isPartOf(e,i,a)})},Y2=function(e,t,n){return n.get()},J2=function(e,t,n,a){la(e.element,t).fold(function(){Lo(e.element,n)},function(i){sr(e.element,n,i)}),Ln(e.element,t,a)},Z2=function(e,t,n){Ec(e.element,n).fold(function(){return Ur(e.element,t)},function(a){return Ln(e.element,t,a)})},Km=function(e,t,n){var a=t.getAttachPoint(e);Ln(e.element,"position",yo.getMode(a)),J2(e,"visibility",t.cloakVisibilityAttr,"hidden")},Q2=function(e){return Ot(["top","left","right","bottom"],function(t){return la(e,t).isSome()})},Xm=function(e,t,n){Q2(e.element)||Ur(e.element,"position"),Z2(e,"visibility",t.cloakVisibilityAttr)},l1=Object.freeze({__proto__:null,cloak:Km,decloak:Xm,open:u1,openWhileCloaked:K2,close:c1,isOpen:s1,isPartOf:X2,getState:Y2,setContent:q2}),f1=function(e,t){return cr([Ze(Uf(),function(n,a){c1(n,e,t)})])},ew=Object.freeze({__proto__:null,events:f1}),v1=[vr("onOpen"),vr("onClose"),q("isPartOf"),q("getAttachPoint"),me("cloakVisibilityAttr","data-precloak-visibility")],Ym=function(){var e=xt(g.none()),t=$("not-implemented"),n=function(){return e.get().isSome()},a=function(s){e.set(g.some(s))},i=function(){return e.get()},c=function(){e.set(g.none())};return ci({readState:t,isOpen:n,clear:c,set:a,get:i})},d1=Object.freeze({__proto__:null,init:Ym}),Yn=Aa({fields:v1,name:"sandboxing",active:ew,apis:l1,state:d1}),Lc=$("dismiss.popups"),Du=$("reposition.popups"),Ul=$("mouse.released"),zv=ce([me("isExtraPart",Vt),ja("fireEventInstead",[me("event",xs())])]),Wl=function(e){var t,n=Kr("Dismissal",zv,e);return t={},t[Lc()]={schema:ce([q("target")]),onReceive:function(a,i){if(Yn.isOpen(a)){var c=Yn.isPartOf(a,i.target)||n.isExtraPart(a,i.target);c||n.fireEventInstead.fold(function(){return Yn.close(a)},function(s){return ur(a,s.event)})}}},t},tw=ce([ja("fireEventInstead",[me("event",dh())]),Xn("doReposition")]),Jm=function(e){var t,n=Kr("Reposition",tw,e);return t={},t[Du()]={onReceive:function(a){Yn.isOpen(a)&&n.fireEventInstead.fold(function(){return n.doReposition(a)},function(i){return ur(a,i.event)})}},t},Zm=function(e,t,n){t.store.manager.onLoad(e,t,n)},m1=function(e,t,n){t.store.manager.onUnload(e,t,n)},nw=function(e,t,n,a){t.store.manager.setValue(e,t,n,a)},rw=function(e,t,n){return t.store.manager.getValue(e,t,n)},aw=function(e,t,n){return n},g1=Object.freeze({__proto__:null,onLoad:Zm,onUnload:m1,setValue:nw,getValue:rw,getState:aw}),ow=function(e,t){var n=e.resetOnDom?[na(function(a,i){Zm(a,e,t)}),ui(function(a,i){m1(a,e,t)})]:[Em(e,t,Zm)];return cr(n)},iw=Object.freeze({__proto__:null,events:ow}),h1=function(){var e=xt(null),t=function(){return{mode:"memory",value:e.get()}},n=function(){return e.get()===null},a=function(){e.set(null)};return ci({set:e.set,get:e.get,isNotSet:n,clear:a,readState:t})},uw=function(){var e=de;return ci({readState:e})},p1=function(){var e=xt({}),t=xt({}),n=function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},a=function(){e.set({}),t.set({})},i=function(s){return Zt(e.get(),s).orThunk(function(){return Zt(t.get(),s)})},c=function(s){var v=e.get(),d=t.get(),h={},y={};Le(s,function(x){h[x.value]=x,Zt(x,"meta").each(function(S){Zt(S,"text").each(function(D){y[D]=x})})}),e.set(G(G({},v),h)),t.set(G(G({},d),y))};return ci({readState:n,lookup:i,update:c,clear:a})},cw=function(e){return e.store.manager.state(e)},sw=Object.freeze({__proto__:null,memory:h1,dataset:p1,manual:uw,init:cw}),Qm=function(e,t,n,a){var i=t.store;n.update([a]),i.setValue(e,a),t.onSetValue(e,a)},b1=function(e,t,n){var a=t.store,i=a.getDataKey(e);return n.lookup(i).fold(function(){return a.getFallbackEntry(i)},function(c){return c})},y1=function(e,t,n){var a=t.store;a.initialValue.each(function(i){Qm(e,t,n,i)})},w1=function(e,t,n){n.clear()},lw=[ir("initialValue"),q("getFallbackEntry"),q("getDataKey"),q("setValue"),Ir("manager",{setValue:Qm,getValue:b1,onLoad:y1,onUnload:w1,state:p1})],fw=function(e,t,n){return t.store.getValue(e)},x1=function(e,t,n,a){t.store.setValue(e,a),t.onSetValue(e,a)},vw=function(e,t,n){t.store.initialValue.each(function(a){t.store.setValue(e,a)})},dw=[q("getValue"),me("setValue",de),ir("initialValue"),Ir("manager",{setValue:x1,getValue:fw,onLoad:vw,onUnload:de,state:zi.init})],mw=function(e,t,n,a){n.set(a),t.onSetValue(e,a)},gw=function(e,t,n){return n.get()},S1=function(e,t,n){t.store.initialValue.each(function(a){n.isNotSet()&&n.set(a)})},eg=function(e,t,n){n.clear()},tg=[ir("initialValue"),Ir("manager",{setValue:mw,getValue:gw,onLoad:S1,onUnload:eg,state:h1})],hw=[Po("store",{mode:"memory"},_a("mode",{memory:tg,manual:dw,dataset:lw})),vr("onSetValue"),me("resetOnDom",!1)],zt=Aa({fields:hw,name:"representing",active:iw,apis:g1,extra:{setValueFrom:function(e,t){var n=zt.getValue(t);zt.setValue(e,n)}},state:sw}),Pa=function(e,t){return mi(e,{},ne(t,function(n){return La(n.name(),"Cannot configure "+n.name()+" for "+e)}).concat([Oa("dump",_e)]))},Bv=function(e){return e.dump},Sa=function(e,t){return G(G({},e.dump),lt(t))},Wo={field:Pa,augment:Sa,get:Bv},$v="placeholder",jl=xr.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Gl=function(e){return Cr(e,"uiType")},C1=function(e,t,n,a){return e.exists(function(i){return i!==n.owner})?jl.single(!0,$(n)):Zt(a,n.name).fold(function(){throw new Error("Unknown placeholder component: "+n.name+`
Known: [`+pn(a)+`]
Namespace: `+e.getOr("none")+`
Spec: `+JSON.stringify(n,null,2))},function(i){return i.replace()})},ng=function(e,t,n,a){return Gl(n)&&n.uiType===$v?C1(e,t,n,a):jl.single(!1,$(n))},T1=function(e,t,n,a){var i=ng(e,t,n,a);return i.fold(function(c,s){var v=Gl(n)?s(t,n.config,n.validated):s(t),d=Zt(v,"components").getOr([]),h=Dt(d,function(y){return T1(e,t,y,a)});return[G(G({},v),{components:h})]},function(c,s){if(Gl(n)){var v=s(t,n.config,n.validated),d=n.validated.preprocess.getOr(_e);return d(v)}else return s(t)})},pw=function(e,t,n,a){return Dt(n,function(i){return T1(e,t,i,a)})},bw=function(e,t){var n=!1,a=function(){return n},i=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},c=function(){return t.fold(function(s,v){return s},function(s,v){return s})};return{name:$(e),required:c,used:a,replace:i}},yw=function(e,t,n,a){var i=qn(a,function(s,v){return bw(v,s)}),c=pw(e,t,n,i);return Vn(i,function(s){if(s.used()===!1&&s.required())throw new Error("Placeholder: "+s.name()+` was not found in components list
Namespace: `+e.getOr("none")+`
Components: `+JSON.stringify(t.components,null,2))}),c},k1=jl.single,ww=jl.multiple,O1=$($v),ql=xr.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Kl=me("factory",{sketch:_e}),Fu=me("schema",[]),Xl=q("name"),rg=Br("pname","pname",Oe(function(e){return"<alloy."+sn(e.name)+">"}),C()),xw=Oa("schema",function(){return[ir("preprocess")]}),Rv=me("defaults",$({})),Hv=me("overrides",$({})),Sw=ie([Kl,Fu,Xl,rg,Rv,Hv]),Cw=ie([Kl,Fu,Xl,Rv,Hv]),Tw=ie([Kl,Fu,Xl,rg,Rv,Hv]),kw=ie([Kl,xw,Xl,q("unit"),rg,Rv,Hv]),ag=function(e){return e.fold(g.some,g.none,g.some,g.some)},A1=function(e){var t=function(n){return n.name};return e.fold(t,t,t,t)},Ow=function(e){return e.fold(_e,_e,_e,_e)},Iv=function(e,t){return function(n){var a=Kr("Converting part type",t,n);return e(a)}},Za=Iv(ql.required,Sw),wi=Iv(ql.external,Cw),xi=Iv(ql.optional,Tw),Lv=Iv(ql.group,kw),Yl=$("entirety"),Aw=Object.freeze({__proto__:null,required:Za,external:wi,optional:xi,group:Lv,asNamedPart:ag,name:A1,asCommon:Ow,original:Yl}),og=function(e,t,n,a){return Fn(t.defaults(e,n,a),n,{uid:e.partUids[t.name]},t.overrides(e,n,a))},E1=function(e,t,n){var a={},i={};return Le(n,function(c){c.fold(function(s){a[s.pname]=k1(!0,function(v,d,h){return s.factory.sketch(og(v,s,d,h))})},function(s){var v=t.parts[s.name];i[s.name]=$(s.factory.sketch(og(t,s,v[Yl()]),v))},function(s){a[s.pname]=k1(!1,function(v,d,h){return s.factory.sketch(og(v,s,d,h))})},function(s){a[s.pname]=ww(!0,function(v,d,h){var y=v[s.name];return ne(y,function(x){return s.factory.sketch(Fn(s.defaults(v,x,h),x,s.overrides(v,x)))})})})}),{internals:$(a),externals:$(i)}},Nv=function(e,t){var n={};return Le(t,function(a){ag(a).each(function(i){var c=Vv(e,i.pname);n[i.name]=function(s){var v=Kr("Part: "+i.name+" in "+e,ie(i.schema),s);return G(G({},c),{config:s,validated:v})}})}),n},Vv=function(e,t){return{uiType:O1(),owner:e,name:t}},ig=function(e,t,n){return{uiType:O1(),owner:e,name:t,config:n,validated:{}}},M1=function(e){return Dt(e,function(t){return t.fold(g.none,g.some,g.none,g.none).map(function(n){return so(n.name,n.schema.concat([Qi(Yl())]))}).toArray()})},_1=function(e){return ne(e,A1)},ug=function(e,t,n){return E1(e,t,n)},cg=function(e,t,n){return yw(g.some(e),t,t.components,n)},Mr=function(e,t,n){var a=t.partUids[n];return e.getSystem().getByUid(a).toOptional()},nu=function(e,t,n){return Mr(e,t,n).getOrDie("Could not find part: "+n)},Nc=function(e,t,n){var a={},i=t.partUids,c=e.getSystem();return Le(n,function(s){a[s]=$(c.getByUid(i[s]))}),a},sg=function(e,t){var n=e.getSystem();return qn(t.partUids,function(a,i){return $(n.getByUid(a))})},D1=function(e){return pn(e.partUids)},lg=function(e,t,n){var a={},i=t.partUids,c=e.getSystem();return Le(n,function(s){a[s]=$(c.getByUid(i[s]).getOrDie())}),a},F1=function(e,t){var n=_1(t);return H(ne(n,function(a){return{key:a,value:e+"-"+a}}))},Vc=function(e){return Br("partUids","partUids",F(function(t){return F1(t.uid,e)}),C())},fg=Object.freeze({__proto__:null,generate:Nv,generateOne:ig,schemas:M1,names:_1,substitutes:ug,components:cg,defaultUids:F1,defaultUidsSchema:Vc,getAllParts:sg,getAllPartNames:D1,getPart:Mr,getPartOrDie:nu,getParts:Nc,getPartsOrDie:lg}),Ew=function(e,t){var n=e.length>0?[so("parts",e)]:[];return n.concat([q("uid"),me("dom",{}),me("components",[]),Qi("originalSpec"),me("debug.sketcher",{})]).concat(t)},P1=function(e,t,n,a,i){var c=Ew(a,i);return Kr(e+" [SpecSchema]",ce(c.concat(t)),n)},Mw=function(e,t,n,a){var i=oo(a),c=P1(e,t,i,[],[]);return n(c,i)},vg=function(e,t,n,a,i){var c=oo(i),s=M1(n),v=Vc(n),d=P1(e,t,c,s,[v]),h=ug(e,d,n),y=cg(e,d,h.internals());return a(d,y,c,h.externals())},_w=function(e){return Cr(e,"uid")},oo=function(e){return _w(e)?e:G(G({},e),{uid:Sl("uid")})},Uv=function(e){return e.uid!==void 0},Dw=ce([q("name"),q("factory"),q("configFields"),me("apis",{}),me("extraApis",{})]),Fw=ce([q("name"),q("factory"),q("configFields"),q("partFields"),me("apis",{}),me("extraApis",{})]),fi=function(e){var t=Kr("Sketcher for "+e.name,Dw,e),n=function(c){return Mw(t.name,t.configFields,t.factory,c)},a=qn(t.apis,Cu),i=qn(t.extraApis,function(c,s){return ov(c,s)});return G(G({name:t.name,configFields:t.configFields,sketch:n},a),i)},wo=function(e){var t=Kr("Sketcher for "+e.name,Fw,e),n=function(s){return vg(t.name,t.configFields,t.partFields,t.factory,s)},a=Nv(t.name,t.partFields),i=qn(t.apis,Cu),c=qn(t.extraApis,function(s,v){return ov(s,v)});return G(G({name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:n,parts:a},i),c)},Us=function(e){for(var t=[],n=function(i){t.push(i)},a=0;a<e.length;a++)e[a].each(n);return t},Pw=function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];if(a.isSome())t.push(a.getOrDie());else return g.none()}return g.some(t)},zw=function(e,t,n){return e.isSome()&&t.isSome()?g.some(n(e.getOrDie(),t.getOrDie())):g.none()},cc=function(e,t,n,a){return e.isSome()&&t.isSome()&&n.isSome()?g.some(a(e.getOrDie(),t.getOrDie(),n.getOrDie())):g.none()},Bw=function(e,t){return e!=null?g.some(t(e)):g.none()},z1=function(e,t){return e?g.some(t):g.none()},Ws=function(e){return Di(e)==="input"&&mo(e,"type")!=="radio"||Di(e)==="textarea"},$w=function(e,t,n){return t.find(e)},B1=Object.freeze({__proto__:null,getCurrent:$w}),Wv=[q("find")],nr=Aa({fields:Wv,name:"composing",apis:B1}),$1=function(e,t,n,a){var i=Eo(e.element,"."+t.highlightClass);Le(i,function(c){Ot(a,function(s){return s.element===c})||(xa(c,t.highlightClass),e.getSystem().getByDom(c).each(function(s){t.onDehighlight(e,s),ur(s,Gd())}))})},Jl=function(e,t,n){return $1(e,t,n,[])},R1=function(e,t,n,a){jv(e,t,n,a)&&(xa(a.element,t.highlightClass),t.onDehighlight(e,a),ur(a,Gd()))},Zl=function(e,t,n,a){$1(e,t,n,[a]),jv(e,t,n,a)||(Yr(a.element,t.highlightClass),t.onHighlight(e,a),ur(a,gh()))},Rw=function(e,t,n){H1(e,t).each(function(a){Zl(e,t,n,a)})},dg=function(e,t,n){gg(e,t).each(function(a){Zl(e,t,n,a)})},mg=function(e,t,n,a){Lw(e,t,n,a).fold(function(i){throw i},function(i){Zl(e,t,n,i)})},Hw=function(e,t,n,a){var i=hg(e,t),c=ve(i,a);c.each(function(s){Zl(e,t,n,s)})},jv=function(e,t,n,a){return Bi(a.element,t.highlightClass)},Iw=function(e,t,n){return Ka(e.element,"."+t.highlightClass).bind(function(a){return e.getSystem().getByDom(a).toOptional()})},Lw=function(e,t,n,a){var i=Eo(e.element,"."+t.itemClass);return g.from(i[a]).fold(function(){return Lt.error(new Error("No element found with index "+a))},e.getSystem().getByDom)},H1=function(e,t,n){return Ka(e.element,"."+t.itemClass).bind(function(a){return e.getSystem().getByDom(a).toOptional()})},gg=function(e,t,n){var a=Eo(e.element,"."+t.itemClass),i=a.length>0?g.some(a[a.length-1]):g.none();return i.bind(function(c){return e.getSystem().getByDom(c).toOptional()})},I1=function(e,t,n,a){var i=Eo(e.element,"."+t.itemClass),c=Ke(i,function(s){return Bi(s,t.highlightClass)});return c.bind(function(s){var v=$c(s,a,0,i.length-1);return e.getSystem().getByDom(i[v]).toOptional()})},L1=function(e,t,n){return I1(e,t,n,-1)},Nw=function(e,t,n){return I1(e,t,n,1)},hg=function(e,t,n){var a=Eo(e.element,"."+t.itemClass);return Us(ne(a,function(i){return e.getSystem().getByDom(i).toOptional()}))},N1=Object.freeze({__proto__:null,dehighlightAll:Jl,dehighlight:R1,highlight:Zl,highlightFirst:Rw,highlightLast:dg,highlightAt:mg,highlightBy:Hw,isHighlighted:jv,getHighlighted:Iw,getFirst:H1,getLast:gg,getPrevious:L1,getNext:Nw,getCandidates:hg}),Vw=[q("highlightClass"),q("itemClass"),vr("onHighlight"),vr("onDehighlight")],yr=Aa({fields:Vw,name:"highlighting",apis:N1}),Uw=[8],sc=[9],ru=[13],Gv=[27],jo=[32],qv=[37],Ql=[38],Uc=[39],Wc=[40],pg=function(e,t,n){var a=on(e.slice(0,t)),i=on(e.slice(t+1));return ve(a.concat(i),n)},Ww=function(e,t,n){var a=on(e.slice(0,t));return ve(a,n)},jw=function(e,t,n){var a=e.slice(0,t),i=e.slice(t+1);return ve(i.concat(a),n)},Gw=function(e,t,n){var a=e.slice(t+1);return ve(a,n)},Un=function(e){return function(t){var n=t.raw;return Tt(e,n.which)}},Si=function(e){return function(t){return ln(e,function(n){return n(t)})}},lc=function(e){var t=e.raw;return t.shiftKey===!0},qw=function(e){var t=e.raw;return t.ctrlKey===!0},js=cn(lc),Jn=function(e,t){return{matches:e,classification:t}},V1=function(e,t){var n=ve(e,function(a){return a.matches(t)});return n.map(function(a){return a.classification})},U1=function(e,t,n){var a=t.exists(function(i){return n.exists(function(c){return wa(c,i)})});a||Cn(e,mh(),{prevFocus:t,newFocus:n})},ef=function(){var e=function(n){return bo(n.element)},t=function(n,a){var i=e(n);n.getSystem().triggerFocus(a,n.element);var c=e(n);U1(n,i,c)};return{get:e,set:t}},W1=function(){var e=function(n){return yr.getHighlighted(n).map(function(a){return a.element})},t=function(n,a){var i=e(n);n.getSystem().getByDom(a).fold(de,function(s){yr.highlight(n,s)});var c=e(n);U1(n,i,c)};return{get:e,set:t}},Kv;(function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"})(Kv||(Kv={}));var jc=function(e,t,n,a,i){var c=function(){return e.concat([me("focusManager",ef()),Po("focusInside","onFocus",Ko(function(h){return Tt(["onFocus","onEnterOrSpace","onApi"],h)?Lt.value(h):Lt.error("Invalid value for focusInside")})),Ir("handler",d),Ir("state",t),Ir("sendFocusIn",i)])},s=function(h,y,x,S,D){var B=x(h,y,S,D);return V1(B,y.event).bind(function(R){return R(h,y,S,D)})},v=function(h,y){var x=h.focusInside!==Kv.OnFocusMode?g.none():i(h).map(function(B){return Ze(Xi(),function(R,J){B(R,h,y),J.stop()})}),S=function(B,R){var J=Un(jo.concat(ru))(R.event);h.focusInside===Kv.OnEnterOrSpaceMode&&J&&_(B,R)&&i(h).each(function(I){I(B,h,y),R.stop()})},D=[Ze(Vf(),function(B,R){s(B,R,n,h,y).fold(function(){S(B,R)},function(J){R.stop()})}),Ze(Mb(),function(B,R){s(B,R,a,h,y).each(function(J){R.stop()})})];return cr(x.toArray().concat(D))},d={schema:c,processKey:s,toEvents:v};return d},bg=function(e){var t=[ir("onEscape"),ir("onEnter"),me("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),me("firstTabstop",0),me("useTabstopAt",Ut),ir("visibilitySelector")].concat([e]),n=function(R,J){var I=R.visibilitySelector.bind(function(re){return Ri(J,re)}).getOr(J);return ho(I)>0},a=function(R,J){var I=Eo(R.element,J.selector),re=Y(I,function(le){return n(J,le)});return g.from(re[J.firstTabstop])},i=function(R,J){return J.focusManager.get(R).bind(function(I){return Ri(I,J.selector)})},c=function(R,J){return n(R,J)&&R.useTabstopAt(J)},s=function(R,J,I){a(R,J).each(function(re){J.focusManager.set(R,re)})},v=function(R,J,I,re,le){return le(J,I,function(Fe){return c(re,Fe)}).fold(function(){return re.cyclic?g.some(!0):g.none()},function(Fe){return re.focusManager.set(R,Fe),g.some(!0)})},d=function(R,J,I,re){var le=Eo(R.element,I.selector);return i(R,I).bind(function(Fe){var Te=Ke(le,nn(wa,Fe));return Te.bind(function(De){return v(R,le,De,I,re)})})},h=function(R,J,I){var re=I.cyclic?pg:Ww;return d(R,J,I,re)},y=function(R,J,I){var re=I.cyclic?jw:Gw;return d(R,J,I,re)},x=function(R,J,I){return I.onEnter.bind(function(re){return re(R,J)})},S=function(R,J,I){return I.onEscape.bind(function(re){return re(R,J)})},D=$([Jn(Si([lc,Un(sc)]),h),Jn(Un(sc),y),Jn(Un(Gv),S),Jn(Si([js,Un(ru)]),x)]),B=$([]);return jc(t,zi.init,D,B,function(){return g.some(s)})},Kw=bg(Oa("cyclic",Vt)),Xw=bg(Oa("cyclic",Ut)),Yw=function(e,t,n){return qf(e,n,To()),g.some(!0)},tf=function(e,t,n){var a=Ws(n)&&Un(jo)(t.event);return a?g.none():Yw(e,t,n)},Gs=function(e,t){return g.some(!0)},Jw=[me("execute",tf),me("useSpace",!1),me("useEnter",!0),me("useControlEnter",!1),me("useDown",!1)],yg=function(e,t,n){return n.execute(e,t,e.element)},Zw=function(e,t,n,a){var i=n.useSpace&&!Ws(e.element)?jo:[],c=n.useEnter?ru:[],s=n.useDown?Wc:[],v=i.concat(c).concat(s);return[Jn(Un(v),yg)].concat(n.useControlEnter?[Jn(Si([qw,Un(ru)]),yg)]:[])},j1=function(e,t,n,a){return n.useSpace&&!Ws(e.element)?[Jn(Un(jo),Gs)]:[]},Qw=jc(Jw,zi.init,Zw,j1,function(){return g.none()}),G1=function(){var e=xt(g.none()),t=function(i,c){e.set(g.some({numRows:i,numColumns:c}))},n=function(){return e.get().map(function(i){return i.numRows})},a=function(){return e.get().map(function(i){return i.numColumns})};return ci({readState:function(){return e.get().map(function(i){return{numRows:String(i.numRows),numColumns:String(i.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:t,getNumRows:n,getNumColumns:a})},ex=function(e){return e.state(e)},qs=Object.freeze({__proto__:null,flatgrid:G1,init:ex}),q1=function(e){return function(t,n,a,i){var c=e(t.element);return K1(c,t,n,a,i)}},Xv=function(e,t){var n=$m(e,t);return q1(n)},Yv=function(e,t){var n=$m(t,e);return q1(n)},Ks=function(e){return function(t,n,a,i){return K1(e,t,n,a,i)}},K1=function(e,t,n,a,i){var c=a.focusManager.get(t).bind(function(s){return e(t.element,s,a,i)});return c.map(function(s){return a.focusManager.set(t,s),!0})},wg=Ks,X1=Ks,Xs=Ks,Y1=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Gc=function(e){return!Y1(e.dom)},nf=function(e,t){return Ke(e,t).map(function(n){return{index:n,candidates:e}})},J1=function(e,t,n){var a=function(s){return wa(s,t)},i=Eo(e,n),c=Y(i,Gc);return nf(c,a)},xg=function(e,t){return Ke(e,function(n){return wa(t,n)})},Z1=function(e,t,n,a){var i=Math.floor(t/n),c=t%n;return a(i,c).bind(function(s){var v=s.row*n+s.column;return v>=0&&v<e.length?g.some(e[v]):g.none()})},Q1=function(e,t,n,a,i){return Z1(e,t,a,function(c,s){var v=c===n-1,d=v?e.length-c*a:a,h=$c(s,i,0,d-1);return g.some({row:c,column:h})})},Sg=function(e,t,n,a,i){return Z1(e,t,a,function(c,s){var v=$c(c,i,0,n-1),d=v===n-1,h=d?e.length-v*a:a,y=tu(s,0,h-1);return g.some({row:v,column:y})})},Cg=function(e,t,n,a){return Q1(e,t,n,a,1)},tx=function(e,t,n,a){return Q1(e,t,n,a,-1)},nx=function(e,t,n,a){return Sg(e,t,n,a,-1)},e0=function(e,t,n,a){return Sg(e,t,n,a,1)},rx=[q("selector"),me("execute",tf),to("onEscape"),me("captureTab",!1),rp()],ax=function(e,t,n){Ka(e.element,t.selector).each(function(a){t.focusManager.set(e,a)})},t0=function(e,t){return t.focusManager.get(e).bind(function(n){return Ri(n,t.selector)})},n0=function(e,t,n,a){return t0(e,n).bind(function(i){return n.execute(e,t,i)})},qc=function(e){return function(t,n,a,i){return J1(t,n,a.selector).bind(function(c){return e(c.candidates,c.index,i.getNumRows().getOr(a.initSize.numRows),i.getNumColumns().getOr(a.initSize.numColumns))})}},Tg=function(e,t,n){return n.captureTab?g.some(!0):g.none()},r0=function(e,t,n){return n.onEscape(e,t)},a0=qc(tx),o0=qc(Cg),ox=qc(nx),Jv=qc(e0),ix=$([Jn(Un(qv),Xv(a0,o0)),Jn(Un(Uc),Yv(a0,o0)),Jn(Un(Ql),wg(ox)),Jn(Un(Wc),X1(Jv)),Jn(Si([lc,Un(sc)]),Tg),Jn(Si([js,Un(sc)]),Tg),Jn(Un(Gv),r0),Jn(Un(jo.concat(ru)),n0)]),ux=$([Jn(Un(jo),Gs)]),cx=jc(rx,G1,ix,ux,function(){return g.some(ax)}),Zv=function(e,t,n,a){var i=function(s){return Di(s)==="button"&&mo(s,"disabled")==="disabled"},c=function(s,v,d){var h=$c(v,a,0,d.length-1);return h===s?g.none():i(d[h])?c(s,h,d):g.from(d[h])};return J1(e,n,t).bind(function(s){var v=s.index,d=s.candidates;return c(v,v,d)})},Ys=[q("selector"),me("getInitial",g.none),me("execute",tf),to("onEscape"),me("executeOnMove",!1),me("allowVertical",!0)],sx=function(e,t){return t.focusManager.get(e).bind(function(n){return Ri(n,t.selector)})},kg=function(e,t,n){return sx(e,n).bind(function(a){return n.execute(e,t,a)})},lx=function(e,t,n){t.getInitial(e).orThunk(function(){return Ka(e.element,t.selector)}).each(function(a){t.focusManager.set(e,a)})},Qv=function(e,t,n){return Zv(e,n.selector,t,-1)},ed=function(e,t,n){return Zv(e,n.selector,t,1)},i0=function(e){return function(t,n,a,i){return e(t,n,a,i).bind(function(){return a.executeOnMove?kg(t,n,a):g.some(!0)})}},fx=function(e,t,n){return n.onEscape(e,t)},vx=function(e,t,n,a){var i=qv.concat(n.allowVertical?Ql:[]),c=Uc.concat(n.allowVertical?Wc:[]);return[Jn(Un(i),i0(Xv(Qv,ed))),Jn(Un(c),i0(Yv(Qv,ed))),Jn(Un(ru),kg),Jn(Un(jo),kg),Jn(Un(Gv),fx)]},dx=$([Jn(Un(jo),Gs)]),mx=jc(Ys,zi.init,vx,dx,function(){return g.some(lx)}),Kc=function(e,t,n){return g.from(e[t]).bind(function(a){return g.from(a[n]).map(function(i){return{rowIndex:t,columnIndex:n,cell:i}})})},rf=function(e,t,n,a){var i=e[t],c=i.length,s=$c(n,a,0,c-1);return Kc(e,t,s)},Og=function(e,t,n,a){var i=$c(n,a,0,e.length-1),c=e[i].length,s=tu(t,0,c-1);return Kc(e,i,s)},u0=function(e,t,n,a){var i=e[t],c=i.length,s=tu(n+a,0,c-1);return Kc(e,t,s)},c0=function(e,t,n,a){var i=tu(n+a,0,e.length-1),c=e[i].length,s=tu(t,0,c-1);return Kc(e,i,s)},gx=function(e,t,n){return rf(e,t,n,1)},td=function(e,t,n){return rf(e,t,n,-1)},s0=function(e,t,n){return Og(e,n,t,-1)},l0=function(e,t,n){return Og(e,n,t,1)},f0=function(e,t,n){return u0(e,t,n,-1)},Pu=function(e,t,n){return u0(e,t,n,1)},hx=function(e,t,n){return c0(e,n,t,-1)},au=function(e,t,n){return c0(e,n,t,1)},px=[so("selectors",[q("row"),q("cell")]),me("cycles",!0),me("previousSelector",g.none),me("execute",tf)],v0=function(e,t,n){var a=t.previousSelector(e).orThunk(function(){var i=t.selectors;return Ka(e.element,i.cell)});a.each(function(i){t.focusManager.set(e,i)})},bx=function(e,t,n){return bo(e.element).bind(function(a){return n.execute(e,t,a)})},yx=function(e,t){return ne(e,function(n){return Eo(n,t.selectors.cell)})},nd=function(e,t){return function(n,a,i){var c=i.cycles?e:t;return Ri(a,i.selectors.row).bind(function(s){var v=Eo(s,i.selectors.cell);return xg(v,a).bind(function(d){var h=Eo(n,i.selectors.row);return xg(h,s).bind(function(y){var x=yx(h,i);return c(x,y,d).map(function(S){return S.cell})})})})}},d0=nd(td,f0),m0=nd(gx,Pu),wx=nd(s0,hx),Ag=nd(l0,au),xx=$([Jn(Un(qv),Xv(d0,m0)),Jn(Un(Uc),Yv(d0,m0)),Jn(Un(Ql),wg(wx)),Jn(Un(Wc),X1(Ag)),Jn(Un(jo.concat(ru)),bx)]),Sx=$([Jn(Un(jo),Gs)]),Cx=jc(px,zi.init,xx,Sx,function(){return g.some(v0)}),g0=[q("selector"),me("execute",tf),me("moveOnTab",!1)],Js=function(e,t,n){return n.focusManager.get(e).bind(function(a){return n.execute(e,t,a)})},Tx=function(e,t,n){Ka(e.element,t.selector).each(function(a){t.focusManager.set(e,a)})},h0=function(e,t,n){return Zv(e,n.selector,t,-1)},rd=function(e,t,n){return Zv(e,n.selector,t,1)},p0=function(e,t,n,a){return n.moveOnTab?Xs(h0)(e,t,n,a):g.none()},b0=function(e,t,n,a){return n.moveOnTab?Xs(rd)(e,t,n,a):g.none()},kx=$([Jn(Un(Ql),Xs(h0)),Jn(Un(Wc),Xs(rd)),Jn(Si([lc,Un(sc)]),p0),Jn(Si([js,Un(sc)]),b0),Jn(Un(ru),Js),Jn(Un(jo),Js)]),Ox=$([Jn(Un(jo),Gs)]),Ax=jc(g0,zi.init,kx,Ox,function(){return g.some(Tx)}),y0=[to("onSpace"),to("onEnter"),to("onShiftEnter"),to("onLeft"),to("onRight"),to("onTab"),to("onShiftTab"),to("onUp"),to("onDown"),to("onEscape"),me("stopSpaceKeyup",!1),ir("focusIn")],w0=function(e,t,n){return[Jn(Un(jo),n.onSpace),Jn(Si([js,Un(ru)]),n.onEnter),Jn(Si([lc,Un(ru)]),n.onShiftEnter),Jn(Si([lc,Un(sc)]),n.onShiftTab),Jn(Si([js,Un(sc)]),n.onTab),Jn(Un(Ql),n.onUp),Jn(Un(Wc),n.onDown),Jn(Un(qv),n.onLeft),Jn(Un(Uc),n.onRight),Jn(Un(jo),n.onSpace),Jn(Un(Gv),n.onEscape)]},Ex=function(e,t,n){return n.stopSpaceKeyup?[Jn(Un(jo),Gs)]:[]},Mx=jc(y0,zi.init,w0,Ex,function(e){return e.focusIn}),x0=Kw.schema(),_x=Xw.schema(),S0=mx.schema(),Dx=cx.schema(),C0=Cx.schema(),T0=Qw.schema(),Zs=Ax.schema(),Eg=Mx.schema(),ad=Object.freeze({__proto__:null,acyclic:x0,cyclic:_x,flow:S0,flatgrid:Dx,matrix:C0,execution:T0,menu:Zs,special:Eg}),Mg=function(e){return _r(e,"setGridSize")},wn=pp({branchKey:"mode",branches:ad,name:"keying",active:{events:function(e,t){var n=e.handler;return n.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold(function(){e.getSystem().triggerFocus(e.element,e.element)},function(a){a(e,t,n)})},setGridSize:function(e,t,n,a,i){Mg(n)?n.setGridSize(a,i):console.error("Layout does not support setGridSize")}},state:qs}),Fx=function(e,t,n,a){wp(function(){var i=ne(a,e.getSystem().build);jm(e,i)},e.element)},_g=function(e,t,n,a){var i=e.getSystem().build(a);n1(e,i,n)},Px=function(e,t,n,a){_g(e,t,Io,a)},Dg=function(e,t,n,a){_g(e,t,xh,a)},Xc=function(e,t,n,a){var i=od(e),c=ve(i,function(s){return wa(a.element,s.element)});c.each(Ic)},od=function(e,t){return e.components()},k0=function(e,t,n,a,i){var c=od(e);return g.from(c[a]).map(function(s){return Xc(e,t,n,s),i.each(function(v){_g(e,t,function(d,h){Ib(d,h,a)},v)}),s})},zx=function(e,t,n,a,i){var c=od(e);return Ke(c,a).bind(function(s){return k0(e,t,n,s,i)})},Bx=Object.freeze({__proto__:null,append:Px,prepend:Dg,remove:Xc,replaceAt:k0,replaceBy:zx,set:Fx,contents:od}),Mn=Aa({fields:[],name:"replacing",apis:Bx}),$x=function(e,t){var n=cr(t);return Aa({fields:[q("enabled")],name:e,active:{events:$(n)}})},Bn=function(e,t){var n=$x(e,t);return{key:e,value:{config:{},me:n,configAsRaw:$({}),initialConfig:{},state:zi}}},O0=function(e,t){t.ignore||(ac(e.element),t.onFocus(e))},Rx=function(e,t){t.ignore||Yy(e.element)},Hx=function(e){return Fm(e.element)},Ix=Object.freeze({__proto__:null,focus:O0,blur:Rx,isFocused:Hx}),Lx=function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return pi(n)},Fg=function(e){return cr([Ze(Xi(),function(t,n){O0(t,e),n.stop()})].concat(e.stopMousedown?[Ze(hi(),function(t,n){n.event.prevent()})]:[]))},Nx=Object.freeze({__proto__:null,exhibit:Lx,events:Fg}),Vx=[vr("onFocus"),me("stopMousedown",!1),me("ignore",!1)],An=Aa({fields:Vx,name:"focusing",active:Nx,apis:Ix}),Ux=function(e){var t=function(){var n=xt(e),a=function(){return n.get()},i=function(v){return n.set(v)},c=function(){return n.set(e)},s=function(){return n.get()};return{get:a,set:i,clear:c,readState:s}};return{init:t}},A0=function(e,t,n){var a=t.aria;a.update(e,a,n.get())},E0=function(e,t,n){t.toggleClass.each(function(a){n.get()?Yr(e.element,a):xa(e.element,a)})},M0=function(e,t,n){u(e,t,n,!n.get())},r=function(e,t,n){n.set(!0),E0(e,t,n),A0(e,t,n)},o=function(e,t,n){n.set(!1),E0(e,t,n),A0(e,t,n)},u=function(e,t,n,a){var i=a?r:o;i(e,t,n)},l=function(e,t,n){return n.get()},f=function(e,t,n){u(e,t,n,t.selected)},m=Object.freeze({__proto__:null,onLoad:f,toggle:M0,isOn:l,on:r,off:o,set:u}),w=function(){return pi({})},E=function(e,t){var n=Am(e,t,M0),a=Em(e,t,f);return cr(kt([e.toggleOnExecute?[n]:[],[a]]))},A=Object.freeze({__proto__:null,exhibit:w,events:E}),N=function(e,t,n){sr(e.element,"aria-pressed",n),t.syncWithExpanded&&je(e,t,n)},Q=function(e,t,n){sr(e.element,"aria-selected",n)},et=function(e,t,n){sr(e.element,"aria-checked",n)},je=function(e,t,n){sr(e.element,"aria-expanded",n)},at=[me("selected",!1),ir("toggleClass"),me("toggleOnExecute",!0),Po("aria",{mode:"none"},_a("mode",{pressed:[me("syncWithExpanded",!1),Ir("update",N)],checked:[Ir("update",et)],expanded:[Ir("update",je)],selected:[Ir("update",Q)],none:[Ir("update",de)]}))],xe=Aa({fields:at,name:"toggling",active:A,apis:m,state:Ux(!1)}),Pe=function(){var e=function(t,n){n.stop(),kc(t)};return[Ze(ml(),e),Ze(ys(),e),Gu(Hn()),Gu(hi())]},ot=function(e){var t=function(n){return Ji(function(a,i){n(a),i.stop()})};return cr(kt([e.map(t).toArray(),Pe()]))},fn="alloy.item-hover",jn="alloy.item-focus",On=function(e){(bo(e.element).isNone()||An.isFocused(e))&&(An.isFocused(e)||An.focus(e),Cn(e,fn,{item:e}))},rr=function(e){Cn(e,jn,{item:e})},Wr=$(fn),jr=$(jn),Yc=function(e){return{dom:e.dom,domModification:G(G({},e.domModification),{attributes:G(G(G({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Wo.augment(e.itemBehaviours,[e.toggling.fold(xe.revoke,function(t){return xe.config(G({aria:{mode:"checked"}},t))}),An.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(t){rr(t)}}),wn.config({mode:"execution"}),zt.config({store:{mode:"memory",initialValue:e.data}}),Bn("item-type-events",Ue(Pe(),[Ze(Wu(),On),Ze(hl(),An.focus)]))]),components:e.components,eventOrder:e.eventOrder}},af=[q("data"),q("components"),q("dom"),me("hasSubmenu",!1),ir("toggling"),Wo.field("itemBehaviours",[xe,An,wn,zt]),me("ignoreFocus",!1),me("domModification",{}),Ir("builder",Yc),me("eventOrder",{})],fc=function(e){return{dom:e.dom,components:e.components,events:cr([Su(hl())])}},dr=[q("dom"),q("components"),Ir("builder",fc)],Qa=$("item-widget"),Ua=$([Za({name:"widget",overrides:function(e){return{behaviours:lt([zt.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:de}})])}}})]),Qo=function(e){var t=ug(Qa(),e,Ua()),n=cg(Qa(),e,t.internals()),a=function(c){return Mr(c,e,"widget").map(function(s){return wn.focusIn(s),s})},i=function(c,s){return Ws(s.event.target)?g.none():function(){return e.autofocus&&s.setSource(c.element),g.none()}()};return{dom:e.dom,components:n,domModification:e.domModification,events:cr([Ji(function(c,s){a(c).each(function(v){s.stop()})}),Ze(Wu(),On),Ze(hl(),function(c,s){e.autofocus?a(c):An.focus(c)})]),behaviours:Wo.augment(e.widgetBehaviours,[zt.config({store:{mode:"memory",initialValue:e.data}}),An.config({ignore:e.ignoreFocus,onFocus:function(c){rr(c)}}),wn.config({mode:"special",focusIn:e.autofocus?function(c){a(c)}:bp(),onLeft:i,onRight:i,onEscape:function(c,s){return!An.isFocused(c)&&!e.autofocus?(An.focus(c),g.some(!0)):(e.autofocus&&s.setSource(c.element),g.none())}})])}},Lr=[q("uid"),q("data"),q("components"),q("dom"),me("autofocus",!1),me("ignoreFocus",!1),Wo.field("widgetBehaviours",[zt,An,wn]),me("domModification",{}),Vc(Ua()),Ir("builder",Qo)],io=_a("type",{widget:Lr,item:af,separator:dr}),eo=function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}},zu=function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}},Jc=function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}},Zc=$([Lv({factory:{sketch:function(e){var t=Kr("menu.spec item",io,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:G(G({},t),{uid:Sl("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),Pg=$([q("value"),q("items"),q("dom"),q("components"),me("eventOrder",{}),Pa("menuBehaviours",[yr,zt,nr,wn]),Po("movement",{mode:"menu",moveOnTab:!0},_a("mode",{grid:[rp(),Ir("config",eo)],matrix:[Ir("config",zu),q("rowSelector")],menu:[me("moveOnTab",!0),Ir("config",Jc)]})),Fs(),me("fakeFocus",!1),me("focusManager",ef()),vr("onHighlight")]),_0=$("alloy.menu-focus"),Wx=function(e,t,n,a){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Sa(e.menuBehaviours,[yr.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),zt.config({store:{mode:"memory",initialValue:e.value}}),nr.config({find:g.some}),wn.config(e.movement.config(e,e.movement))]),events:cr([Ze(jr(),function(i,c){var s=c.event;i.getSystem().getByDom(s.target).each(function(v){yr.highlight(i,v),c.stop(),Cn(i,_0(),{menu:i,item:v})})}),Ze(Wr(),function(i,c){var s=c.event.item;yr.highlight(i,s)})]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}},vc=wo({name:"Menu",configFields:Pg(),partFields:Zc(),factory:Wx}),jx=function(e){return sa(e,function(t,n){return{k:t,v:n}})},D0=function(e,t,n,a){return Zt(n,a).bind(function(i){return Zt(e,i).bind(function(c){var s=D0(e,t,n,c);return g.some([c].concat(s))})}).getOr([])},zg=function(e,t){var n={};Vn(e,function(s,v){Le(s,function(d){n[d]=v})});var a=t,i=jx(t),c=qn(i,function(s,v){return[v].concat(D0(n,a,i,v))});return qn(n,function(s){return Zt(c,s).getOr([s])})},of=function(){var e=xt({}),t=xt({}),n=xt({}),a=xt(g.none()),i=xt({}),c=function(){e.set({}),t.set({}),n.set({}),a.set(g.none())},s=function(){return a.get().isNone()},v=function(Te,De){var Ae;t.set(G(G({},t.get()),(Ae={},Ae[Te]={type:"prepared",menu:De},Ae)))},d=function(Te,De,Ae,tt){a.set(g.some(Te)),e.set(Ae),t.set(De),i.set(tt);var tn=zg(tt,Ae);n.set(tn)},h=function(Te){return Qr(e.get(),function(De,Ae){return De===Te})},y=function(Te,De,Ae){return R(Te).bind(function(tt){return h(Te).bind(function(tn){return De(tn).map(function(_t){return{triggeredMenu:tt,triggeringItem:_t,triggeringPath:Ae}})})})},x=function(Te,De){var Ae=Y(I(Te).toArray(),function(tt){return R(tt).isSome()});return Zt(n.get(),Te).bind(function(tt){var tn=on(Ae.concat(tt)),_t=Dt(tn,function(He,Ge){return y(He,De,tn.slice(0,Ge+1)).fold(function(){return a.get().is(He)?[]:[g.none()]},function(qt){return[g.some(qt)]})});return Pw(_t)})},S=function(Te){return Zt(e.get(),Te).map(function(De){var Ae=Zt(n.get(),Te).getOr([]);return[De].concat(Ae)})},D=function(Te){return Zt(n.get(),Te).bind(function(De){return De.length>1?g.some(De.slice(1)):g.none()})},B=function(Te){return Zt(n.get(),Te)},R=function(Te){return J(Te).bind(uf)},J=function(Te){return Zt(t.get(),Te)},I=function(Te){return Zt(e.get(),Te)},re=function(Te){var De=i.get();return Gn(pn(De),Te)},le=function(){return a.get().bind(R)},Fe=function(){return t.get()};return{setMenuBuilt:v,setContents:d,expand:S,refresh:B,collapse:D,lookupMenu:J,lookupItem:I,otherMenus:re,getPrimary:le,getMenus:Fe,clear:c,isClear:s,getTriggeringPath:x}},uf=function(e){return e.type==="prepared"?g.some(e.menu):g.none()},id={init:of,extractPreparedMenu:uf},AA=function(e,t){var n=xt(g.none()),a=function(ft,un,hn){return qn(hn,function(Zn,Or){var aa=function(){return vc.sketch(G(G({},Zn),{value:Or,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?W1():ef()}))};return Or===un?{type:"prepared",menu:ft.getSystem().build(aa())}:{type:"notbuilt",nbMenu:aa}})},i=id.init(),c=function(ft){var un=a(ft,e.data.primary,e.data.menus),hn=d();return i.setContents(e.data.primary,un,e.data.expansions,hn),i.getPrimary()},s=function(ft){return zt.getValue(ft).value},v=function(ft,un,hn){return dt(un,function(Zn){if(!Zn.getSystem().isConnected())return g.none();var Or=yr.getCandidates(Zn);return ve(Or,function(aa){return s(aa)===hn})})},d=function(ft){return qn(e.data.menus,function(un,hn){return Dt(un.items,function(Zn){return Zn.type==="separator"?[]:[Zn.data.value]})})},h=function(ft,un){yr.highlight(ft,un),yr.getHighlighted(un).orThunk(function(){return yr.getFirst(un)}).each(function(hn){qf(ft,hn.element,hl())})},y=function(ft,un){return Us(ne(un,function(hn){return ft.lookupMenu(hn).bind(function(Zn){return Zn.type==="prepared"?g.some(Zn.menu):g.none()})}))},x=function(ft,un,hn){var Zn=y(un,un.otherMenus(hn));Le(Zn,function(Or){Ha(Or.element,[e.markers.backgroundMenu]),e.stayInDom||Mn.remove(ft,Or)})},S=function(ft){return n.get().getOrThunk(function(){var un={},hn=Eo(ft.element,"."+e.markers.item),Zn=Y(hn,function(Or){return mo(Or,"aria-haspopup")==="true"});return Le(Zn,function(Or){ft.getSystem().getByDom(Or).each(function(aa){var Ni=s(aa);un[Ni]=aa})}),n.set(g.some(un)),un})},D=function(ft,un){var hn=S(ft);Vn(hn,function(Zn,Or){var aa=Tt(un,Or);sr(Zn.element,"aria-expanded",aa)})},B=function(ft,un,hn){return g.from(hn[0]).bind(function(Zn){return un.lookupMenu(Zn).bind(function(Or){if(Or.type==="notbuilt")return g.none();var aa=Or.menu,Ni=y(un,hn.slice(1));return Le(Ni,function(Oi){Yr(Oi.element,e.markers.backgroundMenu)}),$i(aa.element)||Mn.append(ft,ko(aa)),Ha(aa.element,[e.markers.backgroundMenu]),h(ft,aa),x(ft,un,hn),g.some(aa)})})},R;(function(ft){ft[ft.HighlightSubmenu=0]="HighlightSubmenu",ft[ft.HighlightParent=1]="HighlightParent"})(R||(R={}));var J=function(ft,un,hn){if(hn.type==="notbuilt"){var Zn=ft.getSystem().build(hn.nbMenu());return i.setMenuBuilt(un,Zn),Zn}else return hn.menu},I=function(ft,un,hn){hn===void 0&&(hn=R.HighlightSubmenu);var Zn=s(un);return i.expand(Zn).bind(function(Or){return D(ft,Or),g.from(Or[0]).bind(function(aa){return i.lookupMenu(aa).bind(function(Ni){var Oi=J(ft,aa,Ni);return $i(Oi.element)||Mn.append(ft,ko(Oi)),e.onOpenSubmenu(ft,un,Oi,on(Or)),hn===R.HighlightSubmenu?(yr.highlightFirst(Oi),B(ft,i,Or)):(yr.dehighlightAll(Oi),g.some(un))})})})},re=function(ft,un){var hn=s(un);return i.collapse(hn).bind(function(Zn){return D(ft,Zn),B(ft,i,Zn).map(function(Or){return e.onCollapseMenu(ft,un,Or),Or})})},le=function(ft,un){var hn=s(un);return i.refresh(hn).bind(function(Zn){return D(ft,Zn),B(ft,i,Zn)})},Fe=function(ft,un){return Ws(un.element)?g.none():I(ft,un,R.HighlightSubmenu)},Te=function(ft,un){return Ws(un.element)?g.none():re(ft,un)},De=function(ft,un){return re(ft,un).orThunk(function(){return e.onEscape(ft,un).map(function(){return ft})})},Ae=function(ft){return function(un,hn){return Ri(hn.getSource(),"."+e.markers.item).bind(function(Zn){return un.getSystem().getByDom(Zn).toOptional().bind(function(Or){return ft(un,Or).map(Ut)})})}},tt=cr([Ze(_0(),function(ft,un){var hn=un.event.item;i.lookupItem(s(hn)).each(function(){var Zn=un.event.menu;yr.highlight(ft,Zn);var Or=s(un.event.item);i.refresh(Or).each(function(aa){return x(ft,i,aa)})})}),Ji(function(ft,un){var hn=un.event.target;ft.getSystem().getByDom(hn).each(function(Zn){var Or=s(Zn);Or.indexOf("collapse-item")===0&&re(ft,Zn),I(ft,Zn,R.HighlightSubmenu).fold(function(){e.onExecute(ft,Zn)},de)})}),na(function(ft,un){c(ft).each(function(hn){Mn.append(ft,ko(hn)),e.onOpenMenu(ft,hn),e.highlightImmediately&&h(ft,hn)})})].concat(e.navigateOnHover?[Ze(Wr(),function(ft,un){var hn=un.event.item;le(ft,hn),I(ft,hn,R.HighlightParent),e.onHover(ft,hn)})]:[])),tn=function(ft){return yr.getHighlighted(ft).bind(yr.getHighlighted)},_t=function(ft){tn(ft).each(function(un){re(ft,un)})},He=function(ft){i.getPrimary().each(function(un){h(ft,un)})},Ge=function(ft){return g.from(ft.components()[0]).filter(function(un){return mo(un.element,"role")==="menu"})},qt=function(ft){var un=i.getPrimary().bind(function(hn){return tn(ft).bind(function(Zn){var Or=s(Zn),aa=ia(i.getMenus()),Ni=Us(ne(aa,id.extractPreparedMenu));return i.getTriggeringPath(Or,function(Oi){return v(ft,Ni,Oi)})}).map(function(Zn){return{primary:hn,triggeringPath:Zn}})});un.fold(function(){Ge(ft).each(function(hn){e.onRepositionMenu(ft,hn,[])})},function(hn){var Zn=hn.primary,Or=hn.triggeringPath;e.onRepositionMenu(ft,Zn,Or)})},xn={collapseMenu:_t,highlightPrimary:He,repositionMenus:qt};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Sa(e.tmenuBehaviours,[wn.config({mode:"special",onRight:Ae(Fe),onLeft:Ae(Te),onEscape:Ae(De),focusIn:function(ft,un){i.getPrimary().each(function(hn){qf(ft,hn.element,hl())})}}),yr.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),nr.config({find:function(ft){return yr.getHighlighted(ft)}}),Mn.config({})]),eventOrder:e.eventOrder,apis:xn,events:tt}},EA=$("collapse-item"),MA=function(e,t,n){return{primary:e,menus:t,expansions:n}},_A=function(e,t){return{primary:e,menus:O(e,t),expansions:{}}},DA=function(e){return{value:sn(EA()),meta:{text:e}}},cf=fi({name:"TieredMenu",configFields:[pm("onExecute"),pm("onEscape"),Bc("onOpenMenu"),Bc("onOpenSubmenu"),vr("onRepositionMenu"),vr("onCollapseMenu"),me("highlightImmediately",!0),so("data",[q("primary"),q("menus"),q("expansions")]),me("fakeFocus",!1),vr("onHighlight"),vr("onHover"),nc(),q("dom"),me("navigateOnHover",!0),me("stayInDom",!1),Pa("tmenuBehaviours",[wn,yr,nr,Mn]),me("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:AA,extraApis:{tieredData:MA,singleData:_A,collapseItem:DA}}),FA=function(e,t,n,a,i){var c=function(){return e.lazySink(t)},s=a.type==="horizontal"?{layouts:{onLtr:function(){return km()},onRtl:function(){return Om()}}}:{},v=function(h){return h.length===2},d=function(h){return v(h)?s:{}};return cf.sketch({dom:{tag:"div"},data:a.data,markers:a.menu.markers,highlightImmediately:a.menu.highlightImmediately,onEscape:function(){return Yn.close(t),e.onEscape.map(function(h){return h(t)}),g.some(!0)},onExecute:function(){return g.some(!0)},onOpenMenu:function(h,y){yo.positionWithinBounds(c().getOrDie(),n,y,i())},onOpenSubmenu:function(h,y,x,S){var D=c().getOrDie();yo.position(D,G({anchor:"submenu",item:y},d(S)),x)},onRepositionMenu:function(h,y,x){var S=c().getOrDie();yo.positionWithinBounds(S,n,y,i()),Le(x,function(D){var B=d(D.triggeringPath);yo.position(S,G({anchor:"submenu",item:D.triggeringItem},B),D.triggeredMenu)})}})},PA=function(e,t){var n=function(D,B){var R=e.getRelated(D);return R.exists(function(J){return Ou(J,B)})},a=function(D,B){Yn.setContent(D,B)},i=function(D,B,R){c(D,B,R,g.none())},c=function(D,B,R,J){s(D,B,R,function(){return J.map(function(I){return li(I)})})},s=function(D,B,R,J){var I=e.lazySink(D).getOrDie();Yn.openWhileCloaked(D,R,function(){return yo.positionWithinBounds(I,B,D,J())}),zt.setValue(D,g.some({mode:"position",anchor:B,getBounds:J}))},v=function(D,B,R){d(D,B,R,function(){return g.none()})},d=function(D,B,R,J){var I=FA(e,D,B,R,J);Yn.open(D,I),zt.setValue(D,g.some({mode:"menu",menu:I}))},h=function(D){Yn.isOpen(D)&&(zt.setValue(D,g.none()),Yn.close(D))},y=function(D){return Yn.getState(D)},x=function(D){Yn.isOpen(D)&&zt.getValue(D).each(function(B){switch(B.mode){case"menu":Yn.getState(D).each(function(J){cf.repositionMenus(J)});break;case"position":var R=e.lazySink(D).getOrDie();yo.positionWithinBounds(R,B.anchor,D,B.getBounds());break}})},S={setContent:a,showAt:i,showWithin:c,showWithinBounds:s,showMenuAt:v,showMenuWithinBounds:d,hide:h,getContent:y,reposition:x,isOpen:Yn.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Sa(e.inlineBehaviours,[Yn.config({isPartOf:function(D,B,R){return Ou(B,R)||n(D,R)},getAttachPoint:function(D){return e.lazySink(D).getOrDie()},onOpen:function(D){e.onShow(D)},onClose:function(D){e.onHide(D)}}),zt.config({store:{mode:"memory",initialValue:g.none()}}),Zo.config({channels:G(G({},Wl(G({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map(function(D){return{fireEventInstead:{event:D.event}}}).getOr({})))),Jm(G(G({},e.fireRepositionEventInstead.map(function(D){return{fireEventInstead:{event:D.event}}}).getOr({})),{doReposition:x})))})]),eventOrder:e.eventOrder,apis:S}},fa=fi({name:"InlineView",configFields:[q("lazySink"),vr("onShow"),vr("onHide"),fo("onEscape"),Pa("inlineBehaviours",[Yn,zt,Zo]),ja("fireDismissalEventInstead",[me("event",xs())]),ja("fireRepositionEventInstead",[me("event",dh())]),me("getRelated",g.none),me("isExtraPart",Vt),me("eventOrder",g.none)],factory:PA,apis:{showAt:function(e,t,n,a){e.showAt(t,n,a)},showWithin:function(e,t,n,a,i){e.showWithin(t,n,a,i)},showWithinBounds:function(e,t,n,a,i){e.showWithinBounds(t,n,a,i)},showMenuAt:function(e,t,n,a){e.showMenuAt(t,n,a)},showMenuWithinBounds:function(e,t,n,a,i){e.showMenuWithinBounds(t,n,a,i)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),w4=function(e){return e.x},x4=function(e,t){return e.x+e.width/2-t.width/2},S4=function(e,t){return e.x+e.width-t.width},Gx=function(e){return e.y},qx=function(e,t){return e.y+e.height-t.height},ud=function(e,t,n){return no(S4(e,t),qx(e,t),n.innerSoutheast(),wm(),ro(e,{right:0,bottom:3}),"layout-inner-se")},cd=function(e,t,n){return no(w4(e),qx(e,t),n.innerSouthwest(),ym(),ro(e,{left:1,bottom:3}),"layout-inner-sw")},sf=function(e,t,n){return no(S4(e,t),Gx(e),n.innerNortheast(),bm(),ro(e,{right:0,top:2}),"layout-inner-ne")},lf=function(e,t,n){return no(w4(e),Gx(e),n.innerNorthwest(),yv(),ro(e,{left:1,top:2}),"layout-inner-nw")},Qc=function(e,t,n){return no(x4(e,t),Gx(e),n.innerNorth(),ip(),ro(e,{top:2}),"layout-inner-n")},ff=function(e,t,n){return no(x4(e,t),qx(e,t),n.innerSouth(),up(),ro(e,{bottom:3}),"layout-inner-s")},Bu=tinymce.util.Tools.resolve("tinymce.util.Delay"),zA=function(e){var t=ot(e.action),n=e.dom.tag,a=function(c){return Zt(e.dom,"attributes").bind(function(s){return Zt(s,c)})},i=function(){if(n==="button"){var c=a("type").getOr("button"),s=a("role").map(function(d){return{role:d}}).getOr({});return G({type:c},s)}else{var v=a("role").getOr("button");return{role:v}}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Wo.augment(e.buttonBehaviours,[An.config({}),wn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i()},eventOrder:e.eventOrder}},Go=fi({name:"Button",factory:zA,configFields:[me("uid",void 0),q("dom"),me("components",[]),Wo.field("buttonBehaviours",[An,wn]),ir("action"),ir("role"),me("eventOrder",{})]}),wr=function(e){var t=Uv(e)&&_r(e,"uid")?e.uid:Sl("memento"),n=function(c){return c.getSystem().getByUid(t).getOrDie()},a=function(c){return c.getSystem().getByUid(t).toOptional()},i=function(){return G(G({},e),{uid:t})};return{get:n,getOpt:a,asSpec:i}},Kx=function(e){return g.from(e()["temporary-placeholder"]).getOr("!not found!")},ei=function(e,t){return g.from(t()[e.toLowerCase()]).getOrThunk(function(){return Kx(t)})},BA=function(e,t,n){return g.from(t()[e.toLowerCase()]).or(n).getOrThunk(function(){return Kx(t)})},$A=function(e,t){return dt(e,function(n){return g.from(t()[n.toLowerCase()])}).getOrThunk(function(){return Kx(t)})},RA={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},HA=function(e){var t=wr({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:lt([Mn.config({})])}),n=function(x){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+x+"%"}}}},a=function(x){return{dom:{tag:"div",classes:["tox-text"],innerHtml:x+"%"}}},i=wr({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},a(0)],behaviours:lt([Mn.config({})])}),c=function(x,S){x.getSystem().isConnected()&&i.getOpt(x).each(function(D){Mn.set(D,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(S)]},a(S)])})},s=function(x,S){if(x.getSystem().isConnected()){var D=t.get(x);Mn.set(D,[Qu(S)])}},v={updateProgress:c,updateText:s},d=kt([e.icon.toArray(),e.level.toArray(),e.level.bind(function(x){return g.from(RA[x])}).toArray()]),h=wr(Go.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ei("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(x){e.onAction(x)}})),y=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:$A(d,e.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:lt([Mn.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(function(x){return["tox-notification","tox-notification--in","tox-notification--"+x]}).getOr(["tox-notification","tox-notification--in"])},behaviours:lt([An.config({}),Bn("notification-events",[Ze(ju(),function(x){h.getOpt(x).each(An.focus)})])]),components:y.concat(e.progress?[i.asSpec()]:[]).concat(e.closeButton?[h.asSpec()]:[]),apis:v}},Xx=fi({name:"Notification",factory:HA,configFields:[ir("level"),q("progress"),q("icon"),q("onAction"),q("text"),q("iconProvider"),q("translationProvider"),br("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}});function IA(e,t,n){var a=t.backstage,i=function(x){switch(x){case"bc-bc":return ff;case"tc-tc":return Qc;case"tc-bc":return Vo;case"bc-tc":default:return Ja}},c=function(x){Le(x,function(S){return S.moveTo(0,0)})},s=function(x){x.length>0&&($e(x).each(function(S){return S.moveRel(null,"banner")}),Le(x,function(S,D){D>0&&S.moveRel(x[D-1].getEl(),"bc-tc")}))},v=function(x){c(x),s(x)},d=function(x,S){var D=!x.closeButton&&x.timeout&&(x.timeout>0||x.timeout<0),B=function(){S(),fa.hide(J)},R=go(Xx.sketch({text:x.text,level:Tt(["success","error","warning","warn","info"],x.type)?x.type:void 0,progress:x.progressBar===!0,icon:g.from(x.icon),closeButton:!D,onAction:B,iconProvider:a.shared.providers.icons,translationProvider:a.shared.providers.translate})),J=go(fa.sketch(G({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}},a.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(J),x.timeout>0&&Bu.setTimeout(function(){B()},x.timeout),{close:B,moveTo:function(I,re){fa.showAt(J,{anchor:"makeshift",x:I,y:re},ko(R))},moveRel:function(I,re){if(re!=="banner"){var le=i(re),Fe={anchor:"node",root:Tu(),node:g.some(Rt.fromDom(I)),layouts:{onRtl:function(){return[le]},onLtr:function(){return[le]}}};fa.showAt(J,Fe,ko(R))}else fa.showAt(J,t.backstage.shared.anchors.banner(),ko(R))},text:function(I){Xx.updateText(R,I)},settings:x,getEl:function(){return R.element.dom},progressBar:{value:function(I){Xx.updateProgress(R,I)}}}},h=function(x){x.close()},y=function(x){return x.settings};return{open:d,close:h,reposition:v,getArgs:y}}var LA=function(e,t){var n=null,a=function(){n!==null&&(clearTimeout(n),n=null)},i=function(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];n===null&&(n=setTimeout(function(){e.apply(null,c),n=null},t))};return{cancel:a,throttle:i}},C4=function(e,t){var n=null,a=function(){n!==null&&(clearTimeout(n),n=null)},i=function(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];n!==null&&clearTimeout(n),n=setTimeout(function(){e.apply(null,c),n=null},t)};return{cancel:a,throttle:i}},NA=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),VA=function(e,t){return e.isBlock(t)||Tt(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false"},T4=function(e,t,n,a,i){var c=NA(e,function(s){return VA(e,s)});return g.from(c.backwards(t,n,a,i))},UA="[data-mce-autocompleter]",WA=function(e,t){return F0(Rt.fromDom(e.selection.getNode())).getOrThunk(function(){var n=Rt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return Io(n,Rt.fromDom(t.extractContents())),t.insertNode(n.dom),Ho(n).each(function(a){return a.dom.normalize()}),D2(n).map(function(a){e.selection.setCursorLocation(a.dom,M2(a))}),n})},F0=function(e){return Ri(e,UA)},jA=function(e){return e.collapsed&&e.startContainer.nodeType===3},k4=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},O4=function(e){return e!==""&&` \xA0\f
\r	\v`.indexOf(e)!==-1},Yx=function(e,t){return e.substring(t.length)},GA=function(e,t,n){var a;for(a=t-1;a>=0;a--){var i=e.charAt(a);if(O4(i))return g.none();if(i===n)break}return g.some(a)},qA=function(e,t,n,a){if(a===void 0&&(a=0),!jA(t))return g.none();var i=function(s,v,d){return GA(d,v,n).getOr(v)},c=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return T4(e,t.startContainer,t.startOffset,i,c).bind(function(s){var v=t.cloneRange();if(v.setStart(s.container,s.offset),v.setEnd(t.endContainer,t.endOffset),v.collapsed)return g.none();var d=k4(v),h=d.lastIndexOf(n);return h!==0||Yx(d,n).length<a?g.none():g.some({text:Yx(d,n),range:v,triggerChar:n})})},Jx=function(e,t,n,a){return a===void 0&&(a=0),F0(Rt.fromDom(t.startContainer)).fold(function(){return qA(e,t,n,a)},function(i){var c=e.createRng();c.selectNode(i.dom);var s=k4(c);return g.some({range:c,text:Yx(s,n),triggerChar:n})})},KA=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(a,i){Cn(a,Vf(),{raw:i})};t.on("keydown",function(a){var i=function(){return e.getView().bind(yr.getHighlighted)};a.which===8&&e.onKeypress.throttle(a),e.isActive()&&(a.which===27&&e.cancelIfNecessary(),e.isMenuOpen()?a.which===13?(i().each(kc),a.preventDefault()):a.which===40?(i().fold(function(){e.getView().each(yr.highlightFirst)},function(c){n(c,a)}),a.preventDefault(),a.stopImmediatePropagation()):(a.which===37||a.which===38||a.which===39)&&i().each(function(c){n(c,a),a.preventDefault(),a.stopImmediatePropagation()}):(a.which===13||a.which===38||a.which===40)&&e.cancelIfNecessary())}),t.on("NodeChange",function(a){e.isActive()&&!e.isProcessingAction()&&F0(Rt.fromDom(a.element)).isNone()&&e.cancelIfNecessary()})},XA={setup:KA},Bg=tinymce.util.Tools.resolve("tinymce.util.Promise"),Zx=function(e,t){return{container:e,offset:t}},YA=function(e){return e.nodeType===Bf},JA=function(e){return e.nodeType===ds},A4=function(e){if(YA(e))return Zx(e,e.data.length);var t=e.childNodes;return t.length>0?A4(t[t.length-1]):Zx(e,t.length)},E4=function(e,t){var n=e.childNodes;return n.length>0&&t<n.length?E4(n[t],0):n.length>0&&JA(e)&&n.length===t?A4(n[n.length-1]):Zx(e,t)},ZA=function(e,t){return T4(e,t.container,t.offset,function(n,a){return a===0?-1:a},e.getRoot()).filter(function(n){var a=n.container.data.charAt(n.offset-1);return!O4(a)}).isSome()},QA=function(e){return function(t){var n=E4(t.startContainer,t.startOffset);return!ZA(e,n)}},e6=function(e,t,n){return dt(n.triggerChars,function(a){return Jx(e,t,a)})},t6=function(e,t){var n=t(),a=e.selection.getRng();return e6(e.dom,a,n).bind(function(i){return M4(e,t,i)})},M4=function(e,t,n,a){a===void 0&&(a={});var i=t(),c=e.selection.getRng(),s=c.startContainer.nodeValue,v=Y(i.lookupByChar(n.triggerChar),function(h){return n.text.length>=h.minChars&&h.matches.getOrThunk(function(){return QA(e.dom)})(n.range,s,n.text)});if(v.length===0)return g.none();var d=Bg.all(ne(v,function(h){var y=h.fetch(n.text,h.maxResults,a);return y.then(function(x){return{matchText:n.text,items:x,columns:h.columns,onAction:h.onAction,highlightOn:h.highlightOn}})}));return g.some({lookupData:d,context:n})},_4=ie([Mt("type"),pr("text")]),n6=function(e){return fr("separatormenuitem",_4,e)},r6=ie([me("type","autocompleteitem"),me("active",!1),me("disabled",!1),me("meta",{}),Mt("value"),pr("text"),pr("icon")]),a6=ie([Mt("type"),Mt("ch"),Mi("minChars",1),me("columns",1),Mi("maxResults",10),fo("matches"),Xn("fetch"),Xn("onAction"),Wi("highlightOn",[],we)]),o6=function(e){return fr("Autocompleter.Separator",_4,e)},i6=function(e){return fr("Autocompleter.Item",r6,e)},u6=function(e){return fr("Autocompleter",a6,e)},$g=[br("disabled",!1),pr("tooltip"),pr("icon"),pr("text"),Nr("onSetup",function(){return de})],c6=ie([Mt("type"),Xn("onAction")].concat($g)),D4=function(e){return fr("toolbarbutton",c6,e)},Qx=[br("active",!1)].concat($g),s6=ie(Qx.concat([Mt("type"),Xn("onAction")])),F4=function(e){return fr("ToggleButton",s6,e)},P4=[Nr("predicate",Vt),vo("scope","node",["node","editor"]),vo("position","selection",["node","selection","line"])],l6=$g.concat([me("type","contextformbutton"),me("primary",!1),Xn("onAction"),Oa("original",_e)]),f6=Qx.concat([me("type","contextformbutton"),me("primary",!1),Xn("onAction"),Oa("original",_e)]),v6=$g.concat([me("type","contextformbutton")]),d6=Qx.concat([me("type","contextformtogglebutton")]),m6=_a("type",{contextformbutton:l6,contextformtogglebutton:f6}),g6=ie([me("type","contextform"),Nr("initValue",function(){return""}),pr("label"),lo("commands",m6),Da("launch",_a("type",{contextformbutton:v6,contextformtogglebutton:d6}))].concat(P4)),h6=function(e){return fr("ContextForm",g6,e)},p6=ie([me("type","contexttoolbar"),Mt("items")].concat(P4)),b6=function(e){return fr("ContextToolbar",p6,e)},y6=function(e){var t={};return Le(e,function(n){t[n]={}}),pn(t)},w6=function(e){var t=e.ui.registry.getAll().popups,n=qn(t,function(s){return u6(s).fold(function(v){throw new Error(Do(v))},function(v){return v})}),a=y6(Vr(n,function(s){return s.ch})),i=ia(n),c=function(s){return Y(i,function(v){return v.ch===s})};return{dataset:n,triggerChars:a,lookupByChar:c}},eS;(function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(eS||(eS={}));var $u=eS,tS="tox-menu-nav__js",nS="tox-collection__item",rS="tox-swatch",x6={normal:tS,color:rS},z4="tox-collection__item--enabled",S6="tox-collection__group-heading",C6="tox-collection__item-icon",aS="tox-collection__item-label",T6="tox-collection__item-accessory",B4="tox-collection__item-caret",k6="tox-collection__item-checkmark",Rg="tox-collection__item--active",O6="tox-collection__item-icon-rtl",$4="tox-collection__item-container",A6="tox-collection__item-container--column",R4="tox-collection__item-container--row",E6="tox-collection__item-container--align-right",M6="tox-collection__item-container--align-left",_6="tox-collection__item-container--valign-top",D6="tox-collection__item-container--valign-middle",F6="tox-collection__item-container--valign-bottom",H4=function(e){return Zt(x6,e).getOr(tS)},P6=function(e){return e==="color"?"tox-swatches":"tox-menu"},oS=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:P6(e),tieredMenu:"tox-tiered-menu"}},sd=function(e){var t=oS(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:H4(e)}},z6=function(e,t,n){var a=oS(n);return{tag:"div",classes:kt([[a.menu,"tox-menu-"+t+"-column"],e?[a.hasIcons]:[]])}},B6=[vc.parts.items({})],P0=function(e,t,n){var a=oS(n),i={tag:"div",classes:kt([[a.tieredMenu]])};return{dom:i,markers:sd(n)}},iS=function(e,t){return function(n){var a=kn(n,t);return ne(a,function(i){return{dom:e,components:i}})}},$6=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[vc.parts.items({preprocess:e!=="auto"?iS({tag:"div",classes:["tox-swatches__row"]},e):_e})]}]}},R6=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[vc.parts.items({preprocess:iS({tag:"div",classes:["tox-collection__group"]},e)})]}},I4=function(e,t){var n=[],a=[];return Le(e,function(i,c){t(i,c)?(a.length>0&&n.push(a),a=[],Cr(i.dom,"innerHtml")&&a.push(i)):a.push(i)}),a.length>0&&n.push(a),ne(n,function(i){return{dom:{tag:"div",classes:["tox-collection__group"]},components:i}})},uS=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[vc.parts.items({preprocess:function(a){return e!=="auto"&&e>1?iS({tag:"div",classes:["tox-collection__group"]},e)(a):I4(a,function(i,c){return t[c].type==="separator"})}})]}},H6=function(e,t){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[vc.parts.items({preprocess:function(n){return I4(n,function(a,i){return e[i].type==="separator"})}})]}},z0=function(e){return Ot(e,function(t){return"icon"in t&&t.icon!==void 0})},es=function(e){return console.error(Do(e)),console.log(e),g.none()},I6=function(e,t,n,a,i){var c=H6(n);return{value:e,dom:c.dom,components:c.components,items:n}},cS=function(e,t,n,a,i){if(i==="color"){var c=$6(a);return{value:e,dom:c.dom,components:c.components,items:n}}if(i==="normal"&&a==="auto"){var c=uS(a,n);return{value:e,dom:c.dom,components:c.components,items:n}}if(i==="normal"&&a===1){var c=uS(1,n);return{value:e,dom:c.dom,components:c.components,items:n}}if(i==="normal"){var c=uS(a,n);return{value:e,dom:c.dom,components:c.components,items:n}}if(i==="listpreview"&&a!=="auto"){var c=R6(a);return{value:e,dom:c.dom,components:c.components,items:n}}return{value:e,dom:z6(t,a,i),components:B6,items:n}},L6=[Mt("type"),Mt("src"),pr("alt"),Wi("classes",[],we)],N6=ie(L6),V6=[Mt("type"),Mt("text"),pr("name"),Wi("classes",["tox-collection__item-label"],we)],U6=ie(V6),L4=gu(function(){return Fo("type",{cardimage:N6,cardtext:U6,cardcontainer:W6})}),W6=ie([Mt("type"),pu("direction","horizontal"),pu("align","left"),pu("valign","middle"),lo("items",L4)]),ld=[br("disabled",!1),pr("text"),pr("shortcut"),Br("value","value",Oe(function(){return sn("menuitem-value")}),C()),me("meta",{})],j6=ie([Mt("type"),pr("label"),lo("items",L4),Nr("onSetup",function(){return de}),Nr("onAction",de)].concat(ld)),G6=function(e){return fr("cardmenuitem",j6,e)},q6=ie([Mt("type"),br("active",!1),pr("icon")].concat(ld)),K6=function(e){return fr("choicemenuitem",q6,e)},X6=["inserttable","colorswatch"],Y6=ie([Mt("type"),or("fancytype",X6),Nr("onAction",de)]),J6=function(e){return fr("fancymenuitem",Y6,e)},Z6=ie([Mt("type"),Nr("onSetup",function(){return de}),Nr("onAction",de),pr("icon")].concat(ld)),Q6=function(e){return fr("menuitem",Z6,e)},e8=ie([Mt("type"),Xn("getSubmenuItems"),Nr("onSetup",function(){return de}),pr("icon")].concat(ld)),t8=function(e){return fr("nestedmenuitem",e8,e)},n8=ie([Mt("type"),pr("icon"),br("active",!1),Nr("onSetup",function(){return de}),Xn("onAction")].concat(ld)),r8=function(e){return fr("togglemenuitem",n8,e)},sS=function(e,t,n){var a=Eo(e.element,"."+n);if(a.length>0){var i=Ke(a,function(c){var s=c.dom.getBoundingClientRect().top,v=a[0].dom.getBoundingClientRect().top;return Math.abs(s-v)>t}).getOr(a.length);return g.some({numColumns:i,numRows:Math.ceil(a.length/i)})}else return g.none()},N4=function(e,t){return lt([Bn(e,t)])},a8=function(e){return N4(sn("unnamed-events"),e)},B0={namedEvents:N4,unnamedEvents:a8},V4=sn("tooltip.exclusive"),Hg=sn("tooltip.show"),Ig=sn("tooltip.hide"),U4=function(e,t,n){e.getSystem().broadcastOn([V4],{})},o8=function(e,t,n,a){n.getTooltip().each(function(i){i.getSystem().isConnected()&&Mn.set(i,a)})},i8=Object.freeze({__proto__:null,hideAllExclusive:U4,setComponents:o8}),u8=function(e,t){var n=function(i){t.getTooltip().each(function(c){Ic(c),e.onHide(i,c),t.clearTooltip()}),t.clearTimer()},a=function(i){if(!t.isShowing()){U4(i);var c=e.lazySink(i).getOrDie(),s=i.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:cr(e.mode==="normal"?[Ze(Wu(),function(v){ur(i,Hg)}),Ze(ps(),function(v){ur(i,Ig)})]:[]),behaviours:lt([Mn.config({})])});t.setTooltip(s),uc(c,s),e.onShow(i,s),yo.position(c,e.anchor(i),s)}};return cr(kt([[Ze(Hg,function(i){t.resetTimer(function(){a(i)},e.delay)}),Ze(Ig,function(i){t.resetTimer(function(){n(i)},e.delay)}),Ze(Yi(),function(i,c){var s=c;s.universal||Tt(s.channels,V4)&&n(i)}),ui(function(i){n(i)})],e.mode==="normal"?[Ze(ju(),function(i){ur(i,Hg)}),Ze(Wd(),function(i){ur(i,Ig)}),Ze(Wu(),function(i){ur(i,Hg)}),Ze(ps(),function(i){ur(i,Ig)})]:[Ze(gh(),function(i,c){ur(i,Hg)}),Ze(Gd(),function(i){ur(i,Ig)})]]))},c8=Object.freeze({__proto__:null,events:u8}),s8=[q("lazySink"),q("tooltipDom"),me("exclusive",!0),me("tooltipComponents",[]),me("delay",300),vo("mode","normal",["normal","follow-highlight"]),me("anchor",function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:$([Ja,Vo,Xa,ao,Ya,po]),onRtl:$([Ja,Vo,Xa,ao,Ya,po])}}}),vr("onHide"),vr("onShow")],l8=function(){var e=xt(g.none()),t=xt(g.none()),n=function(){return t.get()},a=function(h){t.set(g.some(h))},i=function(){t.set(g.none())},c=function(){e.get().each(function(h){clearTimeout(h)})},s=function(h,y){c(),e.set(g.some(setTimeout(function(){h()},y)))},v=function(){return t.get().isSome()},d=$("not-implemented");return ci({getTooltip:n,isShowing:v,setTooltip:a,clearTooltip:i,clearTimer:c,resetTimer:s,readState:d})},f8=Object.freeze({__proto__:null,init:l8}),W4=Aa({fields:s8,name:"tooltipping",active:c8,state:f8,apis:i8}),v8=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},Lg=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Li=tinymce.util.Tools.resolve("tinymce.util.I18n"),d8=["input","button","textarea","select"],j4=function(e,t,n){var a=t.disabled()?fS:vS;a(e,t)},lS=function(e,t){return t.useNative===!0&&Tt(d8,Di(e.element))},m8=function(e){return Oh(e.element,"disabled")},g8=function(e){sr(e.element,"disabled","disabled")},h8=function(e){Lo(e.element,"disabled")},p8=function(e){return mo(e.element,"aria-disabled")==="true"},b8=function(e){sr(e.element,"aria-disabled","true")},y8=function(e){sr(e.element,"aria-disabled","false")},fS=function(e,t,n){t.disableClass.each(function(i){Yr(e.element,i)});var a=lS(e,t)?g8:b8;a(e),t.onDisabled(e)},vS=function(e,t,n){t.disableClass.each(function(i){xa(e.element,i)});var a=lS(e,t)?h8:y8;a(e),t.onEnabled(e)},G4=function(e,t){return lS(e,t)?m8(e):p8(e)},w8=function(e,t,n,a){var i=a?fS:vS;i(e,t)},x8=Object.freeze({__proto__:null,enable:vS,disable:fS,isDisabled:G4,onLoad:j4,set:w8}),S8=function(e,t){return pi({classes:t.disabled()?t.disableClass.toArray():[]})},C8=function(e,t){return cr([Xf(To(),function(n,a){return G4(n,e)}),Em(e,t,j4)])},T8=Object.freeze({__proto__:null,exhibit:S8,events:C8}),k8=[Nr("disabled",Vt),me("useNative",!0),ir("disableClass"),vr("onDisabled"),vr("onEnabled")],Tn=Aa({fields:k8,name:"disabling",active:T8,apis:x8}),O8=tinymce.util.Tools.resolve("tinymce.EditorManager"),A8=function(e){var t=e.getParam("skin"),n=e.getParam("skin_url");if(t!==!1){var a=t||"oxide";n?n=e.documentBaseURI.toAbsolute(n):n=O8.baseURL+"/skins/ui/"+a}return n},E8=function(e){return e.getParam("readonly",!1,"boolean")},M8=function(e){return e.getParam("skin")===!1},q4=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},K4=function(e){return e.getParam("width",Lg.DOM.getStyle(e.getElement(),"width"))},X4=function(e){return g.from(e.getParam("min_width")).filter(Bt)},Y4=function(e){return g.from(e.getParam("min_height")).filter(Bt)},dS=function(e){return g.from(e.getParam("max_width")).filter(Bt)},J4=function(e){return g.from(e.getParam("max_height")).filter(Bt)},_8=function(e){return g.from(e.getParam("style_formats")).filter(Pt)},D8=function(e){return e.getParam("style_formats_merge",!1,"boolean")},F8=function(e){return e.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},P8=function(e){return e.getParam("removed_menuitems","")},mS=function(e){return e.getParam("menubar",!0,"boolean")!==!1},gS=function(e){var t=e.getParam("toolbar",!0),n=t===!0,a=wt(t),i=Pt(t)&&t.length>0;return!$0(e)&&(i||a||n)},Z4=function(e){var t=an(9,function(a){return e.getParam("toolbar"+(a+1),!1,"string")}),n=Y(t,function(a){return typeof a=="string"});return n.length>0?g.some(n):g.none()},$0=function(e){return Z4(e).fold(function(){var t=e.getParam("toolbar",[],"string[]");return t.length>0},Ut)},Ci;(function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"})(Ci||(Ci={}));var Ng=function(e){return e.getParam("toolbar_mode","","string")},vf;(function(e){e.auto="auto",e.top="top",e.bottom="bottom"})(vf||(vf={}));var z8=function(e){return e.getParam("toolbar_groups",{},"object")},Q4=function(e){return e.getParam("toolbar_location",vf.auto,"string")},eC=function(e){return Q4(e)===vf.bottom},B8=function(e){return e.getParam("fixed_toolbar_container","","string")},$8=function(e){return e.getParam("fixed_toolbar_container_target")},R8=function(e){return e.getParam("toolbar_persist",!1,"boolean")},tC=function(e){if(!e.inline)return g.none();var t=B8(e);if(t.length>0)return Ka(Tu(),t);var n=$8(e);return Ct(n)?g.some(Rt.fromDom(n)):g.none()},R0=function(e){return e.inline&&tC(e).isSome()},nC=function(e){var t=tC(e);return t.getOrThunk(function(){return ev(Va(Rt.fromDom(e.getElement())))})},rC=function(e){return e.inline&&!mS(e)&&!gS(e)&&!$0(e)},H0=function(e){var t=e.getParam("toolbar_sticky",!1,"boolean");return(t||e.inline)&&!R0(e)&&!rC(e)},H8=function(e){return e.getParam("draggable_modal",!1,"boolean")},I8=function(e){var t=e.getParam("menu");return t?qn(t,function(n){return G(G({},n),{items:n.items})}):{}},L8=function(e){return e.getParam("menubar")},N8=function(e){return e.getParam("toolbar",!0)},V8=function(e){return e.getParam("file_picker_callback")},U8=function(e){return e.getParam("file_picker_types")},W8=function(e){return e.getParam("file_browser_callback_types")},j8=function(e){return e.getParam("typeahead_urls")===!1},G8=function(e){return e.getParam("anchor_top","#top")},q8=function(e){return e.getParam("anchor_bottom","#bottom")},K8=function(e){var t=e.getParam("file_picker_validator_handler",void 0,"function");return t===void 0?e.getParam("filepicker_validator_handler",void 0,"function"):t},hS="silver.readonly",X8=ie([Pn("readonly")]),fd=function(e,t){var n=e.outerContainer,a=n.element;t&&(e.mothership.broadcastOn([Lc()],{target:a}),e.uiMothership.broadcastOn([Lc()],{target:a})),e.mothership.broadcastOn([hS],{readonly:t}),e.uiMothership.broadcastOn([hS],{readonly:t})},aC=function(e,t){e.on("init",function(){e.mode.isReadOnly()&&fd(t,!0)}),e.on("SwitchMode",function(){return fd(t,e.mode.isReadOnly())}),E8(e)&&e.setMode("readonly")},za=function(){var e;return Zo.config({channels:(e={},e[hS]={schema:X8,onReceive:function(t,n){Tn.set(t,n.readonly)}},e)})},Y8=function(e){return Tn.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},J8=function(e){return Tn.config({disabled:e})},Z8=function(e){return Tn.config({disabled:e,disableClass:"tox-tbtn--disabled"})},Q8=function(e){return Tn.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},ou={item:Y8,button:J8,splitButton:Z8,toolbarButton:Q8},I0=function(e,t){var n=e.getApi(t);return function(a){a(n)}},Vg=function(e,t){return na(function(n){var a=I0(e,n);a(function(i){var c=e.onSetup(i);ze(c)&&t.set(c)})})},Ug=function(e,t){return ui(function(n){return I0(e,n)(t.get())})},pS,eE=function(e,t){return Ji(function(n,a){I0(e,n)(e.onAction),!e.triggersSubmenu&&t===$u.CLOSE_ON_EXECUTE&&(n.getSystem().isConnected()&&ur(n,Uf()),a.stop())})},tE=(pS={},pS[To()]=["disabling","alloy.base.behaviour","toggling","item-events"],pS),vd=function(e){return Dt(e,function(t){return t.toArray()})},dd=function(e,t,n,a){var i=xt(de);return{type:"item",dom:t.dom,components:vd(t.optComponents),data:e.data,eventOrder:tE,hasSubmenu:e.triggersSubmenu,itemBehaviours:lt([Bn("item-events",[eE(e,n),Vg(e,i),Ug(e,i)]),ou.item(function(){return e.disabled||a.isDisabled()}),za(),Mn.config({})].concat(e.itemBehaviours))}},md=function(e){return{value:e.value,meta:G({text:e.text.getOr("")},e.meta)}},bS=tinymce.util.Tools.resolve("tinymce.Env"),nE=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl",access:"Shift+Alt"},a=bS.mac?t:n,i=e.split("+"),c=ne(i,function(s){var v=s.toLowerCase().trim();return Cr(a,v)?a[v]:s});return bS.mac?c.join(""):c.join("+")},rE=function(e){return{dom:{tag:"div",classes:[C6],innerHtml:e}}},oC=function(e){return{dom:{tag:"div",classes:[aS]},components:[Qu(Li.translate(e))]}},iC=function(e,t){return{dom:{tag:"div",classes:t,innerHtml:e}}},aE=function(e,t){return{dom:{tag:"div",classes:[aS]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Qu(Li.translate(t))]}]}},oE=function(e){return{dom:{tag:"div",classes:[T6],innerHtml:nE(e)}}},uC=function(e){return{dom:{tag:"div",classes:[k6],innerHtml:ei("checkmark",e)}}},iE=function(e){return{dom:{tag:"div",classes:[B4],innerHtml:ei("chevron-right",e)}}},uE=function(e){return{dom:{tag:"div",classes:[B4],innerHtml:ei("chevron-down",e)}}},cE=function(e,t){var n=e.direction==="vertical"?A6:R4,a=e.align==="left"?M6:E6,i=function(){switch(e.valign){case"top":return _6;case"middle":return D6;case"bottom":return F6}};return{dom:{tag:"div",classes:[$4,n,a,i()]},components:t}},sE=function(e,t,n){return{dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}},lE=function(e,t,n,a){var i="custom",c="remove",s=function(){var v=rS,d=n.getOr(""),h=e.map(function(x){return{title:a.translate(x)}}).getOr({}),y={tag:"div",attributes:h,classes:[v]};return t===i?G(G({},y),{tag:"button",classes:Ue(y.classes,["tox-swatches__picker-btn"]),innerHtml:d}):t===c?G(G({},y),{classes:Ue(y.classes,["tox-swatch--remove"]),innerHtml:d}):G(G({},y),{attributes:G(G({},y.attributes),{"data-mce-color":t}),styles:{"background-color":t}})};return{dom:s(),optComponents:[]}},cC=function(e,t){var n=t.map(function(a){return{attributes:{title:Li.translate(a)}}}).getOr({});return G({tag:"div",classes:[tS,nS].concat(e?[O6]:[])},n)},fE=function(e,t,n,a,i){var c=n?t.or(g.some("")).map(rE):g.none(),s=e.checkMark,v=e.htmlContent.fold(function(){return e.textContent.map(a)},function(h){return g.some(iC(h,[aS]))}),d={dom:cC(i,e.ariaLabel),optComponents:[c,v,e.shortcutContent.map(oE),s,e.caret]};return d},vE=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],dE=["list-bull-circle","list-bull-default","list-bull-square"],Wg=function(e,t,n,a){a===void 0&&(a=g.none());var i=function(d){return d.map(function(h){return Li.isRtl()&&Tt(vE,h)?h+"-rtl":h})},c=Li.isRtl()&&e.iconContent.exists(function(d){return Tt(dE,d)}),s=i(e.iconContent).map(function(d){return BA(d,t.icons,a)}),v=g.from(e.meta).fold(function(){return oC},function(d){return Cr(d,"style")?nn(aE,d.style):oC});return e.presets==="color"?lE(e.ariaLabel,e.value,s,t):fE(e,s,n,v,c)},sC=function(e,t){return Zt(e,"tooltipWorker").map(function(n){return[W4.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(a){return{anchor:"submenu",item:a,overrides:{maxHeightFunction:Cv}}},mode:"follow-highlight",onShow:function(a,i){n(function(c){W4.setComponents(a,[fm({element:Rt.fromDom(c)})])})}})]}).getOr([])},mE=function(e){return Lg.DOM.encode(e)},lC=function(e,t){var n=Li.translate(e),a=mE(n);if(t.length>0){var i=new RegExp(v8(t),"gi");return a.replace(i,function(c){return'<span class="tox-autocompleter-highlight">'+c+"</span>"})}else return a},gE=function(e,t,n,a,i,c,s,v){v===void 0&&(v=!0);var d=Wg({presets:a,textContent:g.none(),htmlContent:n?e.text.map(function(h){return lC(h,t)}):g.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:g.none(),checkMark:g.none(),caret:g.none(),value:e.value},s.providers,v,e.icon);return dd({data:md(e),disabled:e.disabled,getApi:$({}),onAction:function(h){return i(e.value,e.meta)},onSetup:$(de),triggersSubmenu:!1,itemBehaviours:sC(e.meta,s)},d,c,s.providers)},fC=function(e,t){return ne(e,function(n){switch(n.type){case"cardcontainer":return cE(n,fC(n.items,t));case"cardimage":return sE(n.src,n.classes,n.alt);case"cardtext":var a=n.name.exists(function(c){return Tt(t.cardText.highlightOn,c)}),i=a?g.from(t.cardText.matchText).getOr(""):"";return iC(lC(n.text,i),n.classes)}})},hE=function(e,t,n,a){var i=function(s){return{isDisabled:function(){return Tn.isDisabled(s)},setDisabled:function(v){Tn.set(s,v),Le(Eo(s.element,"*"),function(d){s.getSystem().getByDom(d).each(function(h){h.hasConfigured(Tn)&&Tn.set(h,v)})})}}},c={dom:cC(!1,e.label),optComponents:[g.some({dom:{tag:"div",classes:[$4,R4]},components:fC(e.items,a)})]};return dd({data:md(G({text:g.none()},e)),disabled:e.disabled,getApi:i,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:g.from(a.itemBehaviours).getOr([])},c,t,n.providers)},pE=function(e,t,n,a,i,c,s,v){v===void 0&&(v=!0);var d=function(y){return{setActive:function(x){xe.set(y,x)},isActive:function(){return xe.isOn(y)},isDisabled:function(){return Tn.isDisabled(y)},setDisabled:function(x){return Tn.set(y,x)}}},h=Wg({presets:n,textContent:t?e.text:g.none(),htmlContent:g.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:g.none(),checkMark:t?g.some(uC(s.icons)):g.none(),caret:g.none(),value:e.value},s,v);return Fn(dd({data:md(e),disabled:e.disabled,getApi:d,onAction:function(y){return a(e.value)},onSetup:function(y){return y.setActive(i),de},triggersSubmenu:!1,itemBehaviours:[]},h,c,s),{toggling:{toggleClass:z4,toggleOnExecute:!1,selected:e.active}})},vC=Nv(Qa(),Ua()),dC=function(e){return{value:e}},mC=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,gC=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,bE=function(e){return mC.test(e)||gC.test(e)},yE=function(e){var t=e.value.replace(mC,function(n,a,i,c){return a+a+i+i+c+c});return{value:t}},wE=function(e){var t=yE(e),n=gC.exec(t.value);return n===null?["FFFFFF","FF","FF","FF"]:n},yS=function(e){var t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},wS=function(e){var t=yS(e.red)+yS(e.green)+yS(e.blue);return dC(t)},hC=Math.min,pC=Math.max,L0=Math.round,xE=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,SE=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,df=function(e,t,n,a){return{red:e,green:t,blue:n,alpha:a}},xS=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},bC=function(e){var t,n,a,i=(e.hue||0)%360,c=e.saturation/100,s=e.value/100;if(c=pC(0,hC(c,1)),s=pC(0,hC(s,1)),c===0)return t=n=a=L0(255*s),df(t,n,a,1);var v=i/60,d=s*c,h=d*(1-Math.abs(v%2-1)),y=s-d;switch(Math.floor(v)){case 0:t=d,n=h,a=0;break;case 1:t=h,n=d,a=0;break;case 2:t=0,n=d,a=h;break;case 3:t=0,n=h,a=d;break;case 4:t=h,n=0,a=d;break;case 5:t=d,n=0,a=h;break;default:t=n=a=0}return t=L0(255*(t+y)),n=L0(255*(n+y)),a=L0(255*(a+y)),df(t,n,a,1)},jg=function(e){var t=wE(e),n=parseInt(t[1],16),a=parseInt(t[2],16),i=parseInt(t[3],16);return df(n,a,i,1)},yC=function(e,t,n,a){var i=parseInt(e,10),c=parseInt(t,10),s=parseInt(n,10),v=parseFloat(a);return df(i,c,s,v)},CE=function(e){if(e==="transparent")return g.some(df(0,0,0,0));var t=xE.exec(e);if(t!==null)return g.some(yC(t[1],t[2],t[3],"1"));var n=SE.exec(e);return n!==null?g.some(yC(n[1],n[2],n[3],n[4])):g.none()},wC=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"},xC=df(255,0,0,1),TE=function(e){return e.fire("SkinLoaded")},kE=function(e,t){return e.fire("SkinLoadError",t)},OE=function(e){return e.fire("ResizeEditor")},SS=function(e,t){return e.fire("ResizeContent",t)},AE=function(e,t){return e.fire("ScrollContent",t)},EE=function(e,t){return e.fire("TextColorChange",t)},N0=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),SC="tinymce-custom-colors";function ME(e){e===void 0&&(e=10);var t=N0.getItem(SC),n=wt(t)?JSON.parse(t):[],a=function(d){var h=e-d.length;return h<0?d.slice(0,e):d},i=a(n),c=function(d){Jt(i,d).each(s),i.unshift(d),i.length>e&&i.pop(),N0.setItem(SC,JSON.stringify(i))},s=function(d){i.splice(d,1)},v=function(){return i.slice(0)};return{add:c,state:v}}var Ia="choiceitem",_E=[{type:Ia,text:"Light Green",value:"#BFEDD2"},{type:Ia,text:"Light Yellow",value:"#FBEEB8"},{type:Ia,text:"Light Red",value:"#F8CAC6"},{type:Ia,text:"Light Purple",value:"#ECCAFA"},{type:Ia,text:"Light Blue",value:"#C2E0F4"},{type:Ia,text:"Green",value:"#2DC26B"},{type:Ia,text:"Yellow",value:"#F1C40F"},{type:Ia,text:"Red",value:"#E03E2D"},{type:Ia,text:"Purple",value:"#B96AD9"},{type:Ia,text:"Blue",value:"#3598DB"},{type:Ia,text:"Dark Turquoise",value:"#169179"},{type:Ia,text:"Orange",value:"#E67E23"},{type:Ia,text:"Dark Red",value:"#BA372A"},{type:Ia,text:"Dark Purple",value:"#843FA1"},{type:Ia,text:"Dark Blue",value:"#236FA1"},{type:Ia,text:"Light Gray",value:"#ECF0F1"},{type:Ia,text:"Medium Gray",value:"#CED4D9"},{type:Ia,text:"Gray",value:"#95A5A6"},{type:Ia,text:"Dark Gray",value:"#7E8C8D"},{type:Ia,text:"Navy Blue",value:"#34495E"},{type:Ia,text:"Black",value:"#000000"},{type:Ia,text:"White",value:"#ffffff"}],CC=ME(10),DE=function(e){var t=[],n=document.createElement("canvas");n.height=1,n.width=1;for(var a=n.getContext("2d"),i=function(v,d){var h=255,y=d/255,x=Math.round(v*y+h*(1-y));return("0"+x.toString(16)).slice(-2).toUpperCase()},c=function(v){if(/^[0-9A-Fa-f]{6}$/.test(v))return"#"+v.toUpperCase();a.clearRect(0,0,n.width,n.height),a.fillStyle="#FFFFFF",a.fillStyle=v,a.fillRect(0,0,1,1);var d=a.getImageData(0,0,1,1).data,h=d[0],y=d[1],x=d[2],S=d[3];return"#"+i(h,S)+i(y,S)+i(x,S)},s=0;s<e.length;s+=2)t.push({text:e[s+1],value:c(e[s]),type:"choiceitem"});return t},FE=function(e,t){return e.getParam("color_cols",t,"number")},TC=function(e){return e.getParam("custom_colors")!==!1},PE=function(e){return e.getParam("color_map")},CS=function(e){var t=PE(e);return t!==void 0?DE(t):_E},zE=function(){return ne(CC.state(),function(e){return{type:Ia,text:e,value:e}})},kC=function(e){CC.add(e)},BE=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),function(a){var i;(i=a.style[t==="forecolor"?"color":"background-color"])&&(n=n||i)}),n},$E=function(e,t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},RE=function(e,t){e.undoManager.transact(function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()})},HE=function(e){e.addCommand("mceApplyTextcolor",function(t,n){$E(e,t,n)}),e.addCommand("mceRemoveTextcolor",function(t){RE(e,t)})},IE=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))},OC=function(e){var t=CS(e),n=IE(t.length);return FE(e,n)},LE=function(e){var t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},a={type:t,text:"Custom color",icon:"color-picker",value:"custom"};return e?[n,a]:[n]},TS=function(e,t,n,a){if(n==="custom"){var i=FC(e);i(function(c){c.each(function(s){kC(s),e.execCommand("mceApplyTextcolor",t,s),a(s)})},"#000000")}else n==="remove"?(a(""),e.execCommand("mceRemoveTextcolor",t)):(a(n),e.execCommand("mceApplyTextcolor",t,n))},AC=function(e,t){return e.concat(zE().concat(LE(t)))},EC=function(e,t){return function(n){n(AC(e,t))}},MC=function(e,t,n){var a=t==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(a,n)},_C=function(e,t,n,a,i){e.ui.registry.addSplitButton(t,{tooltip:a,presets:"color",icon:t==="forecolor"?"text-color":"highlight-bg-color",select:function(c){var s=g.from(BE(e,n));return s.bind(function(v){return CE(v).map(function(d){var h=wS(d).value;return Fa(c.toLowerCase(),h)})}).getOr(!1)},columns:OC(e),fetch:EC(CS(e),TC(e)),onAction:function(c){i.get()!==null&&TS(e,n,i.get(),de)},onItemAction:function(c,s){TS(e,n,s,function(v){i.set(v),EE(e,{name:t,color:v})})},onSetup:function(c){i.get()!==null&&MC(c,t,i.get());var s=function(v){v.name===t&&MC(c,v.name,v.color)};return e.on("TextColorChange",s),function(){e.off("TextColorChange",s)}}})},DC=function(e,t,n,a){e.ui.registry.addNestedMenuItem(t,{text:a,icon:t==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(i){TS(e,n,i.value,de)}}]}})},FC=function(e){return function(t,n){var a=!1,i=function(v){var d=v.getData(),h=d.colorpicker;a?(t(g.from(h)),v.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",h]))},c=function(v,d){d.name==="hex-valid"&&(a=d.value)},s={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:s,onAction:c,onSubmit:i,onClose:de,onCancel:function(){t(g.none())}})}},NE=function(e){HE(e);var t=xt(null),n=xt(null);_C(e,"forecolor","forecolor","Text color",t),_C(e,"backcolor","hilitecolor","Background color",n),DC(e,"forecolor","forecolor","Text color"),DC(e,"backcolor","hilitecolor","Background color")},kS=function(e,t,n,a,i,c,s,v){var d=z0(t),h=i!=="color"?"normal":"color",y=VE(t,n,a,h,c,s,v);return cS(e,d,y,a,i)},VE=function(e,t,n,a,i,c,s){return Us(ne(e,function(v){return v.type==="choiceitem"?K6(v).fold(es,function(d){return g.some(pE(d,n===1,a,t,c(v.value),i,s,z0(e)))}):g.none()}))},V0=function(e,t){var n=sd(t);if(e===1)return{mode:"menu",moveOnTab:!0};if(e==="auto")return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};var a=t==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+a}},UE=function(e,t){return e===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:e==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:t==="color"?".tox-swatches__row":".tox-collection__group",cell:t==="color"?"."+rS:"."+nS}}},WE=function(e,t){var n=AC(t.colorinput.getColors(),t.colorinput.hasCustomColors()),a=t.colorinput.getColorCols(),i="color",c=kS(sn("menu-value"),n,function(v){e.onAction({value:v})},a,i,$u.CLOSE_ON_EXECUTE,Vt,t.shared.providers),s=G(G({},c),{markers:sd(i),movement:V0(a,i)});return{type:"widget",data:{value:sn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[vC.widget(vc.sketch(s))]}},PC=sn("cell-over"),zC=sn("cell-execute"),jE=function(e,t,n){var a,i=function(v){return Cn(v,PC,{row:e,col:t})},c=function(v){return Cn(v,zC,{row:e,col:t})},s=function(v,d){d.stop(),c(v)};return go({dom:{tag:"div",attributes:(a={role:"button"},a["aria-labelledby"]=n,a)},behaviours:lt([Bn("insert-table-picker-cell",[Ze(Wu(),An.focus),Ze(To(),c),Ze(ml(),s),Ze(ys(),s)]),xe.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),An.config({onFocus:i})])})},GE=function(e,t,n){for(var a=[],i=0;i<t;i++){for(var c=[],s=0;s<n;s++)c.push(jE(i,s,e));a.push(c)}return a},qE=function(e,t,n,a,i){for(var c=0;c<a;c++)for(var s=0;s<i;s++)xe.set(e[c][s],c<=t&&s<=n)},KE=function(e){return Dt(e,function(t){return ne(t,ko)})},XE=function(e,t){return Qu(t+1+"x"+(e+1))},YE=function(e){var t=10,n=10,a=sn("size-label"),i=GE(a,t,n),c=wr({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:a}},components:[Qu("0x0")],behaviours:lt([Mn.config({})])});return{type:"widget",data:{value:sn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[vC.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:KE(i).concat(c.asSpec()),behaviours:lt([Bn("insert-table-picker",[Jf(PC,function(s,v,d){var h=d.event.row,y=d.event.col;qE(i,h,y,t,n),Mn.set(c.get(s),[XE(h,y)])}),Jf(zC,function(s,v,d){e.onAction({numRows:d.event.row+1,numColumns:d.event.col+1}),ur(s,Uf())})]),wn.config({initSize:{numRows:t,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}},JE={inserttable:YE,colorswatch:WE},ZE=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?g.some(e[t]):g.none()},QE=function(e,t){return ZE(JE,e.fancytype).map(function(n){return n(e,t)})},e7=function(e,t,n,a,i){a===void 0&&(a=!0),i===void 0&&(i=!1);var c=i?uE(n.icons):iE(n.icons),s=function(d){return{isDisabled:function(){return Tn.isDisabled(d)},setDisabled:function(h){return Tn.set(d,h)}}},v=Wg({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:g.none(),ariaLabel:e.text,caret:g.some(c),checkMark:g.none(),shortcutContent:e.shortcut},n,a);return dd({data:md(e),getApi:s,disabled:e.disabled,onAction:de,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},v,t,n)},t7=function(e,t,n,a){a===void 0&&(a=!0);var i=function(s){return{isDisabled:function(){return Tn.isDisabled(s)},setDisabled:function(v){return Tn.set(s,v)}}},c=Wg({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:g.none(),ariaLabel:e.text,caret:g.none(),checkMark:g.none(),shortcutContent:e.shortcut},n,a);return dd({data:md(e),getApi:i,disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},c,t,n)},n7=function(e){var t=e.text.fold(function(){return{}},function(n){return{innerHtml:n}});return{type:"separator",dom:G({tag:"div",classes:[nS,S6]},t),components:[]}},r7=function(e,t,n,a){a===void 0&&(a=!0);var i=function(s){return{setActive:function(v){xe.set(s,v)},isActive:function(){return xe.isOn(s)},isDisabled:function(){return Tn.isDisabled(s)},setDisabled:function(v){return Tn.set(s,v)}}},c=Wg({iconContent:e.icon,textContent:e.text,htmlContent:g.none(),ariaLabel:e.text,checkMark:g.some(uC(n.icons)),caret:g.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,a);return Fn(dd({data:md(e),disabled:e.disabled,getApi:i,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},c,t,n),{toggling:{toggleClass:z4,toggleOnExecute:!1,selected:e.active}})},a7=gE,BC=n7,o7=t7,i7=e7,u7=r7,c7=QE,s7=hE,Gg;(function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"})(Gg||(Gg={}));var l7=function(e,t,n,a,i){var c=n.shared.providers,s=function(v){return i?G(G({},v),{shortcut:g.none(),icon:v.text.isSome()?g.none():v.icon}):v};switch(e.type){case"menuitem":return Q6(e).fold(es,function(v){return g.some(o7(s(v),t,c,a))});case"nestedmenuitem":return t8(e).fold(es,function(v){return g.some(i7(s(v),t,c,a,i))});case"togglemenuitem":return r8(e).fold(es,function(v){return g.some(u7(s(v),t,c,a))});case"separator":return n6(e).fold(es,function(v){return g.some(BC(v))});case"fancymenuitem":return J6(e).fold(es,function(v){return c7(s(v),n)});default:return console.error("Unknown item in general menu",e),g.none()}},f7=function(e,t,n,a,i,c,s){var v=a===1,d=!v||z0(e);return Us(ne(e,function(h){switch(h.type){case"separator":return o6(h).fold(es,function(y){return g.some(BC(y))});case"cardmenuitem":return G6(h).fold(es,function(y){return g.some(s7(G(G({},y),{onAction:function(x){y.onAction(x),n(y.value,y.meta)}}),i,c,{itemBehaviours:sC(y.meta,c),cardText:{matchText:t,highlightOn:s}}))});case"autocompleteitem":default:return i6(h).fold(es,function(y){return g.some(a7(y,t,v,"normal",n,i,c,d))})}}))},$C=function(e,t,n,a,i){var c=z0(t),s=Us(ne(t,function(d){var h=function(x){return i?!x.hasOwnProperty("text"):c},y=function(x){return l7(x,n,a,h(x),i)};return d.type==="nestedmenuitem"&&d.getSubmenuItems().length<=0?y(G(G({},d),{disabled:!0})):y(d)})),v=i?I6:cS;return v(e,c,s,1,"normal")},RC=function(e){return cf.singleData(e.value,e)},v7=function(e,t,n,a){var i=n===Gg.ContentFocus?W1():ef(),c=V0(t,a),s=sd(a);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:s.selectedItem,item:s.item},movement:c,fakeFocus:n===Gg.ContentFocus,focusManager:i,menuBehaviours:B0.unnamedEvents(t!=="auto"?[]:[na(function(v,d){sS(v,4,s.item).each(function(h){var y=h.numColumns,x=h.numRows;wn.setGridSize(v,x,y)})})])}},d7=function(e,t){var n=xt(g.none()),a=xt(!1),i=go(fa.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:lt([Bn("dismissAutocompleter",[Ze(xs(),function(){return d()})])]),lazySink:t.getSink})),c=function(){return fa.isOpen(i)},s=function(){return n.get().isSome()},v=function(){s()&&fa.hide(i)},d=function(){if(s()){var I=n.get().map(function(re){return re.element});F0(I.getOr(Rt.fromDom(e.selection.getNode()))).each(Ac),v(),n.set(g.none()),a.set(!1)}},h=qr(function(){return w6(e)}),y=function(I,re){var le=dt(re,function(Fe){return g.from(Fe.columns)}).getOr(1);return Dt(re,function(Fe){var Te=Fe.items;return f7(Te,Fe.matchText,function(De,Ae){var tt=e.selection.getRng();Jx(e.dom,tt,I).fold(function(){return console.error("Lost context. Cursor probably moved")},function(tn){var _t=tn.range,He={hide:function(){d()},reload:function(Ge){v(),B(Ge)}};a.set(!0),Fe.onAction(He,_t,De,Ae),a.set(!1)})},le,$u.BUBBLE_TO_SANDBOX,t,Fe.highlightOn)})},x=function(I){if(!s()){var re=WA(e,I.range);n.set(g.some({triggerChar:I.triggerChar,element:re,matchLength:I.text.length})),a.set(!1)}},S=function(I,re,le,Fe){I.matchLength=re.text.length;var Te=dt(le,function(De){return g.from(De.columns)}).getOr(1);fa.showAt(i,{anchor:"node",root:Rt.fromDom(e.getBody()),node:g.from(I.element)},vc.sketch(v7(cS("autocompleter-value",!0,Fe,Te,"normal"),Te,Gg.ContentFocus,"normal"))),fa.getContent(i).each(yr.highlightFirst)},D=function(I){return n.get().map(function(re){return Jx(e.dom,e.selection.getRng(),re.triggerChar).bind(function(le){return M4(e,h,le,I)})}).getOrThunk(function(){return t6(e,h)})},B=function(I){D(I).fold(d,function(re){x(re.context),re.lookupData.then(function(le){n.get().map(function(Fe){var Te=re.context;if(Fe.triggerChar===Te.triggerChar){var De=y(Te.triggerChar,le);De.length>0?S(Fe,Te,le,De):Te.text.length-Fe.matchLength>=10?d():v()}})})})},R=C4(function(I){I.which!==27&&B()},50),J={onKeypress:R,cancelIfNecessary:d,isMenuOpen:c,isActive:s,isProcessingAction:a.get,getView:function(){return fa.getContent(i)}};e.hasPlugin("rtc")===!1&&XA.setup(J,e)},m7={register:d7},HC=Ut,iu=function(e,t,n){return wy(e,t,HC,n)},U0=function(e,t,n){return xy(e,t,HC,n)},IC=Wh,qg=function(e,t,n){return Ri(e,t,n).isSome()},LC=function(e,t){var n=null,a=function(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];n=setTimeout(function(){e.apply(null,c),n=null},t)},i=function(){n!==null&&(clearTimeout(n),n=null)};return{cancel:i,schedule:a}},NC=5,g7=400,VC=function(e){var t=e.raw;return t.touches===void 0||t.touches.length!==1?g.none():g.some(t.touches[0])},h7=function(e,t){var n=Math.abs(e.clientX-t.x),a=Math.abs(e.clientY-t.y);return n>NC||a>NC},p7=function(e){var t=xt(g.none()),n=xt(!1),a=LC(function(h){e.triggerEvent(Db(),h),n.set(!0)},g7),i=function(h){return VC(h).each(function(y){a.cancel();var x={x:y.clientX,y:y.clientY,target:h.target};a.schedule(h),n.set(!1),t.set(g.some(x))}),g.none()},c=function(h){return a.cancel(),VC(h).each(function(y){t.get().each(function(x){h7(y,x)&&t.set(g.none())})}),g.none()},s=function(h){a.cancel();var y=function(x){return wa(x.target,h.target)};return t.get().filter(y).map(function(x){return n.get()?(h.prevent(),!1):e.triggerEvent(ys(),h)})},v=H([{key:Hn(),value:i},{key:$r(),value:c},{key:Xr(),value:s}]),d=function(h,y){return Zt(v,y).bind(function(x){return x(h)})};return{fireIfReady:d}},b7=function(e){var t=e.raw;return t.which===Uw[0]&&!Tt(["input","textarea"],Di(e.target))&&!qg(e.target,'[contenteditable="true"]')},UC=function(){return Ro().browser.isFirefox()},y7=ce([Xn("triggerEvent"),me("stopBackspace",!0)]),w7=function(e,t){return UC()?U0(e,"focus",t):iu(e,"focusin",t)},x7=function(e,t){return UC()?U0(e,"blur",t):iu(e,"focusout",t)},S7=function(e,t){var n=Kr("Getting GUI events settings",y7,t),a=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],i=p7(n),c=ne(a.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(D){return iu(e,D,function(B){i.fireIfReady(B,D).each(function(J){J&&B.kill()});var R=n.triggerEvent(D,B);R&&B.kill()})}),s=xt(g.none()),v=iu(e,"paste",function(D){i.fireIfReady(D,"paste").each(function(R){R&&D.kill()});var B=n.triggerEvent("paste",D);B&&D.kill(),s.set(g.some(setTimeout(function(){n.triggerEvent(gl(),D)},0)))}),d=iu(e,"keydown",function(D){var B=n.triggerEvent("keydown",D);B?D.kill():n.stopBackspace===!0&&b7(D)&&D.prevent()}),h=w7(e,function(D){var B=n.triggerEvent("focusin",D);B&&D.kill()}),y=xt(g.none()),x=x7(e,function(D){var B=n.triggerEvent("focusout",D);B&&D.kill(),y.set(g.some(setTimeout(function(){n.triggerEvent(Wd(),D)},0)))}),S=function(){Le(c,function(D){D.unbind()}),d.unbind(),h.unbind(),x.unbind(),v.unbind(),s.get().each(clearTimeout),y.get().each(clearTimeout)};return{unbind:S}},WC=function(e,t){var n=Zt(e,"target").getOr(t);return xt(n)},C7=function(e,t){var n=xt(!1),a=xt(!1),i=function(){n.set(!0)},c=function(){a.set(!0)};return{stop:i,cut:c,isStopped:n.get,isCut:a.get,event:e,setSource:t.set,getSource:t.get}},T7=function(e){var t=xt(!1),n=function(){t.set(!0)};return{stop:n,cut:de,isStopped:t.get,isCut:Vt,event:e,setSource:bt("Cannot set source of a broadcasted event"),getSource:bt("Cannot get source of a broadcasted event")}},Kg=xr.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),jC=function(e,t,n,a,i,c){var s=e(t,a),v=C7(n,i);return s.fold(function(){return c.logEventNoHandlers(t,a),Kg.complete()},function(d){var h=d.descHandler,y=Tl(h);return y(v),v.isStopped()?(c.logEventStopped(t,d.element,h.purpose),Kg.stopped()):v.isCut()?(c.logEventCut(t,d.element,h.purpose),Kg.complete()):Ho(d.element).fold(function(){return c.logNoParent(t,d.element,h.purpose),Kg.complete()},function(x){return c.logEventResponse(t,d.element,h.purpose),Kg.resume(x)})})},GC=function(e,t,n,a,i,c){return jC(e,t,n,a,i,c).fold(Ut,function(s){return GC(e,t,n,s,i,c)},Vt)},k7=function(e,t,n,a,i){var c=WC(n,a);return jC(e,t,n,a,c,i)},O7=function(e,t,n){var a=T7(t);return Le(e,function(i){var c=i.descHandler,s=Tl(c);s(a)}),a.isStopped()},A7=function(e,t,n,a){return qC(e,t,n,n.target,a)},qC=function(e,t,n,a,i){var c=WC(n,a);return GC(e,t,n,a,c,i)},E7=function(e,t){return{element:e,descHandler:t}},M7=function(e,t){return{id:e,descHandler:t}},_7=function(){var e={},t=function(s,v,d){Vn(d,function(h,y){var x=e[y]!==void 0?e[y]:{};x[v]=uv(h,s),e[y]=x})},n=function(s,v){return xl(v).fold(function(){return g.none()},function(d){return s.bind(function(h){return Zt(h,d)}).map(function(h){return E7(v,h)})})},a=function(s){return Zt(e,s).map(function(v){return Vr(v,function(d,h){return M7(h,d)})}).getOr([])},i=function(s,v,d){var h=Zt(e,v);return T(d,function(y){return n(h,y)},s)},c=function(s){Vn(e,function(v,d){v.hasOwnProperty(s)&&delete v[s]})};return{registerId:t,unregisterId:c,filterByType:a,find:i}},D7=function(){var e=_7(),t={},n=function(h){var y=h.element;return xl(y).fold(function(){return im("uid-",h.element)},function(x){return x})},a=function(h,y){var x=t[y];if(x===h)c(h);else throw new Error('The tagId "'+y+'" is already used by: '+Xu(x.element)+`
Cannot use it for: `+Xu(h.element)+`
The conflicting element is`+($i(x.element)?" ":" not ")+"already in the DOM")},i=function(h){var y=n(h);_r(t,y)&&a(h,y);var x=[h];e.registerId(x,y,h.events),t[y]=h},c=function(h){xl(h.element).each(function(y){delete t[y],e.unregisterId(y)})},s=function(h){return e.filterByType(h)},v=function(h,y,x){return e.find(h,y,x)},d=function(h){return Zt(t,h)};return{find:v,filter:s,register:i,unregister:c,getById:d}},F7=function(e){var t=e.dom,n=t.attributes,a=k(t,["attributes"]);return{uid:e.uid,dom:G({tag:"div",attributes:G({role:"presentation"},n)},a),components:e.components,behaviours:Bv(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},xo=fi({name:"Container",factory:F7,configFields:[me("components",[]),Pa("containerBehaviours",[]),me("events",{}),me("domModification",{}),me("eventOrder",{})]}),KC=function(e){var t=function(I){return Ho(e.element).fold(Ut,function(re){return wa(I,re)})},n=D7(),a=function(I,re){return n.find(t,I,re)},i=S7(e.element,{triggerEvent:function(I,re){return pv(I,re.target,function(le){return A7(a,I,re,le)})}}),c={debugInfo:$("real"),triggerEvent:function(I,re,le){pv(I,re,function(Fe){return qC(a,I,le,re,Fe)})},triggerFocus:function(I,re){xl(I).fold(function(){ac(I)},function(le){pv(Xi(),I,function(Fe){return k7(a,Xi(),{originator:re,kill:de,prevent:de,target:I},I,Fe),!1})})},triggerEscape:function(I,re){c.triggerEvent("keydown",I.element,re.event)},getByUid:function(I){return R(I)},getByDom:function(I){return J(I)},build:go,addToGui:function(I){d(I)},removeFromGui:function(I){h(I)},addToWorld:function(I){s(I)},removeFromWorld:function(I){v(I)},broadcast:function(I){S(I)},broadcastOn:function(I,re){D(I,re)},broadcastEvent:function(I,re){B(I,re)},isConnected:Ut},s=function(I){I.connect(c),Oc(I.element)||(n.register(I),Le(I.components(),s),c.triggerEvent(jf(),I.element,{target:I.element}))},v=function(I){Oc(I.element)||(Le(I.components(),v),n.unregister(I)),I.disconnect()},d=function(I){uc(e,I)},h=function(I){Ic(I)},y=function(){i.unbind(),Ku(e.element)},x=function(I){var re=n.filter(Yi());Le(re,function(le){var Fe=le.descHandler,Te=Tl(Fe);Te(I)})},S=function(I){x({universal:!0,data:I})},D=function(I,re){x({universal:!1,channels:I,data:re})},B=function(I,re){var le=n.filter(I);return O7(le,re)},R=function(I){return n.getById(I).fold(function(){return Lt.error(new Error('Could not find component with uid: "'+I+'" in system.'))},Lt.value)},J=function(I){var re=xl(I).getOr("not found");return R(re)};return s(e),{root:e,element:e.element,destroy:y,add:d,remove:h,getByUid:R,getByDom:J,addToWorld:s,removeFromWorld:v,broadcast:S,broadcastOn:D,broadcastEvent:B}},P7=function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:ne(e.items,t.interpreter)}},z7=$([me("prefix","form-field"),Pa("fieldBehaviours",[nr,zt])]),B7=$([xi({schema:[q("dom")],name:"label"}),xi({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[q("text")],name:"aria-descriptor"}),Za({factory:{sketch:function(e){var t=pt(e,["factory"]);return e.factory.sketch(t)}},schema:[q("factory")],name:"field"})]),$7=function(e,t,n,a){var i=Sa(e.fieldBehaviours,[nr.config({find:function(v){return Mr(v,e,"field")}}),zt.config({store:{mode:"manual",getValue:function(v){return nr.getCurrent(v).bind(zt.getValue)},setValue:function(v,d){nr.getCurrent(v).each(function(h){zt.setValue(h,d)})}}})]),c=cr([na(function(v,d){var h=Nc(v,e,["label","field","aria-descriptor"]);h.field().each(function(y){var x=sn(e.prefix);h.label().each(function(S){sr(S.element,"for",x),sr(y.element,"id",x)}),h["aria-descriptor"]().each(function(S){var D=sn(e.prefix);sr(S.element,"id",D),sr(y.element,"aria-describedby",D)})})})]),s={getField:function(v){return Mr(v,e,"field")},getLabel:function(v){return Mr(v,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:i,events:c,apis:s}},mr=wo({name:"FormField",configFields:z7(),partFields:B7(),factory:$7,apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),R7=function(e,t){return pi({attributes:H([{key:t.tabAttr,value:"true"}])})},H7=Object.freeze({__proto__:null,exhibit:R7}),I7=[me("tabAttr","data-alloy-tabstop")],ba=Aa({fields:I7,name:"tabstopping",active:H7}),L7=tinymce.util.Tools.resolve("tinymce.html.Entities"),Xg=function(e,t,n,a){var i=V7(e,t,n,a);return mr.sketch(i)},N7=function(e,t){return Xg(e,t,[],[])},V7=function(e,t,n,a){return{dom:XC(n),components:e.toArray().concat([t]),fieldBehaviours:lt(a)}},U7=function(){return XC([])},XC=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},Qs=function(e,t){return mr.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},Ti=sn("form-component-change"),Yg=sn("form-close"),mf=sn("form-cancel"),dc=sn("form-action"),Jg=sn("form-submit"),OS=sn("form-block"),AS=sn("form-unblock"),YC=sn("form-tabchange"),JC=sn("form-resize"),W7=function(e,t){var n,a=e.label.map(function(x){return Qs(x,t)}),i=function(x){return function(S,D){Ri(D.event.target,"[data-collection-item-value]").each(function(B){x(S,D,B,mo(B,"data-collection-item-value"))})}},c=function(x,S){var D=ne(S,function(J){var I=Li.translate(J.text),re=e.columns===1?'<div class="tox-collection__item-label">'+I+"</div>":"",le='<div class="tox-collection__item-icon">'+J.icon+"</div>",Fe={_:" "," - ":" ","-":" "},Te=I.replace(/\_| \- |\-/g,function(Ae){return Fe[Ae]}),De=t.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+De+'" tabindex="-1" data-collection-item-value="'+L7.encodeAllRaw(J.value)+'" title="'+Te+'" aria-label="'+Te+'">'+le+re+"</div>"}),B=e.columns!=="auto"&&e.columns>1?kn(D,e.columns):[D],R=ne(B,function(J){return'<div class="tox-collection__group">'+J.join("")+"</div>"});wl(x.element,R.join(""))},s=i(function(x,S,D,B){S.stop(),t.isDisabled()||Cn(x,dc,{name:e.name,value:B})}),v=[Ze(Wu(),i(function(x,S,D){ac(D)})),Ze(ml(),s),Ze(ys(),s),Ze(ju(),i(function(x,S,D){Ka(x.element,"."+Rg).each(function(B){xa(B,Rg)}),Yr(D,Rg)})),Ze(Nf(),i(function(x){Ka(x.element,"."+Rg).each(function(S){xa(S,Rg)})})),Ji(i(function(x,S,D,B){Cn(x,dc,{name:e.name,value:B})}))],d=function(x,S){return ne(Eo(x.element,".tox-collection__item"),S)},h=mr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:_e},behaviours:lt([Tn.config({disabled:t.isDisabled,onDisabled:function(x){d(x,function(S){Yr(S,"tox-collection__item--state-disabled"),sr(S,"aria-disabled",!0)})},onEnabled:function(x){d(x,function(S){xa(S,"tox-collection__item--state-disabled"),Lo(S,"aria-disabled")})}}),za(),Mn.config({}),zt.config({store:{mode:"memory",initialValue:[]},onSetValue:function(x,S){c(x,S),e.columns==="auto"&&sS(x,5,"tox-collection__item").each(function(D){var B=D.numRows,R=D.numColumns;wn.setGridSize(x,B,R)}),ur(x,JC)}}),ba.config({}),wn.config(UE(e.columns,"normal")),Bn("collection-events",v)]),eventOrder:(n={},n[To()]=["disabling","alloy.base.behaviour","collection-events"],n)}),y=["tox-form__group--collection"];return Xg(a,h,y,[])},ZC=$([ir("data"),me("inputAttributes",{}),me("inputStyles",{}),me("tag","input"),me("inputClasses",[]),vr("onSetValue"),me("styles",{}),me("eventOrder",{}),Pa("inputBehaviours",[zt,An]),me("selectOnFocus",!0)]),QC=function(e){return lt([An.config({onFocus:e.selectOnFocus?function(t){var n=t.element,a=Zu(n);n.dom.setSelectionRange(0,a.length)}:de})])},j7=function(e){return G(G({},QC(e)),Sa(e.inputBehaviours,[zt.config({store:G(G({mode:"manual"},e.data.map(function(t){return{initialValue:t}}).getOr({})),{getValue:function(t){return Zu(t.element)},setValue:function(t,n){var a=Zu(t.element);a!==n&&Ml(t.element,n)}}),onSetValue:e.onSetValue})]))},eT=function(e){return{tag:e.tag,attributes:G({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},G7=function(e,t){return{uid:e.uid,dom:eT(e),components:[],behaviours:j7(e),eventOrder:e.eventOrder}},Zg=fi({name:"Input",configFields:ZC(),factory:G7}),tT={},nT={exports:tT};(function(e,t,n,a){(function(i){if(typeof t=="object"&&typeof n!="undefined")n.exports=i();else if(typeof e=="function"&&e.amd)e([],i);else{var c;typeof window!="undefined"?c=window:typeof TA!="undefined"?c=TA:typeof self!="undefined"?c=self:c=this,c.EphoxContactWrapper=i()}})(function(){return function(){function i(c,s,v){function d(x,S){if(!s[x]){if(!c[x]){var D=typeof a=="function"&&a;if(!S&&D)return D(x,!0);if(h)return h(x,!0);var B=new Error("Cannot find module '"+x+"'");throw B.code="MODULE_NOT_FOUND",B}var R=s[x]={exports:{}};c[x][0].call(R.exports,function(J){var I=c[x][1][J];return d(I||J)},R,R.exports,i,c,s,v)}return s[x].exports}for(var h=typeof a=="function"&&a,y=0;y<v.length;y++)d(v[y]);return d}return i}()({1:[function(i,c,s){var v=c.exports={},d,h;function y(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?d=setTimeout:d=y}catch{d=y}try{typeof clearTimeout=="function"?h=clearTimeout:h=x}catch{h=x}})();function S(De){if(d===setTimeout)return setTimeout(De,0);if((d===y||!d)&&setTimeout)return d=setTimeout,setTimeout(De,0);try{return d(De,0)}catch{try{return d.call(null,De,0)}catch{return d.call(this,De,0)}}}function D(De){if(h===clearTimeout)return clearTimeout(De);if((h===x||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(De);try{return h(De)}catch{try{return h.call(null,De)}catch{return h.call(this,De)}}}var B=[],R=!1,J,I=-1;function re(){!R||!J||(R=!1,J.length?B=J.concat(B):I=-1,B.length&&le())}function le(){if(!R){var De=S(re);R=!0;for(var Ae=B.length;Ae;){for(J=B,B=[];++I<Ae;)J&&J[I].run();I=-1,Ae=B.length}J=null,R=!1,D(De)}}v.nextTick=function(De){var Ae=new Array(arguments.length-1);if(arguments.length>1)for(var tt=1;tt<arguments.length;tt++)Ae[tt-1]=arguments[tt];B.push(new Fe(De,Ae)),B.length===1&&!R&&S(le)};function Fe(De,Ae){this.fun=De,this.array=Ae}Fe.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={};function Te(){}v.on=Te,v.addListener=Te,v.once=Te,v.off=Te,v.removeListener=Te,v.removeAllListeners=Te,v.emit=Te,v.prependListener=Te,v.prependOnceListener=Te,v.listeners=function(De){return[]},v.binding=function(De){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(De){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},{}],2:[function(i,c,s){(function(v){(function(d){var h=setTimeout;function y(){}function x(le,Fe){return function(){le.apply(Fe,arguments)}}function S(le){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof le!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],re(le,this)}function D(le,Fe){for(;le._state===3;)le=le._value;if(le._state===0){le._deferreds.push(Fe);return}le._handled=!0,S._immediateFn(function(){var Te=le._state===1?Fe.onFulfilled:Fe.onRejected;if(Te===null){(le._state===1?B:R)(Fe.promise,le._value);return}var De;try{De=Te(le._value)}catch(Ae){R(Fe.promise,Ae);return}B(Fe.promise,De)})}function B(le,Fe){try{if(Fe===le)throw new TypeError("A promise cannot be resolved with itself.");if(Fe&&(typeof Fe=="object"||typeof Fe=="function")){var Te=Fe.then;if(Fe instanceof S){le._state=3,le._value=Fe,J(le);return}else if(typeof Te=="function"){re(x(Te,Fe),le);return}}le._state=1,le._value=Fe,J(le)}catch(De){R(le,De)}}function R(le,Fe){le._state=2,le._value=Fe,J(le)}function J(le){le._state===2&&le._deferreds.length===0&&S._immediateFn(function(){le._handled||S._unhandledRejectionFn(le._value)});for(var Fe=0,Te=le._deferreds.length;Fe<Te;Fe++)D(le,le._deferreds[Fe]);le._deferreds=null}function I(le,Fe,Te){this.onFulfilled=typeof le=="function"?le:null,this.onRejected=typeof Fe=="function"?Fe:null,this.promise=Te}function re(le,Fe){var Te=!1;try{le(function(De){Te||(Te=!0,B(Fe,De))},function(De){Te||(Te=!0,R(Fe,De))})}catch(De){if(Te)return;Te=!0,R(Fe,De)}}S.prototype.catch=function(le){return this.then(null,le)},S.prototype.then=function(le,Fe){var Te=new this.constructor(y);return D(this,new I(le,Fe,Te)),Te},S.all=function(le){var Fe=Array.prototype.slice.call(le);return new S(function(Te,De){if(Fe.length===0)return Te([]);var Ae=Fe.length;function tt(_t,He){try{if(He&&(typeof He=="object"||typeof He=="function")){var Ge=He.then;if(typeof Ge=="function"){Ge.call(He,function(qt){tt(_t,qt)},De);return}}Fe[_t]=He,--Ae===0&&Te(Fe)}catch(qt){De(qt)}}for(var tn=0;tn<Fe.length;tn++)tt(tn,Fe[tn])})},S.resolve=function(le){return le&&typeof le=="object"&&le.constructor===S?le:new S(function(Fe){Fe(le)})},S.reject=function(le){return new S(function(Fe,Te){Te(le)})},S.race=function(le){return new S(function(Fe,Te){for(var De=0,Ae=le.length;De<Ae;De++)le[De].then(Fe,Te)})},S._immediateFn=typeof v=="function"?function(le){v(le)}:function(le){h(le,0)},S._unhandledRejectionFn=function(Fe){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",Fe)},S._setImmediateFn=function(Fe){S._immediateFn=Fe},S._setUnhandledRejectionFn=function(Fe){S._unhandledRejectionFn=Fe},typeof c!="undefined"&&c.exports?c.exports=S:d.Promise||(d.Promise=S)})(this)}).call(this,i("timers").setImmediate)},{timers:3}],3:[function(i,c,s){(function(v,d){var h=i("process/browser.js").nextTick,y=Function.prototype.apply,x=Array.prototype.slice,S={},D=0;s.setTimeout=function(){return new B(y.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new B(y.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(R){R.close()};function B(R,J){this._id=R,this._clearFn=J}B.prototype.unref=B.prototype.ref=function(){},B.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(R,J){clearTimeout(R._idleTimeoutId),R._idleTimeout=J},s.unenroll=function(R){clearTimeout(R._idleTimeoutId),R._idleTimeout=-1},s._unrefActive=s.active=function(R){clearTimeout(R._idleTimeoutId);var J=R._idleTimeout;J>=0&&(R._idleTimeoutId=setTimeout(function(){R._onTimeout&&R._onTimeout()},J))},s.setImmediate=typeof v=="function"?v:function(R){var J=D++,I=arguments.length<2?!1:x.call(arguments,1);return S[J]=!0,h(function(){S[J]&&(I?R.apply(null,I):R.call(null),s.clearImmediate(J))}),J},s.clearImmediate=typeof d=="function"?d:function(R){delete S[R]}}).call(this,i("timers").setImmediate,i("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(i,c,s){var v=i("promise-polyfill"),d=function(){return typeof window!="undefined"?window:Function("return this;")()}();c.exports={boltExport:d.Promise||v}},{"promise-polyfill":2}]},{},[4])(4)})})(void 0,tT,nT,void 0);var rT=nT.exports.boltExport,ES=function(e){var t=g.none(),n=[],a=function(h){return ES(function(y){i(function(x){y(h(x))})})},i=function(h){s()?d(h):n.push(h)},c=function(h){s()||(t=g.some(h),v(n),n=[])},s=function(){return t.isSome()},v=function(h){Le(h,d)},d=function(h){t.each(function(y){setTimeout(function(){h(y)},0)})};return e(c),{get:i,map:a,isReady:s}},q7=function(e){return ES(function(t){t(e)})},K7={nu:ES,pure:q7},X7=function(e){setTimeout(function(){throw e},0)},gd=function(e){var t=function(d){e().then(d,X7)},n=function(d){return gd(function(){return e().then(d)})},a=function(d){return gd(function(){return e().then(function(h){return d(h).toPromise()})})},i=function(d){return gd(function(){return e().then(function(){return d.toPromise()})})},c=function(){return K7.nu(t)},s=function(){var d=null;return gd(function(){return d===null&&(d=e()),d})},v=e;return{map:n,bind:a,anonBind:i,toLazy:c,toCached:s,toPromise:v,get:t}},Y7=function(e){return gd(function(){return new rT(e)})},J7=function(e){return gd(function(){return rT.resolve(e)})},uo={nu:Y7,pure:J7},Z7=["input","textarea"],aT=function(e){var t=Di(e);return Tt(Z7,t)},oT=function(e,t){var n=t.getRoot(e).getOr(e.element);xa(n,t.invalidClass),t.notify.each(function(a){aT(e.element)&&sr(e.element,"aria-invalid",!1),a.getContainer(e).each(function(i){wl(i,a.validHtml)}),a.onValid(e)})},iT=function(e,t,n,a){var i=t.getRoot(e).getOr(e.element);Yr(i,t.invalidClass),t.notify.each(function(c){aT(e.element)&&sr(e.element,"aria-invalid",!0),c.getContainer(e).each(function(s){wl(s,a)}),c.onInvalid(e,a)})},uT=function(e,t,n){return t.validator.fold(function(){return uo.pure(Lt.value(!0))},function(a){return a.validate(e)})},MS=function(e,t,n){return t.notify.each(function(a){a.onValidate(e)}),uT(e,t).map(function(a){return e.getSystem().isConnected()?a.fold(function(i){return iT(e,t,n,i),Lt.error(i)},function(i){return oT(e,t),Lt.value(i)}):Lt.error("No longer in system")})},Q7=function(e,t){var n=t.getRoot(e).getOr(e.element);return Bi(n,t.invalidClass)},eM=Object.freeze({__proto__:null,markValid:oT,markInvalid:iT,query:uT,run:MS,isInvalid:Q7}),tM=function(e,t){return e.validator.map(function(n){return cr([Ze(n.onEvent,function(a){MS(a,e,t).get(_e)})].concat(n.validateOnLoad?[na(function(a){MS(a,e,t).get(de)})]:[]))}).getOr({})},nM=Object.freeze({__proto__:null,events:tM}),rM=[q("invalidClass"),me("getRoot",g.none),ja("notify",[me("aria","alert"),me("getContainer",g.none),me("validHtml",""),vr("onValid"),vr("onInvalid"),vr("onValidate")]),ja("validator",[q("validate"),me("onEvent","input"),me("validateOnLoad",!0)])],mc=Aa({fields:rM,name:"invalidating",active:nM,apis:eM,extra:{validation:function(e){return function(t){var n=zt.getValue(t);return uo.pure(e(n))}}}}),aM=function(e,t,n,a){return n.getOrCreate(e,t,a)},oM=Object.freeze({__proto__:null,getCoupled:aM}),iM=[gt("others",hu(Lt.value,C()))],uM=function(){var e={},t=function(a,i,c){var s=pn(i.others);if(s)return Zt(e,c).getOrThunk(function(){var v=Zt(i.others,c).getOrDie("No information found for coupled component: "+c),d=v(a),h=a.getSystem().build(d);return e[c]=h,h});throw new Error("Cannot find coupled component: "+c+". Known coupled components: "+JSON.stringify(s,null,2))},n=$({});return ci({readState:n,getOrCreate:t})},cM=Object.freeze({__proto__:null,init:uM}),Ca=Aa({fields:iM,name:"coupling",apis:oM,state:cM}),cT=$("sink"),sT=$(xi({name:cT(),overrides:$({dom:{tag:"div"},behaviours:lt([yo.config({useFixed:Ut})]),events:cr([Gu(Vf()),Gu(hi()),Gu(ml())])})})),Ru;(function(e){e[e.HighlightFirst=0]="HighlightFirst",e[e.HighlightNone=1]="HighlightNone"})(Ru||(Ru={}));var lT=function(e,t){var n=e.getHotspot(t).getOr(t),a="hotspot",i=e.getAnchorOverrides();return e.layouts.fold(function(){return{anchor:a,hotspot:n,overrides:i}},function(c){return{anchor:a,hotspot:n,overrides:i,layouts:c}})},sM=function(e,t,n){var a=e.fetch;return a(n).map(t)},lM=function(e,t,n,a,i,c,s){var v=sM(e,t,a),d=fT(a,e);return v.map(function(h){return h.bind(function(y){return g.from(cf.sketch(G(G({},c.menu()),{uid:Sl(""),data:y,highlightImmediately:s===Ru.HighlightFirst,onOpenMenu:function(x,S){var D=d().getOrDie();yo.position(D,n,S),Yn.decloak(i)},onOpenSubmenu:function(x,S,D){var B=d().getOrDie();yo.position(B,{anchor:"submenu",item:S},D),Yn.decloak(i)},onRepositionMenu:function(x,S,D){var B=d().getOrDie();yo.position(B,n,S),Le(D,function(R){yo.position(B,{anchor:"submenu",item:R.triggeringItem},R.triggeredMenu)})},onEscape:function(){return An.focus(a),Yn.close(i),g.some(!0)}})))})})},_S=function(e,t,n,a,i,c,s){var v=lT(e,n),d=lM(e,t,v,n,a,i,s);return d.map(function(h){return h.fold(function(){Yn.isOpen(a)&&Yn.close(a)},function(y){Yn.cloak(a),Yn.open(a,y),c(a)}),a})},fM=function(e,t,n,a,i,c,s){return Yn.close(a),uo.pure(a)},hd=function(e,t,n,a,i,c){var s=Ca.getCoupled(n,"sandbox"),v=Yn.isOpen(s),d=v?fM:_S;return d(e,t,n,s,a,i,c)},vM=function(e,t,n){var a=nr.getCurrent(t).getOr(t),i=Oo(e.element);n?Ln(a.element,"min-width",i+"px"):yy(a.element,i)},fT=function(e,t){return e.getSystem().getByUid(t.uid+"-"+cT()).map(function(n){return function(){return Lt.value(n)}}).getOrThunk(function(){return t.lazySink.fold(function(){return function(){return Lt.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(n){return function(){return n(e)}})})},vT=function(e){Yn.getState(e).each(function(t){cf.repositionMenus(t)})},DS=function(e,t,n){var a=ep(),i=function(v,d){var h=lT(e,t);a.link(t.element),e.matchWidth&&vM(h.hotspot,d,e.useMinWidth),e.onOpen(h,v,d),n!==void 0&&n.onOpen!==void 0&&n.onOpen(v,d)},c=function(v,d){a.unlink(t.element),n!==void 0&&n.onClose!==void 0&&n.onClose(v,d)},s=fT(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:a.id,role:"listbox"}},behaviours:Wo.augment(e.sandboxBehaviours,[zt.config({store:{mode:"memory",initialValue:t}}),Yn.config({onOpen:i,onClose:c,isPartOf:function(v,d,h){return Ou(d,h)||Ou(t,h)},getAttachPoint:function(){return s().getOrDie()}}),nr.config({find:function(v){return Yn.getState(v).bind(function(d){return nr.getCurrent(d)})}}),Zo.config({channels:G(G({},Wl({isExtraPart:Vt})),Jm({doReposition:vT}))})])}},dT=function(e){var t=Ca.getCoupled(e,"sandbox");vT(t)},FS=function(){return[me("sandboxClasses",[]),Wo.field("sandboxBehaviours",[nr,Zo,Yn,zt])]},dM=$([q("dom"),q("fetch"),vr("onOpen"),to("onExecute"),me("getHotspot",g.some),me("getAnchorOverrides",$({})),Mu(),Pa("dropdownBehaviours",[xe,Ca,wn,An]),q("toggleClass"),me("eventOrder",{}),ir("lazySink"),me("matchWidth",!1),me("useMinWidth",!1),ir("role")].concat(FS())),mM=$([wi({schema:[nc()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),sT()]),gM=function(e,t,n,a){var i,c=function(y){return Zt(e.dom,"attributes").bind(function(x){return Zt(x,y)})},s=function(y){Yn.getState(y).each(function(x){cf.highlightPrimary(x)})},v=function(y){var x=s;hd(e,function(S){return S},y,a,x,Ru.HighlightFirst).get(de)},d={expand:function(y){xe.isOn(y)||hd(e,function(x){return x},y,a,de,Ru.HighlightNone).get(de)},open:function(y){xe.isOn(y)||hd(e,function(x){return x},y,a,de,Ru.HighlightFirst).get(de)},isOpen:xe.isOn,close:function(y){xe.isOn(y)&&hd(e,function(x){return x},y,a,de,Ru.HighlightFirst).get(de)},repositionMenus:function(y){xe.isOn(y)&&dT(y)}},h=function(y,x){return kc(y),g.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Sa(e.dropdownBehaviours,[xe.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Ca.config({others:{sandbox:function(y){return DS(e,y,{onOpen:function(){return xe.on(y)},onClose:function(){return xe.off(y)}})}}}),wn.config({mode:"special",onSpace:h,onEnter:h,onDown:function(y,x){if(uu.isOpen(y)){var S=Ca.getCoupled(y,"sandbox");s(S)}else uu.open(y);return g.some(!0)},onEscape:function(y,x){return uu.isOpen(y)?(uu.close(y),g.some(!0)):g.none()}}),An.config({})]),events:ot(g.some(v)),eventOrder:G(G({},e.eventOrder),(i={},i[To()]=["disabling","toggling","alloy.base.behaviour"],i)),apis:d,domModification:{attributes:G(G({"aria-haspopup":"true"},e.role.fold(function(){return{}},function(y){return{role:y}})),e.dom.tag==="button"?{type:c("type").getOr("button")}:{})}}},uu=wo({name:"Dropdown",configFields:dM(),partFields:mM(),factory:gM,apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),hM=function(){return pi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},pM=function(){return cr([Xf(_b(),Ut)])},bM=Object.freeze({__proto__:null,events:pM,exhibit:hM}),Qg=Aa({fields:[],name:"unselecting",active:bM}),yM=function(e,t){return uu.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:lt([ou.button(t.providers.isDisabled),za(),Qg.config({}),ba.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return uo.nu(function(a){return e.fetch(a)}).map(function(a){return g.from(RC(Fn(kS(sn("menu-value"),a,function(i){e.onItemAction(n,i)},e.columns,e.presets,$u.CLOSE_ON_EXECUTE,Vt,t.providers),{movement:V0(e.columns,e.presets)})))})},parts:{menu:P0(!1,1,e.presets)}})},mT=sn("color-input-change"),gT=sn("color-swatch-change"),hT=sn("color-picker-cancel"),wM=function(e,t,n){var a=mr.parts.field({factory:Zg,inputClasses:["tox-textfield"],onSetValue:function(d){return mc.run(d).get(de)},inputBehaviours:lt([Tn.config({disabled:t.providers.isDisabled}),za(),ba.config({}),mc.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(d){return Ho(d.element)},notify:{onValid:function(d){var h=zt.getValue(d);Cn(d,mT,{color:h})}},validator:{validateOnLoad:!1,validate:function(d){var h=zt.getValue(d);if(h.length===0)return uo.pure(Lt.value(!0));var y=Rt.fromTag("span");Ln(y,"background-color",h);var x=la(y,"background-color").fold(function(){return Lt.error("blah")},function(S){return Lt.value(h)});return uo.pure(x)}}})]),selectOnFocus:!1}),i=e.label.map(function(d){return Qs(d,t.providers)}),c=function(d,h){Cn(d,gT,{value:h})},s=function(d,h){v.getOpt(d).each(function(y){h==="custom"?n.colorPicker(function(x){x.fold(function(){return ur(y,hT)},function(S){c(y,S),kC(S)})},"#ffffff"):h==="remove"?c(y,""):c(y,h)})},v=wr(yM({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Ya,Xa,Ja]},onLtr:function(){return[Xa,Ya,Ja]}},components:[],fetch:EC(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:s},t));return mr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[a,v.asSpec()]}]),fieldBehaviours:lt([Bn("form-field-events",[Ze(mT,function(d,h){v.getOpt(d).each(function(y){Ln(y.element,"background-color",h.event.color)}),Cn(d,Ti,{name:e.name})}),Ze(gT,function(d,h){mr.getField(d).each(function(y){zt.setValue(y,h.event.value),nr.getCurrent(d).each(An.focus)})}),Ze(hT,function(d,h){mr.getField(d).each(function(y){nr.getCurrent(d).each(An.focus)})})])])})},xM=xi({schema:[q("dom")],name:"label"}),el=function(e){return xi({name:""+e+"-edge",overrides:function(t){var n=t.model.manager.edgeActions[e];return n.fold(function(){return{}},function(a){return{events:cr([Yd(Hn(),function(i,c,s){return a(i,s)},[t]),Yd(hi(),function(i,c,s){return a(i,s)},[t]),Yd(hs(),function(i,c,s){s.mouseIsDown.get()&&a(i,s)},[t])])}})}})},SM=el("top-left"),CM=el("top"),TM=el("top-right"),kM=el("right"),OM=el("bottom-right"),AM=el("bottom"),EM=el("bottom-left"),MM=el("left"),_M=Za({name:"thumb",defaults:$({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:cr([xu(Hn(),e,"spectrum"),xu($r(),e,"spectrum"),xu(Xr(),e,"spectrum"),xu(hi(),e,"spectrum"),xu(hs(),e,"spectrum"),xu(Lf(),e,"spectrum")])}}}),DM=Za({schema:[Oa("mouseIsDown",function(){return xt(!1)})],name:"spectrum",overrides:function(e){var t=e.model,n=t.manager,a=function(i,c){return n.getValueFromEvent(c).map(function(s){return n.setValueFrom(i,e,s)})};return{behaviours:lt([wn.config({mode:"special",onLeft:function(i){return n.onLeft(i,e)},onRight:function(i){return n.onRight(i,e)},onUp:function(i){return n.onUp(i,e)},onDown:function(i){return n.onDown(i,e)}}),An.config({})]),events:cr([Ze(Hn(),a),Ze($r(),a),Ze(hi(),a),Ze(hs(),function(i,c){e.mouseIsDown.get()&&a(i,c)})])}}}),FM=[xM,MM,kM,CM,AM,SM,TM,EM,OM,_M,DM],PM="slider.change.value",eh=$(PM),zM=function(e){return e.type.indexOf("touch")!==-1},PS=function(e){var t=e.event.raw;if(zM(t)){var n=t;return n.touches!==void 0&&n.touches.length===1?g.some(n.touches[0]).map(function(i){return ra(i.clientX,i.clientY)}):g.none()}else{var a=t;return a.clientX!==void 0?g.some(a).map(function(i){return ra(i.clientX,i.clientY)}):g.none()}},BM="top",$M="right",RM="bottom",HM="left",gf=function(e){return e.model.minX},hf=function(e){return e.model.minY},W0=function(e){return e.model.minX-1},j0=function(e){return e.model.minY-1},pf=function(e){return e.model.maxX},bf=function(e){return e.model.maxY},G0=function(e){return e.model.maxX+1},q0=function(e){return e.model.maxY+1},pT=function(e,t,n){return t(e)-n(e)},zS=function(e){return pT(e,pf,gf)},BS=function(e){return pT(e,bf,hf)},bT=function(e){return zS(e)/2},yT=function(e){return BS(e)/2},pd=function(e){return e.stepSize},wT=function(e){return e.snapToGrid},xT=function(e){return e.snapStart},ST=function(e){return e.rounded},K0=function(e,t){return e[t+"-edge"]!==void 0},CT=function(e){return K0(e,HM)},TT=function(e){return K0(e,$M)},kT=function(e){return K0(e,BM)},OT=function(e){return K0(e,RM)},ts=function(e){return e.model.value.get()},AT=function(e){return{x:e}},ET=function(e){return{y:e}},tl=function(e,t){return{x:e,y:t}},cu=function(e,t){Cn(e,eh(),{value:t})},IM=function(e,t){cu(e,tl(W0(t),j0(t)))},LM=function(e,t){cu(e,ET(j0(t)))},NM=function(e,t){cu(e,tl(bT(t),j0(t)))},VM=function(e,t){cu(e,tl(G0(t),j0(t)))},UM=function(e,t){cu(e,AT(G0(t)))},WM=function(e,t){cu(e,tl(G0(t),yT(t)))},jM=function(e,t){cu(e,tl(G0(t),q0(t)))},GM=function(e,t){cu(e,ET(q0(t)))},qM=function(e,t){cu(e,tl(bT(t),q0(t)))},KM=function(e,t){cu(e,tl(W0(t),q0(t)))},XM=function(e,t){cu(e,AT(W0(t)))},YM=function(e,t){cu(e,tl(W0(t),yT(t)))},$S=function(e,t,n,a){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-a)},RS=function(e,t,n,a){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+a)},MT=function(e,t,n){return Math.max(t,Math.min(n,e))},JM=function(e,t,n,a,i){return i.fold(function(){var c=e-t,s=Math.round(c/a)*a;return MT(t+s,t-1,n+1)},function(c){var s=(e-c)%a,v=Math.round(s/a),d=Math.floor((e-c)/a),h=Math.floor((n-c)/a),y=Math.min(h,d+v),x=c+y*a;return Math.max(c,x)})},ZM=function(e,t,n){return Math.min(n,Math.max(e,t))-t},_T=function(e){var t=e.min,n=e.max,a=e.range,i=e.value,c=e.step,s=e.snap,v=e.snapStart,d=e.rounded,h=e.hasMinEdge,y=e.hasMaxEdge,x=e.minBound,S=e.maxBound,D=e.screenRange,B=h?t-1:t,R=y?n+1:n;if(i<x)return B;if(i>S)return R;var J=ZM(i,x,S),I=MT(J/D*a+t,B,R);return s&&I>=t&&I<=n?JM(I,t,n,c,v):d?Math.round(I):I},DT=function(e){var t=e.min,n=e.max,a=e.range,i=e.value,c=e.hasMinEdge,s=e.hasMaxEdge,v=e.maxBound,d=e.maxOffset,h=e.centerMinEdge,y=e.centerMaxEdge;return i<t?c?0:h:i>n?s?v:y:(i-t)/a*d},HS="top",FT="right",PT="bottom",IS="left",QM="width",e_="height",gc=function(e){return e.element.dom.getBoundingClientRect()},su=function(e,t){return e[t]},X0=function(e){var t=gc(e);return su(t,IS)},zT=function(e){var t=gc(e);return su(t,FT)},Y0=function(e){var t=gc(e);return su(t,HS)},BT=function(e){var t=gc(e);return su(t,PT)},$T=function(e){var t=gc(e);return su(t,QM)},RT=function(e){var t=gc(e);return su(t,e_)},HT=function(e,t,n){return(e+t)/2-n},IT=function(e,t){var n=gc(e),a=gc(t),i=su(n,IS),c=su(n,FT),s=su(a,IS);return HT(i,c,s)},LT=function(e,t){var n=gc(e),a=gc(t),i=su(n,HS),c=su(n,PT),s=su(a,HS);return HT(i,c,s)},J0=function(e,t){Cn(e,eh(),{value:t})},Z0=function(e){return{x:e}},LS=function(e,t,n){var a={min:gf(t),max:pf(t),range:zS(t),value:n,step:pd(t),snap:wT(t),snapStart:xT(t),rounded:ST(t),hasMinEdge:CT(t),hasMaxEdge:TT(t),minBound:X0(e),maxBound:zT(e),screenRange:$T(e)};return _T(a)},t_=function(e,t,n){var a=LS(e,t,n),i=Z0(a);return J0(e,i),a},n_=function(e,t){var n=gf(t);J0(e,Z0(n))},r_=function(e,t){var n=pf(t);J0(e,Z0(n))},a_=function(e,t,n){var a=e>0?RS:$S,i=a(ts(n).x,gf(n),pf(n),pd(n));return J0(t,Z0(i)),g.some(i)},NT=function(e){return function(t,n){return a_(e,t,n).map(Ut)}},o_=function(e){var t=PS(e);return t.map(function(n){return n.left})},i_=function(e,t,n,a,i){var c=0,s=$T(e),v=a.bind(function(y){return g.some(IT(y,e))}).getOr(c),d=i.bind(function(y){return g.some(IT(y,e))}).getOr(s),h={min:gf(t),max:pf(t),range:zS(t),value:n,hasMinEdge:CT(t),hasMaxEdge:TT(t),minBound:X0(e),minOffset:c,maxBound:zT(e),maxOffset:s,centerMinEdge:v,centerMaxEdge:d};return DT(h)},NS=function(e,t,n,a,i,c){var s=i_(t,c,n,a,i);return X0(t)-X0(e)+s},u_=function(e,t,n,a){var i=ts(n),c=NS(e,a.getSpectrum(e),i.x,a.getLeftEdge(e),a.getRightEdge(e),n),s=Oo(t.element)/2;Ln(t.element,"left",c-s+"px")},c_=NT(-1),s_=NT(1),l_=g.none,f_=g.none,v_={"top-left":g.none(),top:g.none(),"top-right":g.none(),right:g.some(UM),"bottom-right":g.none(),bottom:g.none(),"bottom-left":g.none(),left:g.some(XM)},d_=Object.freeze({__proto__:null,setValueFrom:t_,setToMin:n_,setToMax:r_,findValueOfOffset:LS,getValueFromEvent:o_,findPositionOfValue:NS,setPositionFromValue:u_,onLeft:c_,onRight:s_,onUp:l_,onDown:f_,edgeActions:v_}),Q0=function(e,t){Cn(e,eh(),{value:t})},eb=function(e){return{y:e}},VS=function(e,t,n){var a={min:hf(t),max:bf(t),range:BS(t),value:n,step:pd(t),snap:wT(t),snapStart:xT(t),rounded:ST(t),hasMinEdge:kT(t),hasMaxEdge:OT(t),minBound:Y0(e),maxBound:BT(e),screenRange:RT(e)};return _T(a)},m_=function(e,t,n){var a=VS(e,t,n),i=eb(a);return Q0(e,i),a},g_=function(e,t){var n=hf(t);Q0(e,eb(n))},h_=function(e,t){var n=bf(t);Q0(e,eb(n))},p_=function(e,t,n){var a=e>0?RS:$S,i=a(ts(n).y,hf(n),bf(n),pd(n));return Q0(t,eb(i)),g.some(i)},VT=function(e){return function(t,n){return p_(e,t,n).map(Ut)}},b_=function(e){var t=PS(e);return t.map(function(n){return n.top})},y_=function(e,t,n,a,i){var c=0,s=RT(e),v=a.bind(function(y){return g.some(LT(y,e))}).getOr(c),d=i.bind(function(y){return g.some(LT(y,e))}).getOr(s),h={min:hf(t),max:bf(t),range:BS(t),value:n,hasMinEdge:kT(t),hasMaxEdge:OT(t),minBound:Y0(e),minOffset:c,maxBound:BT(e),maxOffset:s,centerMinEdge:v,centerMaxEdge:d};return DT(h)},US=function(e,t,n,a,i,c){var s=y_(t,c,n,a,i);return Y0(t)-Y0(e)+s},w_=function(e,t,n,a){var i=ts(n),c=US(e,a.getSpectrum(e),i.y,a.getTopEdge(e),a.getBottomEdge(e),n),s=ho(t.element)/2;Ln(t.element,"top",c-s+"px")},x_=g.none,S_=g.none,C_=VT(-1),T_=VT(1),k_={"top-left":g.none(),top:g.some(LM),"top-right":g.none(),right:g.none(),"bottom-right":g.none(),bottom:g.some(GM),"bottom-left":g.none(),left:g.none()},O_=Object.freeze({__proto__:null,setValueFrom:m_,setToMin:g_,setToMax:h_,findValueOfOffset:VS,getValueFromEvent:b_,findPositionOfValue:US,setPositionFromValue:w_,onLeft:x_,onRight:S_,onUp:C_,onDown:T_,edgeActions:k_}),tb=function(e,t){Cn(e,eh(),{value:t})},nb=function(e,t){return{x:e,y:t}},A_=function(e,t,n){var a=LS(e,t,n.left),i=VS(e,t,n.top),c=nb(a,i);return tb(e,c),c},E_=function(e,t,n,a){var i=e>0?RS:$S,c=t?ts(a).x:i(ts(a).x,gf(a),pf(a),pd(a)),s=t?i(ts(a).y,hf(a),bf(a),pd(a)):ts(a).y;return tb(n,nb(c,s)),g.some(c)},rb=function(e,t){return function(n,a){return E_(e,t,n,a).map(Ut)}},M_=function(e,t){var n=gf(t),a=hf(t);tb(e,nb(n,a))},__=function(e,t){var n=pf(t),a=bf(t);tb(e,nb(n,a))},D_=function(e){return PS(e)},F_=function(e,t,n,a){var i=ts(n),c=NS(e,a.getSpectrum(e),i.x,a.getLeftEdge(e),a.getRightEdge(e),n),s=US(e,a.getSpectrum(e),i.y,a.getTopEdge(e),a.getBottomEdge(e),n),v=Oo(t.element)/2,d=ho(t.element)/2;Ln(t.element,"left",c-v+"px"),Ln(t.element,"top",s-d+"px")},P_=rb(-1,!1),z_=rb(1,!1),B_=rb(-1,!0),$_=rb(1,!0),R_={"top-left":g.some(IM),top:g.some(NM),"top-right":g.some(VM),right:g.some(WM),"bottom-right":g.some(jM),bottom:g.some(qM),"bottom-left":g.some(KM),left:g.some(YM)},H_=Object.freeze({__proto__:null,setValueFrom:A_,setToMin:M_,setToMax:__,getValueFromEvent:D_,setPositionFromValue:F_,onLeft:P_,onRight:z_,onUp:B_,onDown:$_,edgeActions:R_}),I_=[me("stepSize",1),me("onChange",de),me("onChoose",de),me("onInit",de),me("onDragStart",de),me("onDragEnd",de),me("snapToGrid",!1),me("rounded",!0),ir("snapStart"),gt("model",_a("mode",{x:[me("minX",0),me("maxX",100),Oa("value",function(e){return xt(e.mode.minX)}),q("getInitialValue"),Ir("manager",d_)],y:[me("minY",0),me("maxY",100),Oa("value",function(e){return xt(e.mode.minY)}),q("getInitialValue"),Ir("manager",O_)],xy:[me("minX",0),me("maxX",100),me("minY",0),me("maxY",100),Oa("value",function(e){return xt({x:e.mode.minX,y:e.mode.minY})}),q("getInitialValue"),Ir("manager",H_)]})),Pa("sliderBehaviours",[wn,zt]),Oa("mouseIsDown",function(){return xt(!1)})],L_=function(e,t,n,a){var i,c=function(Te){return nu(Te,e,"thumb")},s=function(Te){return nu(Te,e,"spectrum")},v=function(Te){return Mr(Te,e,"left-edge")},d=function(Te){return Mr(Te,e,"right-edge")},h=function(Te){return Mr(Te,e,"top-edge")},y=function(Te){return Mr(Te,e,"bottom-edge")},x=e.model,S=x.manager,D=function(Te,De){S.setPositionFromValue(Te,De,e,{getLeftEdge:v,getRightEdge:d,getTopEdge:h,getBottomEdge:y,getSpectrum:s})},B=function(Te,De){x.value.set(De);var Ae=c(Te);D(Te,Ae)},R=function(Te,De){B(Te,De);var Ae=c(Te);return e.onChange(Te,Ae,De),g.some(!0)},J=function(Te){S.setToMin(Te,e)},I=function(Te){S.setToMax(Te,e)},re=function(Te){var De=function(){Mr(Te,e,"thumb").each(function(tt){var tn=x.value.get();e.onChoose(Te,tt,tn)})},Ae=e.mouseIsDown.get();e.mouseIsDown.set(!1),Ae&&De()},le=function(Te,De){De.stop(),e.mouseIsDown.set(!0),e.onDragStart(Te,c(Te))},Fe=function(Te,De){De.stop(),e.onDragEnd(Te,c(Te)),re(Te)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Sa(e.sliderBehaviours,[wn.config({mode:"special",focusIn:function(Te){return Mr(Te,e,"spectrum").map(wn.focusIn).map(Ut)}}),zt.config({store:{mode:"manual",getValue:function(Te){return x.value.get()}}}),Zo.config({channels:(i={},i[Ul()]={onReceive:re},i)})]),events:cr([Ze(eh(),function(Te,De){R(Te,De.event.value)}),na(function(Te,De){var Ae=x.getInitialValue();x.value.set(Ae);var tt=c(Te);D(Te,tt);var tn=s(Te);e.onInit(Te,tt,tn,x.value.get())}),Ze(Hn(),le),Ze(Xr(),Fe),Ze(hi(),le),Ze(Lf(),Fe)]),apis:{resetToMin:J,resetToMax:I,setValue:B,refresh:D},domModification:{styles:{position:"relative"}}}},lu=wo({name:"Slider",configFields:I_,partFields:FM,factory:L_,apis:{setValue:function(e,t,n){e.setValue(t,n)},resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),th=function(e,t,n){return{hue:e,saturation:t,value:n}},WS=function(e){var t=0,n=0,a=0,i=e.red/255,c=e.green/255,s=e.blue/255,v=Math.min(i,Math.min(c,s)),d=Math.max(i,Math.max(c,s));if(v===d)return a=v,th(0,0,a*100);var h=i===v?c-s:s===v?i-c:s-i;return t=i===v?3:s===v?1:5,t=60*(t-h/(d-v)),n=(d-v)/d,a=d,th(Math.round(t),Math.round(n*100),Math.round(a*100))},N_=function(e){return WS(jg(e))},UT=function(e){return wS(bC(e))},jS=sn("rgb-hex-update"),WT=sn("slider-update"),jT=sn("palette-update"),V_=function(e,t){var n=lu.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),a=lu.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return lu.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:$({y:0})},components:[n,a],sliderBehaviours:lt([An.config({})]),onChange:function(i,c,s){Cn(i,WT,{value:s})}})},GT="form",U_=[Pa("formBehaviours",[zt])],qT=function(e){return"<alloy.field."+e+">"},W_=function(e){var t=function(){var c=[],s=function(v,d){return c.push(v),ig(GT,qT(v),d)};return{field:s,record:function(){return c}}}(),n=e(t),a=t.record(),i=ne(a,function(c){return Za({name:c,pname:qT(c)})});return vg(GT,U_,i,G_,n)},j_=function(e,t){return e.fold(function(){return Lt.error(t)},Lt.value)},G_=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:Sa(e.formBehaviours,[zt.config({store:{mode:"manual",getValue:function(n){var a=sg(n,e);return qn(a,function(i,c){return i().bind(function(s){var v=nr.getCurrent(s);return j_(v,new Error("Cannot find a current component to extract the value from for form part '"+c+"': "+Xu(s.element)))}).map(zt.getValue)})},setValue:function(n,a){Vn(a,function(i,c){Mr(n,e,c).each(function(s){nr.getCurrent(s).each(function(v){zt.setValue(v,i)})})})}}})]),apis:{getField:function(n,a){return Mr(n,e,a).bind(nr.getCurrent)}}}},bd={getField:Cu(function(e,t,n){return e.getField(t,n)}),sketch:W_},KT=sn("valid-input"),XT=sn("invalid-input"),YT=sn("validating-input"),GS="colorcustom.rgb.",q_=function(e,t,n,a){var i=function(S,D){return mc.config({invalidClass:t("invalid"),notify:{onValidate:function(B){Cn(B,YT,{type:S})},onValid:function(B){Cn(B,KT,{type:S,value:zt.getValue(B)})},onInvalid:function(B){Cn(B,XT,{type:S,value:zt.getValue(B)})}},validator:{validate:function(B){var R=zt.getValue(B),J=D(R)?Lt.value(!0):Lt.error(e("aria.input.invalid"));return uo.pure(J)},validateOnLoad:!1}})},c=function(S,D,B,R,J){var I=e(GS+"range"),re=mr.parts.label({dom:{tag:"label",innerHtml:B,attributes:{"aria-label":R}}}),le=mr.parts.field({data:J,factory:Zg,inputAttributes:G({type:"text"},D==="hex"?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:lt([i(D,S),ba.config({})]),onSetValue:function(Ae){if(mc.isInvalid(Ae)){var tt=mc.run(Ae);tt.get(de)}}}),Fe=[re,le],Te=D!=="hex"?[mr.parts["aria-descriptor"]({text:I})]:[],De=Fe.concat(Te);return{dom:{tag:"div",attributes:{role:"presentation"}},components:De}},s=function(S,D){var B=wS(D);return bd.getField(S,"hex").each(function(R){An.isFocused(R)||zt.setValue(S,{hex:B.value})}),B},v=function(S,D){var B=D.red,R=D.green,J=D.blue;zt.setValue(S,{red:B,green:R,blue:J})},d=wr({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),h=function(S,D){d.getOpt(S).each(function(B){Ln(B.element,"background-color","#"+D.value)})},y=function(){var S={red:xt(g.some(255)),green:xt(g.some(255)),blue:xt(g.some(255)),hex:xt(g.some("ffffff"))},D=function(Ge,qt){var xn=jg(qt);v(Ge,xn),I(xn)},B=function(Ge){return S[Ge].get()},R=function(Ge,qt){S[Ge].set(qt)},J=function(){return B("red").bind(function(Ge){return B("green").bind(function(qt){return B("blue").map(function(xn){return df(Ge,qt,xn,1)})})})},I=function(Ge){var qt=Ge.red,xn=Ge.green,ft=Ge.blue;R("red",g.some(qt)),R("green",g.some(xn)),R("blue",g.some(ft))},re=function(Ge,qt){var xn=qt.event;xn.type!=="hex"?R(xn.type,g.none()):a(Ge)},le=function(Ge,qt){n(Ge);var xn=dC(qt);R("hex",g.some(qt));var ft=jg(xn);v(Ge,ft),I(ft),Cn(Ge,jS,{hex:xn}),h(Ge,xn)},Fe=function(Ge,qt,xn){var ft=parseInt(xn,10);R(qt,g.some(ft)),J().each(function(un){var hn=s(Ge,un);Cn(Ge,jS,{hex:hn}),h(Ge,hn)})},Te=function(Ge){return Ge.type==="hex"},De=function(Ge,qt){var xn=qt.event;Te(xn)?le(Ge,xn.value):Fe(Ge,xn.type,xn.value)},Ae=function(Ge){return{label:e(GS+Ge+".label"),description:e(GS+Ge+".description")}},tt=Ae("red"),tn=Ae("green"),_t=Ae("blue"),He=Ae("hex");return Fn(bd.sketch(function(Ge){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[Ge.field("red",mr.sketch(c(xS,"red",tt.label,tt.description,255))),Ge.field("green",mr.sketch(c(xS,"green",tn.label,tn.description,255))),Ge.field("blue",mr.sketch(c(xS,"blue",_t.label,_t.description,255))),Ge.field("hex",mr.sketch(c(bE,"hex",He.label,He.description,"ffffff"))),d.asSpec()],formBehaviours:lt([mc.config({invalidClass:t("form-invalid")}),Bn("rgb-form-events",[Ze(KT,De),Ze(XT,re),Ze(YT,re)])])}}),{apis:{updateHex:function(Ge,qt){zt.setValue(Ge,{hex:qt.value}),D(Ge,qt),h(Ge,qt)}}})},x=fi({factory:y,name:"RgbForm",configFields:[],apis:{updateHex:function(S,D,B){S.updateHex(D,B)}},extraApis:{}});return x},K_=function(e,t){var n=lu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),a=lu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),i=function(h,y){var x=h.width,S=h.height,D=h.getContext("2d");if(D!==null){D.fillStyle=y,D.fillRect(0,0,x,S);var B=D.createLinearGradient(0,0,x,0);B.addColorStop(0,"rgba(255,255,255,1)"),B.addColorStop(1,"rgba(255,255,255,0)"),D.fillStyle=B,D.fillRect(0,0,x,S);var R=D.createLinearGradient(0,0,0,S);R.addColorStop(0,"rgba(0,0,0,0)"),R.addColorStop(1,"rgba(0,0,0,1)"),D.fillStyle=R,D.fillRect(0,0,x,S)}},c=function(h,y){var x=h.components()[0].element.dom,S=th(y,100,100),D=bC(S);i(x,wC(D))},s=function(h,y){var x=WS(jg(y));lu.setValue(h,{x:x.saturation,y:100-x.value})},v=function(h){var y=$({x:0,y:0}),x=function(B,R,J){Cn(B,jT,{value:J})},S=function(B,R,J,I){i(J.element.dom,wC(xC))},D=lt([nr.config({find:g.some}),An.config({})]);return lu.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:y},rounded:!1,components:[n,a],onChange:x,onInit:S,sliderBehaviours:D})},d=fi({factory:v,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(h,y,x){c(y,x)},setThumb:function(h,y,x){s(y,x)}},extraApis:{}});return d},X_=function(e,t){var n=function(i){var c=q_(e,t,i.onValidHex,i.onInvalidHex),s=K_(e,t),v=function(De){return(100-De)/100*360},d=function(De){return 100-De/360*100},h={paletteRgba:xt(xC),paletteHue:xt(0)},y=wr(V_(e,t)),x=wr(s.sketch({})),S=wr(c.sketch({})),D=function(De,Ae,tt){x.getOpt(De).each(function(tn){s.setHue(tn,tt)})},B=function(De,Ae){S.getOpt(De).each(function(tt){c.updateHex(tt,Ae)})},R=function(De,Ae,tt){y.getOpt(De).each(function(tn){lu.setValue(tn,{y:d(tt)})})},J=function(De,Ae){x.getOpt(De).each(function(tt){s.setThumb(tt,Ae)})},I=function(De,Ae){var tt=jg(De);h.paletteRgba.set(tt),h.paletteHue.set(Ae)},re=function(De,Ae,tt,tn){I(Ae,tt),Le(tn,function(_t){_t(De,Ae,tt)})},le=function(){var De=[B];return function(Ae,tt){var tn=tt.event.value,_t=h.paletteHue.get(),He=th(_t,tn.x,100-tn.y),Ge=UT(He);re(Ae,Ge,_t,De)}},Fe=function(){var De=[D,B];return function(Ae,tt){var tn=v(tt.event.value.y),_t=h.paletteRgba.get(),He=WS(_t),Ge=th(tn,He.saturation,He.value),qt=UT(Ge);re(Ae,qt,tn,De)}},Te=function(){var De=[D,R,J];return function(Ae,tt){var tn=tt.event.hex,_t=N_(tn);re(Ae,tn,_t.hue,De)}};return{uid:i.uid,dom:i.dom,components:[x.asSpec(),y.asSpec(),S.asSpec()],behaviours:lt([Bn("colour-picker-events",[Ze(jS,Te()),Ze(jT,le()),Ze(WT,Fe())]),nr.config({find:function(De){return S.getOpt(De)}}),wn.config({mode:"acyclic"})])}},a=fi({name:"ColourPicker",configFields:[q("dom"),me("onValidHex",de),me("onInvalidHex",de)],factory:n});return a},Y_=function(){return nr.config({find:g.some})},J_=function(e){return nr.config({find:e.getOpt})},Z_=function(e){return nr.config({find:function(t){return Qd(t.element,e).bind(function(n){return t.getSystem().getByDom(n).toOptional()})}})},Hu={self:Y_,memento:J_,childAt:Z_},Q_={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},eD=function(e){return Q_[e]},tD=function(e){return eD(e)},nD=function(e){var t=function(s){return"tox-"+s},n=X_(tD,t),a=function(s){Cn(s,dc,{name:"hex-valid",value:!0})},i=function(s){Cn(s,dc,{name:"hex-valid",value:!1})},c=wr(n.sketch({dom:{tag:"div",classes:[t("color-picker-container")],attributes:{role:"presentation"}},onValidHex:a,onInvalidHex:i}));return{dom:{tag:"div"},components:[c.asSpec()],behaviours:lt([zt.config({store:{mode:"manual",getValue:function(s){var v=c.get(s),d=nr.getCurrent(v),h=d.bind(function(y){var x=zt.getValue(y);return x.hex});return h.map(function(y){return"#"+y}).getOr("")},setValue:function(s,v){var d=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,h=d.exec(v),y=c.get(s),x=nr.getCurrent(y);x.fold(function(){console.log("Can not find form")},function(S){zt.setValue(S,{hex:g.from(h[1]).getOr("")}),bd.getField(S,"hex").each(function(D){ur(D,bs())})})}}}),Hu.self()])}},rD=tinymce.util.Tools.resolve("tinymce.Resource"),aD=function(e){return Object.prototype.hasOwnProperty.call(e,"init")},oD=function(e){var t=xt(g.none()),n=wr({dom:{tag:e.tag}}),a=xt(g.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:lt([Bn("custom-editor-events",[na(function(i){n.getOpt(i).each(function(c){(aD(e)?e.init(c.element.dom):rD.load(e.scriptId,e.scriptUrl).then(function(s){return s(c.element.dom,e.settings)})).then(function(s){a.get().each(function(v){s.setValue(v)}),a.set(g.none()),t.set(g.some(s))})})})]),zt.config({store:{mode:"manual",getValue:function(){return t.get().fold(function(){return a.get().getOr("")},function(i){return i.getValue()})},setValue:function(i,c){t.get().fold(function(){a.set(g.some(c))},function(s){return s.setValue(c)})}}}),Hu.self()]),components:[n.asSpec()]}},Mo=tinymce.util.Tools.resolve("tinymce.util.Tools"),iD=ie([me("preprocess",_e),me("postprocess",_e)]),uD=function(e,t){var n=Kr("RepresentingConfigs.memento processors",iD,t);return zt.config({store:{mode:"manual",getValue:function(a){var i=e.get(a),c=zt.getValue(i);return n.postprocess(c)},setValue:function(a,i){var c=n.preprocess(i),s=e.get(a);zt.setValue(s,c)}}})},JT=function(e,t,n){return zt.config(Fn({store:{mode:"manual",getValue:t,setValue:n}},e.map(function(a){return{store:{initialValue:a}}}).getOr({})))},qS=function(e,t,n){return JT(e,function(a){return t(a.element)},function(a,i){return n(a.element,i)})},cD=function(e){return qS(e,Zu,Ml)},sD=function(e){return qS(e,om,wl)},lD=function(e){return zt.config({store:{mode:"memory",initialValue:e}})},yf={memento:uD,withElement:qS,withComp:JT,domValue:cD,domHtml:sD,memory:lD},fD="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",vD=function(e,t){var n=Mo.explode(t.getSetting("images_file_types",fD,"string")),a=function(i){return Ot(n,function(c){return Vu(i.name.toLowerCase(),"."+c.toLowerCase())})};return Y(ht(e),a)},dD=function(e,t){var n=function(x,S){S.stop()},a=function(x){return function(S,D){Le(x,function(B){B(S,D)})}},i=function(x,S){if(!Tn.isDisabled(x)){var D=S.event.raw;s(x,D.dataTransfer.files)}},c=function(x,S){var D=S.event.raw.target;s(x,D.files)},s=function(x,S){zt.setValue(x,vD(S,t)),Cn(x,Ti,{name:e.name})},v=wr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:lt([Bn("input-file-events",[Gu(ml()),Gu(ys())])])}),d=function(x){return{uid:x.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:lt([yf.memory([]),Hu.self(),Tn.config({}),xe.config({toggleClass:"dragenter",toggleOnExecute:!1}),Bn("dropzone-events",[Ze("dragenter",a([n,xe.toggle])),Ze("dragleave",a([n,xe.toggle])),Ze("dragover",n),Ze("drop",a([n,i])),Ze(dl(),c)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Go.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[v.asSpec()],action:function(S){var D=v.get(S);D.element.dom.click()},buttonBehaviours:lt([ba.config({}),ou.button(t.isDisabled),za()])})]}]}},h=e.label.map(function(x){return Qs(x,t)}),y=mr.parts.field({factory:{sketch:d}});return Xg(h,y,["tox-form__group--stretched"],[])},mD=function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:ne(e.items,t.interpreter)}},KS=sn("alloy-fake-before-tabstop"),XS=sn("alloy-fake-after-tabstop"),ZT=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:lt([An.config({ignore:!0}),ba.config({})])}},QT=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[ZT([KS]),e,ZT([XS])],behaviours:lt([Hu.childAt(1)])}},ek=function(e,t){Cn(e,Vf(),{raw:{which:9,shiftKey:t}})},gD=function(e,t){var n=t.element;Bi(n,KS)?ek(e,!0):Bi(n,XS)&&ek(e,!1)},nh=function(e){return qg(e,["."+KS,"."+XS].join(","),Vt)},hD=!(Ro().browser.isIE()||Ro().browser.isEdge()),pD=function(e){var t=xt("");return{getValue:function(n){return t.get()},setValue:function(n,a){if(e)sr(n.element,"srcdoc",a);else{sr(n.element,"src","javascript:''");var i=n.element.dom.contentWindow.document;i.open(),i.write(a),i.close()}t.set(a)}}},bD=function(e,t){var n=hD&&e.sandboxed,a=G(G({},e.label.map(function(d){return{title:d}}).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),i=pD(n),c=e.label.map(function(d){return Qs(d,t)}),s=function(d){return QT({uid:d.uid,dom:{tag:"iframe",attributes:a},behaviours:lt([ba.config({}),An.config({}),yf.withComp(g.none(),i.getValue,i.setValue)])})},v=mr.parts.field({factory:{sketch:s}});return Xg(c,v,["tox-form__group--stretched"],[])},yd=function(e,t){return wD(document.createElement("canvas"),e,t)},yD=function(e){var t=yd(e.width,e.height),n=ns(t);return n.drawImage(e,0,0),t},ns=function(e){return e.getContext("2d")},wD=function(e,t,n){return e.width=t,e.height=n,e},YS=function(e){return e.naturalWidth||e.width},JS=function(e){return e.naturalHeight||e.height},xD=function(){var e=function(x){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof x!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],y(x,a(s,this),a(v,this))},t=window,n=e.immediateFn||typeof t.setImmediate=="function"&&t.setImmediate||function(x){return setTimeout(x,1)},a=function(x,S){return function(){for(var D=[],B=0;B<arguments.length;B++)D[B]=arguments[B];return x.apply(S,D)}},i=Array.isArray||function(x){return Object.prototype.toString.call(x)==="[object Array]"};function c(x){var S=this;if(this._state===null){this._deferreds.push(x);return}n(function(){var D=S._state?x.onFulfilled:x.onRejected;if(D===null){(S._state?x.resolve:x.reject)(S._value);return}var B;try{B=D(S._value)}catch(R){x.reject(R);return}x.resolve(B)})}function s(x){try{if(x===this)throw new TypeError("A promise cannot be resolved with itself.");if(x&&(typeof x=="object"||typeof x=="function")){var S=x.then;if(typeof S=="function"){y(a(S,x),a(s,this),a(v,this));return}}this._state=!0,this._value=x,d.call(this)}catch(D){v.call(this,D)}}function v(x){this._state=!1,this._value=x,d.call(this)}function d(){for(var x=0,S=this._deferreds;x<S.length;x++){var D=S[x];c.call(this,D)}this._deferreds=[]}function h(x,S,D,B){this.onFulfilled=typeof x=="function"?x:null,this.onRejected=typeof S=="function"?S:null,this.resolve=D,this.reject=B}var y=function(x,S,D){var B=!1;try{x(function(R){B||(B=!0,S(R))},function(R){B||(B=!0,D(R))})}catch(R){if(B)return;B=!0,D(R)}};return e.prototype.catch=function(x){return this.then(null,x)},e.prototype.then=function(x,S){var D=this;return new e(function(B,R){c.call(D,new h(x,S,B,R))})},e.all=function(){for(var x=[],S=0;S<arguments.length;S++)x[S]=arguments[S];var D=Array.prototype.slice.call(x.length===1&&i(x[0])?x[0]:x);return new e(function(B,R){if(D.length===0)return B([]);for(var J=D.length,I=function(le,Fe){try{if(Fe&&(typeof Fe=="object"||typeof Fe=="function")){var Te=Fe.then;if(typeof Te=="function"){Te.call(Fe,function(De){I(le,De)},R);return}}D[le]=Fe,--J===0&&B(D)}catch(De){R(De)}},re=0;re<D.length;re++)I(re,D[re])})},e.resolve=function(x){return x&&typeof x=="object"&&x.constructor===e?x:new e(function(S){S(x)})},e.reject=function(x){return new e(function(S,D){D(x)})},e.race=function(x){return new e(function(S,D){for(var B=0,R=x;B<R.length;B++){var J=R[B];J.then(S,D)}})},e},wf=window.Promise?window.Promise:xD(),SD=function(e){return new wf(function(t,n){var a=URL.createObjectURL(e),i=new Image,c=function(){i.removeEventListener("load",s),i.removeEventListener("error",v)},s=function(){c(),t(i)},v=function(){c(),n("Unable to load data of type "+e.type+": "+a)};i.addEventListener("load",s),i.addEventListener("error",v),i.src=a,i.complete&&setTimeout(s,0)})},CD=function(e){var t=e.split(","),n=/data:([^;]+)/.exec(t[0]);if(!n)return g.none();for(var a=n[1],i=t[1],c=1024,s=atob(i),v=s.length,d=Math.ceil(v/c),h=new Array(d),y=0;y<d;++y){for(var x=y*c,S=Math.min(x+c,v),D=new Array(S-x),B=x,R=0;B<S;++R,++B)D[R]=s[B].charCodeAt(0);h[y]=new Uint8Array(D)}return g.some(new Blob(h,{type:a}))},TD=function(e){return new wf(function(t,n){CD(e).fold(function(){n("uri is not base64: "+e)},t)})},tk=function(e,t,n){return t=t||"image/png",ze(HTMLCanvasElement.prototype.toBlob)?new wf(function(a,i){e.toBlob(function(c){c?a(c):i()},t,n)}):TD(e.toDataURL(t,n))},kD=function(e,t,n){return t=t||"image/png",e.toDataURL(t,n)},OD=function(e){return SD(e).then(function(t){ED(t);var n=yd(YS(t),JS(t)),a=ns(n);return a.drawImage(t,0,0),n})},AD=function(e){return new wf(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},ED=function(e){URL.revokeObjectURL(e.src)},nk=function(e,t,n){var a=t.type,i=$(a),c=function(){return wf.resolve(t)},s=$(n),v=function(){return n.split(",")[1]},d=function(S,D){return e.then(function(B){return tk(B,S,D)})},h=function(S,D){return e.then(function(B){return kD(B,S,D)})},y=function(S,D){return h(S,D).then(function(B){return B.split(",")[1]})},x=function(){return e.then(yD)};return{getType:i,toBlob:c,toDataURL:s,toBase64:v,toAdjustedBlob:d,toAdjustedDataURL:h,toAdjustedBase64:y,toCanvas:x}},MD=function(e){return AD(e).then(function(t){return nk(OD(e),e,t)})},xf=function(e,t){return tk(e,t).then(function(n){return nk(wf.resolve(e),n,e.toDataURL())})},_D=function(e){return MD(e)},rh=function(e,t,n){var a=typeof e=="string"?parseFloat(e):e;return a>n?a=n:a<t&&(a=t),a},rk=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},ZS=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],QS=function(e,t){for(var n=[],a=new Array(25),i,c=0;c<5;c++){for(var s=0;s<5;s++)n[s]=t[s+c*5];for(var s=0;s<5;s++){i=0;for(var v=0;v<5;v++)i+=e[s+v*5]*n[v];a[s+c*5]=i}}return a},DD=function(e,t){var n;return t=rh(t,-1,1),t*=100,t<0?n=127+t/100*127:(n=t%1,n===0?n=ZS[t]:n=ZS[Math.floor(t)]*(1-n)+ZS[Math.floor(t)+1]*n,n=n*127+127),QS(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])},FD=function(e,t){return t=rh(255*t,-255,255),QS(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])},PD=function(e,t,n,a){return t=rh(t,0,2),n=rh(n,0,2),a=rh(a,0,2),QS(e,[t,0,0,0,0,0,n,0,0,0,0,0,a,0,0,0,0,0,1,0,0,0,0,0,1])},e3=function(e,t){return e.toCanvas().then(function(n){return zD(n,e.getType(),t)})},zD=function(e,t,n){var a=ns(e),i=function(s,v){for(var d,h,y,x,S=s.data,D=v[0],B=v[1],R=v[2],J=v[3],I=v[4],re=v[5],le=v[6],Fe=v[7],Te=v[8],De=v[9],Ae=v[10],tt=v[11],tn=v[12],_t=v[13],He=v[14],Ge=v[15],qt=v[16],xn=v[17],ft=v[18],un=v[19],hn=0;hn<S.length;hn+=4)d=S[hn],h=S[hn+1],y=S[hn+2],x=S[hn+3],S[hn]=d*D+h*B+y*R+x*J+I,S[hn+1]=d*re+h*le+y*Fe+x*Te+De,S[hn+2]=d*Ae+h*tt+y*tn+x*_t+He,S[hn+3]=d*Ge+h*qt+y*xn+x*ft+un;return s},c=i(a.getImageData(0,0,e.width,e.height),n);return a.putImageData(c,0,0),xf(e,t)},BD=function(e,t){return e.toCanvas().then(function(n){return $D(n,e.getType(),t)})},$D=function(e,t,n){var a=ns(e),i=function(v,d,h){for(var y=function(qt,xn,ft){return qt>ft?qt=ft:qt<xn&&(qt=xn),qt},x=Math.round(Math.sqrt(h.length)),S=Math.floor(x/2),D=v.data,B=d.data,R=v.width,J=v.height,I=0;I<J;I++)for(var re=0;re<R;re++){for(var le=0,Fe=0,Te=0,De=0;De<x;De++)for(var Ae=0;Ae<x;Ae++){var tt=y(re+Ae-S,0,R-1),tn=y(I+De-S,0,J-1),_t=(tn*R+tt)*4,He=h[De*x+Ae];le+=D[_t]*He,Fe+=D[_t+1]*He,Te+=D[_t+2]*He}var Ge=(I*R+re)*4;B[Ge]=y(le,0,255),B[Ge+1]=y(Fe,0,255),B[Ge+2]=y(Te,0,255)}return d},c=a.getImageData(0,0,e.width,e.height),s=a.getImageData(0,0,e.width,e.height);return s=i(c,s,n),a.putImageData(s,0,0),xf(e,t)},RD=function(e){var t=function(n,a,i){for(var c=ns(n),s=new Array(256),v=function(y,x){for(var S=y.data,D=0;D<S.length;D+=4)S[D]=x[S[D]],S[D+1]=x[S[D+1]],S[D+2]=x[S[D+2]];return y},d=0;d<s.length;d++)s[d]=e(d,i);var h=v(c.getImageData(0,0,n.width,n.height),s);return c.putImageData(h,0,0),xf(n,a)};return function(n,a){return n.toCanvas().then(function(i){return t(i,n.getType(),a)})}},ak=function(e){return function(t,n){return e3(t,e(rk(),n))}},HD=function(e){return function(t){return e3(t,e)}},ID=function(e){return function(t){return BD(t,e)}},LD=HD([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),ND=ak(FD),VD=ak(DD),UD=function(e,t,n,a){return e3(e,PD(rk(),t,n,a))},WD=ID([0,-1,0,-1,5,-1,0,-1,0]),jD=RD(function(e,t){return Math.pow(e/255,1-t)*255}),ok=function(e,t,n){var a=YS(e),i=JS(e),c=t/a,s=n/i,v=!1;(c<.5||c>2)&&(c=c<.5?.5:2,v=!0),(s<.5||s>2)&&(s=s<.5?.5:2,v=!0);var d=GD(e,c,s);return v?d.then(function(h){return ok(h,t,n)}):d},GD=function(e,t,n){return new wf(function(a){var i=YS(e),c=JS(e),s=Math.floor(i*t),v=Math.floor(c*n),d=yd(s,v),h=ns(d);h.drawImage(e,0,0,i,c,0,0,s,v),a(d)})},ik=function(e,t){t===void 0&&(t=2);var n=Math.pow(10,t),a=Math.round(e*n);return Math.ceil(a/n)},qD=function(e,t){return e.toCanvas().then(function(n){return KD(n,e.getType(),t)})},KD=function(e,t,n){var a=n<0?360+n:n,i=a*Math.PI/180,c=e.width,s=e.height,v=Math.sin(i),d=Math.cos(i),h=ik(Math.abs(c*d)+Math.abs(s*v)),y=ik(Math.abs(c*v)+Math.abs(s*d)),x=yd(h,y),S=ns(x);return S.translate(h/2,y/2),S.rotate(i),S.drawImage(e,-c/2,-s/2),xf(x,t)},XD=function(e,t){return e.toCanvas().then(function(n){return YD(n,e.getType(),t)})},YD=function(e,t,n){var a=yd(e.width,e.height),i=ns(a);return n==="v"?(i.scale(1,-1),i.drawImage(e,0,-a.height)):(i.scale(-1,1),i.drawImage(e,-a.width,0)),xf(a,t)},JD=function(e,t,n,a,i){return e.toCanvas().then(function(c){return ZD(c,e.getType(),t,n,a,i)})},ZD=function(e,t,n,a,i,c){var s=yd(i,c),v=ns(s);return v.drawImage(e,-n,-a),xf(s,t)},QD=function(e,t,n){return e.toCanvas().then(function(a){return ok(a,t,n).then(function(i){return xf(i,e.getType())})})},eF=function(e){return LD(e)},tF=function(e){return WD(e)},nF=function(e,t){return jD(e,t)},rF=function(e,t,n,a){return UD(e,t,n,a)},aF=function(e,t){return ND(e,t)},oF=function(e,t){return VD(e,t)},uk=function(e,t){return XD(e,t)},iF=function(e,t,n,a,i){return JD(e,t,n,a,i)},uF=function(e,t,n){return QD(e,t,n)},ck=function(e,t){return qD(e,t)},sk=function(e,t){return G({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)},ab=function(e,t){return sk(ei(e,t),{})},lk=function(e,t){return sk(ei(e,t),{behaviours:lt([Mn.config({})])})},t3=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:lt([Mn.config({})])}},n3,fk=sn("toolbar.button.execute"),cF=function(e){return Ji(function(t,n){I0(e,t)(function(a){Cn(t,fk,{buttonApi:a}),e.onAction(a)})})},vk=(n3={},n3[To()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],n3),wd=sn("update-menu-text"),dk=sn("update-menu-icon"),r3=function(e,t,n){var a=xt(de),i=e.text.map(function(y){return wr(t3(y,t,n.providers))}),c=e.icon.map(function(y){return wr(lk(y,n.providers.icons))}),s=function(y,x){var S=zt.getValue(y);return An.focus(S),Cn(S,"keydown",{raw:x.event.raw}),uu.close(S),g.some(!0)},v=e.role.fold(function(){return{}},function(y){return{role:y}}),d=e.tooltip.fold(function(){return{}},function(y){var x=n.providers.translate(y);return{title:x,"aria-label":x}}),h=wr(uu.sketch(G(G(G({},e.uid?{uid:e.uid}:{}),v),{dom:{tag:"button",classes:[t,t+"--select"].concat(ne(e.classes,function(y){return t+"--"+y})),attributes:G({},d)},components:vd([c.map(function(y){return y.asSpec()}),i.map(function(y){return y.asSpec()}),g.some({dom:{tag:"div",classes:[t+"__select-chevron"],innerHtml:ei("chevron-down",n.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:lt(Ue(e.dropdownBehaviours,[ou.button(function(){return e.disabled||n.providers.isDisabled()}),za(),Qg.config({}),Mn.config({}),Bn("dropdown-events",[Vg(e,a),Ug(e,a)]),Bn("menubutton-update-display-text",[Ze(wd,function(y,x){i.bind(function(S){return S.getOpt(y)}).each(function(S){Mn.set(S,[Qu(n.providers.translate(x.event.text))])})}),Ze(dk,function(y,x){c.bind(function(S){return S.getOpt(y)}).each(function(S){Mn.set(S,[lk(x.event.icon,n.providers.icons)])})})])])),eventOrder:Fn(vk,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:lt([wn.config({mode:"special",onLeft:s,onRight:s})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:P0(!1,e.columns,e.presets)},fetch:function(y){return uo.nu(nn(e.fetch,y))}})));return h.asSpec()},sF=function(e){return wt(e)},a3=function(e){return e.type==="separator"},lF=function(e){return Cr(e,"getSubmenuItems")},fF={type:"separator"},vF=function(e,t){var n=z(e,function(a,i){return sF(i)?i===""?a:i==="|"?a.length>0&&!a3(a[a.length-1])?a.concat([fF]):a:Cr(t,i.toLowerCase())?a.concat([t[i.toLowerCase()]]):a:a.concat([i])},[]);return n.length>0&&a3(n[n.length-1])&&n.pop(),n},dF=function(e,t){var n=e.getSubmenuItems(),a=mk(n,t),i=Fn(a.menus,O(e.value,a.items)),c=Fn(a.expansions,O(e.value,e.value));return{item:e,menus:i,expansions:c}},mF=function(e,t){return lF(e)?dF(e,t):{item:e,menus:{},expansions:{}}},gF=function(e){if(a3(e))return e;var t=Zt(e,"value").getOrThunk(function(){return sn("generated-menu-item")});return Fn({value:t},e)},mk=function(e,t){var n=vF(wt(e)?e.split(" "):e,t);return Se(n,function(a,i){var c=gF(i),s=mF(c,t);return{menus:Fn(a.menus,s.menus),items:[s.item].concat(a.items),expansions:Fn(a.expansions,s.expansions)}},{menus:{},expansions:{},items:[]})},xd=function(e,t,n,a){var i=sn("primary-menu"),c=mk(e,n.shared.providers.menuItems());if(c.items.length===0)return g.none();var s=$C(i,c.items,t,n,a),v=qn(c.menus,function(h,y){return $C(y,h,t,n,!1)}),d=Fn(v,O(i,s));return g.from(cf.tieredData(i,d,c.expansions))},hF=function(e){return{isDisabled:function(){return Tn.isDisabled(e)},setDisabled:function(t){return Tn.set(e,t)},setActive:function(t){var n=e.element;t?(Yr(n,"tox-tbtn--enabled"),sr(n,"aria-pressed",!0)):(xa(n,"tox-tbtn--enabled"),Lo(n,"aria-pressed"))},isActive:function(){return Bi(e.element,"tox-tbtn--enabled")}}},o3=function(e,t,n,a){return r3({text:e.text,icon:e.icon,tooltip:e.tooltip,role:a,fetch:function(i,c){e.fetch(function(s){c(xd(s,$u.CLOSE_ON_EXECUTE,n,!1))})},onSetup:e.onSetup,getApi:hF,columns:1,presets:"normal",classes:[],dropdownBehaviours:[ba.config({})]},t,n.shared)},pF=function(e,t,n){var a=function(c){return function(s){var v=!s.isActive();s.setActive(v),c.storage.set(v),n.shared.getSink().each(function(d){t().getOpt(d).each(function(h){ac(h.element),Cn(h,dc,{name:c.name,value:c.storage.get()})})})}},i=function(c){return function(s){s.setActive(c.storage.get())}};return function(c){c(ne(e,function(s){var v=s.text.fold(function(){return{}},function(d){return{text:d}});return G(G({type:s.type,active:!1},v),{onAction:a(s),onSetup:i(s)})}))}},gk=function(e,t,n,a,i,c){n===void 0&&(n=[]);var s=t.fold(function(){return{}},function(h){return{action:h}}),v=G({buttonBehaviours:lt([ou.button(function(){return e.disabled||c.isDisabled()}),za(),ba.config({}),Bn("button press",[Xd("click"),Xd("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},s),d=Fn(v,{dom:a});return Fn(d,{components:i})},hk=function(e,t,n,a){a===void 0&&(a=[]);var i=e.tooltip.map(function(d){return{"aria-label":n.translate(d),title:n.translate(d)}}).getOr({}),c={tag:"button",classes:["tox-tbtn"],attributes:i},s=e.icon.map(function(d){return ab(d,n.icons)}),v=vd([s]);return gk(e,t,a,c,v,n)},pk=function(e,t,n,a){a===void 0&&(a=[]);var i=hk(e,g.some(t),n,a);return Go.sketch(i)},bk=function(e,t,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=[]);var c=n.translate(e.text),s=e.icon?e.icon.map(function(x){return ab(x,n.icons)}):g.none(),v=s.isSome()?vd([s]):[],d=s.isSome()?{}:{innerHtml:c},h=Ue(!e.primary&&!e.borderless?["tox-button","tox-button--secondary"]:["tox-button"],s.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],i),y=G(G({tag:"button",classes:h},d),{attributes:{title:c}});return gk(e,t,a,y,v,n)},i3=function(e,t,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=[]);var c=bk(e,g.some(t),n,a,i);return Go.sketch(c)},yk=function(e,t){return function(n){t==="custom"?Cn(n,dc,{name:e,value:{}}):t==="submit"?ur(n,Jg):t==="cancel"?ur(n,mf):console.error("Unknown button type: ",t)}},bF=function(e,t){return t==="menu"},yF=function(e,t){return t==="custom"||t==="cancel"||t==="submit"},ob=function(e,t,n){if(bF(e,t)){var a=function(){return s},i=e,c=G(G({},e),{onSetup:function(h){return h.setDisabled(e.disabled),de},fetch:pF(i.items,a,n)}),s=wr(o3(c,"tox-tbtn",n,g.none()));return s.asSpec()}else if(yF(e,t)){var v=yk(e.name,t),d=G(G({},e),{borderless:!1});return i3(d,v,n.shared.providers,[])}else console.error("Unknown footer button type: ",t)},wF=function(e,t){var n=yk(e.name,"custom");return N7(g.none(),mr.parts.field(G({factory:Go},bk(e,g.some(n),t,[yf.memory(""),Hu.self()]))))},xF=$([me("field1Name","field1"),me("field2Name","field2"),Bc("onLockedChange"),Au(["lockClass"]),me("locked",!1),Wo.field("coupledFieldBehaviours",[nr,zt])]),SF=function(e,t,n){return Mr(e,t,n).bind(nr.getCurrent)},wk=function(e,t){return Za({factory:mr,name:e,overrides:function(n){return{fieldBehaviours:lt([Bn("coupled-input-behaviour",[Ze(bs(),function(a){SF(a,n,t).each(function(i){Mr(a,n,"lock").each(function(c){xe.isOn(c)&&n.onLockedChange(a,i,c)})})})])])}}})},CF=$([wk("field1","field2"),wk("field2","field1"),Za({factory:Go,schema:[q("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:lt([xe.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),TF=function(e,t,n,a){return{uid:e.uid,dom:e.dom,components:t,behaviours:Wo.augment(e.coupledFieldBehaviours,[nr.config({find:g.some}),zt.config({store:{mode:"manual",getValue:function(i){var c,s=lg(i,e,["field1","field2"]);return c={},c[e.field1Name]=zt.getValue(s.field1()),c[e.field2Name]=zt.getValue(s.field2()),c},setValue:function(i,c){var s=lg(i,e,["field1","field2"]);_r(c,e.field1Name)&&zt.setValue(s.field1(),c[e.field1Name]),_r(c,e.field2Name)&&zt.setValue(s.field2(),c[e.field2Name])}}})]),apis:{getField1:function(i){return Mr(i,e,"field1")},getField2:function(i){return Mr(i,e,"field2")},getLock:function(i){return Mr(i,e,"lock")}}}},ki=wo({name:"FormCoupledInputs",configFields:xF(),partFields:CF(),factory:TF,apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),kF=function(e){var t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=function(i){return i in t?t[i]:1},a=e.value.toFixed(n(e.unit));return a.indexOf(".")!==-1&&(a=a.replace(/\.?0*$/,"")),a+e.unit},u3=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=t.exec(e);if(n!==null){var a=parseFloat(n[1]),i=n[2];return Lt.value({value:a,unit:i})}else return Lt.error(e)},xk=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},a=function(i){return Object.prototype.hasOwnProperty.call(n,i)};return e.unit===t?g.some(e.value):a(e.unit)&&a(t)?n[e.unit]===n[t]?g.some(e.value):g.some(e.value/n[e.unit]*n[t]):g.none()},c3=function(e){return g.none()},OF=function(e,t){return function(n){return xk(n,t).map(function(a){return{value:a*e,unit:t}})}},AF=function(e,t){var n=u3(e).toOptional(),a=u3(t).toOptional();return zw(n,a,function(i,c){return xk(i,c.unit).map(function(s){return c.value/s}).map(function(s){return OF(s,c.unit)}).getOr(c3)}).getOr(c3)},Sk=function(e,t){var n=c3,a=sn("ratio-event"),i=ki.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:ei("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:ei("unlock",t.icons)}}],buttonBehaviours:lt([Tn.config({disabled:function(){return e.disabled||t.isDisabled()}}),za(),ba.config({})])}),c=function(y){return{dom:{tag:"div",classes:["tox-form__group"]},components:y}},s=function(y){return mr.parts.field({factory:Zg,inputClasses:["tox-textfield"],inputBehaviours:lt([Tn.config({disabled:function(){return e.disabled||t.isDisabled()}}),za(),ba.config({}),Bn("size-input-events",[Ze(ju(),function(x,S){Cn(x,a,{isField1:y})}),Ze(dl(),function(x,S){Cn(x,Ti,{name:e.name})})])]),selectOnFocus:!1})},v=function(y){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(y)}}},d=ki.parts.field1(c([mr.parts.label(v("Width")),s(!0)])),h=ki.parts.field2(c([mr.parts.label(v("Height")),s(!1)]));return ki.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[d,h,c([v("&nbsp;"),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(y,x,S){u3(zt.getValue(y)).each(function(D){n(D).each(function(B){zt.setValue(x,kF(B))})})},coupledFieldBehaviours:lt([Tn.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(y){ki.getField1(y).bind(mr.getField).each(Tn.disable),ki.getField2(y).bind(mr.getField).each(Tn.disable),ki.getLock(y).each(Tn.disable)},onEnabled:function(y){ki.getField1(y).bind(mr.getField).each(Tn.enable),ki.getField2(y).bind(mr.getField).each(Tn.enable),ki.getLock(y).each(Tn.enable)}}),za(),Bn("size-input-events2",[Ze(a,function(y,x){var S=x.event.isField1,D=S?ki.getField1(y):ki.getField2(y),B=S?ki.getField2(y):ki.getField1(y),R=D.map(zt.getValue).getOr(""),J=B.map(zt.getValue).getOr("");n=AF(R,J)})])])})},EF=$(sn("undo")),MF=$(sn("redo")),_F=$(sn("zoom")),DF=$(sn("back")),FF=$(sn("apply")),PF=$(sn("swap")),zF=$(sn("transform")),BF=$(sn("temp-transform")),$F=$(sn("transform-apply")),So={undo:EF,redo:MF,zoom:_F,back:DF,apply:FF,swap:PF,transform:zF,tempTransform:BF,transformApply:$F},RF=$("save-state"),HF=$("disable"),IF=$("enable"),ti={formActionEvent:dc,saveState:RF,disable:HF,enable:IF},LF=function(e,t){var n=function(Wt,$n,Tr,ca){return wr(i3({name:Wt,text:Wt,disabled:Tr,primary:ca,icon:g.none(),borderless:!1},$n,t))},a=function(Wt,$n,Tr,ca){return wr(pk({name:Wt,icon:g.some(Wt),tooltip:g.some($n),disabled:ca,primary:!1,borderless:!1},Tr,t))},i=function(Wt,$n){Wt.map(function(Tr){var ca=Tr.get($n);ca.hasConfigured(Tn)&&Tn.disable(ca)})},c=function(Wt,$n){Wt.map(function(Tr){var ca=Tr.get($n);ca.hasConfigured(Tn)&&Tn.enable(ca)})},s={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},v=de,d=function(Wt,$n,Tr){Cn(Wt,$n,Tr)},h=function(Wt){return ur(Wt,ti.disable())},y=function(Wt){return ur(Wt,ti.enable())},x=function(Wt,$n){h(Wt),d(Wt,So.transform(),{transform:$n}),y(Wt)},S=function(Wt,$n){h(Wt),d(Wt,So.tempTransform(),{transform:$n}),y(Wt)},D=function(Wt){return function(){Fd.getOpt(Wt).each(function($n){Mn.set($n,[Dd])})}},B=function(Wt,$n){h(Wt),d(Wt,So.transformApply(),{transform:$n,swap:D(Wt)}),y(Wt)},R=function(){return n("Back",function(Wt){return d(Wt,So.back(),{swap:D(Wt)})},!1,!1)},J=function(){return wr({dom:{tag:"div",classes:["tox-spacer"]},behaviours:lt([Tn.config({})])})},I=function(){return n("Apply",function(Wt){return d(Wt,So.apply(),{swap:D(Wt)})},!0,!0)},re=function(){return function(Wt){var $n=e.getRect();return iF(Wt,$n.x,$n.y,$n.w,$n.h)}},le=[R(),J(),n("Apply",function(Wt){var $n=re();B(Wt,$n),e.hideCrop()},!1,!0)],Fe=xo.sketch({dom:s,components:le.map(function(Wt){return Wt.asSpec()}),containerBehaviours:lt([Bn("image-tools-crop-buttons-events",[Ze(ti.disable(),function(Wt,$n){i(le,Wt)}),Ze(ti.enable(),function(Wt,$n){c(le,Wt)})])])}),Te=wr(Sk({name:"size",label:g.none(),constrain:!0,disabled:!1},t)),De=function(Wt,$n){return function(Tr){return uF(Tr,Wt,$n)}},Ae=[R(),J(),Te,J(),n("Apply",function(Wt){Te.getOpt(Wt).each(function($n){var Tr=zt.getValue($n),ca=parseInt(Tr.width,10),ai=parseInt(Tr.height,10),oi=De(ca,ai);B(Wt,oi)})},!1,!0)],tt=xo.sketch({dom:s,components:Ae.map(function(Wt){return Wt.asSpec()}),containerBehaviours:lt([Bn("image-tools-resize-buttons-events",[Ze(ti.disable(),function(Wt,$n){i(Ae,Wt)}),Ze(ti.enable(),function(Wt,$n){c(Ae,Wt)})])])}),tn=function(Wt,$n){return function(Tr){return Wt(Tr,$n)}},_t=tn(uk,"h"),He=tn(uk,"v"),Ge=tn(ck,-90),qt=tn(ck,90),xn=function(Wt,$n){S(Wt,$n)},ft=[R(),J(),a("flip-horizontally","Flip horizontally",function(Wt){xn(Wt,_t)},!1),a("flip-vertically","Flip vertically",function(Wt){xn(Wt,He)},!1),a("rotate-left","Rotate counterclockwise",function(Wt){xn(Wt,Ge)},!1),a("rotate-right","Rotate clockwise",function(Wt){xn(Wt,qt)},!1),J(),I()],un=xo.sketch({dom:s,components:ft.map(function(Wt){return Wt.asSpec()}),containerBehaviours:lt([Bn("image-tools-fliprotate-buttons-events",[Ze(ti.disable(),function(Wt,$n){i(ft,Wt)}),Ze(ti.enable(),function(Wt,$n){c(ft,Wt)})])])}),hn=function(Wt,$n,Tr,ca,ai){var oi=lu.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(Wt)}}),Vi=lu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Pd=lu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return wr(lu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Tr,maxX:ai,getInitialValue:$({x:ca})},components:[oi,Vi,Pd],sliderBehaviours:lt([An.config({})]),onChoose:$n}))},Zn=function(Wt,$n,Tr,ca,ai){var oi=function(Vi,Pd,p4){var b4=tn($n,p4.x/100);x(Vi,b4)};return hn(Wt,oi,Tr,ca,ai)},Or=function(Wt,$n,Tr,ca,ai){return[R(),Zn(Wt,$n,Tr,ca,ai),I()]},aa=function(Wt,$n,Tr,ca,ai){var oi=Or(Wt,$n,Tr,ca,ai);return xo.sketch({dom:s,components:oi.map(function(Vi){return Vi.asSpec()}),containerBehaviours:lt([Bn("image-tools-filter-panel-buttons-events",[Ze(ti.disable(),function(Vi,Pd){i(oi,Vi)}),Ze(ti.enable(),function(Vi,Pd){c(oi,Vi)})])])})},Ni=[R(),J(),I()],Oi=xo.sketch({dom:s,components:Ni.map(function(Wt){return Wt.asSpec()})}),s4=aa("Brightness",aF,-100,0,100),l4=aa("Contrast",oF,-100,0,100),Ob=aa("Gamma",nF,-100,0,100),f4=function(Wt,$n,Tr){return function(ca){return rF(ca,Wt,$n,Tr)}},sh=function(Wt){var $n=function(Tr,ca,ai){var oi=Ab.getOpt(Tr),Vi=Eb.getOpt(Tr),Pd=lh.getOpt(Tr);oi.each(function(p4){Vi.each(function(b4){Pd.each(function(YN){var JN=zt.getValue(p4).x/100,ZN=zt.getValue(YN).x/100,QN=zt.getValue(b4).x/100,eV=f4(JN,ZN,QN);x(Tr,eV)})})})};return hn(Wt,$n,0,100,200)},Ab=sh("R"),lh=sh("G"),Eb=sh("B"),du=[R(),Ab,lh,Eb,I()],fh=xo.sketch({dom:s,components:du.map(function(Wt){return Wt.asSpec()})}),ri=function(Wt,$n,Tr){return function(ca){var ai=function(){Fd.getOpt(ca).each(function(oi){Mn.set(oi,[Wt]),Tr(oi)})};d(ca,So.swap(),{transform:$n,swap:ai})}},v4=function(Wt){e.showCrop()},d4=function(Wt){Te.getOpt(Wt).each(function($n){var Tr=e.getMeasurements(),ca=Tr.width,ai=Tr.height;zt.setValue($n,{width:ca,height:ai})})},m4=g.some(tF),co=g.some(eF),ol=[a("crop","Crop",ri(Fe,g.none(),v4),!1),a("resize","Resize",ri(tt,g.none(),d4),!1),a("orientation","Orientation",ri(un,g.none(),v),!1),a("brightness","Brightness",ri(s4,g.none(),v),!1),a("sharpen","Sharpen",ri(Oi,m4,v),!1),a("contrast","Contrast",ri(l4,g.none(),v),!1),a("color-levels","Color levels",ri(fh,g.none(),v),!1),a("gamma","Gamma",ri(Ob,g.none(),v),!1),a("invert","Invert",ri(Oi,co,v),!1)],Dd=xo.sketch({dom:s,components:ol.map(function(Wt){return Wt.asSpec()})}),g4=xo.sketch({dom:{tag:"div"},components:[Dd],containerBehaviours:lt([Mn.config({})])}),Fd=wr(g4),h4=function(Wt){return Fd.getOpt(Wt).map(function($n){var Tr=$n.components()[0];return Tr.components()[Tr.components().length-1]})};return{memContainer:Fd,getApplyButton:h4}},Ck=tinymce.util.Tools.resolve("tinymce.geom.Rect"),vi=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),NF=tinymce.util.Tools.resolve("tinymce.util.Observable"),Sd=tinymce.util.Tools.resolve("tinymce.util.VK"),VF=function(e){var t=Math.max,n=e.documentElement,a=e.body,i=t(n.scrollWidth,a.scrollWidth),c=t(n.clientWidth,a.clientWidth),s=t(n.offsetWidth,a.offsetWidth),v=t(n.scrollHeight,a.scrollHeight),d=t(n.clientHeight,a.clientHeight),h=t(n.offsetHeight,a.offsetHeight);return{width:i<s?c:i,height:v<h?d:v}},s3=function(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]};function UF(e,t){var n,a=t.document||document,i,c,s,v=a.getElementById(t.handle||e),d=function(S){var D=VF(a),B;s3(S),S.preventDefault(),i=S.button;var R=v;c=S.screenX,s=S.screenY,window.getComputedStyle?B=window.getComputedStyle(R,null).getPropertyValue("cursor"):B=R.runtimeStyle.cursor,n=vi("<div></div>").css({position:"absolute",top:0,left:0,width:D.width,height:D.height,zIndex:2147483647,opacity:1e-4,cursor:B}).appendTo(a.body),vi(a).on("mousemove touchmove",h).on("mouseup touchend",y),t.start(S)},h=function(S){if(s3(S),S.button!==i)return y(S);S.deltaX=S.screenX-c,S.deltaY=S.screenY-s,S.preventDefault(),t.drag(S)},y=function(S){s3(S),vi(a).off("mousemove touchmove",h).off("mouseup touchend",y),n.remove(),t.stop&&t.stop(S)},x=function(){vi(v).off()};return vi(v).on("mousedown touchstart",d),{destroy:x}}var WF=0,jF=function(e,t,n,a,i){var c,s="tox-",v=s+"crid-"+WF++,d=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],h=["top","right","bottom","left"],y=function(Ae,tt){return{x:tt.x+Ae.x,y:tt.y+Ae.y,w:tt.w,h:tt.h}},x=function(Ae,tt){return{x:tt.x-Ae.x,y:tt.y-Ae.y,w:tt.w,h:tt.h}},S=function(){return x(n,e)},D=function(Ae,tt,tn,_t){var He,Ge,qt,xn,ft;He=tt.x,Ge=tt.y,qt=tt.w,xn=tt.h,He+=tn*Ae.deltaX,Ge+=_t*Ae.deltaY,qt+=tn*Ae.deltaW,xn+=_t*Ae.deltaH,qt<20&&(qt=20),xn<20&&(xn=20),ft=e=Ck.clamp({x:He,y:Ge,w:qt,h:xn},n,Ae.name==="move"),ft=x(n,ft),De.fire("updateRect",{rect:ft}),le(ft)},B=function(){var Ae=function(tt){var tn;return UF(v,{document:a.ownerDocument,handle:v+"-"+tt.name,start:function(){tn=e},drag:function(_t){D(tt,tn,_t.deltaX,_t.deltaY)}})};vi('<div id="'+v+'" class="'+s+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(a),Mo.each(h,function(tt){vi("#"+v,a).append('<div id="'+v+"-"+tt+'"class="'+s+'croprect-block" style="display: none" data-mce-bogus="all">')}),Mo.each(d,function(tt){vi("#"+v,a).append('<div id="'+v+"-"+tt.name+'" class="'+s+"croprect-handle "+s+"croprect-handle-"+tt.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+tt.label+'" aria-grabbed="false" title="'+tt.label+'">')}),c=Mo.map(d,Ae),J(e),vi(a).on("focusin focusout",function(tt){vi(tt.target).attr("aria-grabbed",tt.type==="focus"?"true":"false")}),vi(a).on("keydown",function(tt){var tn;Mo.each(d,function(He){if(tt.target.id===v+"-"+He.name)return tn=He,!1});var _t=function(He,Ge,qt,xn,ft){He.stopPropagation(),He.preventDefault(),D(tn,qt,xn,ft)};switch(tt.keyCode){case Sd.LEFT:_t(tt,tn,e,-10,0);break;case Sd.RIGHT:_t(tt,tn,e,10,0);break;case Sd.UP:_t(tt,tn,e,0,-10);break;case Sd.DOWN:_t(tt,tn,e,0,10);break;case Sd.ENTER:case Sd.SPACEBAR:tt.preventDefault(),i();break}})},R=function(Ae){var tt=Mo.map(d,function(tn){return"#"+v+"-"+tn.name}).concat(Mo.map(h,function(tn){return"#"+v+"-"+tn})).join(",");Ae?vi(tt,a).show():vi(tt,a).hide()},J=function(Ae){var tt=function(tn,_t){_t.h<0&&(_t.h=0),_t.w<0&&(_t.w=0),vi("#"+v+"-"+tn,a).css({left:_t.x,top:_t.y,width:_t.w,height:_t.h})};Mo.each(d,function(tn){vi("#"+v+"-"+tn.name,a).css({left:Ae.w*tn.xMul+Ae.x,top:Ae.h*tn.yMul+Ae.y})}),tt("top",{x:t.x,y:t.y,w:t.w,h:Ae.y-t.y}),tt("right",{x:Ae.x+Ae.w,y:Ae.y,w:t.w-Ae.x-Ae.w+t.x,h:Ae.h}),tt("bottom",{x:t.x,y:Ae.y+Ae.h,w:t.w,h:t.h-Ae.y-Ae.h+t.y}),tt("left",{x:t.x,y:Ae.y,w:Ae.x-t.x,h:Ae.h}),tt("move",Ae)},I=function(Ae){e=Ae,J(e)},re=function(Ae){t=Ae,J(e)},le=function(Ae){I(y(n,Ae))},Fe=function(Ae){n=Ae,J(e)},Te=function(){Mo.each(c,function(Ae){Ae.destroy()}),c=[]};B();var De=Mo.extend({toggleVisibility:R,setClampRect:Fe,setRect:I,getInnerRect:S,setInnerRect:le,setViewPortRect:re,destroy:Te},NF);return De},GF={create:jF},qF=function(e){return new Bg(function(t){var n=function(){e.removeEventListener("load",n),t(e)};e.complete?t(e):e.addEventListener("load",n)})},KF=function(e){var t=wr({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=xt(1),a=xt(g.none()),i=xt({x:0,y:0,w:1,h:1}),c=xt({x:0,y:0,w:1,h:1}),s=function(J,I){B.getOpt(J).each(function(re){var le=n.get(),Fe=Oo(re.element),Te=ho(re.element),De=I.dom.naturalWidth*le,Ae=I.dom.naturalHeight*le,tt=Math.max(0,Fe/2-De/2),tn=Math.max(0,Te/2-Ae/2),_t={left:tt.toString()+"px",top:tn.toString()+"px",width:De.toString()+"px",height:Ae.toString()+"px",position:"absolute"};As(I,_t),t.getOpt(re).each(function(He){As(He.element,_t)}),a.get().each(function(He){var Ge=i.get();He.setRect({x:Ge.x*le+tt,y:Ge.y*le+tn,w:Ge.w*le,h:Ge.h*le}),He.setClampRect({x:tt,y:tn,w:De,h:Ae}),He.setViewPortRect({x:0,y:0,w:Fe,h:Te})})})},v=function(J,I){B.getOpt(J).each(function(re){var le=Oo(re.element),Fe=ho(re.element),Te=I.dom.naturalWidth,De=I.dom.naturalHeight,Ae=Math.min(le/Te,Fe/De);Ae>=1?n.set(1):n.set(Ae)})},d=function(J,I){var re=Rt.fromTag("img");return sr(re,"src",I),qF(re.dom).then(function(){return B.getOpt(J).map(function(le){var Fe=fm({element:re});Mn.replaceAt(le,1,g.some(Fe));var Te=c.get(),De={x:0,y:0,w:re.dom.naturalWidth,h:re.dom.naturalHeight};c.set(De);var Ae=Ck.inflate(De,-20,-20);return i.set(Ae),(Te.w!==De.w||Te.h!==De.h)&&v(le,re),s(le,re),re})})},h=function(J,I){var re=n.get(),le=I>0?Math.min(2,re+.1):Math.max(.1,re-.1);n.set(le),B.getOpt(J).each(function(Fe){var Te=Fe.components()[1].element;s(Fe,Te)})},y=function(){a.get().each(function(J){J.toggleVisibility(!0)})},x=function(){a.get().each(function(J){J.toggleVisibility(!1)})},S=function(){return i.get()},D=xo.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:lt([Bn("image-panel-crop-events",[na(function(J){B.getOpt(J).each(function(I){var re=I.element.dom,le=GF.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},re,de);le.toggleVisibility(!1),le.on("updateRect",function(Fe){var Te=Fe.rect,De=n.get(),Ae={x:Math.round(Te.x/De),y:Math.round(Te.y/De),w:Math.round(Te.w/De),h:Math.round(Te.h/De)};i.set(Ae)}),a.set(g.some(le))})})])])}],containerBehaviours:lt([Mn.config({}),Bn("image-panel-events",[na(function(J){d(J,e)})])])}),B=wr(D),R=function(){var J=c.get();return{width:J.w,height:J.h}};return{memContainer:B,updateSrc:d,zoom:h,showCrop:y,hideCrop:x,getRect:S,getMeasurements:R}},ib=function(e,t,n,a,i){return pk({name:e,icon:g.some(t),disabled:n,tooltip:g.some(e),primary:!1,borderless:!1},a,i)},Tk=function(e,t){t?Tn.enable(e):Tn.disable(e)},XF=function(e){var t=function(c,s,v){n.getOpt(c).each(function(d){Tk(d,s)}),a.getOpt(c).each(function(d){Tk(d,v)})},n=wr(ib("Undo","undo",!0,function(c){Cn(c,So.undo(),{direction:1})},e)),a=wr(ib("Redo","redo",!0,function(c){Cn(c,So.redo(),{direction:1})},e)),i=xo.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),a.asSpec(),ib("Zoom in","zoom-in",!1,function(c){Cn(c,So.zoom(),{direction:1})},e),ib("Zoom out","zoom-out",!1,function(c){Cn(c,So.zoom(),{direction:-1})},e)]});return{container:i,updateButtonUndoStates:t}};function YF(){var e=[],t=-1,n=function(v){var d=e.splice(++t);return e.push(v),{state:v,removed:d}},a=function(){if(c())return e[--t]},i=function(){if(s())return e[++t]},c=function(){return t>0},s=function(){return t!==-1&&t<e.length-1};return{data:e,add:n,undo:a,redo:i,canUndo:c,canRedo:s}}var JF=function(e){var t=xt(e),n=xt(g.none()),a=YF();a.add(e);var i=function(){return t.get()},c=function(re){t.set(re)},s=function(){return n.get().fold(function(){return t.get()},function(re){return re})},v=function(re){var le=d(re);return x(),n.set(g.some(le)),le.url},d=function(re){return{blob:re,url:URL.createObjectURL(re)}},h=function(re){URL.revokeObjectURL(re.url)},y=function(re){Mo.each(re,h)},x=function(){n.get().each(h),n.set(g.none())},S=function(re){var le=d(re);c(le);var Fe=a.add(le).removed;return y(Fe),le.url},D=function(re){var le=d(re);return n.set(g.some(le)),le.url},B=function(re){return n.get().fold(de,function(le){S(le.blob),re()})},R=function(){var re=a.undo();return c(re),re.url},J=function(){var re=a.redo();return c(re),re.url},I=function(){var re=a.canUndo(),le=a.canRedo();return{undoEnabled:re,redoEnabled:le}};return{getBlobState:i,setBlobState:c,addBlobState:S,getTempState:s,updateTempState:v,addTempState:D,applyTempState:B,destroyTempState:x,undo:R,redo:J,getHistoryStates:I}},ZF=function(e,t){var n=JF(e.currentState),a=function(He,Ge){var qt=Ge.event.direction;Ae.zoom(He,qt)},i=function(He){var Ge=n.getHistoryStates();tt.updateButtonUndoStates(He,Ge.undoEnabled,Ge.redoEnabled),Cn(He,ti.formActionEvent,{name:ti.saveState(),value:Ge.undoEnabled})},c=function(He){tt.updateButtonUndoStates(He,!1,!1)},s=function(He,Ge){var qt=n.undo();x(He,qt).then(function(xn){y(He),i(He)})},v=function(He,Ge){var qt=n.redo();x(He,qt).then(function(xn){y(He),i(He)})},d=function(He){return He.toBlob()},h=function(He){Cn(He,ti.formActionEvent,{name:ti.disable(),value:{}})},y=function(He){tn.getApplyButton(He).each(function(Ge){Tn.enable(Ge)}),Cn(He,ti.formActionEvent,{name:ti.enable(),value:{}})},x=function(He,Ge){return h(He),Ae.updateSrc(He,Ge)},S=function(He,Ge,qt,xn,ft){return h(He),_D(Ge).then(qt).then(d).then(xn).then(function(un){return x(He,un).then(function(hn){return i(He),ft(),y(He),hn})}).catch(function(un){return console.log(un),y(He),un})},D=function(He,Ge,qt){var xn=n.getBlobState().blob,ft=function(un){return n.updateTempState(un)};S(He,xn,Ge,ft,qt)},B=function(He,Ge){var qt=n.getTempState().blob,xn=function(ft){return n.addTempState(ft)};S(He,qt,Ge,xn,de)},R=function(He,Ge,qt){var xn=n.getBlobState().blob,ft=function(un){var hn=n.addBlobState(un);return I(He),hn};S(He,xn,Ge,ft,qt)},J=function(He,Ge){var qt=function(){I(He);var xn=Ge.event.swap;xn()};n.applyTempState(qt)},I=function(He){var Ge=n.getBlobState().url;return n.destroyTempState(),i(He),Ge},re=function(He){var Ge=I(He);x(He,Ge).then(function(qt){y(He)})},le=function(He,Ge){re(He);var qt=Ge.event.swap;qt(),Ae.hideCrop()},Fe=function(He,Ge){return D(He,Ge.event.transform,de)},Te=function(He,Ge){return B(He,Ge.event.transform)},De=function(He,Ge){return R(He,Ge.event.transform,Ge.event.swap)},Ae=KF(e.currentState.url),tt=XF(t),tn=LF(Ae,t),_t=function(He,Ge){c(He);var qt=Ge.event.transform,xn=Ge.event.swap;qt.fold(function(){xn()},function(ft){D(He,ft,xn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[tn.memContainer.asSpec(),Ae.memContainer.asSpec(),tt.container],behaviours:lt([zt.config({store:{mode:"manual",getValue:function(){return n.getBlobState()}}}),Bn("image-tools-events",[Ze(So.undo(),s),Ze(So.redo(),v),Ze(So.zoom(),a),Ze(So.back(),le),Ze(So.apply(),J),Ze(So.transform(),Fe),Ze(So.tempTransform(),Te),Ze(So.transformApply(),De),Ze(So.swap(),_t)]),Hu.self()])}},QF=function(e,t){var n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}},a=ne(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(a),behaviours:lt([Hu.self(),Mn.config({}),yf.domHtml(g.none()),wn.config({mode:"acyclic"})])}},l3=function(e){return!Cr(e,"items")},kk="data-value",Ok=function(e,t,n,a){return ne(n,function(i){return l3(i)?{type:"togglemenuitem",text:i.text,value:i.value,active:i.value===a,onAction:function(){zt.setValue(e,i.value),Cn(e,Ti,{name:t}),An.focus(e)}}:{type:"nestedmenuitem",text:i.text,getSubmenuItems:function(){return Ok(e,t,i.items,a)}}})},Ak=function(e,t){return dt(e,function(n){return l3(n)?z1(n.value===t,n):Ak(n.items,t)})},eP=function(e,t){var n=t.shared.providers,a=$e(e.items).filter(l3),i=e.label.map(function(v){return Qs(v,n)}),c=mr.parts.field({dom:{},factory:{sketch:function(v){return r3({uid:v.uid,text:a.map(function(d){return d.text}),icon:g.none(),tooltip:e.label,role:g.none(),fetch:function(d,h){var y=Ok(d,e.name,e.items,zt.getValue(d));h(xd(y,$u.CLOSE_ON_EXECUTE,t,!1))},onSetup:$(de),getApi:$({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ba.config({}),zt.config({store:{mode:"manual",initialValue:a.map(function(d){return d.value}).getOr(""),getValue:function(d){return mo(d.element,kk)},setValue:function(d,h){Ak(e.items,h).each(function(y){sr(d.element,kk,y.value),Cn(d,wd,{text:y.text})})}}})]},"tox-listbox",t.shared)}}}),s={dom:{tag:"div",classes:["tox-listboxfield"]},components:[c]};return mr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:kt([i.toArray(),[s]]),fieldBehaviours:lt([Tn.config({disabled:$(e.disabled),onDisabled:function(v){mr.getField(v).each(Tn.disable)},onEnabled:function(v){mr.getField(v).each(Tn.enable)}})])})},tP=function(e,t){return{dom:{tag:"div",classes:e.classes},components:ne(e.items,t.shared.interpreter)}},nP=function(e,t){var n=ne(e.options,function(i){return{dom:{tag:"option",value:i.value,innerHtml:i.text}}}),a=e.data.map(function(i){return O("initialValue",i)}).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Sa(e.selectBehaviours,[An.config({}),zt.config({store:G({mode:"manual",getValue:function(i){return Zu(i.element)},setValue:function(i,c){var s=ve(e.options,function(v){return v.value===c});s.isSome()&&Ml(i.element,c)}},a)})])}},rP=fi({name:"HtmlSelect",configFields:[q("options"),Pa("selectBehaviours",[An,zt]),me("selectClasses",[]),me("selectAttributes",{}),ir("data")],factory:nP}),aP=function(e,t){var n=ne(e.items,function(v){return{text:t.translate(v.text),value:v.value}}),a=e.label.map(function(v){return Qs(v,t)}),i=mr.parts.field({dom:{},selectAttributes:{size:e.size},options:n,factory:rP,selectBehaviours:lt([Tn.config({disabled:function(){return e.disabled||t.isDisabled()}}),ba.config({}),Bn("selectbox-change",[Ze(dl(),function(v,d){Cn(v,Ti,{name:e.name})})])])}),c=e.size>1?g.none():g.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:ei("chevron-down",t.icons)}}),s={dom:{tag:"div",classes:["tox-selectfield"]},components:kt([[i],c.toArray()])};return mr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:kt([a.toArray(),[s]]),fieldBehaviours:lt([Tn.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(v){mr.getField(v).each(Tn.disable)},onEnabled:function(v){mr.getField(v).each(Tn.enable)}}),za()])})},oP=function(e,t){var n=function(v){return{dom:{tag:"th",innerHtml:t.translate(v)}}},a=function(v){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:ne(v,n)}]}},i=function(v){return{dom:{tag:"td",innerHtml:t.translate(v)}}},c=function(v){return{dom:{tag:"tr"},components:ne(v,i)}},s=function(v){return{dom:{tag:"tbody"},components:ne(v,c)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[a(e.header),s(e.cells)],behaviours:lt([ba.config({}),An.config({})])}},Ek=function(e,t){var n=e.label.map(function(S){return Qs(S,t)}),a=[Tn.config({disabled:function(){return e.disabled||t.isDisabled()}}),za(),wn.config({mode:"execution",useEnter:e.multiline!==!0,useControlEnter:e.multiline===!0,execute:function(S){return ur(S,Jg),g.some(!0)}}),Bn("textfield-change",[Ze(bs(),function(S,D){Cn(S,Ti,{name:e.name})}),Ze(gl(),function(S,D){Cn(S,Ti,{name:e.name})})]),ba.config({})],i=e.validation.map(function(S){return mc.config({getRoot:function(D){return Ho(D.element)},invalidClass:"tox-invalid",validator:{validate:function(D){var B=zt.getValue(D),R=S.validator(B);return uo.pure(R===!0?Lt.value(B):Lt.error(R))},validateOnLoad:S.validateOnLoad}})}).toArray(),c=e.placeholder.fold($({}),function(S){return{placeholder:t.translate(S)}}),s=e.inputMode.fold($({}),function(S){return{inputmode:S}}),v=G(G({},c),s),d=mr.parts.field({tag:e.multiline===!0?"textarea":"input",inputAttributes:v,inputClasses:[e.classname],inputBehaviours:lt(kt([a,i])),selectOnFocus:!1,factory:Zg}),h=e.flex?["tox-form__group--stretched"]:[],y=h.concat(e.maximized?["tox-form-group--maximize"]:[]),x=[Tn.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(S){mr.getField(S).each(Tn.disable)},onEnabled:function(S){mr.getField(S).each(Tn.enable)}}),za()];return Xg(n,d,y,x)},iP=function(e,t){return Ek({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:g.none(),maximized:e.maximized},t)},uP=function(e,t){return Ek({name:e.name,multiline:!0,label:e.label,inputMode:g.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:g.none(),maximized:e.maximized},t)},cP=function(e,t){var n=e.stream.streams,a=n.setup(e,t);return cr([Ze(e.event,a),ui(function(){return t.cancel()})].concat(e.cancelEvent.map(function(i){return[Ze(i,function(){return t.cancel()})]}).getOr([])))},sP=Object.freeze({__proto__:null,events:cP}),Mk=function(e){var t=xt(null),n=function(){return{timer:t.get()!==null?"set":"unset"}},a=function(c){t.set(c)},i=function(){var c=t.get();c!==null&&c.cancel()};return ci({readState:n,setTimer:a,cancel:i})},lP=function(e){return e.stream.streams.state(e)},fP=Object.freeze({__proto__:null,throttle:Mk,init:lP}),vP=function(e,t){var n=e.stream,a=C4(e.onStream,n.delay);return t.setTimer(a),function(i,c){a.throttle(i,c),n.stopEvent&&c.stop()}},dP=[gt("stream",_a("mode",{throttle:[q("delay"),me("stopEvent",!0),Ir("streams",{setup:vP,state:Mk})]})),me("event","input"),ir("cancelEvent"),Bc("onStream")],_k=Aa({fields:dP,name:"streaming",active:sP,state:fP}),ub=function(e,t,n){var a=zt.getValue(n);zt.setValue(t,a),Fk(t)},Dk=function(e,t){var n=e.element,a=Zu(n),i=n.dom;mo(n,"type")!=="number"&&t(i,a)},Fk=function(e){Dk(e,function(t,n){return t.setSelectionRange(n.length,n.length)})},mP=function(e,t){Dk(e,function(n,a){return n.setSelectionRange(t,a.length)})},gP=function(e,t,n){if(e.selectsOver){var a=zt.getValue(t),i=e.getDisplayText(a),c=zt.getValue(n),s=e.getDisplayText(c);return s.indexOf(i)===0?g.some(function(){ub(e,t,n),mP(t,i.length)}):g.none()}else return g.none()},f3=$("alloy.typeahead.itemexecute"),hP=function(e,t,n,a){var i=function(d,h,y){e.previewing.set(!1);var x=Ca.getCoupled(d,"sandbox");if(Yn.isOpen(x))nr.getCurrent(x).each(function(D){yr.getHighlighted(D).fold(function(){y(D)},function(){qd(x,D.element,"keydown",h)})});else{var S=function(D){nr.getCurrent(D).each(y)};_S(e,s(d),d,x,a,S,Ru.HighlightFirst).get(de)}},c=QC(e),s=function(d){return function(h){return h.map(function(y){var x=ia(y.menus),S=Dt(x,function(B){return Y(B.items,function(R){return R.type==="item"})}),D=zt.getState(d);return D.update(ne(S,function(B){return B.data})),y})}},v=[An.config({}),zt.config({onSetValue:e.onSetValue,store:G({mode:"dataset",getDataKey:function(d){return Zu(d.element)},getFallbackEntry:function(d){return{value:d,meta:{}}},setValue:function(d,h){Ml(d.element,e.model.getDisplayText(h))}},e.initialData.map(function(d){return O("initialValue",d)}).getOr({}))}),_k.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(d,h){var y=Ca.getCoupled(d,"sandbox"),x=An.isFocused(d);if(x&&Zu(d.element).length>=e.minChars){var S=nr.getCurrent(y).bind(function(B){return yr.getHighlighted(B).map(zt.getValue)});e.previewing.set(!0);var D=function(B){nr.getCurrent(y).each(function(R){S.fold(function(){e.model.selectsOver&&yr.highlightFirst(R)},function(J){yr.highlightBy(R,function(I){var re=zt.getValue(I);return re.value===J.value}),yr.getHighlighted(R).orThunk(function(){return yr.highlightFirst(R),g.none()})})})};_S(e,s(d),d,y,a,D,Ru.HighlightFirst).get(de)}},cancelEvent:Wf()}),wn.config({mode:"special",onDown:function(d,h){return i(d,h,yr.highlightFirst),g.some(!0)},onEscape:function(d){var h=Ca.getCoupled(d,"sandbox");return Yn.isOpen(h)?(Yn.close(h),g.some(!0)):g.none()},onUp:function(d,h){return i(d,h,yr.highlightLast),g.some(!0)},onEnter:function(d){var h=Ca.getCoupled(d,"sandbox"),y=Yn.isOpen(h);if(y&&!e.previewing.get())return nr.getCurrent(h).bind(function(S){return yr.getHighlighted(S)}).map(function(S){return Cn(d,f3(),{item:S}),!0});var x=zt.getValue(d);return ur(d,Wf()),e.onExecute(h,d,x),y&&Yn.close(h),g.some(!0)}}),xe.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Ca.config({others:{sandbox:function(d){return DS(e,d,{onOpen:function(){return xe.on(d)},onClose:function(){return xe.off(d)}})}}}),Bn("typeaheadevents",[Ji(function(d){var h=de;hd(e,s(d),d,a,h,Ru.HighlightFirst).get(de)}),Ze(f3(),function(d,h){var y=Ca.getCoupled(d,"sandbox");ub(e.model,d,h.event.item),ur(d,Wf()),e.onItemExecute(d,y,h.event.item,zt.getValue(d)),Yn.close(y),Fk(d)})].concat(e.dismissOnBlur?[Ze(Wd(),function(d){var h=Ca.getCoupled(d,"sandbox");bo(h.element).isNone()&&Yn.close(h)})]:[]))];return{uid:e.uid,dom:eT(Fn(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:G(G({},c),Sa(e.typeaheadBehaviours,v)),eventOrder:e.eventOrder}},pP=$([ir("lazySink"),q("fetch"),me("minChars",5),me("responseTime",1e3),vr("onOpen"),me("getHotspot",g.some),me("getAnchorOverrides",$({})),me("layouts",g.none()),me("eventOrder",{}),mi("model",{},[me("getDisplayText",function(e){return e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value}),me("selectsOver",!0),me("populateFromBrowse",!0)]),vr("onSetValue"),to("onExecute"),vr("onItemExecute"),me("inputClasses",[]),me("inputAttributes",{}),me("inputStyles",{}),me("matchWidth",!0),me("useMinWidth",!1),me("dismissOnBlur",!0),Au(["openClass"]),ir("initialData"),Pa("typeaheadBehaviours",[An,zt,_k,wn,xe,Ca]),Oa("previewing",function(){return xt(!0)})].concat(ZC()).concat(FS())),bP=$([wi({schema:[nc()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each(function(a){gP(e.model,a,n).fold(function(){return yr.dehighlight(t,n)},function(i){return i()})}):t.getSystem().getByUid(e.uid).each(function(a){e.model.populateFromBrowse&&ub(e.model,a,n)}),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOptional().map(function(a){return Cn(a,f3(),{item:n}),!0})},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each(function(a){e.model.populateFromBrowse&&ub(e.model,a,n)})}}}})]),yP=wo({name:"Typeahead",configFields:pP(),partFields:bP(),factory:hP}),fu=function(e){var t=function(){return fu(e.toCached())},n=function(d){return fu(e.bind(function(h){return h.fold(function(y){return uo.pure(Lt.error(y))},function(y){return d(y)})}))},a=function(d){return fu(e.map(function(h){return h.bind(d)}))},i=function(d){return fu(e.map(function(h){return h.map(d)}))},c=function(d){return fu(e.map(function(h){return h.mapError(d)}))},s=function(d,h){return e.map(function(y){return y.fold(d,h)})},v=function(d,h){return fu(uo.nu(function(y){var x=!1,S=setTimeout(function(){x=!0,y(Lt.error(h()))},d);e.get(function(D){x||(clearTimeout(S),y(D))})}))};return G(G({},e),{toCached:t,bindFuture:n,bindResult:a,mapResult:i,mapError:c,foldResult:s,withTimeout:v})},Pk=function(e){return fu(uo.nu(e))},zk=function(e){return fu(uo.pure(Lt.value(e)))},wP=function(e){return fu(uo.pure(Lt.error(e)))},xP=function(e){return fu(uo.pure(e))},SP=function(e){return fu(e.map(Lt.value))},CP=function(e){return Pk(function(t){e.then(function(n){t(Lt.value(n))},function(n){t(Lt.error(n))})})},TP={nu:Pk,wrap:fu,pure:zk,value:zk,error:wP,fromResult:xP,fromFuture:SP,fromPromise:CP},kP={type:"separator"},OP=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:de}},v3=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:de}},AP=function(e){return ne(e,OP)},EP=function(e,t){return Y(t,function(n){return n.type===e})},Bk=function(e,t){return AP(EP(e,t))},MP=function(e){return Bk("header",e.targets)},_P=function(e){return Bk("anchor",e.targets)},DP=function(e){return g.from(e.anchorTop).map(function(t){return v3("<top>",t)}).toArray()},FP=function(e){return g.from(e.anchorBottom).map(function(t){return v3("<bottom>",t)}).toArray()},PP=function(e){return ne(e,function(t){return v3(t,t)})},zP=function(e){return z(e,function(t,n){var a=t.length===0||n.length===0;return a?t.concat(n):t.concat(kP,n)},[])},d3=function(e,t){var n=e.toLowerCase();return Y(t,function(a){var i=a.meta!==void 0&&a.meta.text!==void 0?a.meta.text:a.text;return Fa(i.toLowerCase(),n)||Fa(a.value.toLowerCase(),n)})},BP=function(e,t,n){var a=zt.getValue(t),i=a.meta.text!==void 0?a.meta.text:a.value,c=n.getLinkInformation();return c.fold(function(){return[]},function(s){var v=d3(i,PP(n.getHistory(e)));return e==="file"?zP([v,d3(i,MP(s)),d3(i,kt([DP(s),_P(s),FP(s)]))]):v})},$k=sn("aria-invalid"),$P=function(e,t,n){var a,i=t.shared.providers,c=function(I){var re=zt.getValue(I);n.addToHistory(re.value,e.filetype)},s=mr.parts.field({factory:yP,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":$k,type:"url"},minChars:0,responseTime:0,fetch:function(I){var re=BP(e.filetype,I,n),le=xd(re,$u.BUBBLE_TO_SANDBOX,t,!1);return uo.pure(le)},getHotspot:function(I){return D.getOpt(I)},onSetValue:function(I,re){I.hasConfigured(mc)&&mc.run(I).get(de)},typeaheadBehaviours:lt(kt([n.getValidationHandler().map(function(I){return mc.config({getRoot:function(re){return Ho(re.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(re,le){h.getOpt(re).each(function(Fe){sr(Fe.element,"title",i.translate(le))})}},validator:{validate:function(re){var le=zt.getValue(re);return TP.nu(function(Fe){I({type:e.filetype,url:le.value},function(Te){if(Te.status==="invalid"){var De=Lt.error(Te.message);Fe(De)}else{var Ae=Lt.value(Te.message);Fe(Ae)}})})},validateOnLoad:!1}})}).toArray(),[Tn.config({disabled:function(){return e.disabled||i.isDisabled()}}),ba.config({}),Bn("urlinput-events",kt([e.filetype==="file"?[Ze(bs(),function(I){Cn(I,Ti,{name:e.name})})]:[],[Ze(dl(),function(I){Cn(I,Ti,{name:e.name}),c(I)}),Ze(gl(),function(I){Cn(I,Ti,{name:e.name}),c(I)})]]))]])),eventOrder:(a={},a[bs()]=["streaming","urlinput-events","invalidating"],a),model:{getDisplayText:function(I){return I.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:P0(!1,1,"normal")},onExecute:function(I,re,le){Cn(re,Jg,{})},onItemExecute:function(I,re,le,Fe){c(I),Cn(I,Ti,{name:e.name})}}),v=e.label.map(function(I){return Qs(I,i)}),d=function(I,re,le,Fe){return le===void 0&&(le=I),Fe===void 0&&(Fe=I),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+I],innerHtml:ei(le,i.icons),attributes:G({title:i.translate(Fe),"aria-live":"polite"},re.fold(function(){return{}},function(Te){return{id:Te}}))}}},h=wr(d("invalid",g.some($k),"warning")),y=wr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[h.asSpec()]}),x=n.getUrlPicker(e.filetype),S=sn("browser.url.event"),D=wr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[s,y.asSpec()],behaviours:lt([Tn.config({disabled:function(){return e.disabled||i.isDisabled()}})])}),B=wr(i3({name:e.name,icon:g.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},function(I){return ur(I,S)},i,[],["tox-browse-url"])),R=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:kt([[D.asSpec()],x.map(function(){return B.asSpec()}).toArray()])}},J=function(I){nr.getCurrent(I).each(function(re){var le=zt.getValue(re),Fe=G({fieldname:e.name},le);x.each(function(Te){Te(Fe).get(function(De){zt.setValue(re,De),Cn(I,Ti,{name:e.name})})})})};return mr.sketch({dom:U7(),components:v.toArray().concat([R()]),fieldBehaviours:lt([Tn.config({disabled:function(){return e.disabled||i.isDisabled()},onDisabled:function(I){mr.getField(I).each(Tn.disable),B.getOpt(I).each(Tn.disable)},onEnabled:function(I){mr.getField(I).each(Tn.enable),B.getOpt(I).each(Tn.enable)}}),za(),Bn("url-input-events",[Ze(S,J)])])})},RP=function(e,t){return xo.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Go.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:ei(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(n){Cn(n,dc,{name:"alert-banner",value:e.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},HP=function(e,t){var n=zt.config({store:{mode:"manual",getValue:function(d){var h=d.element.dom;return h.checked},setValue:function(d,h){var y=d.element.dom;y.checked=h}}}),a=function(d){return d.element.dom.click(),g.some(!0)},i=mr.parts.field({factory:{sketch:_e},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:lt([Hu.self(),Tn.config({disabled:function(){return e.disabled||t.isDisabled()}}),ba.config({}),An.config({}),n,wn.config({mode:"special",onEnter:a,onSpace:a,stopSpaceKeyup:!0}),Bn("checkbox-events",[Ze(dl(),function(d,h){Cn(d,Ti,{name:e.name})})])])}),c=mr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:lt([Qg.config({})])}),s=function(d){var h=d==="checked"?"selected":"unselected";return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+d],innerHtml:ei(h,t.icons)}}},v=wr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[s("checked"),s("unchecked")]});return mr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[i,v.asSpec(),c],fieldBehaviours:lt([Tn.config({disabled:function(){return e.disabled||t.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(d){mr.getField(d).each(Tn.disable)},onEnabled:function(d){mr.getField(d).each(Tn.enable)}}),za()])})},IP=function(e){return e.presets==="presentation"?xo.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):xo.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:lt([ba.config({}),An.config({})])})},Wa=function(e){return function(t,n,a){return Zt(n,"name").fold(function(){return e(n,a)},function(i){return t.field(i,e(n,a))})}},LP=function(e){return function(t,n,a){var i=Fn(n,{source:"dynamic"});return Wa(e)(t,i,a)}},NP={bar:Wa(function(e,t){return P7(e,t.shared)}),collection:Wa(function(e,t){return W7(e,t.shared.providers)}),alertbanner:Wa(function(e,t){return RP(e,t.shared.providers)}),input:Wa(function(e,t){return iP(e,t.shared.providers)}),textarea:Wa(function(e,t){return uP(e,t.shared.providers)}),label:Wa(function(e,t){return QF(e,t.shared)}),iframe:LP(function(e,t){return bD(e,t.shared.providers)}),button:Wa(function(e,t){return wF(e,t.shared.providers)}),checkbox:Wa(function(e,t){return HP(e,t.shared.providers)}),colorinput:Wa(function(e,t){return wM(e,t.shared,t.colorinput)}),colorpicker:Wa(nD),dropzone:Wa(function(e,t){return dD(e,t.shared.providers)}),grid:Wa(function(e,t){return mD(e,t.shared)}),listbox:Wa(function(e,t){return eP(e,t)}),selectbox:Wa(function(e,t){return aP(e,t.shared.providers)}),sizeinput:Wa(function(e,t){return Sk(e,t.shared.providers)}),urlinput:Wa(function(e,t){return $P(e,t,t.urlinput)}),customeditor:Wa(oD),htmlpanel:Wa(IP),imagetools:Wa(function(e,t){return ZF(e,t.shared.providers)}),table:Wa(function(e,t){return oP(e,t.shared.providers)}),panel:Wa(function(e,t){return tP(e,t)})},VP={field:function(e,t){return t}},Rk=function(e,t,n){var a=Fn(n,{shared:{interpreter:function(i){return m3(e,i,a)}}});return m3(e,t,a)},m3=function(e,t,n){return Zt(NP,t.type).fold(function(){return console.error('Unknown factory type "'+t.type+'", defaulting to container: ',t),t},function(a){return a(e,t,n)})},UP=function(e,t){var n=VP;return m3(n,e,t)},WP={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},jP=function(e,t,n){var a=Bs(-12,12,WP),i={maxHeightFunction:Cv()},c=function(){return{anchor:"node",root:ev(e()),node:g.from(e()),bubble:a,layouts:{onRtl:function(){return[lf]},onLtr:function(){return[sf]}},overrides:i}},s=function(){return{anchor:"hotspot",hotspot:t(),bubble:a,layouts:{onRtl:function(){return[Xa]},onLtr:function(){return[Ya]}},overrides:i}};return function(){return n()?c():s()}},GP=function(e,t,n){var a=function(){return{anchor:"node",root:ev(e()),node:g.from(e()),layouts:{onRtl:function(){return[Qc]},onLtr:function(){return[Qc]}}}},i=function(){return{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[Ja]},onLtr:function(){return[Ja]}}}};return function(){return n()?a():i()}},qP=function(e,t){return function(){return{anchor:"selection",root:t(),getSelection:function(){var n=e.selection.getRng();return g.some(Vl.range(Rt.fromDom(n.startContainer),n.startOffset,Rt.fromDom(n.endContainer),n.endOffset))}}}},KP=function(e){return function(t){return{anchor:"node",root:e(),node:t}}},XP=function(e,t,n){var a=R0(e),i=function(){return Rt.fromDom(e.getBody())},c=function(){return Rt.fromDom(e.getContentAreaContainer())},s=function(){return a||!n()};return{inlineDialog:jP(c,t,s),banner:GP(c,t,s),cursor:qP(e,i),node:KP(i)}},YP=function(e){return function(t,n){var a=FC(e);a(t,n)}},JP=function(e){return function(){return TC(e)}},ZP=function(e){return function(){return CS(e)}},QP=function(e){return function(){return OC(e)}},ez=function(e){return{colorPicker:YP(e),hasCustomColors:JP(e),getColors:ZP(e),getColorCols:QP(e)}},tz=function(e){return function(){return H8(e)}},nz=function(e){return{isDraggableModal:tz(e)}},rz=function(e){var t=xt(eC(e)?"bottom":"top");return{isPositionedAtTop:function(){return t.get()==="top"},getDockingMode:t.get,setDockingMode:t.set}},Hk=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],az=function(e){return Cr(e,"items")},oz=function(e){return Cr(e,"block")},iz=function(e){return Cr(e,"inline")},uz=function(e){return Cr(e,"selector")},Ik=function(e){return z(e,function(t,n){if(az(n)){var a=Ik(n.items);return{customFormats:t.customFormats.concat(a.customFormats),formats:t.formats.concat([{title:n.title,items:a.formats}])}}else if(iz(n)||oz(n)||uz(n)){var i=wt(n.name)?n.name:n.title.toLowerCase(),c="custom-"+i;return{customFormats:t.customFormats.concat([{name:c,format:n}]),formats:t.formats.concat([{title:n.title,format:c,icon:n.icon}])}}else return G(G({},t),{formats:t.formats.concat(n)})},{customFormats:[],formats:[]})},cz=function(e,t){var n=Ik(t),a=function(i){Le(i,function(c){e.formatter.has(c.name)||e.formatter.register(c.name,c.format)})};return e.formatter?a(n.customFormats):e.on("init",function(){a(n.customFormats)}),n.formats},Lk=function(e){return _8(e).map(function(t){var n=cz(e,t);return D8(e)?Hk.concat(n):n}).getOr(Hk)},Nk=function(e,t,n){var a={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return Fn(e,a)},Vk=function(e,t,n,a){var i=function(d){return Nk(d,n,a)},c=function(d){var h={type:"submenu"};return Fn(d,h)},s=function(d){var h=wt(d.name)?d.name:sn(d.title),y="custom-"+h,x={type:"formatter",format:y,isSelected:n(y),getStylePreview:a(y)},S=Fn(d,x);return e.formatter.register(h,S),S},v=function(d){return ne(d,function(h){var y=pn(h);if(_r(h,"items")){var x=v(h.items);return Fn(c(h),{getStyleItems:function(){return x}})}else return _r(h,"format")?i(h):y.length===1&&Tt(y,"title")?Fn(h,{type:"separator"}):s(h)})};return v(t)},sz=function(e){var t=function(x){return function(){return e.formatter.match(x)}},n=function(x){return function(){var S=e.formatter.get(x);return S!==void 0?g.some({tag:S.length>0&&(S[0].inline||S[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(x))}):g.none()}},a=function(x){var S=x.items;return S!==void 0&&S.length>0?Dt(S,a):[x.format]},i=xt([]),c=xt([]),s=xt([]),v=xt([]),d=xt(!1);e.on("PreInit",function(x){var S=Lk(e),D=Vk(e,S,t,n);i.set(D),c.set(Dt(D,a))}),e.on("addStyleModifications",function(x){var S=Vk(e,x.items,t,n);s.set(S),d.set(x.replace),v.set(Dt(S,a))});var h=function(){var x=d.get()?[]:i.get(),S=s.get();return x.concat(S)},y=function(){var x=d.get()?[]:c.get(),S=v.get();return x.concat(S)};return{getData:h,getFlattenedKeys:y}},lz=function(e){return Ct(e)&&e.nodeType===1},fz=Mo.trim,Uk=function(e){return function(t){return!!(lz(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e))}},vz=Uk("true"),dz=Uk("false"),Wk=function(e,t,n,a,i){return{type:e,title:t,url:n,level:a,attach:i}},mz=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&t!=="inherit")return vz(e)}return!1},gz=function(e,t){return ne(Eo(Rt.fromDom(t),e),function(n){return n.dom})},jk=function(e){return e.innerText||e.textContent},hz=function(e){return e.id?e.id:sn("h")},pz=function(e){return e&&e.nodeName==="A"&&(e.id||e.name)!==void 0},bz=function(e){return pz(e)&&qk(e)},Gk=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},qk=function(e){return mz(e)&&!dz(e)},yz=function(e){return Gk(e)&&qk(e)},wz=function(e){return Gk(e)?parseInt(e.nodeName.substr(1),10):0},xz=function(e){var t=hz(e),n=function(){e.id=t};return Wk("header",jk(e),"#"+t,wz(e),n)},Sz=function(e){var t=e.id||e.name,n=jk(e);return Wk("anchor",n||"#"+t,"#"+t,0,de)},Cz=function(e){return ne(Y(e,yz),xz)},Tz=function(e){return ne(Y(e,bz),Sz)},kz=function(e){var t=gz("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t},Oz=function(e){return fz(e.title).length>0},Az=function(e){var t=kz(e);return Y(Cz(t).concat(Tz(t)),Oz)},Ez={find:Az},cb="tinymce-url-history",Kk=5,Xk=function(e){return wt(e)&&/^https?/.test(e)},Mz=function(e){return Pt(e)&&e.length<=Kk&&ln(e,Xk)},Yk=function(e){return $t(e)&&Qr(e,function(t){return!Mz(t)}).isNone()},Jk=function(){var e=N0.getItem(cb);if(e===null)return{};var t;try{t=JSON.parse(e)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+cb+" was not valid JSON",n),{};throw n}return Yk(t)?t:(console.log("Local storage "+cb+" was not valid format",t),{})},_z=function(e){if(!Yk(e))throw new Error(`Bad format for history:
`+JSON.stringify(e));N0.setItem(cb,JSON.stringify(e))},Dz=function(e){var t=Jk();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]},Fz=function(e,t){if(!!Xk(e)){var n=Jk(),a=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],i=Y(a,function(c){return c!==e});n[t]=[e].concat(i).slice(0,Kk),_z(n)}},g3=function(e){return!!e},Pz=function(e){return qn(Mo.makeMap(e,/[, ]/),g3)},h3=function(e){return g.from(V8(e)).filter(ze)},zz=function(e){var t=g.some(U8(e)).filter(g3),n=g.some(W8(e)).filter(g3),a=t.or(n).map(Pz);return h3(e).fold(Vt,function(i){return a.fold(Ut,function(c){return pn(c).length>0?c:!1})})},Bz=function(e,t){var n=zz(e);return ut(n)?n?h3(e):g.none():n[t]?h3(e):g.none()},$z=function(e,t){return Bz(e,t).map(function(n){return function(a){return uo.nu(function(i){var c=function(v,d){if(!wt(v))throw new Error("Expected value to be string");if(d!==void 0&&!$t(d))throw new Error("Expected meta to be a object");var h={value:v,meta:d};i(h)},s=G({filetype:t,fieldname:a.fieldname},g.from(a.meta).getOr({}));n.call(e,c,a.value,s)})}})},Zk=function(e){return g.from(e).filter(wt).getOrUndefined()},Rz=function(e){return j8(e)?g.none():g.some({targets:Ez.find(e.getBody()),anchorTop:Zk(G8(e)),anchorBottom:Zk(q8(e))})},Hz=function(e){return g.from(K8(e))},Iz=function(e){return{getHistory:Dz,addToHistory:Fz,getLinkInformation:function(){return Rz(e)},getValidationHandler:function(){return Hz(e)},getUrlPicker:function(t){return $z(e,t)}}},Lz=function(e,t,n){var a=xt(!1),i=rz(t),c={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:Li.translate,isDisabled:function(){return t.mode.isReadOnly()||t.ui.isDisabled()},getSetting:t.getParam.bind(t)},interpreter:function(s){return UP(s,c)},anchors:XP(t,n,i.isPositionedAtTop),header:i,getSink:function(){return Lt.value(e)}},urlinput:Iz(t),styleselect:sz(t),colorinput:ez(t),dialog:nz(t),isContextMenuOpen:function(){return a.get()},setContextMenuState:function(s){return a.set(s)}};return c},p3=$(function(e,t){Dl(e,Math.floor(t))}),Nz="contexttoolbar-show",Qk="contexttoolbar-hide",Cd=$([q("dom"),me("shell",!0),Pa("toolbarBehaviours",[Mn])]),Vz=function(){return{behaviours:lt([Mn.config({})])}},Uz=$([xi({name:"groups",overrides:Vz})]),Wz=function(e,t,n,a){var i=function(v,d){c(v).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(h){Mn.set(h,d)})},c=function(v){return e.shell?g.some(v):Mr(v,e,"groups")},s=e.shell?{behaviours:[Mn.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:s.components,behaviours:Sa(e.toolbarBehaviours,s.behaviours),apis:{setGroups:i},domModification:{attributes:{role:"group"}}}},Iu=wo({name:"Toolbar",configFields:Cd(),partFields:Uz(),factory:Wz,apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),jz=function(e,t){var n={len:0,list:[]},a=z(e,function(i,c){var s=t(c,i.len);return s.fold($(i),function(v){return{len:v.finish,list:i.list.concat([v])}})},n);return a.list},b3=function(e,t,n){return{within:e,extra:t,withinWidth:n}},e5=function(e,t,n){var a=jz(e,function(v,d){var h=n(v);return g.some({element:v,start:d,finish:d+h,width:h})}),i=Y(a,function(v){return v.finish<=t}),c=Se(i,function(v,d){return v+d.width},0),s=a.slice(i.length);return{within:i,extra:s,withinWidth:c}},sb=function(e){return ne(e,function(t){return t.element})},Gz=function(e,t,n){var a=sb(e.concat(t));return b3(a,[],n)},qz=function(e,t,n,a){var i=sb(e).concat([n]);return b3(i,sb(t),a)},Kz=function(e,t,n){return b3(sb(e),[],n)},Xz=function(e,t,n){var a=e5(t,e,n);return a.extra.length===0?g.some(a):g.none()},Yz=function(e,t,n,a){var i=Xz(e,t,n).getOrThunk(function(){return e5(t,e-n(a),n)}),c=i.within,s=i.extra,v=i.withinWidth;return s.length===1&&s[0].width<=n(a)?Gz(c,s,v):s.length>=1?qz(c,s,a,v):Kz(c,s,v)},t5=function(e,t){var n=ne(t,function(a){return ko(a)});Iu.setGroups(e,n)},Jz=function(e){return dt(e,function(t){return bo(t.element).bind(function(n){return t.getSystem().getByDom(n).toOptional()})})},n5=function(e,t,n){var a=nu(e,t,"primary"),i=Ca.getCoupled(e,"overflowGroup");Ln(a.element,"visibility","hidden");var c=t.builtGroups.get().concat([i]),s=Jz(c);n([]),t5(a,c);var v=Oo(a.element),d=Yz(v,t.builtGroups.get(),function(h){return Oo(h.element)},i);d.extra.length===0?(Mn.remove(a,i),n([])):(t5(a,d.within),n(d.extra)),Ur(a.element,"visibility"),El(a.element),s.each(An.focus)},r5=$([Pa("splitToolbarBehaviours",[Ca]),Oa("builtGroups",function(){return xt([])})]),Zz=$([Au(["overflowToggledClass"]),fo("getOverflowBounds"),q("lazySink"),Oa("overflowGroups",function(){return xt([])})].concat(r5())),Qz=$([Za({factory:Iu,schema:Cd(),name:"primary"}),wi({schema:Cd(),name:"overflow"}),wi({name:"overflow-button"}),wi({name:"overflow-group"})]),eB=$([Au(["toggledClass"]),q("lazySink"),Xn("fetch"),fo("getBounds"),ja("fireDismissalEventInstead",[me("event",xs())]),Mu()]),tB=$([wi({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:lt([xe.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),wi({factory:Iu,schema:Cd(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:lt([wn.config({mode:"cyclic",onEscape:function(t){return Mr(t,e,"button").each(An.focus),g.none()}})])}}})]),a5=function(e,t){var n=Ca.getCoupled(e,"toolbarSandbox");Yn.isOpen(n)?Yn.close(n):Yn.open(n,t.toolbar())},y3=function(e,t,n,a){var i=n.getBounds.map(function(s){return s()}),c=n.lazySink(e).getOrDie();yo.positionWithinBounds(c,{anchor:"hotspot",hotspot:e,layouts:a,overrides:{maxWidthFunction:p3()}},t,i)},o5=function(e,t,n,a,i){Iu.setGroups(t,i),y3(e,t,n,a),xe.on(e)},nB=function(e,t,n){var a=ep(),i=function(s,v){n.fetch().get(function(d){o5(e,v,n,t.layouts,d),a.link(e.element),wn.focusIn(v)})},c=function(){xe.off(e),An.focus(e),a.unlink(e.element)};return{dom:{tag:"div",attributes:{id:a.id}},behaviours:lt([wn.config({mode:"special",onEscape:function(s){return Yn.close(s),g.some(!0)}}),Yn.config({onOpen:i,onClose:c,isPartOf:function(s,v,d){return Ou(v,d)||Ou(e,d)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),Zo.config({channels:G(G({},Wl(G({isExtraPart:Vt},n.fireDismissalEventInstead.map(function(s){return{fireEventInstead:{event:s.event}}}).getOr({})))),Jm({doReposition:function(){Yn.getState(Ca.getCoupled(e,"toolbarSandbox")).each(function(s){y3(e,s,n,t.layouts)})}}))})])}},rB=function(e,t,n,a){return G(G({},Go.sketch(G(G({},a.button()),{action:function(i){a5(i,a)},buttonBehaviours:Wo.augment({dump:a.button().buttonBehaviours},[Ca.config({others:{toolbarSandbox:function(i){return nB(i,n,e)}}})])}))),{apis:{setGroups:function(i,c){Yn.getState(Ca.getCoupled(i,"toolbarSandbox")).each(function(s){o5(i,s,e,n.layouts,c)})},reposition:function(i){Yn.getState(Ca.getCoupled(i,"toolbarSandbox")).each(function(c){y3(i,c,e,n.layouts)})},toggle:function(i){a5(i,a)},getToolbar:function(i){return Yn.getState(Ca.getCoupled(i,"toolbarSandbox"))},isOpen:function(i){return Yn.isOpen(Ca.getCoupled(i,"toolbarSandbox"))}}})},Sf=wo({name:"FloatingToolbarButton",factory:rB,configFields:eB(),partFields:tB(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)},isOpen:function(e,t){return e.isOpen(t)}}}),aB=$([q("items"),Au(["itemSelector"]),Pa("tgroupBehaviours",[wn])]),oB=$([Lv({name:"items",unit:"item"})]),iB=function(e,t,n,a){return{uid:e.uid,dom:e.dom,components:t,behaviours:Sa(e.tgroupBehaviours,[wn.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},lb=wo({name:"ToolbarGroup",configFields:aB(),partFields:oB(),factory:iB}),i5=function(e){return ne(e,function(t){return ko(t)})},u5=function(e,t,n){n5(e,n,function(a){n.overflowGroups.set(a),t.getOpt(e).each(function(i){Sf.setGroups(i,i5(a))})})},uB=function(e,t,n,a){var i=wr(Sf.sketch({fetch:function(){return uo.nu(function(c){c(i5(e.overflowGroups.get()))})},layouts:{onLtr:function(){return[Ya,Xa]},onRtl:function(){return[Xa,Ya]},onBottomLtr:function(){return[po,ao]},onBottomRtl:function(){return[ao,po]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:a["overflow-button"](),toolbar:a.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Sa(e.splitToolbarBehaviours,[Ca.config({others:{overflowGroup:function(){return lb.sketch(G(G({},a["overflow-group"]()),{items:[i.asSpec()]}))}}})]),apis:{setGroups:function(c,s){e.builtGroups.set(ne(s,c.getSystem().build)),u5(c,i,e)},refresh:function(c){return u5(c,i,e)},toggle:function(c){i.getOpt(c).each(function(s){Sf.toggle(s)})},isOpen:function(c){return i.getOpt(c).map(Sf.isOpen).getOr(!1)},reposition:function(c){i.getOpt(c).each(function(s){Sf.reposition(s)})},getOverflow:function(c){return i.getOpt(c).bind(Sf.getToolbar)}},domModification:{attributes:{role:"group"}}}},c5=wo({name:"SplitFloatingToolbar",configFields:Zz(),partFields:Qz(),factory:uB,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),ah=function(e,t){return t.getAnimationRoot.fold(function(){return e.element},function(n){return n(e)})},nl=function(e){return e.dimension.property},Td=function(e,t){return e.dimension.getDimension(t)},w3=function(e,t){var n=ah(e,t);Ha(n,[t.shrinkingClass,t.growingClass])},x3=function(e,t){xa(e.element,t.openClass),Yr(e.element,t.closedClass),Ln(e.element,nl(t),"0px"),El(e.element)},s5=function(e,t){xa(e.element,t.closedClass),Yr(e.element,t.openClass),Ur(e.element,nl(t))},l5=function(e,t,n,a){n.setCollapsed(),Ln(e.element,nl(t),Td(t,e.element)),El(e.element),w3(e,t),x3(e,t),t.onStartShrink(e),t.onShrunk(e)},cB=function(e,t,n,a){var i=a.getOrThunk(function(){return Td(t,e.element)});n.setCollapsed(),Ln(e.element,nl(t),i),El(e.element);var c=ah(e,t);xa(c,t.growingClass),Yr(c,t.shrinkingClass),x3(e,t),t.onStartShrink(e)},f5=function(e,t,n){var a=Td(t,e.element),i=a==="0px"?l5:cB;i(e,t,n,g.some(a))},v5=function(e,t,n){var a=ah(e,t),i=Bi(a,t.shrinkingClass),c=Td(t,e.element);s5(e,t);var s=Td(t,e.element),v=function(){Ln(e.element,nl(t),c),El(e.element)},d=function(){x3(e,t)},h=i?v:d;h(),xa(a,t.shrinkingClass),Yr(a,t.growingClass),s5(e,t),Ln(e.element,nl(t),s),n.setExpanded(),t.onStartGrow(e)},sB=function(e,t,n){if(n.isExpanded()){Ur(e.element,nl(t));var a=Td(t,e.element);Ln(e.element,nl(t),a)}},lB=function(e,t,n){n.isExpanded()||v5(e,t,n)},fB=function(e,t,n){n.isExpanded()&&f5(e,t,n)},vB=function(e,t,n){n.isExpanded()&&l5(e,t,n)},dB=function(e,t,n){return n.isExpanded()},mB=function(e,t,n){return n.isCollapsed()},d5=function(e,t,n){var a=ah(e,t);return Bi(a,t.growingClass)===!0},m5=function(e,t,n){var a=ah(e,t);return Bi(a,t.shrinkingClass)===!0},gB=function(e,t,n){return d5(e,t)||m5(e,t)},hB=function(e,t,n){var a=n.isExpanded()?f5:v5;a(e,t,n)},pB=Object.freeze({__proto__:null,refresh:sB,grow:lB,shrink:fB,immediateShrink:vB,hasGrown:dB,hasShrunk:mB,isGrowing:d5,isShrinking:m5,isTransitioning:gB,toggleGrow:hB,disableTransitions:w3}),bB=function(e,t,n){var a=t.expanded;return pi(a?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:O(t.dimension.property,"0px")})},yB=function(e,t){return cr([Ss(Ud(),function(n,a){var i=a.event.raw;if(i.propertyName===e.dimension.property){w3(n,e),t.isExpanded()&&Ur(n.element,e.dimension.property);var c=t.isExpanded()?e.onGrown:e.onShrunk;c(n)}})])},wB=Object.freeze({__proto__:null,exhibit:bB,events:yB}),xB=[q("closedClass"),q("openClass"),q("shrinkingClass"),q("growingClass"),ir("getAnimationRoot"),vr("onShrunk"),vr("onStartShrink"),vr("onGrown"),vr("onStartGrow"),me("expanded",!1),gt("dimension",_a("property",{width:[Ir("property","width"),Ir("getDimension",function(e){return Oo(e)+"px"})],height:[Ir("property","height"),Ir("getDimension",function(e){return ho(e)+"px"})]}))],SB=function(e){var t=xt(e.expanded),n=function(){return"expanded: "+t.get()};return ci({isExpanded:function(){return t.get()===!0},isCollapsed:function(){return t.get()===!1},setCollapsed:nn(t.set,!1),setExpanded:nn(t.set,!0),readState:n})},CB=Object.freeze({__proto__:null,init:SB}),Lu=Aa({fields:xB,name:"sliding",active:wB,apis:pB,state:CB}),TB=$([Au(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),vr("onOpened"),vr("onClosed")].concat(r5())),kB=$([Za({factory:Iu,schema:Cd(),name:"primary"}),Za({factory:Iu,schema:Cd(),name:"overflow",overrides:function(e){return{toolbarBehaviours:lt([Lu.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){Mr(t,e,"overflow-button").each(function(n){xe.off(n),An.focus(n)}),e.onClosed(t)},onGrown:function(t){wn.focusIn(t),e.onOpened(t)},onStartGrow:function(t){Mr(t,e,"overflow-button").each(xe.on)}}),wn.config({mode:"acyclic",onEscape:function(t){return Mr(t,e,"overflow-button").each(An.focus),g.some(!0)}})])}}}),wi({name:"overflow-button",overrides:function(e){return{buttonBehaviours:lt([xe.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),wi({name:"overflow-group"})]),OB=function(e,t){return Mr(e,t,"overflow").map(Lu.hasGrown).getOr(!1)},g5=function(e,t){Mr(e,t,"overflow-button").bind(function(){return Mr(e,t,"overflow")}).each(function(n){S3(e,t),Lu.toggleGrow(n)})},S3=function(e,t){Mr(e,t,"overflow").each(function(n){n5(e,t,function(a){var i=ne(a,function(c){return ko(c)});Iu.setGroups(n,i)}),Mr(e,t,"overflow-button").each(function(a){Lu.hasGrown(n)&&xe.on(a)}),Lu.refresh(n)})},AB=function(e,t,n,a){var i="alloy.toolbar.toggle",c=function(s,v){var d=ne(v,s.getSystem().build);e.builtGroups.set(d)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Sa(e.splitToolbarBehaviours,[Ca.config({others:{overflowGroup:function(s){return lb.sketch(G(G({},a["overflow-group"]()),{items:[Go.sketch(G(G({},a["overflow-button"]()),{action:function(v){ur(s,i)}}))]}))}}}),Bn("toolbar-toggle-events",[Ze(i,function(s){g5(s,e)})])]),apis:{setGroups:function(s,v){c(s,v),S3(s,e)},refresh:function(s){return S3(s,e)},toggle:function(s){return g5(s,e)},isOpen:function(s){return OB(s,e)}},domModification:{attributes:{role:"group"}}}},C3=wo({name:"SplitSlidingToolbar",configFields:TB(),partFields:kB(),factory:AB,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)}}}),T3=$(sn("toolbar-height-change")),h5=function(e){var t=e.title.fold(function(){return{}},function(n){return{attributes:{title:n}}});return{dom:G({tag:"div",classes:["tox-toolbar__group"]},t),components:[lb.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:lt([ba.config({}),An.config({})])}},fb=function(e){return lb.sketch(h5(e))},p5=function(e,t){var n=na(function(a){var i=ne(e.initGroups,fb);Iu.setGroups(a,i)});return lt([ou.toolbarButton(e.providers.isDisabled),za(),wn.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Bn("toolbar-events",[n])])},b5=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":h5({title:g.none(),items:[]}),"overflow-button":hk({name:"more",icon:g.some("more-drawer"),disabled:!1,tooltip:g.some("More..."),primary:!1,borderless:!1},g.none(),e.providers)},splitToolbarBehaviours:p5(e,t)}},EB=function(e){var t=b5(e),n=4,a=c5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return c5.sketch(G(G({},t),{lazySink:e.getSink,getOverflowBounds:function(){var i=e.moreDrawerData.lazyHeader().element,c=ec(i),s=Zd(i),v=ec(s),d=Math.max(s.dom.scrollHeight,v.height);return si(c.x+n,v.y,c.width-n*2,d)},parts:G(G({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[a],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},MB=function(e){var t=C3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=C3.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),a=b5(e);return C3.sketch(G(G({},a),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(i){i.getSystem().broadcastOn([T3()],{type:"opened"})},onClosed:function(i){i.getSystem().broadcastOn([T3()],{type:"closed"})}}))},vb=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return Iu.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Ci.scrolling?["tox-toolbar--scrolling"]:[])},components:[Iu.parts.groups({})],toolbarBehaviours:p5(e,t)})},_B=ie([Mt("type"),gt("items",bn([mu([Mt("name"),lo("items",we)]),we]))].concat($g)),DB=function(e){return fr("GroupToolbarButton",_B,e)},FB=[pr("text"),pr("tooltip"),pr("icon"),Xn("fetch"),Nr("onSetup",function(){return de})],PB=ie(Ue([Mt("type")],FB)),y5=function(e){return fr("menubutton",PB,e)},zB=ie([Mt("type"),pr("tooltip"),pr("icon"),pr("text"),fo("select"),Xn("fetch"),Nr("onSetup",function(){return de}),vo("presets","normal",["normal","color","listpreview"]),me("columns",1),Xn("onAction"),Xn("onItemAction")]),BB=function(e){return fr("SplitButton",zB,e)},$B=function(e,t){var n=function(a,i){e.updateState.each(function(c){var s=c(a,i);t.set(s)}),e.renderComponents.each(function(c){var s=c(i,t.get()),v=ne(s,a.getSystem().build);jm(a,v)})};return cr([Ze(Yi(),function(a,i){var c=i;if(!c.universal){var s=e.channel;Tt(c.channels,s)&&n(a,c.data)}}),na(function(a,i){e.initialData.each(function(c){n(a,c)})})])},RB=Object.freeze({__proto__:null,events:$B}),HB=function(e,t,n){return n},IB=Object.freeze({__proto__:null,getState:HB}),LB=[q("channel"),ir("renderComponents"),ir("updateState"),ir("initialData")],NB=function(){var e=xt(g.none()),t=function(c){return e.set(c)},n=function(){return e.set(g.none())},a=function(){return e.get()},i=function(){return e.get().fold(function(){return"none"},function(c){return c})};return{readState:i,get:a,set:t,clear:n}},VB=Object.freeze({__proto__:null,init:NB}),di=Aa({fields:LB,name:"reflecting",active:RB,apis:IB,state:VB}),UB=$([q("toggleClass"),q("fetch"),Bc("onExecute"),me("getHotspot",g.some),me("getAnchorOverrides",$({})),Mu(),Bc("onItemExecute"),ir("lazySink"),q("dom"),vr("onOpen"),Pa("splitDropdownBehaviours",[Ca,wn,An]),me("matchWidth",!1),me("useMinWidth",!1),me("eventOrder",{}),ir("role")].concat(FS())),WB=Za({factory:Go,schema:[q("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:lt([An.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(kc)},buttonBehaviours:lt([xe.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),jB=Za({factory:Go,schema:[q("dom")],name:"button",defaults:function(){return{buttonBehaviours:lt([An.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(function(n){e.onExecute(n,t)})}}}}),GB=$([WB,jB,xi({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[q("text")],name:"aria-descriptor"}),wi({schema:[nc()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each(function(a){e.onItemExecute(a,t,n)})}}}}),sT()]),qB=function(e,t,n,a){var i,c=function(x){nr.getCurrent(x).each(function(S){yr.highlightFirst(S),wn.focusIn(S)})},s=function(x){var S=c;hd(e,function(D){return D},x,a,S,Ru.HighlightFirst).get(de)},v=function(x){return s(x),g.some(!0)},d=function(x){var S=nu(x,e,"button");return kc(S),g.some(!0)},h=G(G({},cr([na(function(x,S){var D=Mr(x,e,"aria-descriptor");D.each(function(B){var R=sn("aria");sr(B.element,"id",R),sr(x.element,"aria-describedby",R)})})])),ot(g.some(s))),y={repositionMenus:function(x){xe.isOn(x)&&dT(x)}};return{uid:e.uid,dom:e.dom,components:t,apis:y,eventOrder:G(G({},e.eventOrder),(i={},i[To()]=["disabling","toggling","alloy.base.behaviour"],i)),events:h,behaviours:Sa(e.splitDropdownBehaviours,[Ca.config({others:{sandbox:function(x){var S=nu(x,e,"arrow"),D={onOpen:function(){xe.on(S),xe.on(x)},onClose:function(){xe.off(S),xe.off(x)}};return DS(e,x,D)}}}),wn.config({mode:"special",onSpace:d,onEnter:d,onDown:v}),An.config({}),xe.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},db=wo({name:"SplitDropdown",configFields:UB(),partFields:GB(),factory:qB,apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),KB=function(e){return{isDisabled:function(){return Tn.isDisabled(e)},setDisabled:function(t){return Tn.set(e,t)}}},XB=function(e){return{setActive:function(t){xe.set(e,t)},isActive:function(){return xe.isOn(e)},isDisabled:function(){return Tn.isDisabled(e)},setDisabled:function(t){return Tn.set(e,t)}}},w5=function(e,t){return e.map(function(n){return{"aria-label":t.translate(n),title:t.translate(n)}}).getOr({})},x5=sn("focus-button"),YB=["checklist","ordered-list"],JB=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],k3=function(e,t,n,a,i,c){var s,v=function(h){return Li.isRtl()&&Tt(YB,h)?h+"-rtl":h},d=Li.isRtl()&&e.exists(function(h){return Tt(JB,h)});return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(d?["tox-tbtn__icon-rtl"]:[]),attributes:w5(n,c)},components:vd([e.map(function(h){return ab(v(h),c.icons)}),t.map(function(h){return t3(h,"tox-tbtn",c)})]),eventOrder:(s={},s[hi()]=["focusing","alloy.base.behaviour","common-button-display-events"],s),buttonBehaviours:lt([ou.toolbarButton(c.isDisabled),za(),Bn("common-button-display-events",[Ze(hi(),function(h,y){y.event.prevent(),ur(h,x5)})])].concat(a.map(function(h){return di.config({channel:h,initialData:{icon:e,text:t},renderComponents:function(y,x){return vd([y.icon.map(function(S){return ab(v(S),c.icons)}),y.text.map(function(S){return t3(S,"tox-tbtn",c)})])}})}).toArray()).concat(i.getOr([])))}},ZB=function(e,t,n,a){var i=t.shared;return Sf.sketch({lazySink:i.getSink,fetch:function(){return uo.nu(function(c){c(ne(n(e.items),fb))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:k3(e.icon,e.text,e.tooltip,g.none(),g.none(),i.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:a}}}})},S5=function(e,t,n){var a=xt(de),i=k3(e.icon,e.text,e.tooltip,g.none(),g.none(),n);return Go.sketch({dom:i.dom,components:i.components,eventOrder:vk,buttonBehaviours:lt([Bn("toolbar-button-events",[cF({onAction:e.onAction,getApi:t.getApi}),Vg(t,a),Ug(t,a)]),ou.toolbarButton(function(){return e.disabled||n.isDisabled()}),za()].concat(t.toolbarButtonBehaviours))})},QB=function(e,t){return C5(e,t,[])},C5=function(e,t,n){return S5(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Bn("toolbarButtonWith",n)]:[]),getApi:KB,onSetup:e.onSetup},t)},e$=function(e,t){return T5(e,t,[])},T5=function(e,t,n){return Fn(S5(e,{toolbarButtonBehaviours:[Mn.config({}),xe.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Bn("toolbarToggleButtonWith",n)]:[]),getApi:XB,onSetup:e.onSetup},t))},t$=function(e,t,n){return function(a){return uo.nu(function(i){return t.fetch(i)}).map(function(i){return g.from(RC(Fn(kS(sn("menu-value"),i,function(c){t.onItemAction(e(a),c)},t.columns,t.presets,$u.CLOSE_ON_EXECUTE,t.select.getOr(Vt),n),{movement:V0(t.columns,t.presets),menuBehaviours:B0.unnamedEvents(t.columns!=="auto"?[]:[na(function(c,s){sS(c,4,H4(t.presets)).each(function(v){var d=v.numRows,h=v.numColumns;wn.setGridSize(c,d,h)})})])})))})}},n$=function(e,t){var n,a=sn("channel-update-split-dropdown-display"),i=function(v){return{isDisabled:function(){return Tn.isDisabled(v)},setDisabled:function(d){return Tn.set(v,d)},setIconFill:function(d,h){Ka(v.element,'svg path[id="'+d+'"], rect[id="'+d+'"]').each(function(y){sr(y,"fill",h)})},setIconStroke:function(d,h){Ka(v.element,'svg path[id="'+d+'"], rect[id="'+d+'"]').each(function(y){sr(y,"stroke",h)})},setActive:function(d){v.getSystem().isConnected()&&(sr(v.element,"aria-pressed",d),Ka(v.element,"span").each(function(h){v.getSystem().getByDom(h).each(function(y){return xe.set(y,d)})}))},isActive:function(){return Ka(v.element,"span").exists(function(d){return v.getSystem().isConnected()?v.getSystem().getByDom(d).exists(xe.isOn):!1})}}},c=xt(de),s={getApi:i,onSetup:e.onSetup};return db.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:G({"aria-pressed":!1},w5(e.tooltip,t.providers))},onExecute:function(v){e.onAction(i(v))},onItemExecute:function(v,d,h){},splitDropdownBehaviours:lt([ou.splitButton(t.providers.isDisabled),za(),Bn("split-dropdown-events",[Ze(x5,An.focus),Vg(s,c),Ug(s,c)]),Qg.config({})]),eventOrder:(n={},n[Cc()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:t$(i,e,t.providers),parts:{menu:P0(!1,e.columns,e.presets)},components:[db.parts.button(k3(e.icon,e.text,g.none(),g.some(a),g.some([xe.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),db.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ei("chevron-down",t.providers.icons)},buttonBehaviours:lt([ou.splitButton(t.providers.isDisabled),za()])}),db.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},r$=function(e){return{hide:function(){return ur(e,Uf())},getValue:function(){return zt.getValue(e)}}},k5=function(e,t){return Ze(fk,function(n,a){var i=e.get(n),c=r$(i);t.onAction(c,a.event.buttonApi)})},a$=function(e,t,n){var a=t.original;a.primary;var i=k(a,["primary"]),c=Co(D4(G(G({},i),{type:"button",onAction:de})));return C5(c,n.backstage.shared.providers,[k5(e,t)])},o$=function(e,t,n){var a=t.original;a.primary;var i=k(a,["primary"]),c=Co(F4(G(G({},i),{type:"togglebutton",onAction:de})));return T5(c,n.backstage.shared.providers,[k5(e,t)])},i$=function(e,t,n){var a={backstage:{shared:{providers:n}}};return t.type==="contextformtogglebutton"?o$(e,t,a):a$(e,t,a)},u$=function(e,t,n){var a=ne(t,function(s){return wr(i$(e,s,n))}),i=function(){return ne(a,function(s){return s.asSpec()})},c=function(s){return dt(t,function(v,d){return v.primary?g.from(a[d]).bind(function(h){return h.getOpt(s)}).filter(cn(Tn.isDisabled)):g.none()})};return{asSpecs:i,findPrimary:c}},O5=function(e,t){var n=e.label.fold(function(){return{}},function(c){return{"aria-label":c}}),a=wr(Zg.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:lt([wn.config({mode:"special",onEnter:function(c){return i.findPrimary(c).map(function(s){return kc(s),!0})},onLeft:function(c,s){return s.cut(),g.none()},onRight:function(c,s){return s.cut(),g.none()}})])})),i=u$(a,e.commands,t);return[{title:g.none(),items:[a.asSpec()]},{title:g.none(),items:i.asSpecs()}]},c$=function(e,t,n){return vb({type:e,uid:sn("context-toolbar"),initGroups:O5(t,n),onEscape:g.none,cyclicKeying:!0,providers:n})},s$={renderContextForm:c$,buildInitGroups:O5},l$=function(e,t){var n=Math.max(t.x,e.x),a=e.right-n,i=t.width-(n-t.x),c=Math.min(a,i);return{x:n,width:c}},f$=function(e,t,n,a){var i=Rt.fromDom(e.getContainer()),c=Ka(i,".tox-editor-header").getOr(i),s=li(c),v=s.y>=t.bottom,d=a&&!v;if(e.inline&&d)return{y:Math.max(s.bottom,n.y),bottom:n.bottom};if(e.inline&&!d)return{y:n.y,bottom:Math.min(s.y,n.bottom)};var h=li(i);return d?{y:Math.max(s.bottom,n.y),bottom:Math.min(h.bottom,n.bottom)}:{y:Math.max(h.y,n.y),bottom:Math.min(s.y,n.bottom)}},A5=function(e,t){var n=qh(window),a=li(Rt.fromDom(e.getContentAreaContainer())),i=mS(e)||gS(e)||$0(e),c=l$(a,n),s=c.x,v=c.width;if(e.inline&&!i)return si(s,n.y,v,n.height);var d=t.header.isPositionedAtTop(),h=f$(e,a,n,d),y=h.y,x=h.bottom;return si(s,y,v,x-y)},O3=function(e,t){var n=Y(t,function(s){return s.predicate(e.dom)}),a=ke(n,function(s){return s.type==="contexttoolbar"}),i=a.pass,c=a.fail;return{contextToolbars:i,contextForms:c}},v$=function(e){if(e.length<=1)return e;var t=function(v){return Ot(e,function(d){return d.position===v})},n=function(v){return Y(e,function(d){return d.position===v})},a=t("selection"),i=t("node");if(a||i)if(i&&a){var c=n("node"),s=ne(n("selection"),function(v){return G(G({},v),{position:"node"})});return c.concat(s)}else return n(a?"selection":"node");else return n("line")},d$=function(e){if(e.length<=1)return e;var t=function(a){return ve(e,function(i){return i.position===a})},n=t("selection").orThunk(function(){return t("node")}).orThunk(function(){return t("line")}).map(function(a){return a.position});return n.fold(function(){return[]},function(a){return Y(e,function(i){return i.position===a})})},m$=function(e,t,n){var a=O3(e,t);if(a.contextForms.length>0)return g.some({elem:e,toolbars:[a.contextForms[0]]});var i=O3(e,n);if(i.contextForms.length>0)return g.some({elem:e,toolbars:[i.contextForms[0]]});if(a.contextToolbars.length>0||i.contextToolbars.length>0){var c=v$(a.contextToolbars.concat(i.contextToolbars));return g.some({elem:e,toolbars:c})}else return g.none()},g$=function(e,t,n){return e(t)?g.none():p(t,function(a){var i=O3(a,n.inNodeScope),c=i.contextToolbars,s=i.contextForms,v=s.length>0?s:d$(c);return v.length>0?g.some({elem:a,toolbars:v}):g.none()},e)},h$=function(e,t){var n=Rt.fromDom(t.getBody()),a=function(s){return wa(s,n)},i=function(s){return!a(s)&&!ms(n,s)},c=Rt.fromDom(t.selection.getNode());return i(c)?g.none():m$(c,e.inNodeScope,e.inEditorScope).orThunk(function(){return g$(a,c,e)})},p$=function(e,t){var n={},a=[],i=[],c={},s={},v=function(y,x){var S=Co(h6(x));n[y]=S,S.launch.map(function(D){c["form:"+y]=G(G({},x.launch),{type:D.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){t(S)}})}),S.scope==="editor"?i.push(S):a.push(S),s[y]=S},d=function(y,x){b6(x).each(function(S){x.scope==="editor"?i.push(S):a.push(S),s[y]=S})},h=pn(e);return Le(h,function(y){var x=e[y];x.type==="contextform"?v(y,x):x.type==="contexttoolbar"&&d(y,x)}),{forms:n,inNodeScope:a,inEditorScope:i,lookupTable:s,formNavigators:c}},E5=sn("forward-slide"),M5=sn("backward-slide"),A3=sn("change-slide-event"),E3="tox-pop--resizing",b$=function(e){var t=xt([]);return fa.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(n){t.set([]),fa.getContent(n).each(function(a){Ur(a.element,"visibility")}),xa(n.element,E3),Ur(n.element,"width")},inlineBehaviours:lt([Bn("context-toolbar-events",[Ss(Ud(),function(n,a){xa(n.element,E3),Ur(n.element,"width")}),Ze(A3,function(n,a){var i=n.element;Ur(i,"width");var c=Oo(i);fa.setContent(n,a.event.contents),Yr(i,E3);var s=Oo(i);Ln(i,"width",c+"px"),fa.getContent(n).each(function(v){a.event.focus.bind(function(d){return ac(d),bo(i)}).orThunk(function(){return wn.focusIn(v),Hi(Va(i))})}),Bu.setTimeout(function(){Ln(n.element,"width",s+"px")},0)}),Ze(E5,function(n,a){fa.getContent(n).each(function(i){t.set(t.get().concat([{bar:i,focus:Hi(Va(n.element))}]))}),Cn(n,A3,{contents:a.event.forwardContents,focus:g.none()})}),Ze(M5,function(n,a){ct(t.get()).each(function(i){t.set(t.get().slice(0,t.get().length-1)),Cn(n,A3,{contents:ko(i.bar),focus:i.focus})})})]),wn.config({mode:"special",onEscape:function(n){return ct(t.get()).fold(function(){return e.onEscape()},function(a){return ur(n,M5),g.some(!0)})}})]),lazySink:function(){return Lt.value(e.sink)}})},y$=function(e,t,n){var a=function(v,d,h,y){var x=t.shared.providers.translate(v.title);if(v.type==="separator")return g.some({type:"separator",text:x});if(v.type==="submenu"){var S=Dt(v.getStyleItems(),function(D){return i(D,d,y)});return d===0&&S.length<=0?g.none():g.some({type:"nestedmenuitem",text:x,disabled:S.length<=0,getSubmenuItems:function(){return Dt(v.getStyleItems(),function(D){return i(D,d,y)})}})}else return g.some(G({type:"togglemenuitem",text:x,icon:v.icon,active:v.isSelected(y),disabled:h,onAction:n.onAction(v)},v.getStylePreview().fold(function(){return{}},function(D){return{meta:{style:D}}})))},i=function(v,d,h){var y=v.type==="formatter"&&n.isInvalid(v);return d===0?y?[]:a(v,d,!1,h).toArray():a(v,d,y,h).toArray()},c=function(v){var d=n.getCurrentValue(),h=n.shouldHide?0:1;return Dt(v,function(y){return i(y,h,d)})},s=function(v,d){return function(h,y){var x=d(),S=c(x),D=xd(S,$u.CLOSE_ON_EXECUTE,v,!1);y(D)}};return{validateItems:c,getFetch:s}},kd=function(e,t,n){var a=n.dataset,i=a.type==="basic"?function(){return ne(a.data,function(c){return Nk(c,n.isSelectedFor,n.getPreviewFor)})}:a.getData;return{items:y$(e,t,n),getStyleItems:i}},oh=function(e,t,n){var a=kd(e,t,n),i=a.items,c=a.getStyleItems,s=function(d){return{getComponent:$(d)}},v=function(d){var h=function(){var y=d.getComponent();y.getSystem().isConnected()&&n.updateText(y)};return h(),e.on("NodeChange",h),function(){e.off("NodeChange",h)}};return r3({text:n.icon.isSome()?g.none():g.some(""),icon:n.icon,tooltip:g.from(n.tooltip),role:g.none(),fetch:i.getFetch(t,c),onSetup:v,getApi:s,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)},w$=function(e){return ne(e,function(t){var n=t,a=t,i=t.split("=");return i.length>1&&(n=i[0],a=i[1]),{title:n,format:a}})},x$=function(e){return{type:"basic",data:e}},Od;(function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"})(Od||(Od={}));var S$=function(e,t){return t===Od.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")},M3=function(e,t,n,a){var i=e.getParam(t,n,"string"),c=w$(S$(i,a));return{type:"basic",data:c}},_3=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],_5=function(e){var t=function(){return ve(_3,function(v){return e.formatter.match(v.format)})},n=function(v){return function(){return e.formatter.match(v)}},a=function(v){return function(){return g.none()}},i=function(v){var d=t(),h=d.fold(function(){return"left"},function(y){return y.title.toLowerCase()});Cn(v,dk,{icon:"align-"+h})},c=x$(_3),s=function(v){return function(){return ve(_3,function(d){return d.format===v.format}).each(function(d){return e.execCommand(d.command)})}};return{tooltip:"Align",icon:g.some("align-left"),isSelectedFor:n,getCurrentValue:g.none,getPreviewFor:a,onAction:s,updateText:i,dataset:c,shouldHide:!1,isInvalid:function(v){return!e.formatter.canApply(v.format)}}},C$=function(e,t){return oh(e,t,_5(e))},T$=function(e,t){var n=kd(e,t,_5(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},k$="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",O$=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],D5=function(e){var t=e.split(/\s*,\s*/);return ne(t,function(n){return n.replace(/^['"]+|['"]+$/g,"")})},A$=function(e){var t=function(){var n=D5(e.toLowerCase());return ln(O$,function(a){return n.indexOf(a.toLowerCase())>-1})};return e.indexOf("-apple-system")===0&&t()},F5=function(e){var t=function(){var d=function(D){return D?D5(D)[0]:""},h=e.queryCommandValue("FontName"),y=v.data,x=h?h.toLowerCase():"",S=ve(y,function(D){var B=D.format;return B.toLowerCase()===x||d(B).toLowerCase()===d(x).toLowerCase()}).orThunk(function(){return A$(x)?g.from({title:"System Font",format:x}):g.none()});return{matchOpt:S,font:h}},n=function(d){return function(h){return h.exists(function(y){return y.format===d})}},a=function(){var d=t().matchOpt;return d},i=function(d){return function(){return g.some({tag:"div",styles:d.indexOf("dings")===-1?{"font-family":d}:{}})}},c=function(d){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontName",!1,d.format)})}},s=function(d){var h=t(),y=h.matchOpt,x=h.font,S=y.fold(function(){return x},function(D){return D.title});Cn(d,wd,{text:S})},v=M3(e,"font_formats",k$,Od.SemiColon);return{tooltip:"Fonts",icon:g.none(),isSelectedFor:n,getCurrentValue:a,getPreviewFor:i,onAction:c,updateText:s,dataset:v,shouldHide:!1,isInvalid:Vt}},E$=function(e,t){return oh(e,t,F5(e))},M$=function(e,t){var n=kd(e,t,F5(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},_$="8pt 10pt 12pt 14pt 18pt 24pt 36pt",D$={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},F$={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},P$=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},z$=function(e,t){return/[0-9.]+px$/.test(e)?P$(parseInt(e,10)*72/96,t||0)+"pt":Zt(F$,e).getOr(e)},B$=function(e){return Zt(D$,e).getOr("")},P5=function(e){var t=function(){var d=g.none(),h=v.data,y=e.queryCommandValue("FontSize");if(y)for(var x=function(D){var B=z$(y,D),R=B$(B);d=ve(h,function(J){return J.format===y||J.format===B||J.format===R})},S=3;d.isNone()&&S>=0;S--)x(S);return{matchOpt:d,size:y}},n=function(d){return function(h){return h.exists(function(y){return y.format===d})}},a=function(){var d=t().matchOpt;return d},i=$(g.none),c=function(d){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontSize",!1,d.format)})}},s=function(d){var h=t(),y=h.matchOpt,x=h.size,S=y.fold(function(){return x},function(D){return D.title});Cn(d,wd,{text:S})},v=M3(e,"fontsize_formats",_$,Od.Space);return{tooltip:"Font sizes",icon:g.none(),isSelectedFor:n,getPreviewFor:i,getCurrentValue:a,onAction:c,updateText:s,dataset:v,shouldHide:!1,isInvalid:Vt}},$$=function(e,t){return oh(e,t,P5(e))},R$=function(e,t){var n=kd(e,t,P5(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},z5=function(e,t){var n=t(),a=ne(n,function(i){return i.format});return g.from(e.formatter.closest(a)).bind(function(i){return ve(n,function(c){return c.format===i})}).orThunk(function(){return z1(e.formatter.match("p"),{title:"Paragraph",format:"p"})})},B5=function(e){var t=xt(g.none()),n=function(){return t.get().each(e)},a=function(){n(),t.set(g.none())},i=function(){return t.get().isSome()},c=function(s){n(),t.set(g.some(s))};return{clear:a,isSet:i,set:c}},$5=function(){return B5(function(e){return e.destroy()})},R5=function(){return B5(function(e){return e.unbind()})},H$=function(){var e=xt(g.none()),t=function(){return e.set(g.none())},n=function(c){return e.set(g.some(c))},a=function(){return e.get().isSome()},i=function(c){return e.get().each(c)};return{clear:t,set:n,isSet:a,on:i}},mb=function(e,t){return function(n){var a=R5(),i=function(){n.setActive(e.formatter.match(t));var c=e.formatter.formatChanged(t,n.setActive);a.set(c)};return e.initialized?i():e.on("init",i),a.clear}},H5=function(e){return function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)})}}},I$="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",I5=function(e){var t=function(c){return function(){return e.formatter.match(c)}},n=function(c){return function(){var s=e.formatter.get(c);return g.some({tag:s.length>0&&(s[0].inline||s[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(c))})}},a=function(c){var s=z5(e,function(){return i.data}),v=s.fold(function(){return"Paragraph"},function(d){return d.title});Cn(c,wd,{text:v})},i=M3(e,"block_formats",I$,Od.SemiColon);return{tooltip:"Blocks",icon:g.none(),isSelectedFor:t,getCurrentValue:g.none,getPreviewFor:n,onAction:H5(e),updateText:a,dataset:i,shouldHide:!1,isInvalid:function(c){return!e.formatter.canApply(c.format)}}},L$=function(e,t){return oh(e,t,I5(e))},N$=function(e,t){var n=kd(e,t,I5(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},L5=function(e,t){var n=function(c){return function(){return e.formatter.match(c)}},a=function(c){return function(){var s=e.formatter.get(c);return s!==void 0?g.some({tag:s.length>0&&(s[0].inline||s[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(c))}):g.none()}},i=function(c){var s=function(y){var x=y.items;return x!==void 0&&x.length>0?Dt(x,s):[{title:y.title,format:y.format}]},v=Dt(Lk(e),s),d=z5(e,function(){return v}),h=d.fold(function(){return"Paragraph"},function(y){return y.title});Cn(c,wd,{text:h})};return{tooltip:"Formats",icon:g.none(),isSelectedFor:n,getCurrentValue:g.none,getPreviewFor:a,onAction:H5(e),updateText:i,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(c){return!e.formatter.canApply(c.format)},dataset:t}},V$=function(e,t){var n=G({type:"advanced"},t.styleselect);return oh(e,t,L5(e,n))},U$=function(e,t){var n=G({type:"advanced"},t.styleselect),a=kd(e,t,L5(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return a.items.validateItems(a.getStyleItems())}})},W$=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],ih=function(e,t){return function(n,a,i){var c=e(n).mapError(function(s){return Do(s)}).getOrDie();return t(c,a,i)}},Ad={button:ih(D4,function(e,t){return QB(e,t.backstage.shared.providers)}),togglebutton:ih(F4,function(e,t){return e$(e,t.backstage.shared.providers)}),menubutton:ih(y5,function(e,t){return o3(e,"tox-tbtn",t.backstage,g.none())}),splitbutton:ih(BB,function(e,t){return n$(e,t.backstage.shared)}),grouptoolbarbutton:ih(DB,function(e,t,n){var a,i=n.ui.registry.getAll().buttons,c=function(v){return gb(n,{buttons:i,toolbar:v,allowToolbarGroups:!1},t,g.none())},s=(a={},a[Rm]=t.backstage.shared.header.isPositionedAtTop()?Eu.TopToBottom:Eu.BottomToTop,a);switch(Ng(n)){case Ci.floating:return ZB(e,t.backstage,c,s);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(e,t){return V$(e,t.backstage)},fontsizeSelectButton:function(e,t){return $$(e,t.backstage)},fontSelectButton:function(e,t){return E$(e,t.backstage)},formatButton:function(e,t){return L$(e,t.backstage)},alignMenuButton:function(e,t){return C$(e,t.backstage)}},j$=function(e,t,n){return Zt(Ad,e.type).fold(function(){return console.error("skipping button defined by",e),g.none()},function(a){return g.some(a(e,t,n))})},N5={styleselect:Ad.styleSelectButton,fontsizeselect:Ad.fontsizeSelectButton,fontselect:Ad.fontSelectButton,formatselect:Ad.formatButton,align:Ad.alignMenuButton},G$=function(e){var t=ne(W$,function(n){var a=Y(n.items,function(i){return Cr(e,i)||Cr(N5,i)});return{name:n.name,items:a}});return Y(t,function(n){return n.items.length>0})},q$=function(e){var t=e.split("|");return ne(t,function(n){return{items:n.trim().split(" ")}})},K$=function(e){return Xe(e,function(t){return Cr(t,"name")&&Cr(t,"items")})},X$=function(e){var t=e.toolbar,n=e.buttons;return t===!1?[]:t===void 0||t===!0?G$(n):wt(t)?q$(t):K$(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Y$=function(e,t,n,a,i,c){return Zt(t,n.toLowerCase()).orThunk(function(){return c.bind(function(s){return dt(s,function(v){return Zt(t,v+n.toLowerCase())})})}).fold(function(){return Zt(N5,n.toLowerCase()).map(function(s){return s(e,i)}).orThunk(function(){return g.none()})},function(s){return s.type==="grouptoolbarbutton"&&!a?(console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),g.none()):j$(s,i,e)})},gb=function(e,t,n,a){var i=X$(t),c=ne(i,function(s){var v=Dt(s.items,function(d){return d.trim().length===0?[]:Y$(e,t.buttons,d,t.allowToolbarGroups,n,a).toArray()});return{title:g.from(e.translate(s.name)),items:v}});return Y(c,function(s){return s.items.length>0})},V5=12,U5={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},W5={maxHeightFunction:Cv(),maxWidthFunction:p3()},J$={onLtr:function(){return[Vo,Ja,ao,Xa,po,Ya,Qc,ff,sf,ud,lf,cd]},onRtl:function(){return[Vo,Ja,po,Ya,ao,Xa,Qc,ff,lf,cd,sf,ud]}},Z$={onLtr:function(){return[Ja,Xa,Ya,ao,po,Vo,Qc,ff,sf,ud,lf,cd]},onRtl:function(){return[Ja,Ya,Xa,po,ao,Vo,Qc,ff,lf,cd,sf,ud]}},Q$=function(e,t){return e==="line"?{bubble:Bs(V5,0,U5),layouts:{onLtr:function(){return[Cm]},onRtl:function(){return[Ps]}},overrides:W5}:{bubble:Bs(0,V5,U5),layouts:t?Z$:J$,overrides:W5}},eR=function(e,t,n,a){var i=Ro().deviceType.isTouch,c=go(b$({sink:n,onEscape:function(){return e.focus(),g.some(!0)}})),s=function(){return A5(e,a.backstage.shared)},v=function(_t,He,Ge,qt){return Math.max(_t,Ge)<=Math.min(He,qt)},d=function(){var _t=B.get().filter(function(Ge){return $i(Rt.fromDom(Ge))}).map(function(Ge){return Ge.getBoundingClientRect()}).getOrThunk(function(){return e.selection.getRng().getBoundingClientRect()}),He=e.inline?Zi().top:ec(Rt.fromDom(e.getBody())).y;return{y:_t.top+He,bottom:_t.bottom+He}},h=function(){if(i()&&a.backstage.isContextMenuOpen())return!0;var _t=d(),He=s();return!v(_t.y,_t.bottom,He.y,He.bottom)},y=function(){D.set(g.none()),fa.hide(c)},x=function(){fa.hide(c)},S=function(){D.get().each(function(_t){var He=c.element;Ur(He,"display"),h()?Ln(He,"display","none"):yo.positionWithinBounds(n,_t,c,g.some(s()))})},D=xt(g.none()),B=xt(g.none()),R=xt(null),J=function(_t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[_t],behaviours:lt([wn.config({mode:"acyclic"}),Bn("pop-dialog-wrap-events",[na(function(He){e.shortcuts.add("ctrl+F9","focus statusbar",function(){return wn.focusIn(He)})}),ui(function(He){e.shortcuts.remove("ctrl+F9")})])])}},I=qr(function(){return p$(t,function(_t){var He=Fe([_t]);Cn(c,E5,{forwardContents:J(He)})})}),re=function(_t,He){return gb(e,{buttons:_t,toolbar:He.items,allowToolbarGroups:!1},a,g.some(["form:"]))},le=function(_t,He){return s$.buildInitGroups(_t,He)},Fe=function(_t){var He=e.ui.registry.getAll().buttons,Ge=I(),qt=G(G({},He),Ge.formNavigators),xn=Ng(e)===Ci.scrolling?Ci.scrolling:Ci.default,ft=kt(ne(_t,function(un){return un.type==="contexttoolbar"?re(qt,un):le(un,a.backstage.shared.providers)}));return vb({type:xn,uid:sn("context-toolbar"),initGroups:ft,onEscape:g.none,cyclicKeying:!0,providers:a.backstage.shared.providers})};e.on(Nz,function(_t){var He=I();Zt(He.lookupTable,_t.toolbarKey).each(function(Ge){De([Ge],_t.target===e?g.none():g.some(_t)),fa.getContent(c).each(wn.focusIn)})});var Te=function(_t,He){var Ge=_t==="node"?a.backstage.shared.anchors.node(He):a.backstage.shared.anchors.cursor();return Fn(Ge,Q$(_t,i()))},De=function(_t,He){if(tt(),!(i()&&a.backstage.isContextMenuOpen())){var Ge=Fe(_t),qt=He.map(Rt.fromDom),xn=Te(_t[0].position,qt);D.set(g.some(xn)),B.set(He);var ft=c.element;Ur(ft,"display"),fa.showWithinBounds(c,xn,J(Ge),function(){return g.some(s())}),h()&&Ln(ft,"display","none")}},Ae=function(){if(!!e.hasFocus()){var _t=I();h$(_t,e).fold(y,function(He){De(He.toolbars,g.some(He.elem.dom))})}},tt=function(){var _t=R.get();_t!==null&&(Bu.clearTimeout(_t),R.set(null))},tn=function(){tt(),R.set(Bu.setEditorTimeout(e,Ae,0))};e.on("init",function(){e.on(Qk,x),e.on("ScrollContent ScrollWindow longpress",S),e.on("click keyup focus SetContent ObjectResized ResizeEditor",function(){tn()}),e.on("focusout",function(_t){Bu.setEditorTimeout(e,function(){bo(n.element).isNone()&&bo(c.element).isNone()&&y()},0)}),e.on("SwitchMode",function(){e.mode.isReadOnly()&&y()}),e.on("AfterProgressState",function(_t){_t.state?y():e.hasFocus()&&tn()}),e.on("NodeChange",function(_t){bo(c.element).fold(tn,de)})})},tR=function(e,t,n){var a=function(I,re){Le([t,n],function(le){le.broadcastEvent(I,re)})},i=function(I,re){Le([t,n],function(le){le.broadcastOn([I],re)})},c=function(I){return i(Lc(),{target:I.target})},s=iu(Rt.fromDom(document),"touchstart",c),v=iu(Rt.fromDom(document),"touchmove",function(I){return a(Fb(),I)}),d=iu(Rt.fromDom(document),"touchend",function(I){return a(wu(),I)}),h=iu(Rt.fromDom(document),"mousedown",c),y=iu(Rt.fromDom(document),"mouseup",function(I){I.raw.button===0&&i(Ul(),{target:I.target})}),x=function(I){return i(Lc(),{target:Rt.fromDom(I.target)})},S=function(I){I.button===0&&i(Ul(),{target:Rt.fromDom(I.target)})},D=function(I){return a(pl(),IC(I))},B=function(I){i(Du(),{}),a(ws(),IC(I))},R=function(){return i(Du(),{})},J=function(I){I.state&&i(Lc(),{target:Rt.fromDom(e.getContainer())})};e.on("PostRender",function(){e.on("click",x),e.on("tap",x),e.on("mouseup",S),e.on("ScrollWindow",D),e.on("ResizeWindow",B),e.on("ResizeEditor",R),e.on("AfterProgressState",J)}),e.on("remove",function(){e.off("click",x),e.off("tap",x),e.off("mouseup",S),e.off("ScrollWindow",D),e.off("ResizeWindow",B),e.off("ResizeEditor",R),e.off("AfterProgressState",J),h.unbind(),s.unbind(),v.unbind(),d.unbind(),y.unbind()}),e.on("detach",function(){o1(t),o1(n),t.destroy(),n.destroy()})},ni=fg,Cf=Aw,nR=$([me("shell",!1),q("makeItem"),me("setupItem",de),Wo.field("listBehaviours",[Mn])]),rR=function(){return{behaviours:lt([Mn.config({})])}},aR=xi({name:"items",overrides:rR}),oR=$([aR]),iR=$("CustomList"),uR=function(e,t,n,a){var i=function(v,d){s(v).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(h){var y=Mn.contents(h),x=d.length,S=x-y.length,D=S>0?an(S,function(){return e.makeItem()}):[],B=y.slice(x);Le(B,function(J){return Mn.remove(h,J)}),Le(D,function(J){return Mn.append(h,J)});var R=Mn.contents(h);Le(R,function(J,I){e.setupItem(v,J,d[I],I)})})},c=e.shell?{behaviours:[Mn.config({})],components:[]}:{behaviours:[],components:t},s=function(v){return e.shell?g.some(v):Mr(v,e,"items")};return{uid:e.uid,dom:e.dom,components:c.components,behaviours:Sa(e.listBehaviours,c.behaviours),apis:{setItems:i}}},j5=wo({name:iR(),configFields:nR(),partFields:oR(),factory:uR,apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),cR=de,sR=Vt,G5=$([]),lR=Object.freeze({__proto__:null,setup:cR,isDocked:sR,getBehaviours:G5}),q5=function(e){var t=la(e,"position").is("fixed"),n=t?g.none():Zf(e);return n.orThunk(function(){var a=Rt.fromTag("span");return Ho(e).bind(function(i){Io(i,a);var c=Zf(a);return Ku(a),c})})},K5=function(e){return q5(e).map(ku).getOrThunk(function(){return ra(0,0)})},D3=xr.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),fR=function(e,t){var n=e.element;Yr(n,t.transitionClass),xa(n,t.fadeOutClass),Yr(n,t.fadeInClass),t.onShow(e)},vR=function(e,t){var n=e.element;Yr(n,t.transitionClass),xa(n,t.fadeInClass),Yr(n,t.fadeOutClass),t.onHide(e)},dR=function(e,t){return e.y<t.bottom&&e.bottom>t.y},mR=function(e,t){return e.y>=t.y},gR=function(e,t){return e.bottom<=t.bottom},X5=function(e,t,n){return ln(e,function(a){switch(a){case"bottom":return gR(t,n);case"top":return mR(t,n)}})},Y5=function(e,t){return t.getInitialPosition().map(function(n){return si(n.bounds.x,n.bounds.y,Oo(e),ho(e))})},hR=function(e,t,n){n.setInitialPosition(g.some({style:ly(e),position:bi(e,"position")||"static",bounds:t}))},J5=function(e,t,n){return n.getInitialPosition().bind(function(a){switch(n.setInitialPosition(g.none()),a.position){case"static":return g.some(D3.static());case"absolute":var i=q5(e).map(li).getOrThunk(function(){return li(Tu())});return g.some(D3.absolute(Ii("absolute",Zt(a.style,"left").map(function(c){return t.x-i.x}),Zt(a.style,"top").map(function(c){return t.y-i.y}),Zt(a.style,"right").map(function(c){return i.right-t.right}),Zt(a.style,"bottom").map(function(c){return i.bottom-t.bottom}))));default:return g.none()}})},pR=function(e,t,n){return Y5(e,n).filter(function(a){return X5(n.getModes(),a,t)}).bind(function(a){return J5(e,a,n)})},bR=function(e,t,n){var a=li(e);if(X5(n.getModes(),a,t))return g.none();hR(e,a,n);var i=qa(),c=a.x-i.x,s=t.y-i.y,v=i.bottom-t.bottom,d=a.y<=t.y;return g.some(D3.fixed(Ii("fixed",g.some(c),d?g.some(s):g.none(),g.none(),d?g.none():g.some(v))))},yR=function(e,t,n){var a=e.element,i=la(a,"position").is("fixed");return i?pR(a,t,n):bR(a,t,n)},wR=function(e,t){var n=e.element;return Y5(n,t).bind(function(a){return J5(n,a,t)})},Z5=function(e,t){Le(["left","right","top","bottom","position"],function(n){return Ur(e.element,n)}),t.onUndocked(e)},F3=function(e,t,n){zs(e.element,n);var a=n.position==="fixed"?t.onDocked:t.onUndocked;a(e)},Q5=function(e,t,n,a,i){i===void 0&&(i=!1),t.contextual.each(function(c){c.lazyContext(e).each(function(s){var v=dR(s,a);if(v!==n.isVisible())if(n.setVisible(v),i&&!v)Ol(e.element,[c.fadeOutClass]),c.onHide(e);else{var d=v?fR:vR;d(e,c)}})})},xR=function(e,t,n){var a=t.lazyViewport(e),i=n.isDocked();i&&Q5(e,t,n,a),yR(e,a,n).each(function(c){n.setDocked(!i),c.fold(function(){return Z5(e,t)},function(s){return F3(e,t,s)},function(s){Q5(e,t,n,a,!0),F3(e,t,s)})})},SR=function(e,t,n){var a=e.element;n.setDocked(!1),wR(e,n).each(function(i){i.fold(function(){return Z5(e,t)},function(c){return F3(e,t,c)},de)}),n.setVisible(!0),t.contextual.each(function(i){Ha(a,[i.fadeInClass,i.fadeOutClass,i.transitionClass]),i.onShow(e)}),P3(e,t,n)},P3=function(e,t,n){e.getSystem().isConnected()&&xR(e,t,n)},eO=function(e,t,n){n.isDocked()&&SR(e,t,n)},CR=function(e,t,n){return n.isDocked()},TR=function(e,t,n,a){return n.setModes(a)},kR=function(e,t,n){return n.getModes()},OR=Object.freeze({__proto__:null,refresh:P3,reset:eO,isDocked:CR,getModes:kR,setModes:TR}),AR=function(e,t){return cr([Ss(Ud(),function(n,a){e.contextual.each(function(i){if(Bi(n.element,i.transitionClass)){Ha(n.element,[i.transitionClass,i.fadeInClass]);var c=t.isVisible()?i.onShown:i.onHidden;c(n)}a.stop()})}),Ze(pl(),function(n,a){P3(n,e,t)}),Ze(ws(),function(n,a){eO(n,e,t)})])},ER=Object.freeze({__proto__:null,events:AR}),MR=[ja("contextual",[Mt("fadeInClass"),Mt("fadeOutClass"),Mt("transitionClass"),Xn("lazyContext"),vr("onShow"),vr("onShown"),vr("onHide"),vr("onHidden")]),Nr("lazyViewport",qa),Wi("modes",["top","bottom"],we),vr("onDocked"),vr("onUndocked")],_R=function(e){var t=xt(!1),n=xt(!0),a=xt(g.none()),i=xt(e.modes),c=function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+i.get().join(",")};return ci({isDocked:t.get,setDocked:t.set,getInitialPosition:a.get,setInitialPosition:a.set,isVisible:n.get,setVisible:n.set,getModes:i.get,setModes:i.set,readState:c})},DR=Object.freeze({__proto__:null,init:_R}),_o=Aa({fields:MR,name:"docking",active:ER,apis:OR,state:DR}),hc={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},tO="tox-tinymce--toolbar-sticky-on",nO="tox-tinymce--toolbar-sticky-off",FR=function(e,t){var n=Fi(t),a=n.dom.defaultView.innerHeight,i=Zi(n),c=Rt.fromDom(e.elm),s=ec(c),v=ho(c),d=s.y,h=d+v,y=ku(t),x=ho(t),S=y.top,D=S+x,B=Math.abs(S-i.top)<2,R=Math.abs(D-(i.top+a))<2;if(B&&d<D)mv(i.left,d-x,n);else if(R&&h>S){var J=d-a+v+x;mv(i.left,J,n)}},PR=function(e,t){return Tt(_o.getModes(e),t)},z3=function(e){var t=function(a){return Fc(a)+(parseInt(bi(a,"margin-top"),10)||0)+(parseInt(bi(a,"margin-bottom"),10)||0)},n=e.element;Ho(n).each(function(a){var i="padding-"+_o.getModes(e)[0];if(_o.isDocked(e)){var c=Oo(a);Ln(n,"width",c+"px"),Ln(a,i,t(n)+"px")}else Ur(n,"width"),Ur(a,i)})},rO=function(e,t){t?(xa(e,hc.fadeOutClass),Ol(e,[hc.transitionClass,hc.fadeInClass])):(xa(e,hc.fadeInClass),Ol(e,[hc.fadeOutClass,hc.transitionClass]))},aO=function(e,t){var n=Rt.fromDom(e.getContainer());t?(Yr(n,tO),xa(n,nO)):(Yr(n,nO),xa(n,tO))},zR=function(e,t){var n=Fi(t);Hi(n).filter(function(a){return!wa(t,a)}).filter(function(a){return wa(a,Rt.fromDom(n.dom.body))||ms(e,a)}).each(function(){return ac(t)})},BR=function(e,t){return bo(e).orThunk(function(){return t().toOptional().bind(function(n){return bo(n.element)})})},$R=function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",function(){n().each(_o.reset)}),e.on("ResizeWindow ResizeEditor",function(){n().each(z3)}),e.on("SkinLoaded",function(){n().each(function(a){_o.isDocked(a)?_o.reset(a):_o.refresh(a)})}),e.on("FullscreenStateChanged",function(){n().each(_o.reset)})),e.on("AfterScrollIntoView",function(a){n().each(function(i){_o.refresh(i);var c=i.element;Gc(c)&&FR(a,c)})}),e.on("PostRender",function(){aO(e,!1)})},RR=function(e){return e().map(_o.isDocked).getOr(!1)},HR=function(){var e;return[Zo.config({channels:(e={},e[T3()]={onReceive:z3},e)})]},oO=function(e,t){var n=xt(g.none()),a=t.getSink,i=function(v){a().each(function(d){return v(d.element)})},c=function(v){e.inline||z3(v),aO(e,_o.isDocked(v)),v.getSystem().broadcastOn([Du()],{}),a().each(function(d){return d.getSystem().broadcastOn([Du()],{})})},s=e.inline?[]:HR();return Ue([An.config({}),_o.config({contextual:G({lazyContext:function(v){var d=Fc(v.element),h=e.inline?e.getContentAreaContainer():e.getContainer(),y=li(Rt.fromDom(h)),x=y.height-d,S=y.y+(PR(v,"top")?0:d);return g.some(si(y.x,S,y.width,x))},onShow:function(){i(function(v){return rO(v,!0)})},onShown:function(v){i(function(d){return Ha(d,[hc.transitionClass,hc.fadeInClass])}),n.get().each(function(d){zR(v.element,d),n.set(g.none())})},onHide:function(v){n.set(BR(v.element,a)),i(function(d){return rO(d,!1)})},onHidden:function(){i(function(v){return Ha(v,[hc.transitionClass])})}},hc),modes:[t.header.getDockingMode()],onDocked:c,onUndocked:c})],s)},IR=Object.freeze({__proto__:null,setup:$R,isDocked:RR,getBehaviours:oO}),LR=function(e){var t=e.editor,n=e.sticky?oO:G5;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:lt(n(t,e.sharedBackstage))}},NR=function(e,t){var n=function(i,c){var s=ne(c,function(v){var d={type:"menubutton",text:v.text,fetch:function(y){y(v.getItems())}},h=y5(d).mapError(function(y){return Do(y)}).getOrDie();return o3(h,"tox-mbtn",t.backstage,g.some("menuitem"))});Mn.set(i,s)},a={focus:wn.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:lt([Mn.config({}),Bn("menubar-events",[na(function(i){e.onSetup(i)}),Ze(Wu(),function(i,c){Ka(i.element,".tox-mbtn--active").each(function(s){Ri(c.event.target,".tox-mbtn").each(function(v){wa(s,v)||i.getSystem().getByDom(s).each(function(d){i.getSystem().getByDom(v).each(function(h){uu.expand(h),uu.close(d),An.focus(h)})})})})}),Ze(mh(),function(i,c){c.event.prevFocus.bind(function(s){return i.getSystem().getByDom(s).toOptional()}).each(function(s){c.event.newFocus.bind(function(v){return i.getSystem().getByDom(v).toOptional()}).each(function(v){uu.isOpen(s)&&(uu.expand(v),uu.close(s))})})})]),wn.config({mode:"flow",selector:".tox-mbtn",onEscape:function(i){return e.onEscape(i),g.some(!0)}}),ba.config({})]),apis:a,domModification:{attributes:{role:"menubar"}}}},B3=fi({factory:NR,name:"silver.Menubar",configFields:[q("dom"),q("uid"),q("onEscape"),q("backstage"),me("onSetup",de)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),iO="container",VR=[Pa("slotBehaviours",[])],uO=function(e){return"<alloy.field."+e+">"},UR=function(e){var t=function(){var c=[],s=function(v,d){return c.push(v),ig(iO,uO(v),d)};return{slot:s,record:function(){return c}}}(),n=e(t),a=t.record(),i=ne(a,function(c){return Za({name:c,pname:uO(c)})});return vg(iO,VR,i,WR,n)},WR=function(e,t){var n=function(R){return D1(e)},a=function(R,J){return Mr(R,e,J)},i=function(R,J){return function(I,re){return Mr(I,e,re).map(function(le){return R(le,re)}).getOr(J)}},c=function(R){return function(J,I){Le(I,function(re){return R(J,re)})}},s=function(R,J){return mo(R.element,"aria-hidden")!=="true"},v=function(R,J){if(!s(R)){var I=R.element;Ur(I,"display"),Lo(I,"aria-hidden"),Cn(R,Gf(),{name:J,visible:!0})}},d=function(R,J){if(s(R)){var I=R.element;Ln(I,"display","none"),sr(I,"aria-hidden","true"),Cn(R,Gf(),{name:J,visible:!1})}},h=i(s,!1),y=i(d),x=c(y),S=function(R){return x(R,n())},D=i(v),B={getSlotNames:n,getSlot:a,isShowing:h,hideSlot:y,hideAllSlots:S,showSlot:D};return{uid:e.uid,dom:e.dom,components:t,behaviours:Bv(e.slotBehaviours),apis:B}},jR=qn({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},function(e){return Cu(e)}),pc=G(G({},jR),{sketch:UR}),GR=ie([pr("icon"),pr("tooltip"),Nr("onShow",de),Nr("onHide",de),Nr("onSetup",function(){return de})]),qR=function(e){return fr("sidebar",GR,e)},KR=function(e){var t=e.ui.registry.getAll().sidebars;Le(pn(t),function(n){var a=t[n],i=function(){return g.from(e.queryCommandValue("ToggleSidebar")).is(n)};e.ui.registry.addToggleButton(n,{icon:a.icon,tooltip:a.tooltip,onAction:function(c){e.execCommand("ToggleSidebar",!1,n),c.setActive(i())},onSetup:function(c){var s=function(){return c.setActive(i())};return e.on("ToggleSidebar",s),function(){e.off("ToggleSidebar",s)}}})})},XR=function(e){return{element:function(){return e.element.dom}}},YR=function(e,t){var n=ne(pn(t),function(a){var i=t[a],c=Co(qR(i));return{name:a,getApi:XR,onSetup:c.onSetup,onShow:c.onShow,onHide:c.onHide}});return ne(n,function(a){var i=xt(de);return e.slot(a.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:B0.unnamedEvents([Vg(a,i),Ug(a,i),Ze(Gf(),function(c,s){var v=s.event,d=ve(n,function(h){return h.name===v.name});d.each(function(h){var y=v.visible?h.onShow:h.onHide;y(h.getApi(c))})})])})})},JR=function(e){return pc.sketch(function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:YR(t,e),slotBehaviours:B0.unnamedEvents([na(function(n){return pc.hideAllSlots(n)})])}})},ZR=function(e,t){var n=nr.getCurrent(e);n.each(function(a){return Mn.set(a,[JR(t)])})},QR=function(e,t){var n=nr.getCurrent(e);n.each(function(a){var i=nr.getCurrent(a);i.each(function(c){Lu.hasGrown(a)?pc.isShowing(c,t)?Lu.shrink(a):(pc.hideAllSlots(c),pc.showSlot(c,t)):(pc.hideAllSlots(c),pc.showSlot(c,t),Lu.grow(a))})})},e9=function(e){var t=nr.getCurrent(e);return t.bind(function(n){var a=Lu.isGrowing(n)||Lu.hasGrown(n);if(a){var i=nr.getCurrent(n);return i.bind(function(c){return ve(pc.getSlotNames(c),function(s){return pc.isShowing(c,s)})})}else return g.none()})},$3=sn("FixSizeEvent"),R3=sn("AutoSizeEvent"),t9=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:lt([ba.config({}),An.config({}),Lu.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){var n=nr.getCurrent(t);n.each(pc.hideAllSlots),ur(t,R3)},onGrown:function(t){ur(t,R3)},onStartGrow:function(t){Cn(t,$3,{width:la(t.element,"width").getOr("")})},onStartShrink:function(t){Cn(t,$3,{width:Oo(t.element)+"px"})}}),Mn.config({}),nr.config({find:function(t){var n=Mn.contents(t);return $e(n)}})])}],behaviours:lt([Hu.childAt(0),Bn("sidebar-sliding-events",[Ze($3,function(t,n){Ln(t.element,"width",n.event.width)}),Ze(R3,function(t,n){Ur(t.element,"width")})])])}},n9=function(e){var t=e.dom.attributes!==void 0?e.dom.attributes:[];return z(t,function(n,a){var i;return a.name==="class"?n:G(G({},n),(i={},i[a.name]=a.value,i))},{})},r9=function(e){return Array.prototype.slice.call(e.dom.classList,0)},rl=function(e){var t=Rt.fromHtml(e),n=Pi(t),a=n9(t),i=r9(t),c=n.length===0?{}:{innerHtml:om(t)};return G({tag:Di(t),classes:i,attributes:a},c)},a9=function(e){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:rl('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:lt([wn.config({mode:"special",onTab:function(){return g.some(!0)},onShiftTab:function(){return g.some(!0)}}),An.config({})])}},o9=function(e,t,n){var a=e.element;t===!0?(Mn.set(e,[a9(n)]),Ur(a,"display"),Lo(a,"aria-hidden")):(Mn.set(e,[]),Ln(a,"display","none"),sr(a,"aria-hidden","true"))},i9=function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:lt([Mn.config({})]),components:[]}},u9=function(e,t,n){var a=xt(!1),i=xt(g.none()),c=function(s){s!==a.get()&&(o9(t(),s,n.providers),a.set(s),e.fire("AfterProgressState",{state:s}))};e.on("ProgressState",function(s){if(i.get().each(Bu.clearTimeout),Bt(s.time)){var v=Bu.setEditorTimeout(e,function(){return c(s.state)},s.time);i.set(g.some(v))}else c(s.state),i.set(g.none())})},c9=function(e,t,n){var a={getSocket:function(i){return ni.getPart(i,e,"socket")},setSidebar:function(i,c){ni.getPart(i,e,"sidebar").each(function(s){return ZR(s,c)})},toggleSidebar:function(i,c){ni.getPart(i,e,"sidebar").each(function(s){return QR(s,c)})},whichSidebar:function(i){return ni.getPart(i,e,"sidebar").bind(e9).getOrNull()},getHeader:function(i){return ni.getPart(i,e,"header")},getToolbar:function(i){return ni.getPart(i,e,"toolbar")},setToolbar:function(i,c){ni.getPart(i,e,"toolbar").each(function(s){s.getApis().setGroups(s,c)})},setToolbars:function(i,c){ni.getPart(i,e,"multiple-toolbar").each(function(s){j5.setItems(s,c)})},refreshToolbar:function(i){var c=ni.getPart(i,e,"toolbar");c.each(function(s){return s.getApis().refresh(s)})},toggleToolbarDrawer:function(i){ni.getPart(i,e,"toolbar").each(function(c){Bw(c.getApis().toggle,function(s){return s(c)})})},isToolbarDrawerToggled:function(i){return ni.getPart(i,e,"toolbar").bind(function(c){return g.from(c.getApis().isOpen).map(function(s){return s(c)})}).getOr(!1)},getThrobber:function(i){return ni.getPart(i,e,"throbber")},focusToolbar:function(i){var c=ni.getPart(i,e,"toolbar").orThunk(function(){return ni.getPart(i,e,"multiple-toolbar")});c.each(function(s){wn.focusIn(s)})},setMenubar:function(i,c){ni.getPart(i,e,"menubar").each(function(s){B3.setMenus(s,c)})},focusMenubar:function(i){ni.getPart(i,e,"menubar").each(function(c){B3.focus(c)})}};return{uid:e.uid,dom:e.dom,components:t,apis:a,behaviours:e.behaviours}},s9=Cf.optional({factory:B3,name:"menubar",schema:[q("backstage")]}),l9=function(e){return e.type===Ci.sliding?MB:e.type===Ci.floating?EB:vb},f9=Cf.optional({factory:{sketch:function(e){return j5.sketch({uid:e.uid,dom:e.dom,listBehaviours:lt([wn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return vb({type:e.type,uid:sn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return e.onEscape(),g.some(!0)}})},setupItem:function(t,n,a,i){Iu.setGroups(n,a)},shell:!0})}},name:"multiple-toolbar",schema:[q("dom"),q("onEscape")]}),v9=Cf.optional({factory:{sketch:function(e){var t=l9(e),n={type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),g.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(n)}},name:"toolbar",schema:[q("dom"),q("onEscape"),q("getSink")]}),d9=Cf.optional({factory:{sketch:LR},name:"header",schema:[q("dom")]}),m9=Cf.optional({name:"socket",schema:[q("dom")]}),g9=Cf.optional({factory:{sketch:t9},name:"sidebar",schema:[q("dom")]}),h9=Cf.optional({factory:{sketch:i9},name:"throbber",schema:[q("dom")]}),va=wo({name:"OuterContainer",factory:c9,configFields:[q("dom"),q("behaviours")],partFields:[d9,s9,v9,f9,m9,g9,h9],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var a=ne(n,function(i){return fb(i)});e.setToolbar(t,a)},setToolbars:function(e,t,n){var a=ne(n,function(i){return ne(i,fb)});e.setToolbars(t,a)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},toggleToolbarDrawer:function(e,t){e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:function(e,t){return e.isToolbarDrawerToggled(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),p9="file edit view insert format tools table help",H3={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},b9=function(e,t,n){var a=P8(n).split(/[ ,]/);return{text:e.title,getItems:function(){return Dt(e.items,function(i){var c=i.toLowerCase();return c.trim().length===0?[]:Ot(a,function(s){return s===c})?[]:c==="separator"||c==="|"?[{type:"separator"}]:t.menuItems[c]?[t.menuItems[c]]:[]})}}},I3=function(e){return typeof e=="string"?e.split(" "):e},cO=function(e,t){var n=G(G({},H3),t.menus),a=pn(t.menus).length>0,i=t.menubar===void 0||t.menubar===!0?I3(p9):I3(t.menubar===!1?"":t.menubar),c=Y(i,function(v){return a&&t.menus.hasOwnProperty(v)&&t.menus[v].hasOwnProperty("items")||H3.hasOwnProperty(v)}),s=ne(c,function(v){var d=n[v];return b9({title:d.title,items:I3(d.items)},t,e)});return Y(s,function(v){var d=function(h){return h.type!=="separator"};return v.getItems().length>0&&Ot(v.getItems(),d)})},sO=function(e){var t=function(){e._skinLoaded=!0,TE(e)};return function(){e.initialized?t():e.on("init",t)}},y9=function(e,t){return function(){return kE(e,{message:t})}},lO=function(e,t,n){return new Bg(function(a,i){n.load(t,a,i),e.on("remove",function(){return n.unload(t)})})},w9=function(e,t){var n=t+"/skin.min.css";return lO(e,n,e.ui.styleSheetLoader)},x9=function(e,t){var n=Hb(Rt.fromDom(e.getElement()));if(n){var a=t+"/skin.shadowdom.min.css";return lO(e,a,Lg.DOM.styleSheetLoader)}else return Bg.resolve()},fO=function(e,t){var n=A8(t);n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),M8(t)===!1&&wt(n)?Bg.all([w9(t,n),x9(t,n)]).then(sO(t),y9(t,"Skin could not be loaded")):sO(t)()},S9=nn(fO,!1),C9=nn(fO,!0),vO=function(e,t,n,a){var i=t.outerContainer,c=n.toolbar,s=n.buttons;if(Xe(c,wt)){var v=c.map(function(d){var h={toolbar:d,buttons:s,allowToolbarGroups:n.allowToolbarGroups};return gb(e,h,{backstage:a},g.none())});va.setToolbars(i,v)}else va.setToolbar(i,gb(e,n,{backstage:a},g.none()))},dO=Ro(),T9=dO.os.isiOS()&&dO.os.version.major<=12,k9=function(e,t){var n=e.dom,a=e.getWin(),i=e.getDoc().documentElement,c=xt(ra(a.innerWidth,a.innerHeight)),s=xt(ra(i.offsetWidth,i.offsetHeight)),v=function(){var S=c.get();(S.left!==a.innerWidth||S.top!==a.innerHeight)&&(c.set(ra(a.innerWidth,a.innerHeight)),SS(e))},d=function(){var S=e.getDoc().documentElement,D=s.get();(D.left!==S.offsetWidth||D.top!==S.offsetHeight)&&(s.set(ra(S.offsetWidth,S.offsetHeight)),SS(e))},h=function(S){return AE(e,S)};n.bind(a,"resize",v),n.bind(a,"scroll",h);var y=U0(Rt.fromDom(e.getBody()),"load",d),x=t.uiMothership.element;e.on("hide",function(){Ln(x,"display","none")}),e.on("show",function(){Ur(x,"display")}),e.on("NodeChange",d),e.on("remove",function(){y.unbind(),n.unbind(a,"resize",v),n.unbind(a,"scroll",h),a=null})},O9=function(e,t,n,a,i){var c=xt(0),s=t.outerContainer;S9(e);var v=Rt.fromDom(i.targetNode),d=ev(Va(v));G2(v,t.mothership),qm(d,t.uiMothership),e.on("PostRender",function(){vO(e,t,n,a),c.set(e.getWin().innerWidth),va.setMenubar(s,cO(e,n)),va.setSidebar(s,n.sidebar),k9(e,t)});var h=va.getSocket(s).getOrDie("Could not find expected socket element");if(T9){As(h.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var y=LA(function(){e.fire("ScrollContent")},20),x=iu(h.element,"scroll",y.throttle);e.on("remove",x.unbind)}aC(e,t),e.addCommand("ToggleSidebar",function(R,J){va.toggleSidebar(s,J),e.fire("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",function(){return va.whichSidebar(s)});var S=Ng(e),D=function(){va.refreshToolbar(t.outerContainer)};(S===Ci.sliding||S===Ci.floating)&&e.on("ResizeWindow ResizeEditor ResizeContent",function(){var R=e.getWin().innerWidth;R!==c.get()&&(D(),c.set(R))});var B={enable:function(){fd(t,!1)},disable:function(){fd(t,!0)},isDisabled:function(){return Tn.isDisabled(s)}};return{iframeContainer:h.element.dom,editorContainer:s.element.dom,api:B}},A9=Object.freeze({__proto__:null,render:O9}),L3=function(e){var t=/^[0-9\.]+(|px)$/i;return t.test(""+e)?g.some(parseInt(""+e,10)):g.none()},N3=function(e){return Bt(e)?e+"px":e},hb=function(e,t,n){var a=t.filter(function(c){return e<c}),i=n.filter(function(c){return e>c});return a.or(i).getOr(e)},E9=function(e){var t=q4(e),n=Y4(e),a=J4(e);return L3(t).map(function(i){return hb(i,n,a)})},M9=function(e){var t=E9(e);return t.getOr(q4(e))},mO=function(e){var t=K4(e),n=X4(e),a=dS(e);return L3(t).map(function(i){return hb(i,n,a)})},_9=function(e){var t=mO(e);return t.getOr(K4(e))},D9=function(e,t,n,a,i){var c=n.uiMothership,s=n.outerContainer,v=Lg.DOM,d=R0(e),h=H0(e),y=dS(e).or(mO(e)),x=a.shared.header,S=x.isPositionedAtTop,D=Ng(e),B=D===Ci.sliding||D===Ci.floating,R=xt(!1),J=function(){return R.get()&&!e.removed},I=function(He){return B?He.fold(function(){return 0},function(Ge){return Ge.components().length>1?ho(Ge.components()[1].element):0}):0},re=function(He){switch(Q4(e)){case vf.auto:var Ge=va.getToolbar(s),qt=I(Ge),xn=ho(He.element)-qt,ft=li(t),un=ft.y>xn;if(un)return"top";var hn=Zd(t),Zn=Math.max(hn.dom.scrollHeight,ho(hn)),Or=ft.bottom<Zn-xn;if(Or)return"bottom";var aa=qa(),Ni=aa.bottom<ft.bottom-xn;return Ni?"bottom":"top";case vf.bottom:return"bottom";case vf.top:default:return"top"}},le=function(He){var Ge=i.get();_o.setModes(Ge,[He]),x.setDockingMode(He);var qt=S()?Eu.TopToBottom:Eu.BottomToTop;sr(Ge.element,Rm,qt)},Fe=function(){var He=y.getOrThunk(function(){var Ge=L3(bi(Tu(),"margin-left")).getOr(0);return Oo(Tu())-ku(t).left+Ge});Ln(i.get().element,"max-width",He+"px")},Te=function(){var He=va.getToolbar(s),Ge=I(He),qt=li(t),xn=S()?Math.max(qt.y-ho(i.get().element)+Ge,0):qt.bottom;As(s.element,{position:"absolute",top:Math.round(xn)+"px",left:Math.round(qt.x)+"px"})},De=function(){c.broadcastOn([Du()],{})},Ae=function(He){if(He===void 0&&(He=!1),!!J()){if(d||Fe(),B&&va.refreshToolbar(s),d||Te(),h){var Ge=i.get();He?_o.reset(Ge):_o.refresh(Ge)}De()}},tt=function(He){if(He===void 0&&(He=!0),!(d||!h||!J())){var Ge=x.getDockingMode(),qt=re(i.get());qt!==Ge&&(le(qt),He&&Ae(!0))}},tn=function(){R.set(!0),Ln(s.element,"display","flex"),v.addClass(e.getBody(),"mce-edit-focus"),Ur(c.element,"display"),tt(!1),Ae()},_t=function(){R.set(!1),n.outerContainer&&(Ln(s.element,"display","none"),v.removeClass(e.getBody(),"mce-edit-focus")),Ln(c.element,"display","none")};return{isVisible:J,isPositionedAtTop:S,show:tn,hide:_t,update:Ae,updateMode:tt,repositionPopups:De}},gO=function(e,t){var n=li(e);return{pos:t?n.y:n.bottom,bounds:n}},F9=function(e,t,n,a){var i=xt(gO(t,n.isPositionedAtTop())),c=function(v){var d=gO(t,n.isPositionedAtTop()),h=d.pos,y=d.bounds,x=i.get(),S=x.pos,D=x.bounds,B=y.height!==D.height||y.width!==D.width;i.set({pos:h,bounds:y}),B&&SS(e,v),n.isVisible()&&(S!==h?n.update(!0):B&&(n.updateMode(),n.repositionPopups()))};a||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",function(){return n.update(!0)}),e.on("NodeChange keydown",function(v){Bu.requestAnimationFrame(function(){return c(v)})}),e.on("ScrollWindow",function(){return n.updateMode()});var s=R5();s.set(U0(Rt.fromDom(e.getBody()),"load",c)),e.on("remove",function(){s.clear()})},P9=function(e,t,n,a,i){var c=t.mothership,s=t.uiMothership,v=t.outerContainer,d=xt(null),h=Rt.fromDom(i.targetNode),y=D9(e,h,t,a,d),x=R8(e);C9(e);var S=function(){if(d.get()){y.show();return}d.set(va.getHeader(v).getOrDie());var R=nC(e);qm(R,c),qm(R,s),vO(e,t,n,a),va.setMenubar(v,cO(e,n)),y.show(),F9(e,h,y,x),e.nodeChanged()},D=function(){return Bu.setEditorTimeout(e,S,0)};e.on("show",S),e.on("hide",y.hide),x||(e.on("focus",D),e.on("blur",y.hide)),e.on("init",function(){(e.hasFocus()||x)&&D()}),aC(e,t);var B={show:function(){y.show()},hide:function(){y.hide()},enable:function(){fd(t,!1)},disable:function(){fd(t,!0)},isDisabled:function(){return Tn.isDisabled(v)}};return{editorContainer:v.element.dom,api:B}},z9=Object.freeze({__proto__:null,render:P9}),B9=function(e){var t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Mo.each(t,function(a){e.ui.registry.addToggleButton(a.name,{tooltip:a.text,onAction:function(){return e.execCommand(a.cmd)},icon:a.icon,onSetup:mb(e,a.name)})});var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};e.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return e.execCommand(n.cmd)},icon:n.icon})},$9=function(e,t){T$(e,t),M$(e,t),U$(e,t),N$(e,t),R$(e,t)},R9=function(e,t){e.setDisabled(!t.queryCommandState("outdent"));var n=function(){e.setDisabled(!t.queryCommandState("outdent"))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},H9=function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(t){return R9(t,e)},onAction:function(){return e.execCommand("outdent")}}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return e.execCommand("indent")}})},I9=function(e){H9(e)},L9={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},N9=function(){var e="[0-9]+",t="[+-]?"+e,n="[eE]"+t,a="\\.",i=function(v){return"(?:"+v+")?"},c=["Infinity",e+a+i(e)+i(n),a+e+i(n),e+i(n)].join("|"),s="[+-]?(?:"+c+")";return new RegExp("^("+s+")(.*)$")}(),V9=function(e,t){return Ot(t,function(n){return Ot(L9[n],function(a){return e===a})})},U9=function(e,t){var n=g.from(N9.exec(e));return n.bind(function(a){var i=Number(a[1]),c=a[2];return V9(c,t)?g.some({value:i,unit:c}):g.none()})},W9=function(e,t){return U9(e,t).map(function(n){var a=n.value,i=n.unit;return a+i})},hO=function(e){return W9(e,["fixed","relative","empty"]).getOr(e)},pO=function(e){var t=F8(e),n=new Map,a=$5(),i=function(){var c=hO(e.queryCommandValue("LineHeight"));g.from(n.get(c)).fold(function(){return a.clear()},function(s){a.set({destroy:function(){s.setActive(!1)}}),s.setActive(!0)})};return e.on("nodeChange",i),ne(t,function(c,s){return{type:"togglemenuitem",text:c,onSetup:function(v){return n.set(hO(c),v),s+1===t.length&&i(),function(){s===0&&(e.off("nodeChange",i),a.clear())}},onAction:function(){return e.execCommand("LineHeight",!1,c)}}})},j9=function(e){e.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return pO(e)}})},G9=function(e){e.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(t){return t(pO(e))}})},q9=function(e){j9(e),G9(e)},V3=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},K9=function(e){Mo.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(a,i){e.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onSetup:mb(e,a.name),onAction:V3(e,a.name)})});for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:mb(e,n),onAction:V3(e,n)})}},X9=function(e){Mo.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)}})})},Y9=function(e){Mo.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)},onSetup:mb(e,t.name)})})},J9=function(e){K9(e),X9(e),Y9(e)},Z9=function(e){Mo.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})}),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:V3(e,"code")})},Q9=function(e){J9(e),Z9(e)},pb=function(e,t,n){var a=function(){return t.undoManager?t.undoManager[n]():!1},i=function(){e.setDisabled(t.mode.isReadOnly()||!a())};return e.setDisabled(!a()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i)}},eH=function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return pb(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return pb(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},tH=function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return pb(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return pb(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},nH=function(e){eH(e),tH(e)},rH=function(e,t){e.setActive(t.hasVisual);var n=function(a){e.setActive(a.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}},aH=function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return rH(t,e)},onAction:function(){e.execCommand("mceToggleVisualAid")}})},oH=function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}})},iH=function(e){oH(e),aH(e)},uH=function(e,t){B9(e),Q9(e),$9(e,t),nH(e),NE(e),iH(e),I9(e),q9(e)},uh=function(e,t){return{anchor:"makeshift",x:e,y:t}},cH=function(e,t,n){return uh(e.x+t,e.y+n)},bO=function(e){return e.type==="longpress"||e.type.indexOf("touch")===0},sH=function(e){if(bO(e)){var t=e.touches[0];return uh(t.pageX,t.pageY)}else return uh(e.pageX,e.pageY)},lH=function(e){if(bO(e)){var t=e.touches[0];return uh(t.clientX,t.clientY)}else return uh(e.clientX,e.clientY)},fH=function(e,t){var n=Lg.DOM.getPos(e);return cH(t,n.x,n.y)},yO=function(e,t){return t.type==="contextmenu"||t.type==="longpress"?e.inline?sH(t):fH(e.getContentAreaContainer(),lH(t)):vH(e)},vH=function(e){return{anchor:"selection",root:Rt.fromDom(e.selection.getNode())}},wO=function(e){return{anchor:"node",node:g.some(Rt.fromDom(e.selection.getNode())),root:Rt.fromDom(e.getBody())}},dH=function(e,t,n,a,i,c){var s=n(),v=c?wO(e):yO(e,t);xd(s,$u.CLOSE_ON_EXECUTE,a,!1).map(function(d){t.preventDefault(),fa.showMenuAt(i,v,{menu:{markers:sd("normal")},data:d})})},mH={onLtr:function(){return[Ja,Xa,Ya,ao,po,Vo,Qc,ff,sf,ud,lf,cd]},onRtl:function(){return[Ja,Ya,Xa,po,ao,Vo,Qc,ff,lf,cd,sf,ud]}},gH=12,hH={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},pH=function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var a=t.touches[0],i=n.getRng(),c=Vm(e.getWin(),Vl.domRange(i));return c.exists(function(s){return s.left<=a.clientX&&s.right>=a.clientX&&s.top<=a.clientY&&s.bottom>=a.clientY})},bH=function(e,t){return G({bubble:Bs(0,gH,hH),layouts:mH,overrides:{maxWidthFunction:p3(),maxHeightFunction:Cv()}},yO(e,t))},yH=function(e){var t=e.selection.getRng(),n=function(){Bu.setEditorTimeout(e,function(){e.selection.setRng(t)},10),c()};e.once("touchend",n);var a=function(s){s.preventDefault(),s.stopImmediatePropagation()};e.on("mousedown",a,!0);var i=function(){return c()};e.once("longpresscancel",i);var c=function(){e.off("touchend",n),e.off("longpresscancel",i),e.off("mousedown",a)}},wH=function(e,t,n,a,i,c,s){var v=c?wO(e):bH(e,t);xd(n,$u.CLOSE_ON_EXECUTE,a,!0).map(function(d){t.preventDefault(),fa.showMenuWithinBounds(i,v,{menu:{markers:sd("normal"),highlightImmediately:s},data:d,type:"horizontal"},function(){return g.some(A5(e,a.shared))}),e.fire(Qk)})},xH=function(e,t,n,a,i,c){var s=Ro(),v=s.os.isiOS(),d=s.os.isOSX(),h=s.os.isAndroid(),y=s.deviceType.isTouch(),x=function(){return!(h||v||d&&y)},S=function(){var B=n();wH(e,t,B,a,i,c,x())};if((d||v)&&!c){var D=function(){yH(e),S()};pH(e,t)?D():(e.once("selectionchange",D),e.once("touchend",function(){return e.off("selectionchange",D)}))}else h&&!c&&e.selection.setCursorLocation(t.target,0),S()},xO=function(e){return typeof e=="string"?e.split(/[ ,]/):e},SO=function(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")},SH=function(e,t,n){var a=e.ui.registry.getAll().contextMenus;return g.from(e.getParam(t)).map(xO).getOrThunk(function(){return Y(xO(n),function(i){return Cr(a,i)})})},CH=function(e){return e.getParam("contextmenu")===!1},TH=function(e){return SH(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},kH=function(e){return e.getParam("contextmenu_avoid_overlap","","string")},CO=function(e){return wt(e)?e==="|":e.type==="separator"},U3={type:"separator"},TO=function(e){var t=function(n){return{text:n.text,icon:n.icon,disabled:n.disabled,shortcut:n.shortcut}};if(wt(e))return e;switch(e.type){case"separator":return U3;case"submenu":return G(G({type:"nestedmenuitem"},t(e)),{getSubmenuItems:function(){var n=e.getSubmenuItems();return wt(n)?n:ne(n,TO)}});default:return G(G({type:"menuitem"},t(e)),{onAction:st(e.onAction)})}},kO=function(e,t){if(t.length===0)return e;var n=ct(e).filter(function(i){return!CO(i)}),a=n.fold(function(){return[]},function(i){return[U3]});return e.concat(a).concat(t).concat([U3])},OH=function(e,t,n){var a=z(t,function(i,c){return Zt(e,c.toLowerCase()).map(function(s){var v=s.update(n);if(wt(v))return kO(i,v.split(" "));if(v.length>0){var d=ne(v,TO);return kO(i,d)}else return i}).getOrThunk(function(){return i.concat([c])})},[]);return a.length>0&&CO(a[a.length-1])&&a.pop(),a},AH=function(e,t){return t.ctrlKey&&!SO(e)},OO=function(e,t){return t.type!=="longpress"&&(t.button!==2||t.target===e.getBody()&&t.pointerType==="")},AO=function(e,t){return OO(e,t)?e.selection.getStart(!0):t.target},EH=function(e,t){var n=kH(e);if(OO(e,t))return!0;if(n){var a=AO(e,t);return qg(Rt.fromDom(a),n)}else return!1},MH=function(e,t,n){var a=Ro(),i=a.deviceType.isTouch,c=go(fa.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:lt([Bn("dismissContextMenu",[Ze(xs(),function(d,h){Yn.close(d),e.focus()})])])})),s=function(d){return fa.hide(c)},v=function(d){if(SO(e)&&d.preventDefault(),!(AH(e,d)||CH(e))){var h=EH(e,d),y=function(){var S=AO(e,d),D=e.ui.registry.getAll(),B=TH(e);return OH(D.contextMenus,B,S)},x=i()?xH:dH;x(e,d,y,n,c,h)}};e.on("init",function(){var d="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(i()?"":" ResizeWindow");e.on(d,s),e.on("longpress contextmenu",v)})},W3=xr.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),bb=function(e){return function(t){return t.translate(-e.left,-e.top)}},yb=function(e){return function(t){return t.translate(e.left,e.top)}},rs=function(e){return function(t,n){return z(e,function(a,i){return i(a)},ra(t,n))}},wb=function(e,t,n){return e.fold(rs([yb(n),bb(t)]),rs([bb(t)]),rs([]))},Ed=function(e,t,n){return e.fold(rs([yb(n)]),rs([]),rs([yb(t)]))},EO=function(e,t,n){return e.fold(rs([]),rs([bb(n)]),rs([yb(t),bb(n)]))},_H=function(e,t,n,a,i,c){var s=Ed(e,i,c),v=Ed(t,i,c);return Math.abs(s.left-v.left)<=n&&Math.abs(s.top-v.top)<=a},DH=function(e,t,n,a,i,c){var s=Ed(e,i,c),v=Ed(t,i,c),d=Math.abs(s.left-v.left),h=Math.abs(s.top-v.top);return ra(d,h)},MO=function(e,t,n){var a=e.fold(function(i,c){return{position:g.some("absolute"),left:g.some(i+"px"),top:g.some(c+"px")}},function(i,c){return{position:g.some("absolute"),left:g.some(i-n.left+"px"),top:g.some(c-n.top+"px")}},function(i,c){return{position:g.some("fixed"),left:g.some(i+"px"),top:g.some(c+"px")}});return G({right:g.none(),bottom:g.none()},a)},FH=function(e,t,n){return e.fold(function(a,i){return xb(a+t,i+n)},function(a,i){return al(a+t,i+n)},function(a,i){return Tf(a+t,i+n)})},j3=function(e,t,n,a){var i=function(c,s){return function(v,d){var h=c(t,n,a);return s(v.getOr(h.left),d.getOr(h.top))}};return e.fold(i(EO,xb),i(Ed,al),i(wb,Tf))},xb=W3.offset,al=W3.absolute,Tf=W3.fixed,_O=function(e,t){var n=mo(e,t);return Ye(n)?NaN:parseInt(n,10)},PH=function(e,t){var n=e.element,a=_O(n,t.leftAttr),i=_O(n,t.topAttr);return isNaN(a)||isNaN(i)?g.none():g.some(ra(a,i))},zH=function(e,t,n){var a=e.element;sr(a,t.leftAttr,n.left+"px"),sr(a,t.topAttr,n.top+"px")},BH=function(e,t){var n=e.element;Lo(n,t.leftAttr),Lo(n,t.topAttr)},$H=function(e,t,n,a){return PH(e,t).fold(function(){return n},function(i){return Tf(i.left+a.left,i.top+a.top)})},RH=function(e,t,n,a,i,c){var s=$H(e,t,n,a),v=t.mustSnap?IH(e,t,s,i,c):LH(e,t,s,i,c),d=wb(s,i,c);return zH(e,t,d),v.fold(function(){return{coord:Tf(d.left,d.top),extra:g.none()}},function(h){return{coord:h.output,extra:h.extra}})},HH=function(e,t){BH(e,t)},DO=function(e,t,n,a){return dt(e,function(i){var c=i.sensor,s=_H(t,c,i.range.left,i.range.top,n,a);return s?g.some({output:j3(i.output,t,n,a),extra:i.extra}):g.none()})},IH=function(e,t,n,a,i){var c=t.getSnapPoints(e),s=DO(c,n,a,i);return s.orThunk(function(){var v=z(c,function(d,h){var y=h.sensor,x=DH(n,y,h.range.left,h.range.top,a,i);return d.deltas.fold(function(){return{deltas:g.some(x),snap:g.some(h)}},function(S){var D=(x.left+x.top)/2,B=(S.left+S.top)/2;return D<=B?{deltas:g.some(x),snap:g.some(h)}:d})},{deltas:g.none(),snap:g.none()});return v.snap.map(function(d){return{output:j3(d.output,n,a,i),extra:d.extra}})})},LH=function(e,t,n,a,i){var c=t.getSnapPoints(e);return DO(c,n,a,i)},NH=function(e,t,n){return{coord:j3(e.output,e.output,t,n),extra:e.extra}},VH=function(e,t,n,a){var i=t.getTarget(e.element);if(t.repositionTarget){var c=Fi(e.element),s=Zi(c),v=K5(i),d=NH(a,s,v),h=MO(d.coord,s,v);Al(i,h)}},UH=Object.freeze({__proto__:null,snapTo:VH}),G3="data-initial-z-index",WH=function(e){Ho(e.element).filter(qu).each(function(t){Ec(t,G3).fold(function(){return Ur(t,"z-index")},function(n){return Ln(t,"z-index",n)}),Lo(t,G3)})},jH=function(e){Ho(e.element).filter(qu).each(function(t){la(t,"z-index").each(function(n){sr(t,G3,n)}),Ln(t,"z-index",bi(e.element,"z-index"))})},FO=function(e,t){e.getSystem().addToGui(t),jH(t)},GH=function(e){WH(e),e.getSystem().removeFromGui(e)},PO=function(e,t,n){return e.getSystem().build(xo.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},qH=ja("snaps",[q("getSnapPoints"),vr("onSensor"),q("leftAttr"),q("topAttr"),me("lazyViewport",qa),me("mustSnap",!1)]),q3=[me("useFixed",Vt),q("blockerClass"),me("getTarget",_e),me("onDrag",de),me("repositionTarget",!0),me("onDrop",de),Nr("getBounds",qa),qH],KH=function(e){return cc(la(e,"left"),la(e,"top"),la(e,"position"),function(t,n,a){var i=a==="fixed"?Tf:xb;return i(parseInt(t,10),parseInt(n,10))}).getOrThunk(function(){var t=ku(e);return al(t.left,t.top)})},XH=function(e,t,n,a,i){var c=i.bounds,s=Ed(t,n,a),v=tu(s.left,c.x,c.x+c.width-i.width),d=tu(s.top,c.y,c.y+c.height-i.height),h=al(v,d);return t.fold(function(){var y=EO(h,n,a);return xb(y.left,y.top)},function(){return h},function(){var y=wb(h,n,a);return Tf(y.left,y.top)})},YH=function(e,t,n,a,i,c,s){var v=t.fold(function(){var d=FH(n,c.left,c.top),h=wb(d,a,i);return Tf(h.left,h.top)},function(d){var h=RH(e,d,n,c,a,i);return h.extra.each(function(y){d.onSensor(e,y)}),h.coord});return XH(e,v,a,i,s)},JH=function(e,t,n,a){var i=t.getTarget(e.element);if(t.repositionTarget){var c=Fi(e.element),s=Zi(c),v=K5(i),d=KH(i),h=YH(e,t.snaps,d,s,v,a,n),y=MO(h,s,v);Al(i,y)}t.onDrag(e,i,a)},zO=function(e,t){return{bounds:e.getBounds(),height:Fc(t.element),width:Pc(t.element)}},K3=function(e,t,n,a,i){var c=n.update(a,i),s=n.getStartData().getOrThunk(function(){return zO(t,e)});c.each(function(v){JH(e,t,s,v)})},Sb=function(e,t,n,a){t.each(GH),n.snaps.each(function(c){HH(e,c)});var i=n.getTarget(e.element);a.reset(),n.onDrop(e,i)},X3=function(e){return function(t,n){var a=function(i){n.setStartData(zO(t,i))};return cr(Ue([Ze(pl(),function(i){n.getStartData().each(function(){return a(i)})})],e(t,n,a)))}},ZH=function(e){return cr([Ze(hi(),e.forceDrop),Ze(Lf(),e.drop),Ze(hs(),function(t,n){e.move(n.event)}),Ze(ps(),e.delayDrop)])},QH=function(e){return g.from(ra(e.x,e.y))},eI=function(e,t){return ra(t.left-e.left,t.top-e.top)},tI=Object.freeze({__proto__:null,getData:QH,getDelta:eI}),BO=function(e,t,n){return[Ze(hi(),function(a,i){var c=i.event.raw;if(c.button===0){i.stop();var s=function(){return Sb(a,g.some(h),e,t)},v=LC(s,200),d={drop:s,delayDrop:v.schedule,forceDrop:s,move:function(x){v.cancel(),K3(a,e,t,tI,x)}},h=PO(a,e.blockerClass,ZH(d)),y=function(){n(a),FO(a,h)};y()}})]},nI=Ue(q3,[Ir("dragger",{handlers:X3(BO)})]),rI=function(e){return cr([Ze(Hn(),e.forceDrop),Ze(Xr(),e.drop),Ze(If(),e.drop),Ze($r(),function(t,n){e.move(n.event)})])},aI=function(e){var t=e[0];return g.some(ra(t.clientX,t.clientY))},oI=function(e){var t=e.raw,n=t.touches;return n.length===1?aI(n):g.none()},iI=function(e,t){return ra(t.left-e.left,t.top-e.top)},$O=Object.freeze({__proto__:null,getData:oI,getDelta:iI}),RO=function(e,t,n){var a=xt(g.none());return[Ze(Hn(),function(i,c){c.stop();var s=function(){Sb(i,a.get(),e,t),a.set(g.none())},v={drop:s,delayDrop:de,forceDrop:s,move:function(y){K3(i,e,t,$O,y)}},d=PO(i,e.blockerClass,rI(v));a.set(g.some(d));var h=function(){n(i),FO(i,d)};h()}),Ze($r(),function(i,c){c.stop(),K3(i,e,t,$O,c.event)}),Ze(Xr(),function(i,c){c.stop(),Sb(i,a.get(),e,t),a.set(g.none())}),Ze(If(),function(i){Sb(i,a.get(),e,t),a.set(g.none())})]},uI=Ue(q3,[Ir("dragger",{handlers:X3(RO)})]),cI=function(e,t,n){return Ue(BO(e,t,n),RO(e,t,n))},sI=Ue(q3,[Ir("dragger",{handlers:X3(cI)})]),lI=nI,fI=uI,vI=sI,dI=Object.freeze({__proto__:null,mouse:lI,touch:fI,mouseOrTouch:vI}),mI=function(){var e=g.none(),t=g.none(),n=function(){e=g.none(),t=g.none()},a=function(d,h){var y=e.map(function(x){return d.getDelta(x,h)});return e=g.some(h),y},i=function(d,h){return d.getData(h).bind(function(y){return a(d,y)})},c=function(d){t=g.some(d)},s=function(){return t},v=$({});return ci({readState:v,reset:n,update:i,getStartData:s,setStartData:c})},gI=Object.freeze({__proto__:null,init:mI}),kf=pp({branchKey:"mode",branches:dI,name:"dragging",active:{events:function(e,t){var n=e.dragger;return n.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:g.from(e.extra)}}},state:gI,apis:UH}),Y3=40,Cb=Y3/2,HO=function(e,t,n,a,i,c){return e.fold(function(){return kf.snap({sensor:al(n-Cb,a-Cb),range:ra(i,c),output:al(g.some(n),g.some(a)),extra:{td:t}})},function(s){var v=n-Cb,d=a-Cb,h=Y3,y=Y3,x=s.element.dom.getBoundingClientRect();return kf.snap({sensor:al(v,d),range:ra(h,y),output:al(g.some(n-x.width/2),g.some(a-x.height/2)),extra:{td:t}})})},IO=function(e,t,n){var a=function(i,c){return i.exists(function(s){return wa(s,c)})};return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(i,c){var s=c.td;a(t.get(),s)||(t.set(g.some(s)),n(s))},mustSnap:!0}},LO=function(e){return wr(Go.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:lt([kf.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Qg.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},hI=function(e,t){var n=xt([]),a=xt([]),i=xt(!1),c=xt(g.none()),s=xt(g.none()),v=function(Ae){var tt=ec(Ae);return HO(D.getOpt(t),Ae,tt.x,tt.y,tt.width,tt.height)},d=function(){return ne(n.get(),function(Ae){return v(Ae)})},h=function(Ae){var tt=ec(Ae);return HO(B.getOpt(t),Ae,tt.right,tt.bottom,tt.width,tt.height)},y=function(){return ne(a.get(),function(Ae){return h(Ae)})},x=IO(d,c,function(Ae){s.get().each(function(tt){e.fire("TableSelectorChange",{start:Ae,finish:tt})})}),S=IO(y,s,function(Ae){c.get().each(function(tt){e.fire("TableSelectorChange",{start:tt,finish:Ae})})}),D=LO(x),B=LO(S),R=go(D.asSpec()),J=go(B.asSpec()),I=function(Ae,tt,tn,_t){var He=tt.dom.getBoundingClientRect();Ur(Ae.element,"display");var Ge=Ts(Rt.fromDom(e.getBody())).dom.innerHeight,qt=tn(He),xn=_t(He,Ge);(qt||xn)&&Ln(Ae.element,"display","none")},re=function(Ae,tt,tn,_t){var He=tn(tt);kf.snapTo(Ae,He);var Ge=function(xn){return xn[_t]<0},qt=function(xn,ft){return xn[_t]>ft};I(Ae,tt,Ge,qt)},le=function(Ae){return re(R,Ae,v,"top")},Fe=function(){return c.get().each(le)},Te=function(Ae){return re(J,Ae,h,"bottom")},De=function(){return s.get().each(Te)};Ro().deviceType.isTouch()&&(e.on("TableSelectionChange",function(Ae){i.get()||(uc(t,R),uc(t,J),i.set(!0)),c.set(g.some(Ae.start)),s.set(g.some(Ae.finish)),Ae.otherCells.each(function(tt){n.set(tt.upOrLeftCells),a.set(tt.downOrRightCells),le(Ae.start),Te(Ae.finish)})}),e.on("ResizeEditor ResizeWindow ScrollContent",function(){Fe(),De()}),e.on("TableSelectionClear",function(){i.get()&&(Ic(R),Ic(J),i.set(!1)),c.set(g.none()),s.set(g.none())}))},pI=function(e){return e.nodeType===1&&(e.nodeName==="BR"||!!e.getAttribute("data-mce-bogus")||e.getAttribute("data-mce-type")==="bookmark")},bI=function(e,t,n){t.delimiter||(t.delimiter="\xBB");var a=function(c){var s=c||[],v=ne(s,function(h,y){return Go.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":y,"tab-index":-1,"aria-level":y+1},innerHtml:h.name},action:function(x){e.focus(),e.selection.select(h.element),e.nodeChanged()},buttonBehaviours:lt([ou.button(n.isDisabled),za()])})}),d={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}};return z(v.slice(1),function(h,y){var x=h;return x.push(d),x.push(y),x},[v[0]])},i=function(c){for(var s=[],v=c.length;v-- >0;){var d=c[v];if(d.nodeType===1&&!pI(d)){var h=e.fire("ResolveName",{name:d.nodeName.toLowerCase(),target:d});if(h.isDefaultPrevented()||s.push({name:h.name,element:d}),h.isPropagationStopped())break}}return s};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:lt([wn.config({mode:"flow",selector:"div[role=button]"}),Tn.config({disabled:n.isDisabled}),za(),ba.config({}),Mn.config({}),Bn("elementPathEvents",[na(function(c,s){e.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return wn.focusIn(c)}),e.on("NodeChange",function(v){var d=i(v.parents);d.length>0?Mn.set(c,a(d)):Mn.set(c,[])})})])]),components:[]}},Of;(function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"})(Of||(Of={}));var yI=function(e,t,n,a,i){var c={};return c.height=hb(a+t.top,Y4(e),J4(e)),n===Of.Both&&(c.width=hb(i+t.left,X4(e),dS(e))),c},NO=function(e,t,n){var a=Rt.fromDom(e.getContainer()),i=yI(e,t,n,ho(a),Oo(a));Vn(i,function(c,s){return Ln(a,s,N3(c))}),OE(e)},wI=function(e){var t=!e.hasPlugin("autoresize"),n=e.getParam("resize",t);return n===!1?Of.None:n==="both"?Of.Both:Of.Vertical},Tb=function(e,t,n,a){var i=20,c=ra(n*i,a*i);return NO(e,c,t),g.some(!0)},xI=function(e,t){var n=wI(e);return n===Of.None?g.none():g.some({dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},innerHtml:ei("resize-handle",t.icons)},behaviours:lt([kf.config({mode:"mouse",repositionTarget:!1,onDrag:function(a,i,c){return NO(e,c,n)},blockerClass:"tox-blocker"}),wn.config({mode:"special",onLeft:function(){return Tb(e,n,-1,0)},onRight:function(){return Tb(e,n,1,0)},onUp:function(){return Tb(e,n,0,-1)},onDown:function(){return Tb(e,n,0,1)}}),ba.config({}),An.config({})])})},SI=function(e,t){var n,a=function(i,c,s){return Mn.set(i,[Qu(t.translate(["{0} "+s,c[s]]))])};return Go.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:lt([ou.button(t.isDisabled),za(),ba.config({}),Mn.config({}),zt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Bn("wordcount-events",[Ji(function(i){var c=zt.getValue(i),s=c.mode==="words"?"characters":"words";zt.setValue(i,{mode:s,count:c.count}),a(i,c.count,s)}),na(function(i){e.on("wordCountUpdate",function(c){var s=zt.getValue(i).mode;zt.setValue(i,{mode:s,count:c.wordCount}),a(i,c.wordCount,s)})})])]),eventOrder:(n={},n[To()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})},CI=function(e,t){var n=function(){var c=Li.translate(["Powered by {0}","Tiny"]),s='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+c+'">'+c+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:s}}},a=function(){var c=[];return e.getParam("elementpath",!0,"boolean")&&c.push(bI(e,{},t)),e.hasPlugin("wordcount")&&c.push(SI(e,t)),e.getParam("branding",!0,"boolean")&&c.push(n()),c.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:c}]:[]},i=function(){var c=a(),s=xI(e,t);return c.concat(s.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:i()}},TI=function(e){var t,n=e.inline,a=n?z9:A9,i=H0(e)?IR:lR,c=g.none(),s=Ro(),v=s.browser.isIE(),d=v?["tox-platform-ie"]:[],h=s.deviceType.isTouch(),y="tox-platform-touch",x=h?[y]:[],S=eC(e),D=nC(e),B=Li.isRtl()?{attributes:{dir:"rtl"}}:{},R={attributes:(t={},t[Rm]=S?Eu.BottomToTop:Eu.TopToBottom,t)},J=function(){return c.bind(va.getHeader)},I=function(){return i.isDocked(J)},re=function(){Ln(ri.element,"width",document.body.clientWidth+"px")},le=function(){var co=wa(Tu(),D)&&bi(D,"display")==="grid",ol={dom:G({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(d).concat(x)},B),behaviours:lt([yo.config({useFixed:function(){return I()}})])},Dd={dom:{styles:{width:document.body.clientWidth+"px"}},events:cr([Ze(ws(),re)])};return Fn(ol,co?Dd:{})},Fe=go(le()),Te=function(){return Lt.value(Fe)},De=wr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ae=function(){return c.bind(function(co){return De.getOpt(co)}).getOrDie("Could not find a anchor bar element")},tt=function(){return c.bind(function(co){return va.getToolbar(co)}).getOrDie("Could not find more toolbar element")},tn=function(){return c.bind(function(co){return va.getThrobber(co)}).getOrDie("Could not find throbber element")},_t=Lz(Fe,e,Ae),He=va.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:_t,onEscape:function(){e.focus()}}),Ge=Ng(e),qt=va.parts.toolbar(G({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Te,providers:_t.shared.providers,onEscape:function(){e.focus()},type:Ge,lazyToolbar:tt,lazyHeader:function(){return J().getOrDie("Could not find header element")}},R)),xn=va.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:_t.shared.providers,onEscape:function(){e.focus()},type:Ge}),ft=va.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),un=va.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),hn=va.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:_t}),Zn=e.getParam("statusbar",!0,"boolean"),Or=Zn&&!n?g.some(CI(e,_t.shared.providers)):g.none(),aa={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ft,un]},Ni=$0(e),Oi=gS(e),s4=mS(e),l4=function(){return Ni?[xn]:Oi?[qt]:[]},Ob=va.parts.header({dom:G({tag:"div",classes:["tox-editor-header"]},R),components:kt([s4?[He]:[],l4(),R0(e)?[]:[De.asSpec()]]),sticky:H0(e),editor:e,sharedBackstage:_t.shared}),f4=kt([S?[]:[Ob],n?[]:[aa],S?[Ob]:[]]),sh={dom:{tag:"div",classes:["tox-editor-container"]},components:f4},Ab=kt([[sh],n?[]:Or.toArray(),[hn]]),lh=rC(e),Eb=G(G({role:"application"},Li.isRtl()?{dir:"rtl"}:{}),lh?{"aria-hidden":"true"}:{}),du=go(va.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(S?["tox-tinymce--toolbar-bottom"]:[]).concat(x).concat(d),styles:G({visibility:"hidden"},lh?{opacity:"0",border:"0"}:{}),attributes:Eb},components:Ab,behaviours:lt([za(),Tn.config({disableClass:"tox-tinymce--disabled"}),wn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));c=g.some(du),e.shortcuts.add("alt+F9","focus menubar",function(){va.focusMenubar(du)}),e.shortcuts.add("alt+F10","focus toolbar",function(){va.focusToolbar(du)}),e.addCommand("ToggleToolbarDrawer",function(){va.toggleToolbarDrawer(du)}),e.addQueryStateHandler("ToggleToolbarDrawer",function(){return va.isToolbarDrawerToggled(du)});var fh=KC(du),ri=KC(Fe);tR(e,fh,ri);var v4=function(){var co={broadcastAll:ri.broadcast,broadcastOn:ri.broadcastOn,register:de};return{channels:co}},d4=function(){var co=N3(M9(e)),ol=N3(_9(e));return e.inline||(Es("div","width",ol)&&Ln(du.element,"width",ol),Es("div","height",co)?Ln(du.element,"height",co):Ln(du.element,"height","200px")),co},m4=function(){i.setup(e,_t.shared,J),uH(e,_t),MH(e,Te,_t),KR(e),u9(e,tn,_t.shared),qn(z8(e),function(oi,Vi){e.ui.registry.addGroupToolbarButton(Vi,oi)});var co=e.ui.registry.getAll(),ol=co.buttons,Dd=co.menuItems,g4=co.contextToolbars,Fd=co.sidebars,h4=Z4(e),Wt={menuItems:Dd,menus:I8(e),menubar:L8(e),toolbar:h4.getOrThunk(function(){return N8(e)}),allowToolbarGroups:Ge===Ci.floating,buttons:ol,sidebar:Fd};eR(e,g4,Fe,{backstage:_t}),hI(e,Fe);var $n=e.getElement(),Tr=d4(),ca={mothership:fh,uiMothership:ri,outerContainer:du},ai={targetNode:$n,height:Tr};return a.render(e,ca,Wt,_t,ai)};return{mothership:fh,uiMothership:ri,backstage:_t,renderUI:m4,getUi:v4}},kI=function(e,t){var n=g.from(mo(e,"id")).fold(function(){var a=sn("dialog-describe");return sr(t,"id",a),a},_e);sr(e,"aria-describedby",n)},OI=function(e,t){var n=Ec(e,"id").fold(function(){var a=sn("dialog-label");return sr(t,"id",a),a},_e);sr(e,"aria-labelledby",n)},AI=$([q("lazySink"),ir("dragBlockClass"),Nr("getBounds",qa),me("useTabstopAt",Ut),me("eventOrder",{}),Pa("modalBehaviours",[wn]),to("onExecute"),pm("onEscape")]),J3={sketch:_e},EI=$([xi({name:"draghandle",overrides:function(e,t){return{behaviours:lt([kf.config({mode:"mouse",getTarget:function(n){return hv(n,'[role="dialog"]').getOr(n)},blockerClass:e.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Za({schema:[q("dom")],name:"title"}),Za({factory:J3,schema:[q("dom")],name:"close"}),Za({factory:J3,schema:[q("dom")],name:"body"}),xi({factory:J3,schema:[q("dom")],name:"footer"}),wi({factory:{sketch:function(e,t){return G(G({},e),{dom:t.dom,components:t.components})}},schema:[me("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),me("components",[])],name:"blocker"})]),MI=function(e,t,n,a){sr(e.element,"aria-busy",!0);var i=t.getRoot(e).getOr(e),c=lt([wn.config({mode:"special",onTab:function(){return g.some(!0)},onShiftTab:function(){return g.some(!0)}}),An.config({})]),s=a(i,c),v=i.getSystem().build(s);Mn.append(i,ko(v)),v.hasConfigured(wn)&&wn.focusIn(v),n.isBlocked()||t.onBlock(e),n.blockWith(function(){return Mn.remove(i,v)})},_I=function(e,t,n){Lo(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()},DI=Object.freeze({__proto__:null,block:MI,unblock:_I}),FI=[Nr("getRoot",g.none),vr("onBlock"),vr("onUnblock")],PI=function(){var e=$5(),t=function(n){e.set({destroy:n})};return ci({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})},zI=Object.freeze({__proto__:null,init:PI}),Md=Aa({fields:FI,name:"blocking",apis:DI,state:zI}),BI=function(e,t,n,a){var i,c=xt(g.none()),s=function(B){c.set(g.some(B));var R=e.lazySink(B).getOrDie(),J=a.blocker(),I=R.getSystem().build(G(G({},J),{components:J.components.concat([ko(B)]),behaviours:lt([An.config({}),Bn("dialog-blocker-events",[Ss(ju(),function(){wn.focusIn(B)})])])}));uc(R,I),wn.focusIn(B)},v=function(B){c.set(g.none()),Ho(B.element).each(function(R){B.getSystem().getByDom(R).each(function(J){Ic(J)})})},d=function(B){return nu(B,e,"body")},h=function(B){return nu(B,e,"footer")},y=function(B,R){Md.block(B,R)},x=function(B){Md.unblock(B)},S=sn("modal-events"),D=G(G({},e.eventOrder),(i={},i[Cc()]=[S].concat(e.eventOrder["alloy.system.attached"]||[]),i));return{uid:e.uid,dom:e.dom,components:t,apis:{show:s,hide:v,getBody:d,getFooter:h,setIdle:x,setBusy:y},eventOrder:D,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Sa(e.modalBehaviours,[Mn.config({}),wn.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),Md.config({getRoot:c.get}),Bn(S,[na(function(B){OI(B.element,nu(B,e,"title").element),kI(B.element,nu(B,e,"body").element)})])])}},Ba=wo({name:"ModalDialog",configFields:AI(),partFields:EI(),factory:BI,apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),$I=ie([Mt("type"),Mt("name")].concat(ld)),RI=nt,VO=[Br("name","name",Oe(function(){return sn("button-name")}),we),pr("icon"),vo("align","end",["start","end"]),br("primary",!1),br("disabled",!1)],UO=Ue(VO,[Mt("text")]),Z3=Ue([or("type",["submit","cancel","custom"])],UO),HI=Ue([or("type",["menu"]),pr("text"),pr("tooltip"),pr("icon"),lo("items",$I)],VO),II=_a("type",{submit:Z3,cancel:Z3,custom:Z3,menu:HI}),LI=[Mt("type"),Mt("text"),or("level",["info","warn","error","success"]),Mt("icon"),me("url","")],NI=ie(LI),VI=function(e){return[Mt("type"),e]},UI=[Mt("type"),Mt("text"),br("disabled",!1),br("primary",!1),Br("name","name",Oe(function(){return sn("button-name")}),we),pr("icon"),br("borderless",!1)],WI=ie(UI),jI=[Mt("type"),Mt("name"),Mt("label"),br("disabled",!1)],GI=ie(jI),qI=nt,Q3=[Mt("type"),Mt("name")],vu=Q3.concat([pr("label")]),KI=vu.concat([me("columns","auto")]),XI=ie(KI),YI=mu([Mt("value"),Mt("text"),Mt("icon")]),JI=vu,ZI=ie(JI),QI=we,eL=vu,tL=ie(eL),nL=we,rL=Q3.concat([pu("tag","textarea"),Mt("scriptId"),Mt("scriptUrl"),$a("settings",void 0)]),aL=Q3.concat([pu("tag","textarea"),Xn("init")]),oL=Ko(function(e){return fr("customeditor.old",ce(aL),e).orThunk(function(){return fr("customeditor.new",ce(rL),e)})}),iL=we,uL=vu,cL=ie(uL),sL=ar(),lL=function(e){return[Mt("type"),vn("columns"),e]},fL=[Mt("type"),Mt("html"),vo("presets","presentation",["presentation","document"])],vL=ie(fL),dL=vu.concat([br("sandboxed",!0)]),mL=ie(dL),gL=we,hL=vu.concat([gt("currentState",ie([q("blob"),Mt("url")]))]),pL=ie(hL),bL=vu.concat([pr("inputMode"),pr("placeholder"),br("maximized",!1),br("disabled",!1)]),yL=ie(bL),wL=we,xL=function(e){return[Mt("type"),Mt("label"),e]},SL=[Mt("text"),Mt("value")],CL=[Mt("text"),lo("items",bc("items",function(){return WO}))],WO=bn([ie(SL),ie(CL)]),TL=vu.concat([lo("items",WO),br("disabled",!1)]),kL=ie(TL),OL=we,AL=vu.concat([Ei("items",[Mt("text"),Mt("value")]),Mi("size",1),br("disabled",!1)]),EL=ie(AL),ML=we,_L=vu.concat([br("constrain",!0),br("disabled",!1)]),DL=ie(_L),jO=ie([Mt("width"),Mt("height")]),FL=[Mt("type"),lo("header",we),lo("cells",yt(we))],PL=ie(FL),zL=vu.concat([pr("placeholder"),br("maximized",!1),br("disabled",!1)]),BL=ie(zL),$L=we,RL=vu.concat([vo("filetype","file",["image","media","file"]),me("disabled",!1)]),HL=ie(RL),IL=ie([Mt("value"),me("meta",{})]),e4=function(e){return Br("items","items",ae(),yt(Ko(function(t){return fr("Checking item of "+e,t4,t).fold(function(n){return Lt.error(Do(n))},function(n){return Lt.value(n)})})))},t4=gu(function(){return Fo("type",{alertbanner:NI,bar:ie(VI(e4("bar"))),button:WI,checkbox:GI,colorinput:ZI,colorpicker:tL,dropzone:cL,grid:ie(lL(e4("grid"))),iframe:mL,input:yL,listbox:kL,selectbox:EL,sizeinput:DL,textarea:BL,urlinput:HL,customeditor:oL,htmlpanel:vL,imagetools:pL,collection:XI,label:ie(xL(e4("label"))),table:PL,panel:GO})}),LL=[Mt("type"),me("classes",[]),lo("items",t4)],GO=ie(LL),NL=[Br("name","name",Oe(function(){return sn("tab-name")}),we),Mt("title"),lo("items",t4)],VL=[Mt("type"),Ei("tabs",NL)],UL=ie(VL),WL=UO,jL=II,GL=ie([Mt("title"),gt("body",Fo("type",{panel:GO,tabpanel:UL})),pu("size","normal"),lo("buttons",jL),me("initialData",{}),Nr("onAction",de),Nr("onChange",de),Nr("onSubmit",de),Nr("onClose",de),Nr("onCancel",de),me("onTabChange",de)]),qL=function(e){return fr("dialog",GL,e)},KL=ie(Ue([or("type",["cancel","custom"])],WL)),XL=ie([Mt("title"),Mt("url"),Ui("height"),Ui("width"),Af("buttons",KL),Nr("onAction",de),Nr("onCancel",de),Nr("onClose",de),Nr("onMessage",de)]),YL=function(e){return fr("dialog",XL,e)},n4=function(e){return $t(e)?[e].concat(Dt(ia(e),n4)):Pt(e)?Dt(e,n4):[]},JL=function(e){return wt(e.type)&&wt(e.name)},ZL={checkbox:qI,colorinput:QI,colorpicker:nL,dropzone:sL,input:wL,iframe:gL,sizeinput:jO,selectbox:ML,listbox:OL,size:jO,textarea:$L,urlinput:IL,customeditor:iL,collection:YI,togglemenuitem:RI},QL=function(e){return g.from(ZL[e.type])},eN=function(e){return Y(n4(e),JL)},tN=function(e){var t=eN(e),n=Dt(t,function(a){return QL(a).fold(function(){return[]},function(i){return[gt(a.name,i)]})});return ie(n)},qO=function(e){var t=Co(qL(e)),n=tN(e),a=e.initialData;return{internalDialog:t,dataValidator:n,initialData:a}},ch={open:function(e,t){var n=qO(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){var n=Co(YL(t));return e(n)},redial:function(e){return qO(e)}},KO=function(e){var t=[],n={};return Vn(e,function(a,i){a.fold(function(){t.push(i)},function(c){n[i]=c})}),t.length>0?Lt.error(t):Lt.value(n)},nN=function(e,t){var n=wr(bd.sketch(function(a){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:ne(e.items,function(i){return Rk(a,i,t)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:lt([wn.config({mode:"acyclic",useTabstopAt:cn(nh)}),Hu.memento(n),yf.memento(n,{postprocess:function(a){return KO(a).fold(function(i){return console.error(i),{}},function(i){return i})}})])}},rN=function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:ot(e.action),behaviours:Sa(e.tabButtonBehaviours,[An.config({}),wn.config({mode:"execution",useSpace:!0,useEnter:!0}),zt.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}},aN=fi({name:"TabButton",configFields:[me("uid",void 0),q("value"),Br("dom","dom",F(function(){return{attributes:{role:"tab",id:sn("aria"),"aria-selected":"false"}}}),C()),ir("action"),me("domModification",{}),Pa("tabButtonBehaviours",[An,wn,zt]),q("view")],factory:rN}),oN=$([q("tabs"),q("dom"),me("clickToDismiss",!1),Pa("tabbarBehaviours",[yr,wn]),Au(["tabClass","selectedClass"])]),iN=Lv({factory:aN,name:"tabs",unit:"tab",overrides:function(e){var t=function(a,i){yr.dehighlight(a,i),Cn(a,Tc(),{tabbar:a,button:i})},n=function(a,i){yr.highlight(a,i),Cn(a,jd(),{tabbar:a,button:i})};return{action:function(a){var i=a.getSystem().getByUid(e.uid).getOrDie(),c=yr.isHighlighted(i,a),s=function(){return c&&e.clickToDismiss?t:c?de:n}();s(i,a)},domModification:{classes:[e.markers.tabClass]}}}}),uN=$([iN]),cN=function(e,t,n,a){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Sa(e.tabbarBehaviours,[yr.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(i,c){sr(c.element,"aria-selected","true")},onDehighlight:function(i,c){sr(c.element,"aria-selected","false")}}),wn.config({mode:"flow",getInitial:function(i){return yr.getHighlighted(i).map(function(c){return c.element})},selector:"."+e.markers.tabClass,executeOnMove:!0})])}},XO=wo({name:"Tabbar",configFields:oN(),partFields:uN(),factory:cN}),sN=function(e,t){return{uid:e.uid,dom:e.dom,behaviours:Sa(e.tabviewBehaviours,[Mn.config({})]),domModification:{attributes:{role:"tabpanel"}}}},lN=fi({name:"Tabview",configFields:[Pa("tabviewBehaviours",[Mn])],factory:sN}),fN=$([me("selectFirst",!0),vr("onChangeTab"),vr("onDismissTab"),me("tabs",[]),Pa("tabSectionBehaviours",[])]),vN=Za({factory:XO,schema:[q("dom"),so("markers",[q("tabClass"),q("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),dN=Za({factory:lN,name:"tabview"}),mN=$([vN,dN]),gN=function(e,t,n,a){var i=function(s){var v=zt.getValue(s);Mr(s,e,"tabview").each(function(d){var h=ve(e.tabs,function(y){return y.value===v});h.each(function(y){var x=y.view();Ec(s.element,"id").each(function(S){sr(d.element,"aria-labelledby",S)}),Mn.set(d,x),e.onChangeTab(d,s,x)})})},c=function(s,v){Mr(s,e,"tabbar").each(function(d){v(d).each(kc)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:Bv(e.tabSectionBehaviours),events:cr(kt([e.selectFirst?[na(function(s,v){c(s,yr.getFirst)})]:[],[Ze(jd(),function(s,v){var d=v.event.button;i(d)}),Ze(Tc(),function(s,v){var d=v.event.button;e.onDismissTab(s,d)})]])),apis:{getViewItems:function(s){return Mr(s,e,"tabview").map(function(v){return Mn.contents(v)}).getOr([])},showTab:function(s,v){var d=function(h){var y=yr.getCandidates(h),x=ve(y,function(S){return zt.getValue(S)===v});return x.filter(function(S){return!yr.isHighlighted(h,S)})};c(s,d)}}}},_d=wo({name:"TabSection",configFields:fN(),partFields:mN(),factory:gN,apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),hN=function(e,t,n){return ne(e,function(a,i){Mn.set(n,e[i].view());var c=t.dom.getBoundingClientRect();return Mn.set(n,[]),c.height})},pN=function(e){return $e(Sr(e,function(t,n){return t>n?-1:t<n?1:0}))},bN=function(e,t,n){var a=Zd(e).dom,i=hv(e,".tox-dialog-wrap").getOr(e),c=bi(i,"position")==="fixed",s;c?s=Math.max(a.clientHeight,window.innerHeight):s=Math.max(a.offsetHeight,a.scrollHeight);var v=ho(t),d=t.dom.offsetLeft>=n.dom.offsetLeft+Oo(n),h=d?Math.max(ho(n),v):v,y=parseInt(bi(e,"margin-top"),10)||0,x=parseInt(bi(e,"margin-bottom"),10)||0,S=ho(e)+y+x,D=S-h;return s-D},yN=function(e,t){$e(e).each(function(n){return _d.showTab(t,n.value)})},YO=function(e,t){Ln(e,"height",t+"px"),Ro().browser.isIE()?Ur(e,"flex-basis"):Ln(e,"flex-basis",t+"px")},kb=function(e,t,n){hv(e,'[role="dialog"]').each(function(a){Ka(a,'[role="tablist"]').each(function(i){n.get().map(function(c){return Ln(t,"height","0"),Ln(t,"flex-basis","0"),Math.min(c,bN(a,t,i))}).each(function(c){YO(t,c)})})})},r4=function(e){return Ka(e,'[role="tabpanel"]')},wN=function(e){var t=function(){var a=xt(g.none()),i=[na(function(s){var v=s.element;r4(v).each(function(d){Ln(d,"visibility","hidden"),s.getSystem().getByDom(d).toOptional().each(function(h){var y=hN(e,d,h),x=pN(y);a.set(x)}),kb(v,d,a),Ur(d,"visibility"),yN(e,s),Bu.requestAnimationFrame(function(){kb(v,d,a)})})}),Ze(ws(),function(s){var v=s.element;r4(v).each(function(d){kb(v,d,a)})}),Ze(JC,function(s,v){var d=s.element;r4(d).each(function(h){var y=Hi(Va(h));Ln(h,"visibility","hidden");var x=la(h,"height").map(function(B){return parseInt(B,10)});Ur(h,"height"),Ur(h,"flex-basis");var S=h.dom.getBoundingClientRect().height,D=x.forall(function(B){return S>B});D?(a.set(g.from(S)),kb(d,h,a)):x.each(function(B){YO(h,B)}),Ur(h,"visibility"),y.each(ac)})})],c=!1;return{extraEvents:i,selectFirst:c}}(),n=function(){var a=[],i=!0;return{extraEvents:a,selectFirst:i}}();return{smartTabHeight:t,naiveTabHeight:n}},JO="send-data-to-section",ZO="send-data-to-view",xN=function(e,t){var n=xt({}),a=function(d){var h=zt.getValue(d),y=KO(h).getOr({}),x=n.get(),S=Fn(x,y);n.set(S)},i=function(d){var h=n.get();zt.setValue(d,h)},c=xt(null),s=ne(e.tabs,function(d){return{value:d.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(d.title)},view:function(){return[bd.sketch(function(h){return{dom:{tag:"div",classes:["tox-form"]},components:ne(d.items,function(y){return Rk(h,y,t)}),formBehaviours:lt([wn.config({mode:"acyclic",useTabstopAt:cn(nh)}),Bn("TabView.form.events",[na(i),ui(a)]),Zo.config({channels:H([{key:JO,value:{onReceive:a}},{key:ZO,value:{onReceive:i}}])})])}})]}}}),v=wN(s).smartTabHeight;return _d.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(d,h,y){var x=zt.getValue(h);Cn(d,YC,{name:x,oldName:c.get()}),c.set(x)},tabs:s,components:[_d.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[XO.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:lt([ba.config({})])}),_d.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:v.selectFirst,tabSectionBehaviours:lt([Bn("tabpanel",v.extraEvents),wn.config({mode:"acyclic"}),nr.config({find:function(d){return $e(_d.getViewItems(d))}}),zt.config({store:{mode:"manual",getValue:function(d){return d.getSystem().broadcastOn([JO],{}),n.get()},setValue:function(d,h){n.set(h),d.getSystem().broadcastOn([ZO],{})}}})])})},a4=sn("update-dialog"),QO=sn("update-title"),eA=sn("update-body"),tA=sn("update-footer"),nA=sn("body-send-message"),rA=function(e,t,n,a){var i=function(v){switch(v.body.type){case"tabpanel":return[xN(v.body,n)];default:return[nN(v.body,n)]}},c=function(v,d){return g.some({isTabPanel:function(){return d.body.type==="tabpanel"}})},s={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:G(G({},t.map(function(v){return{id:v}}).getOr({})),a?s:{})},components:[],behaviours:lt([Hu.childAt(0),di.config({channel:eA,updateState:c,renderComponents:i,initialData:e})])}},SN=function(e,t,n,a){return rA(e,g.some(t),n,a)},CN=function(e,t){var n=rA(e,g.none(),t,!1);return Ba.parts.body(n)},TN=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[QT({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:lt([ba.config({}),An.config({})])})]}],behaviours:lt([wn.config({mode:"acyclic",useTabstopAt:cn(nh)})])};return Ba.parts.body(t)},kN=bS.deviceType.isTouch(),aA=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},oA=function(e,t){return Ba.parts.close(Go.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:lt([ba.config({})])}))},iA=function(){return Ba.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},uA=function(e,t){return Ba.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:rl("<p>"+t.translate(e)+"</p>")}]}]})},cA=function(e){return Ba.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},sA=function(e,t){return[xo.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),xo.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},o4=function(e){var t,n="tox-dialog",a=n+"-wrap",i=a+"__backdrop",c=n+"__disable-scroll";return Ba.sketch({lazySink:e.lazySink,onEscape:function(s){return e.onEscape(s),g.some(!0)},useTabstopAt:function(s){return!nh(s)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:G({position:"relative"},e.extraStyles)},components:Ue([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:rl('<div class="'+a+'"></div>'),components:[{dom:{tag:"div",classes:kN?[i,i+"--opaque"]:[i]}}]}},dragBlockClass:a,modalBehaviours:lt(Ue([An.config({}),Bn("dialog-events",e.dialogEvents.concat([Ss(ju(),function(s,v){wn.focusIn(s)})])),Bn("scroll-lock",[na(function(){Yr(Tu(),c)}),ui(function(){xa(Tu(),c)})])],e.extraBehaviours)),eventOrder:G((t={},t[To()]=["dialog-events"],t[Cc()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[bl()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},lA=function(e){return Go.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ei("close",e.icons)}}],action:function(t){ur(t,mf)}})},fA=function(e,t,n){var a=function(i){return[Qu(n.translate(i.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:G({},t.map(function(i){return{id:i}}).getOr({}))},components:a(e),behaviours:lt([di.config({channel:QO,renderComponents:a})])}},vA=function(){return{dom:rl('<div class="tox-dialog__draghandle"></div>')}},ON=function(e,t,n){return xo.sketch({dom:rl('<div class="tox-dialog__header"></div>'),components:[fA(e,g.some(t),n),vA(),lA(n)],containerBehaviours:lt([kf.config({mode:"mouse",blockerClass:"blocker",getTarget:function(a){return Ri(a,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},AN=function(e,t){var n=Ba.parts.title(fA(e,g.none(),t)),a=Ba.parts.draghandle(vA()),i=Ba.parts.close(lA(t)),c=[n].concat(e.draggable?[a]:[]).concat([i]);return xo.sketch({dom:rl('<div class="tox-dialog__header"></div>'),components:c})},dA=function(e,t){return AN({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)},mA=function(e,t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:rl('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},gA=function(e,t,n){return{onClose:function(){return n.closeWindow()},onBlock:function(a){Ba.setBusy(e(),function(i,c){return mA(a.message,c,t)})},onUnblock:function(){Ba.setIdle(e())}}},hA=function(e,t,n,a){var i,c=function(s,v){return g.some(v)};return go(o4(G(G({},e),{lazySink:a.shared.getSink,extraBehaviours:Ue([di.config({channel:a4,updateState:c,initialData:t}),yf.memory({})],e.extraBehaviours),onEscape:function(s){ur(s,mf)},dialogEvents:n,eventOrder:(i={},i[Yi()]=[di.name(),Zo.name()],i[Cc()]=["scroll-lock",di.name(),"messages","dialog-events","alloy.base.behaviour"],i[bl()]=["alloy.base.behaviour","dialog-events","messages",di.name(),"scroll-lock"],i)})))},pA=function(e){var t=function(n){var a=ne(n.items,function(i){var c=xt(!1);return G(G({},i),{storage:c})});return G(G({},n),{items:a})};return ne(e,function(n){return n.type==="menu"?t(n):n})},bA=function(e){return z(e,function(t,n){if(n.type==="menu"){var a=n;return z(a.items,function(i,c){return i[c.name]=c.storage,i},t)}return t},{})},yA=function(e,t){return[Jf(ju(),gD),e(Yg,function(n,a){t.onClose(),a.onClose()}),e(mf,function(n,a,i,c){a.onCancel(n),ur(c,Yg)}),Ze(AS,function(n,a){return t.onUnblock()}),Ze(OS,function(n,a){return t.onBlock(a.event)})]},EN=function(e,t){var n=function(i,c){return Ze(i,function(s,v){a(s,function(d,h){c(e(),d,v.event,s)})})},a=function(i,c){di.getState(i).get().each(function(s){c(s,i)})};return Ue(yA(n,t),[n(dc,function(i,c,s){c.onAction(i,{name:s.name})})])},MN=function(e,t,n){var a=function(c,s){return Ze(c,function(v,d){i(v,function(h,y){s(e(),h,d.event,v)})})},i=function(c,s){di.getState(c).get().each(function(v){s(v.internalDialog,c)})};return Ue(yA(a,t),[a(Jg,function(c,s){return s.onSubmit(c)}),a(Ti,function(c,s,v){s.onChange(c,{name:v.name})}),a(dc,function(c,s,v,d){var h=function(){return wn.focusIn(d)},y=function(D){return Oh(D,"disabled")||Ec(D,"aria-disabled").exists(function(B){return B==="true"})},x=Va(d.element),S=Hi(x);s.onAction(c,{name:v.name,value:v.value}),Hi(x).fold(h,function(D){y(D)||S.exists(function(B){return ms(D,B)&&y(B)})?h():n().toOptional().filter(function(B){return!ms(B.element,D)}).each(h)})}),a(YC,function(c,s,v){s.onTabChange(c,{newTabName:v.name,oldTabName:v.oldName})}),ui(function(c){var s=e();zt.setValue(c,s.getData())})])},i4={initUrlDialog:EN,initDialog:MN},_N=function(e,t){return ob(e,e.type,t)},DN=function(e,t,n){return ve(t,function(a){return a.name===n}).bind(function(a){return a.memento.getOpt(e)})},FN=function(e,t){var n=t.map(function(v){return v.footerButtons}).getOr([]),a=ke(n,function(v){return v.align==="start"}),i=function(v,d){return xo.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+v]},components:ne(d,function(h){return h.memento.asSpec()})})},c=i("start",a.pass),s=i("end",a.fail);return[c,s]},wA=function(e,t){var n=function(a,i){var c=ne(i.buttons,function(v){var d=wr(_N(v,t));return{name:v.name,align:v.align,memento:d}}),s=function(v,d){return DN(v,c,d)};return g.some({lookupByName:s,footerButtons:c})};return{dom:rl('<div class="tox-dialog__footer"></div>'),components:[],behaviours:lt([di.config({channel:tA,initialData:e,updateState:n,renderComponents:FN})])}},PN=function(e,t){return wA(e,t)},xA=function(e,t){return Ba.parts.footer(wA(e,t))},u4=function(e,t){var n=e.getRoot();if(n.getSystem().isConnected()){var a=nr.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return bd.getField(a,t).fold(function(){var i=e.getFooter(),c=di.getState(i);return c.get().bind(function(s){return s.lookupByName(a,t)})},function(i){return g.some(i)})}else return g.none()},zN=function(e,t){var n=e.getRoot();return di.getState(n).get().map(function(a){return Co(fr("data",a.dataValidator,t))}).getOr(t)},SA=function(e,t,n){var a=function(R){var J=e.getRoot();J.getSystem().isConnected()&&R(J)},i=function(){var R=e.getRoot(),J=R.getSystem().isConnected()?e.getFormWrapper():R,I=zt.getValue(J),re=qn(n,function(le){return le.get()});return G(G({},I),re)},c=function(R){a(function(J){var I=B.getData(),re=G(G({},I),R),le=zN(e,re),Fe=e.getFormWrapper();zt.setValue(Fe,le),Vn(n,function(Te,De){Cr(re,De)&&Te.set(re[De])})})},s=function(R){u4(e,R).each(Tn.disable)},v=function(R){u4(e,R).each(Tn.enable)},d=function(R){u4(e,R).each(An.focus)},h=function(R){if(!wt(R))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");a(function(J){Cn(J,OS,{message:R})})},y=function(){a(function(R){ur(R,AS)})},x=function(R){a(function(J){var I=e.getBody(),re=di.getState(I);re.get().exists(function(le){return le.isTabPanel()})&&nr.getCurrent(I).each(function(le){_d.showTab(le,R)})})},S=function(R){a(function(J){var I=t(R);J.getSystem().broadcastOn([a4],I),J.getSystem().broadcastOn([QO],I.internalDialog),J.getSystem().broadcastOn([eA],I.internalDialog),J.getSystem().broadcastOn([tA],I.internalDialog),B.setData(I.initialData)})},D=function(){a(function(R){ur(R,Yg)})},B={getData:i,setData:c,disable:s,enable:v,focus:d,block:h,unblock:y,showTab:x,redial:S,close:D};return B},BN=function(e){switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},$N=function(e,t,n){var a=dA(e.internalDialog.title,n),i=CN({body:e.internalDialog.body},n),c=pA(e.internalDialog.buttons),s=bA(c),v=xA({buttons:c},n),d=i4.initDialog(function(){return D},gA(function(){return x},n.shared.providers,t),n.shared.getSink),h=BN(e.internalDialog.size),y={header:a,body:i,footer:g.some(v),extraClasses:h,extraBehaviours:[],extraStyles:{}},x=hA(y,e,d,n),S=function(){var B=function(){var R=Ba.getBody(x);return nr.getCurrent(R).getOr(R)};return{getRoot:function(){return x},getBody:function(){return Ba.getBody(x)},getFooter:function(){return Ba.getFooter(x)},getFormWrapper:B}}(),D=SA(S,t.redial,s);return{dialog:x,instanceApi:D}},RN=function(e,t,n,a){var i,c,s=sn("dialog-label"),v=sn("dialog-content"),d=function(I,re){return g.some(re)},h=wr(ON({title:e.internalDialog.title,draggable:!0},s,n.shared.providers)),y=wr(SN({body:e.internalDialog.body},v,n,a)),x=pA(e.internalDialog.buttons),S=bA(x),D=wr(PN({buttons:x},n)),B=i4.initDialog(function(){return J},{onBlock:function(I){Md.block(R,function(re,le){return mA(I.message,le,n.shared.providers)})},onUnblock:function(){Md.unblock(R)},onClose:function(){return t.closeWindow()}},n.shared.getSink),R=go({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(i={role:"dialog"},i["aria-labelledby"]=s,i["aria-describedby"]=""+v,i)},eventOrder:(c={},c[Yi()]=[di.name(),Zo.name()],c[To()]=["execute-on-form"],c[Cc()]=["reflecting","execute-on-form"],c),behaviours:lt([wn.config({mode:"cyclic",onEscape:function(I){return ur(I,Yg),g.some(!0)},useTabstopAt:function(I){return!nh(I)&&(Di(I)!=="button"||mo(I,"disabled")!=="disabled")}}),di.config({channel:a4,updateState:d,initialData:e}),An.config({}),Bn("execute-on-form",B.concat([Ss(ju(),function(I,re){wn.focusIn(I)})])),Md.config({getRoot:function(){return g.some(R)}}),Mn.config({}),yf.memory({})]),components:[h.asSpec(),y.asSpec(),D.asSpec()]}),J=SA({getRoot:function(){return R},getFooter:function(){return D.get(R)},getBody:function(){return y.get(R)},getFormWrapper:function(){var I=y.get(R);return nr.getCurrent(I).getOr(I)}},t.redial,S);return{dialog:R,instanceApi:J}},c4=tinymce.util.Tools.resolve("tinymce.util.URI"),HN=function(e){var t=function(s){e.getSystem().isConnected()&&s(e)},n=function(s){if(!wt(s))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t(function(v){Cn(v,OS,{message:s})})},a=function(){t(function(s){ur(s,AS)})},i=function(){t(function(s){ur(s,Yg)})},c=function(s){t(function(v){v.getSystem().broadcastOn([nA],s)})};return{block:n,unblock:a,close:i,sendMessage:c}},IN=["insertContent","setContent","execCommand","close","block","unblock"],CA=function(e){return $t(e)&&IN.indexOf(e.mceAction)!==-1},LN=function(e){return!CA(e)&&$t(e)&&Cr(e,"mceAction")},NN=function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var a=ut(n.ui)?n.ui:!1;e.execCommand(n.cmd,a,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock();break}},VN=function(e,t,n,a){var i,c=dA(e.title,a),s=TN(e),v=e.buttons.bind(function(re){return re.length===0?g.none():g.some(xA({buttons:re},a))}),d=i4.initUrlDialog(function(){return I},gA(function(){return J},a.shared.providers,t)),h=G(G({},e.height.fold(function(){return{}},function(re){return{height:re+"px","max-height":re+"px"}})),e.width.fold(function(){return{}},function(re){return{width:re+"px","max-width":re+"px"}})),y=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],x=new c4(e.url,{base_uri:new c4(window.location.href)}),S=x.protocol+"://"+x.host+(x.port?":"+x.port:""),D=xt(g.none()),B=[Bn("messages",[na(function(){var re=iu(Rt.fromDom(window),"message",function(le){if(x.isSameOrigin(new c4(le.raw.origin))){var Fe=le.raw.data;CA(Fe)?NN(n,I,Fe):LN(Fe)&&e.onMessage(I,Fe)}});D.set(g.some(re))}),ui(function(){D.get().each(function(re){return re.unbind()})})]),Zo.config({channels:(i={},i[nA]={onReceive:function(re,le){Ka(re.element,"iframe").each(function(Fe){var Te=Fe.dom.contentWindow;Te.postMessage(le,S)})}},i)})],R={header:c,body:s,footer:v,extraClasses:y,extraBehaviours:B,extraStyles:h},J=hA(R,e,d,a),I=HN(J);return{dialog:J,instanceApi:I}},UN=function(e){var t=e.backstage.shared,n=function(a,i){var c=function(){Ba.hide(h),i()},s=wr(ob({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:g.none()},"cancel",e.backstage)),v=iA(),d=oA(c,t.providers),h=go(o4({lazySink:function(){return t.getSink()},header:aA(v,d),body:uA(a,t.providers),footer:g.some(cA(sA([],[s.asSpec()]))),onEscape:c,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ze(mf,c)],eventOrder:{}}));Ba.show(h);var y=s.get(h);An.focus(y)};return{open:n}},WN=function(e){var t=e.backstage.shared,n=function(a,i){var c=function(S){Ba.hide(y),i(S)},s=wr(ob({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:g.none()},"submit",e.backstage)),v=ob({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:g.none()},"cancel",e.backstage),d=iA(),h=oA(function(){return c(!1)},t.providers),y=go(o4({lazySink:function(){return t.getSink()},header:aA(d,h),body:uA(a,t.providers),footer:g.some(cA(sA([],[v,s.asSpec()]))),onEscape:function(){return c(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ze(mf,function(){return c(!1)}),Ze(Jg,function(){return c(!0)})],eventOrder:{}}));Ba.show(y);var x=s.get(y);An.focus(x)};return{open:n}},jN=function(e,t){return Co(fr("data",t,e))},GN=function(e){return qg(e,".tox-alert-dialog")||qg(e,".tox-confirm-dialog")},qN=function(e,t,n){return t&&n?[]:[_o.config({contextual:{lazyContext:function(){return g.some(li(Rt.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},KN=function(e){var t=e.backstage,n=e.editor,a=H0(n),i=UN(e),c=WN(e),s=function(B,R,J){return R!==void 0&&R.inline==="toolbar"?y(B,t.shared.anchors.inlineDialog(),J,R.ariaAttrs):R!==void 0&&R.inline==="cursor"?y(B,t.shared.anchors.cursor(),J,R.ariaAttrs):h(B,J)},v=function(B,R){return d(B,R)},d=function(B,R){var J=function(I){var re=VN(I,{closeWindow:function(){Ba.hide(re.dialog),R(re.instanceApi)}},n,t);return Ba.show(re.dialog),re.instanceApi};return ch.openUrl(J,B)},h=function(B,R){var J=function(I,re,le){var Fe=re,Te={dataValidator:le,initialData:Fe,internalDialog:I},De=$N(Te,{redial:ch.redial,closeWindow:function(){Ba.hide(De.dialog),R(De.instanceApi)}},t);return Ba.show(De.dialog),De.instanceApi.setData(Fe),De.instanceApi};return ch.open(J,B)},y=function(B,R,J,I){var re=function(le,Fe,Te){var De=jN(Fe,Te),Ae=H$(),tt=t.shared.header.isPositionedAtTop(),tn={dataValidator:Te,initialData:De,internalDialog:le},_t=function(){return Ae.on(function(qt){fa.reposition(qt),_o.refresh(qt)})},He=RN(tn,{redial:ch.redial,closeWindow:function(){Ae.on(fa.hide),n.off("ResizeEditor",_t),Ae.clear(),J(He.instanceApi)}},t,I),Ge=go(fa.sketch(G(G({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},tt?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:lt(Ue([Bn("window-manager-inline-events",[Ze(xs(),function(qt,xn){ur(He.dialog,mf)})])],qN(n,a,tt))),isExtraPart:function(qt,xn){return GN(xn)}})));return Ae.set(Ge),fa.showWithin(Ge,R,ko(He.dialog),g.some(Tu())),(!a||!tt)&&(_o.refresh(Ge),n.on("ResizeEditor",_t)),He.instanceApi.setData(De),wn.focusIn(He.dialog),He.instanceApi};return ch.open(re,B)},x=function(B,R){c.open(B,function(J){R(J)})},S=function(B,R){i.open(B,function(){R()})},D=function(B){B.close()};return{open:s,openUrl:v,alert:S,close:D,confirm:x}};function XN(){qe.add("silver",function(e){var t=TI(e),n=t.uiMothership,a=t.backstage,i=t.renderUI,c=t.getUi;m7.register(e,a.shared);var s=KN({editor:e,backstage:a});return{renderUI:i,getWindowManagerImpl:$(s),getNotificationManagerImpl:function(){return IA(e,{backstage:a},n)},ui:c()}})}XN()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var mn=function(r){var o=typeof r;return r===null?"null":o==="object"&&(Array.prototype.isPrototypeOf(r)||r.constructor&&r.constructor.name==="Array")?"array":o==="object"&&(String.prototype.isPrototypeOf(r)||r.constructor&&r.constructor.name==="String")?"string":o},Ht=function(r){return function(o){return mn(o)===r}},Nt=function(r){return function(o){return typeof o===r}},jt=function(r){return function(o){return r===o}},wt=Ht("string"),$t=Ht("object"),Pt=Ht("array"),ut=Nt("boolean"),Ye=jt(void 0),gn=function(r){return r==null},Ct=function(r){return!gn(r)},ze=Nt("function"),Bt=Nt("number"),Xe=function(){},de=function(r,o){return function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return r(o.apply(null,u))}},st=function(r,o){return function(u){return r(o(u))}},Ee=function(r){return function(){return r}},Gt=function(r){return r};function $(r){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var m=o.concat(l);return r.apply(null,m)}}var _e=function(r){return function(o){return!r(o)}},nn=function(r){return function(){throw new Error(r)}},cn=Ee(!1),bt=Ee(!0),Vt=function(){return Ut},Ut=function(){var r=function(f){return f.isNone()},o=function(f){return f()},u=function(f){return f},l={fold:function(f,m){return f()},is:cn,isSome:cn,isNone:bt,getOr:u,getOrThunk:o,getOrDie:function(f){throw new Error(f||"error: getOrDie called on none.")},getOrNull:Ee(null),getOrUndefined:Ee(void 0),or:u,orThunk:o,map:Vt,each:Xe,bind:Vt,exists:cn,forall:bt,filter:Vt,equals:r,equals_:r,toArray:function(){return[]},toString:Ee("none()")};return l}(),qe=function(r){var o=Ee(r),u=function(){return f},l=function(m){return m(r)},f={fold:function(m,w){return w(r)},is:function(m){return r===m},isSome:bt,isNone:cn,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:u,orThunk:u,map:function(m){return qe(m(r))},each:function(m){m(r)},bind:l,exists:l,forall:l,filter:function(m){return m(r)?f:Ut},toArray:function(){return[r]},toString:function(){return"some("+r+")"},equals:function(m){return m.is(r)},equals_:function(m,w){return m.fold(cn,function(E){return w(r,E)})}};return f},G=function(r){return r==null?Ut:qe(r)},k={some:qe,none:Vt,from:G},Ue=Array.prototype.slice,St=Array.prototype.indexOf,vt=Array.prototype.push,Ie=function(r,o){return St.call(r,o)},Ve=function(r,o){return Ie(r,o)>-1},g=function(r,o){for(var u=0,l=r.length;u<l;u++){var f=r[u];if(o(f,u))return!0}return!1},he=function(r,o){for(var u=[],l=0;l<r;l++)u.push(o(l));return u},ee=function(r,o){for(var u=r.length,l=new Array(u),f=0;f<u;f++){var m=r[f];l[f]=o(m,f)}return l},Qe=function(r,o){for(var u=0,l=r.length;u<l;u++){var f=r[u];o(f,u)}},Qt=function(r,o){for(var u=r.length-1;u>=0;u--){var l=r[u];o(l,u)}},Jt=function(r,o){for(var u=[],l=[],f=0,m=r.length;f<m;f++){var w=r[f],E=o(w,f)?u:l;E.push(w)}return{pass:u,fail:l}},Tt=function(r,o){for(var u=[],l=0,f=r.length;l<f;l++){var m=r[l];o(m,l)&&u.push(m)}return u},Ot=function(r,o,u){return Qt(r,function(l){u=o(u,l)}),u},an=function(r,o,u){return Qe(r,function(l){u=o(u,l)}),u},kn=function(r,o,u){for(var l=0,f=r.length;l<f;l++){var m=r[l];if(o(m,l))return k.some(m);if(u(m,l))break}return k.none()},ne=function(r,o){return kn(r,o,cn)},Le=function(r,o){for(var u=0,l=r.length;u<l;u++){var f=r[u];if(o(f,u))return k.some(u)}return k.none()},At=function(r){for(var o=[],u=0,l=r.length;u<l;++u){if(!Pt(r[u]))throw new Error("Arr.flatten item "+u+" was not an array, input: "+r);vt.apply(o,r[u])}return o},ke=function(r,o){return At(ee(r,o))},Y=function(r,o){for(var u=0,l=r.length;u<l;++u){var f=r[u];if(o(f,u)!==!0)return!1}return!0},Se=function(r){var o=Ue.call(r,0);return o.reverse(),o},z=function(r,o){for(var u={},l=0,f=r.length;l<f;l++){var m=r[l];u[String(m)]=o(m,l)}return u},ge=function(r){return[r]},ve=function(r,o){var u=Ue.call(r,0);return u.sort(o),u},Ke=function(r,o){return o>=0&&o<r.length?k.some(r[o]):k.none()},kt=function(r){return Ke(r,0)},Dt=function(r){return Ke(r,r.length-1)},ln=function(r,o){for(var u=0;u<r.length;u++){var l=o(r[u],u);if(l.isSome())return l}return k.none()},on=function(){return on=Object.assign||function(o){for(var u,l=1,f=arguments.length;l<f;l++){u=arguments[l];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(o[m]=u[m])}return o},on.apply(this,arguments)};function Gn(){for(var r=0,o=0,u=arguments.length;o<u;o++)r+=arguments[o].length;for(var l=Array(r),f=0,o=0;o<u;o++)for(var m=arguments[o],w=0,E=m.length;w<E;w++,f++)l[f]=m[w];return l}var Qn=function(r){var o=!1,u;return function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];return o||(o=!0,u=r.apply(null,l)),u}},Sr=function(r,o,u,l){var f=r.isiOS()&&/ipad/i.test(u)===!0,m=r.isiOS()&&!f,w=r.isiOS()||r.isAndroid(),E=w||l("(pointer:coarse)"),A=f||!m&&w&&l("(min-device-width:768px)"),N=m||w&&!A,Q=o.isSafari()&&r.isiOS()&&/safari/i.test(u)===!1,et=!N&&!A&&!Q;return{isiPad:Ee(f),isiPhone:Ee(m),isTablet:Ee(A),isPhone:Ee(N),isTouch:Ee(E),isAndroid:r.isAndroid,isiOS:r.isiOS,isWebView:Ee(Q),isDesktop:Ee(et)}},rt=function(r,o){for(var u=0;u<r.length;u++){var l=r[u];if(l.test(o))return l}},$e=function(r,o){var u=rt(r,o);if(!u)return{major:0,minor:0};var l=function(f){return Number(o.replace(u,"$"+f))};return dt(l(1),l(2))},ct=function(r,o){var u=String(o).toLowerCase();return r.length===0?ht():$e(r,u)},ht=function(){return dt(0,0)},dt=function(r,o){return{major:r,minor:o}},Xt={nu:dt,detect:ct,unknown:ht},Sn=function(r,o){var u=String(o).toLowerCase();return ne(r,function(l){return l.search(u)})},yn=function(r,o){return Sn(r,o).map(function(u){var l=Xt.detect(u.versionRegexes,o);return{current:u.name,version:l}})},Lt=function(r,o){return Sn(r,o).map(function(u){var l=Xt.detect(u.versionRegexes,o);return{current:u.name,version:l}})},_n={detectBrowser:yn,detectOs:Lt},Nn=function(r,o,u){return o===""||r.length>=o.length&&r.substr(u,u+o.length)===o},gr=function(r,o){return r.indexOf(o)!==-1},Dr=function(r,o){return Nn(r,o,0)},lr=function(r,o){return Nn(r,o,r.length-o.length)},Fr=function(r){return function(o){return o.replace(r,"")}},Pr=Fr(/^\s+|\s+$/g),ue=function(r){return r.length>0},Ne=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,mt=function(r){return function(o){return gr(o,r)}},rn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(r){return gr(r,"edge/")&&gr(r,"chrome")&&gr(r,"safari")&&gr(r,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ne],search:function(r){return gr(r,"chrome")&&!gr(r,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(r){return gr(r,"msie")||gr(r,"trident")}},{name:"Opera",versionRegexes:[Ne,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mt("firefox")},{name:"Safari",versionRegexes:[Ne,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(r){return(gr(r,"safari")||gr(r,"mobile/"))&&gr(r,"applewebkit")}}],Ft=[{name:"Windows",search:mt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(r){return gr(r,"iphone")||gr(r,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:mt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mt("linux"),versionRegexes:[]},{name:"Solaris",search:mt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],pn={browsers:Ee(rn),oses:Ee(Ft)},Ar="Edge",Vn="Chrome",qn="IE",sa="Opera",Jr="Firefox",oa="Safari",Ea=function(){return Vr({current:void 0,version:Xt.unknown()})},Vr=function(r){var o=r.current,u=r.version,l=function(f){return function(){return o===f}};return{current:o,version:u,isEdge:l(Ar),isChrome:l(Vn),isIE:l(qn),isOpera:l(sa),isFirefox:l(Jr),isSafari:l(oa)}},Qr={unknown:Ea,nu:Vr,edge:Ee(Ar),chrome:Ee(Vn),ie:Ee(qn),opera:Ee(sa),firefox:Ee(Jr),safari:Ee(oa)},ia="Windows",Zt="iOS",Cr="Android",_r="Linux",ua="OSX",xr="Solaris",Gr="FreeBSD",da="ChromeOS",Ta=function(){return ka({current:void 0,version:Xt.unknown()})},ka=function(r){var o=r.current,u=r.version,l=function(f){return function(){return o===f}};return{current:o,version:u,isWindows:l(ia),isiOS:l(Zt),isAndroid:l(Cr),isOSX:l(ua),isLinux:l(_r),isSolaris:l(xr),isFreeBSD:l(Gr),isChromeOS:l(da)}},Fn={unknown:Ta,nu:ka,windows:Ee(ia),ios:Ee(Zt),android:Ee(Cr),linux:Ee(_r),osx:Ee(ua),solaris:Ee(xr),freebsd:Ee(Gr),chromeos:Ee(da)},ma=function(r,o){var u=pn.browsers(),l=pn.oses(),f=_n.detectBrowser(u,r).fold(Qr.unknown,Qr.nu),m=_n.detectOs(l,r).fold(Fn.unknown,Fn.nu),w=Sr(m,f,r,o);return{browser:f,os:m,deviceType:w}},qr={detect:ma},ga=function(r){return window.matchMedia(r).matches},Ma=Qn(function(){return qr.detect(navigator.userAgent,ga)}),W=function(){return Ma()},ae=function(r,o,u){return(r.compareDocumentPosition(o)&u)!==0},be=function(r,o){return ae(r,o,Node.DOCUMENT_POSITION_CONTAINED_BY)},Oe=8,F=9,V=11,pe=1,Me=3,Re=function(r,o){var u=o||document,l=u.createElement("div");if(l.innerHTML=r,!l.hasChildNodes()||l.childNodes.length>1)throw console.error("HTML does not have a single root node",r),new Error("HTML must have a single root node");return H(l.childNodes[0])},pt=function(r,o){var u=o||document,l=u.createElement(r);return H(l)},O=function(r,o){var u=o||document,l=u.createTextNode(r);return H(l)},H=function(r){if(r==null)throw new Error("Node cannot be null or undefined");return{dom:r}},Z=function(r,o,u){return k.from(r.dom.elementFromPoint(o,u)).map(H)},U={fromHtml:Re,fromTag:pt,fromText:O,fromDom:H,fromPoint:Z},Ce=function(r,o){var u=r.dom;if(u.nodeType!==pe)return!1;var l=u;if(l.matches!==void 0)return l.matches(o);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(o);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(o);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(o);throw new Error("Browser lacks native selectors")},Be=function(r){return r.nodeType!==pe&&r.nodeType!==F&&r.nodeType!==V||r.childElementCount===0},It=function(r,o){var u=o===void 0?document:o.dom;return Be(u)?[]:ee(u.querySelectorAll(r),U.fromDom)},Kt=function(r,o){var u=o===void 0?document:o.dom;return Be(u)?k.none():k.from(u.querySelector(r)).map(U.fromDom)},it=function(r,o){return r.dom===o.dom},en=function(r,o){var u=r.dom,l=o.dom;return u===l?!1:u.contains(l)},Kn=function(r,o){return be(r.dom,o.dom)},Rr=function(r,o){return W().browser.isIE()?Kn(r,o):en(r,o)},Wn=Ce,er=Object.keys,ya=Object.hasOwnProperty,zr=function(r,o){for(var u=er(r),l=0,f=u.length;l<f;l++){var m=u[l],w=r[m];o(w,m)}},K=function(r,o){return fe(r,function(u,l){return{k:l,v:o(u,l)}})},fe=function(r,o){var u={};return zr(r,function(l,f){var m=o(l,f);u[m.k]=m.v}),u},Je=function(r){return function(o,u){r[u]=o}},Et=function(r,o,u,l){var f={};return zr(r,function(m,w){(o(m,w)?u:l)(m,w)}),f},Yt=function(r,o){var u={};return Et(r,o,Je(u),Xe),u},En=function(r,o){var u=[];return zr(r,function(l,f){u.push(o(l,f))}),u},Er=function(r){return En(r,function(o){return o})},kr=function(r){return er(r).length},ha=function(r,o){return ea(r,o)?k.from(r[o]):k.none()},ea=function(r,o){return ya.call(r,o)},M=function(r,o){return ea(r,o)&&r[o]!==void 0&&r[o]!==null},oe=function(r){for(var o in r)if(ya.call(r,o))return!1;return!0},ce=["tfoot","thead","tbody","colgroup"],ie=function(r){return Ve(ce,r)},yt=function(r,o){return{rows:r,columns:o}},bn=function(r,o){return{row:r,column:o}},tr=function(r,o,u){return{element:r,rowspan:o,colspan:u}},hr=function(r,o,u,l){return{element:r,rowspan:o,colspan:u,isNew:l}},Dn=function(r,o,u,l,f,m){return{element:r,rowspan:o,colspan:u,row:l,column:f,isLocked:m}},ta=function(r,o,u){return{element:r,cells:o,section:u}},Hr=function(r,o,u){return{element:r,isNew:o,isLocked:u}},Br=function(r,o,u,l){return{element:r,cells:o,section:u,isNew:l}},ii=function(r,o){return{cells:r,section:o}},Ai=function(r,o){return{details:r,section:o}},qo=function(r,o,u,l){return{startRow:r,startCol:o,finishRow:u,finishCol:l}},mu=function(r,o,u){return{element:r,colspan:o,column:u}};typeof window!="undefined"||Function("return this;")();var ar=function(r){var o=r.dom.nodeName;return o.toLowerCase()},gu=function(r){return r.dom.nodeType},Ko=function(r){return function(o){return gu(o)===r}},hu=function(r){return gu(r)===Oe||ar(r)==="#comment"},Xo=Ko(pe),fr=Ko(Me),Co=Ko(F),Kr=Ko(V),Do=function(r){return function(o){return Xo(o)&&ar(o)===r}},Fo=function(r){return U.fromDom(r.dom.ownerDocument)},_a=function(r){return Co(r)?r:Fo(r)},bc=function(r){return U.fromDom(_a(r).dom.defaultView)},C=function(r){return k.from(r.dom.parentNode).map(U.fromDom)},j=function(r,o){for(var u=ze(o)?o:cn,l=r.dom,f=[];l.parentNode!==null&&l.parentNode!==void 0;){var m=l.parentNode,w=U.fromDom(m);if(f.push(w),u(w)===!0)break;l=m}return f},ye=function(r){return k.from(r.dom.offsetParent).map(U.fromDom)},we=function(r){return k.from(r.dom.previousSibling).map(U.fromDom)},nt=function(r){return k.from(r.dom.nextSibling).map(U.fromDom)},b=function(r){return ee(r.dom.childNodes,U.fromDom)},P=function(r,o){var u=r.dom.childNodes;return k.from(u[o]).map(U.fromDom)},L=function(r){return P(r,0)},te=function(r){return Kr(r)&&Ct(r.dom.host)},q=ze(Element.prototype.attachShadow)&&ze(Node.prototype.getRootNode),gt=Ee(q),vn=q?function(r){return U.fromDom(r.dom.getRootNode())}:_a,Mt=function(r){var o=vn(r);return te(o)?k.some(o):k.none()},or=function(r){return U.fromDom(r.dom.host)},Pn=function(r){if(gt()&&Ct(r.target)){var o=U.fromDom(r.target);if(Xo(o)&&Xn(o)&&r.composed&&r.composedPath){var u=r.composedPath();if(u)return kt(u)}}return k.from(r.target)},Xn=function(r){return Ct(r.dom.shadowRoot)},La=function(r){var o=fr(r)?r.dom.parentNode:r.dom;if(o==null||o.ownerDocument===null)return!1;var u=o.ownerDocument;return Mt(U.fromDom(o)).fold(function(){return u.body.contains(o)},st(La,or))},so=function(){return Ei(U.fromDom(document))},Ei=function(r){var o=r.dom.body;if(o==null)throw new Error("Body is not available yet");return U.fromDom(o)},lo=function(r,o,u){return Tt(j(r,u),o)},ir=function(r,o){return Tt(b(r),o)},Da=function(r,o){var u=[];return Qe(b(r),function(l){o(l)&&(u=u.concat([l])),u=u.concat(Da(l,o))}),u},Ui=function(r,o,u){return lo(r,function(l){return Ce(l,o)},u)},pr=function(r,o){return ir(r,function(u){return Ce(u,o)})},fo=function(r,o){return It(o,r)};function Af(r,o,u,l,f){return r(u,l)?k.some(u):ze(f)&&f(u)?k.none():o(u,l,f)}var ja=function(r,o,u){for(var l=r.dom,f=ze(u)?u:cn;l.parentNode;){l=l.parentNode;var m=U.fromDom(l);if(o(m))return k.some(m);if(f(m))break}return k.none()},zd=function(r,o,u){var l=function(f,m){return m(f)};return Af(l,ja,r,o,u)},me=function(r,o){var u=function(f){return o(U.fromDom(f))},l=ne(r.dom.childNodes,u);return l.map(U.fromDom)},Po=function(r,o){var u=function(l){for(var f=0;f<l.childNodes.length;f++){var m=U.fromDom(l.childNodes[f]);if(o(m))return k.some(m);var w=u(l.childNodes[f]);if(w.isSome())return w}return k.none()};return u(r.dom)},Mi=function(r,o,u){return ja(r,function(l){return Ce(l,o)},u)},pu=function(r,o){return me(r,function(u){return Ce(u,o)})},vo=function(r,o){return Kt(o,r)},br=function(r,o,u){var l=function(f,m){return Ce(f,m)};return Af(l,Mi,r,o,u)},Nr=function(r,o,u){if(wt(u)||ut(u)||Bt(u))r.setAttribute(o,u+"");else throw console.error("Invalid call to Attribute.set. Key ",o,":: Value ",u,":: Element ",r),new Error("Attribute value was not simple")},$a=function(r,o,u){Nr(r.dom,o,u)},Wi=function(r,o){var u=r.dom;zr(o,function(l,f){Nr(u,f,l)})},mi=function(r,o){var u=r.dom.getAttribute(o);return u===null?void 0:u},Oa=function(r,o){return k.from(mi(r,o))},xt=function(r,o){r.dom.removeAttribute(o)},as=function(r){return an(r.dom.attributes,function(o,u){return o[u.name]=u.value,o},{})},bu=function(r){return r.style!==void 0&&ze(r.style.getPropertyValue)},os=function(r,o,u){if(!wt(u))throw console.error("Invalid call to CSS.set. Property ",o,":: Value ",u,":: Element ",r),new Error("CSS value must be a string: "+u);bu(r)&&r.style.setProperty(o,u)},ji=function(r,o){bu(r)&&r.style.removeProperty(o)},Ra=function(r,o,u){var l=r.dom;os(l,o,u)},Rt=function(r,o){var u=r.dom;zr(o,function(l,f){os(u,f,l)})},zo=function(r,o){var u=r.dom,l=window.getComputedStyle(u),f=l.getPropertyValue(o);return f===""&&!La(r)?Nu(u,o):f},Nu=function(r,o){return bu(r)?r.style.getPropertyValue(o):""},Bo=function(r,o){var u=r.dom,l=Nu(u,o);return k.from(l).filter(function(f){return f.length>0})},_i=function(r,o){var u=r.dom;ji(u,o),Oa(r,"style").map(Pr).is("")&&xt(r,"style")},is=function(r,o){var u=r.dom,l=o.dom;bu(u)&&bu(l)&&(l.style.cssText=u.style.cssText)},gi=function(r,o,u){return u===void 0&&(u=0),Oa(r,o).map(function(l){return parseInt(l,10)}).getOr(u)},Gi=function(r,o){return gi(r,o,1)},Ef=function(r){return Gi(r,"colspan")>1},us=function(r){return Gi(r,"rowspan")>1},cs=function(r,o){return parseInt(zo(r,o),10)},yu=Ee(10),il=Ee(10),Fa=function(r,o){return Vu(r,o,bt)},Vu=function(r,o,u){return ke(b(r),function(l){return Ce(l,o)?u(l)?[l]:[]:Vu(l,o,u)})},Bd=function(r,o,u){if(u===void 0&&(u=cn),u(o))return k.none();if(Ve(r,ar(o)))return k.some(o);var l=function(f){return Ce(f,"table")||u(f)};return Mi(o,r.join(","),l)},ul=function(r,o){return Bd(["td","th"],r,o)},qi=function(r){return Fa(r,"th,td")},Yo=function(r){return Ce(r,"colgroup")?pr(r,"col"):ke(sl(r),function(o){return pr(o,"col")})},Zr=function(r,o){return br(r,"table",o)},cl=function(r){return Fa(r,"tr")},sl=function(r){return Zr(r).fold(Ee([]),function(o){return pr(o,"colgroup")})},ss=function(r,o){return ee(r,function(u){if(ar(u)==="colgroup"){var l=ee(Yo(u),function(f){var m=gi(f,"span",1);return tr(f,1,m)});return ta(u,l,"colgroup")}else{var l=ee(qi(u),function(m){var w=gi(m,"rowspan",1),E=gi(m,"colspan",1);return tr(m,w,E)});return ta(u,l,o(u))}})},Mf=function(r){return C(r).map(function(o){var u=ar(o);return ie(u)?u:"tbody"}).getOr("tbody")},yc=function(r){var o=cl(r),u=sl(r),l=Gn(u,o);return ss(l,Mf)},ll=function(r,o){return ss(r,function(){return o})},ls=function(r,o,u){var l=r.cells,f=l.slice(0,o),m=l.slice(o),w=f.concat(u).concat(m);return fs(r,w)},fl=function(r,o,u){return ls(r,o,[u])},Uu=function(r,o,u){var l=r.cells;l[o]=u},fs=function(r,o){return ii(o,r.section)},vl=function(r,o){var u=r.cells,l=ee(u,o);return ii(l,r.section)},Jo=function(r,o){return r.cells[o]},Ga=function(r,o){return Jo(r,o).element},$o=function(r){return r.cells.length},Na=function(r){var o=Jt(r,function(u){return u.section==="colgroup"});return{rows:o.fail,cols:o.pass}},wc="data-snooker-locked-cols",_f=function(r){return Oa(r,wc).bind(function(o){return k.from(o.match(/\d+/g))}).map(function(o){return z(o,bt)})},Ki=function(r){var o=an(Na(r).rows,function(l,f){return Qe(f.cells,function(m,w){m.isLocked&&(l[w]=!0)}),l},{}),u=En(o,function(l,f){return parseInt(f,10)});return ve(u)},vs=function(r,o){return r+","+o},$d=function(r,o,u){var l=r.access[vs(o,u)];return l!==void 0?k.some(l):k.none()},Df=function(r,o,u){var l=xc(r,function(f){return u(o,f.element)});return l.length>0?k.some(l[0]):k.none()},xc=function(r,o){var u=ke(r.all,function(l){return l.cells});return Tt(u,o)},Rd=function(r){var o={},u=0;return Qe(r.cells,function(l){var f=l.colspan;he(f,function(m){var w=u+m;o[w]=mu(l.element,f,w)}),u+=f}),o},Ff=function(r){var o={},u=[],l={},f=kt(r).map(function(Q){return Q.element}).bind(Zr),m=f.bind(_f).getOr({}),w=0,E=0,A=0;Qe(r,function(Q){if(Q.section==="colgroup")l=Rd(Q);else{var et=[];Qe(Q.cells,function(je){for(var at=0;o[vs(A,at)]!==void 0;)at++;for(var xe=M(m,at.toString()),Pe=Dn(je.element,je.rowspan,je.colspan,A,at,xe),ot=0;ot<je.colspan;ot++)for(var fn=0;fn<je.rowspan;fn++){var jn=A+fn,On=at+ot,rr=vs(jn,On);o[rr]=Pe,E=Math.max(E,On+1)}et.push(Pe)}),w++,u.push(ta(Q.element,et,Q.section)),A++}});var N=yt(w,E);return{grid:N,access:o,all:u,columns:l}},Hd=function(r){var o=yc(r);return Ff(o)},Pf=function(r){return ke(r.all,function(o){return o.cells})},Ro=function(r){return Er(r.columns)},Id=function(r){return er(r.columns).length>0},Ld=function(r,o){return k.from(r.columns[o])},In={fromTable:Hd,generate:Ff,getAt:$d,findItem:Df,filterItems:xc,justCells:Pf,justColumns:Ro,hasColumns:Id,getColumnAt:Ld},zf=function(r,o){var u=o.column,l=o.column+o.colspan-1,f=o.row,m=o.row+o.rowspan-1;return u<=r.finishCol&&l>=r.startCol&&f<=r.finishRow&&m>=r.startRow},ds=function(r,o){return o.column>=r.startCol&&o.column+o.colspan-1<=r.finishCol&&o.row>=r.startRow&&o.row+o.rowspan-1<=r.finishRow},Bf=function(r,o){for(var u=!0,l=$(ds,o),f=o.startRow;f<=o.finishRow;f++)for(var m=o.startCol;m<=o.finishCol;m++)u=u&&In.getAt(r,f,m).exists(l);return u?k.some(o):k.none()},$f=function(r,o){return qo(Math.min(r.row,o.row),Math.min(r.column,o.column),Math.max(r.row+r.rowspan-1,o.row+o.rowspan-1),Math.max(r.column+r.colspan-1,o.column+o.colspan-1))},Sc=function(r,o,u){var l=In.findItem(r,o,it),f=In.findItem(r,u,it);return l.bind(function(m){return f.map(function(w){return $f(m,w)})})},Rf=function(r,o,u){return Sc(r,o,u).bind(function(l){return Bf(r,l)})},Nd=function(r,o,u,l){return In.findItem(r,o,it).bind(function(f){var m=u>0?f.row+f.rowspan-1:f.row,w=l>0?f.column+f.colspan-1:f.column,E=In.getAt(r,m+u,w+l);return E.map(function(A){return A.element})})},wa=function(r,o,u){return Sc(r,o,u).map(function(l){var f=In.filterItems(r,$(zf,l));return ee(f,function(m){return m.element})})},Hf=function(r,o){var u=function(l,f){return Rr(f,l)};return In.findItem(r,o,u).map(function(l){return l.element})},Vd=function(r,o,u){return Zr(r).bind(function(l){var f=T(l);return Nd(f,r,o,u)})},ms=function(r,o,u){var l=T(r);return wa(l,o,u)},gs=function(r,o,u,l,f){var m=T(r),w=it(r,u)?k.some(o):Hf(m,o),E=it(r,f)?k.some(l):Hf(m,l);return w.bind(function(A){return E.bind(function(N){return wa(m,A,N)})})},p=function(r,o,u){var l=T(r);return Rf(l,o,u)},T=In.fromTable,_=function(r,o){var u=C(r);u.each(function(l){l.dom.insertBefore(o.dom,r.dom)})},X=function(r,o){var u=nt(r);u.fold(function(){var l=C(r);l.each(function(f){We(f,o)})},function(l){_(l,o)})},se=function(r,o){var u=L(r);u.fold(function(){We(r,o)},function(l){r.dom.insertBefore(o.dom,l.dom)})},We=function(r,o){r.dom.appendChild(o.dom)},dn=function(r,o){_(r,o),We(o,r)},Rn=function(r,o){Qe(o,function(u){_(r,u)})},zn=function(r,o){Qe(o,function(u,l){var f=l===0?r:o[l-1];X(f,u)})},Hn=function(r,o){Qe(o,function(u){We(r,u)})},$r=function(r){r.dom.textContent="",Qe(b(r),function(o){Xr(o)})},Xr=function(r){var o=r.dom;o.parentNode!==null&&o.parentNode.removeChild(o)},If=function(r){var o=b(r);o.length>0&&Rn(r,o),Xr(r)},hi=function(r,o){var u=function(m){if(!r(m))throw new Error("Can only get "+o+" value of a "+o+" node");return l(m).getOr("")},l=function(m){return r(m)?k.from(m.dom.nodeValue):k.none()},f=function(m,w){if(!r(m))throw new Error("Can only set raw "+o+" value of a "+o+" node");m.dom.nodeValue=w};return{get:u,getOption:l,set:f}},hs=hi(fr,"text"),ps=function(r){return hs.get(r)},Lf=function(r){return hs.getOption(r)},Wu=function(r,o){return hs.set(r,o)},ju=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Nf(){var r=function(A){return U.fromDom(A.dom.cloneNode(!1))},o=function(A){return _a(A).dom},u=function(A){return Xo(A)?ar(A)==="body"?!0:Ve(ju,ar(A)):!1},l=function(A){return Xo(A)?Ve(["br","img","hr","input"],ar(A)):!1},f=function(A){return Xo(A)&&mi(A,"contenteditable")==="false"},m=function(A,N){return A.dom.compareDocumentPosition(N.dom)},w=function(A,N){var Q=as(A);Wi(N,Q)},E=function(A){var N=ar(A);return Ve(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],N)};return{up:Ee({selector:Mi,closest:br,predicate:ja,all:j}),down:Ee({selector:fo,predicate:Da}),styles:Ee({get:zo,getRaw:Bo,set:Ra,remove:_i}),attrs:Ee({get:mi,set:$a,remove:xt,copyTo:w}),insert:Ee({before:_,after:X,afterAll:zn,append:We,appendAll:Hn,prepend:se,wrap:dn}),remove:Ee({unwrap:If,remove:Xr}),create:Ee({nu:U.fromTag,clone:r,text:U.fromText}),query:Ee({comparePosition:m,prevSibling:we,nextSibling:nt}),property:Ee({children:b,name:ar,parent:C,document:o,isText:fr,isComment:hu,isElement:Xo,isSpecial:E,getText:ps,setText:Wu,isBoundary:u,isEmptyTag:l,isNonEditable:f}),eq:it,is:Wn}}var Vf=function(r,o,u,l){var f=u[0],m=u.slice(1);return l(r,o,f,m)},Mb=function(r,o,u){return u.length>0?Vf(r,o,u,bs):k.none()},bs=function(r,o,u,l){var f=o(r,u);return Ot(l,function(m,w){var E=o(r,w);return dl(r,m,E)},f)},dl=function(r,o,u){return o.bind(function(l){return u.filter($(r.eq,l))})},ml=function(r,o){return $(r.eq,o)},Ud=function(r,o,u,l){l===void 0&&(l=cn);var f=[o].concat(r.up().all(o)),m=[u].concat(r.up().all(u)),w=function(Q){var et=Le(Q,l);return et.fold(function(){return Q},function(je){return Q.slice(0,je+1)})},E=w(f),A=w(m),N=ne(E,function(Q){return g(A,ml(r,Q))});return{firstpath:E,secondpath:A,shared:N}},_b=Mb,pa=Ud,vh=Nf(),Xi=function(r,o){return _b(vh,function(u,l){return r(l)},o)},Wd=function(r,o,u){return pa(vh,r,o,u)},gl=function(r){return Mi(r,"table")},Yi=function(r,o,u){var l=function(f){return function(m){return u!==void 0&&u(m)||it(m,f)}};return it(r,o)?k.some({boxes:k.some([r]),start:r,finish:o}):gl(r).bind(function(f){return gl(o).bind(function(m){if(it(f,m))return k.some({boxes:ms(f,r,o),start:r,finish:o});if(Rr(f,m)){var w=Ui(o,"td,th",l(f)),E=w.length>0?w[w.length-1]:o;return k.some({boxes:gs(f,r,f,o,m),start:r,finish:E})}else if(Rr(m,f)){var w=Ui(r,"td,th",l(m)),A=w.length>0?w[w.length-1]:r;return k.some({boxes:gs(m,r,f,o,m),start:r,finish:A})}else return Wd(r,o).shared.bind(function(N){return br(N,"table",u).bind(function(Q){var et=Ui(o,"td,th",l(Q)),je=et.length>0?et[et.length-1]:o,at=Ui(r,"td,th",l(Q)),xe=at.length>0?at[at.length-1]:r;return k.some({boxes:gs(Q,r,f,o,m),start:xe,finish:je})})})})})},To=function(r,o){var u=fo(r,o);return u.length>0?k.some(u):k.none()},hl=function(r,o){return ne(r,function(u){return Ce(u,o)})},ys=function(r,o,u){return vo(r,o).bind(function(l){return vo(r,u).bind(function(f){return Xi(gl,[l,f]).map(function(m){return{first:l,last:f,table:m}})})})},Db=function(r,o){return Mi(r,"table").bind(function(u){return vo(u,o).bind(function(l){return Yi(l,r).bind(function(f){return f.boxes.map(function(m){return{boxes:m,start:f.start,finish:f.finish}})})})})},Uf=function(r,o,u,l,f){return hl(r,f).bind(function(m){return Vd(m,o,u).bind(function(w){return Db(w,l)})})},Wf=function(r,o){return To(r,o)},jf=function(r,o,u){return ys(r,o,u).bind(function(l){var f=function(A){return it(r,A)},m="thead,tfoot,tbody,table",w=Mi(l.first,m,f),E=Mi(l.last,m,f);return w.bind(function(A){return E.bind(function(N){return it(A,N)?p(l.table,l.first,l.last):k.none()})})})},Fb=function(r){if(!Pt(r))throw new Error("cases must be an array");if(r.length===0)throw new Error("there must be at least one case");var o=[],u={};return Qe(r,function(l,f){var m=er(l);if(m.length!==1)throw new Error("one and only one name per case");var w=m[0],E=l[w];if(u[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Pt(E))throw new Error("case arguments must be an array");o.push(w),u[w]=function(){for(var A=[],N=0;N<arguments.length;N++)A[N]=arguments[N];var Q=A.length;if(Q!==E.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+E.length+" ("+E+"), got "+Q);var et=function(je){var at=er(je);if(o.length!==at.length)throw new Error("Wrong number of arguments to match. Expected: "+o.join(",")+`
Actual: `+at.join(","));var xe=Y(o,function(Pe){return Ve(at,Pe)});if(!xe)throw new Error("Not all branches were specified when using match. Specified: "+at.join(", ")+`
Required: `+o.join(", "));return je[w].apply(null,A)};return{fold:function(){for(var je=[],at=0;at<arguments.length;at++)je[at]=arguments[at];if(je.length!==r.length)throw new Error("Wrong number of arguments to fold. Expected "+r.length+", got "+je.length);var xe=je[f];return xe.apply(null,A)},match:et,log:function(je){console.log(je,{constructors:o,constructor:w,params:A})}}}}),u},wu={generate:Fb},pl=wu.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),ws=function(r,o,u,l){return r.fold(o,u,l)},Cc=pl.none,bl=pl.multiple,xs=pl.single,dh=function(r,o,u){var l=function(){return Wf(r(),u).fold(function(){return o().map(xs).getOrThunk(Cc)},function(f){return bl(f)})};return{get:l}},mh=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gf=function(r,o){return U.fromDom(r.dom.cloneNode(o))},jd=function(r){return Gf(r,!1)},Tc=function(r){return Gf(r,!0)},gh=function(r,o){var u=U.fromTag(o),l=as(r);return Wi(u,l),u},Gd=function(r,o){var u=gh(r,o),l=b(Tc(r));return Hn(u,l),u},ur=function(r){for(var o=[],u=function(f){o.push(f)},l=0;l<r.length;l++)r[l].each(u);return o},Cn=function(r,o,u){return r.isSome()&&o.isSome()?k.some(u(r.getOrDie(),o.getOrDie())):k.none()},kc=function(r,o){return r!=null?o(r):k.none()},qf=function(r,o){return r?k.some(o):k.none()},Kf=function(r,o){var u=function(E,A){if(!Bt(A)&&!A.match(/^[0-9]+$/))throw new Error(r+".set accepts only positive integer values. Value was "+A);var N=E.dom;bu(N)&&(N.style[r]=A+"px")},l=function(E){var A=o(E);if(A<=0||A===null){var N=zo(E,r);return parseFloat(N)||0}return A},f=l,m=function(E,A){return an(A,function(N,Q){var et=zo(E,Q),je=et===void 0?0:parseInt(et,10);return isNaN(je)?N:N+je},0)},w=function(E,A,N){var Q=m(E,N),et=A>Q?A-Q:0;return et};return{set:u,get:l,getOuter:f,aggregate:m,max:w}},qd=Kf("width",function(r){return r.dom.offsetWidth}),cr=function(r){return qd.get(r)},Xf=function(r){return qd.getOuter(r)},Kd=function(r,o){o===void 0&&(o=bt);var u=r.grid,l=he(u.columns,Gt),f=he(u.rows,Gt);return ee(l,function(m){var w=function(){return ke(f,function(N){return In.getAt(r,N,m).filter(function(Q){return Q.column===m}).toArray()})},E=function(N){return N.colspan===1&&o(N.element)},A=function(){return In.getAt(r,0,m)};return Xd(w,E,A)})},Xd=function(r,o,u){var l=r(),f=ne(l,o),m=f.orThunk(function(){return k.from(l[0]).orThunk(u)});return m.map(function(w){return w.element})},Ze=function(r){var o=r.grid,u=he(o.rows,Gt),l=he(o.columns,Gt);return ee(u,function(f){var m=function(){return ke(l,function(A){return In.getAt(r,f,A).filter(function(N){return N.row===f}).fold(Ee([]),function(N){return[N]})})},w=function(A){return A.rowspan===1},E=function(){return In.getAt(r,f,0)};return Xd(m,w,E)})},Yd=function(r,o){if(o<0||o>=r.length-1)return k.none();var u=r[o].fold(function(){var f=Se(r.slice(0,o));return ln(f,function(m,w){return m.map(function(E){return{value:E,delta:w+1}})})},function(f){return k.some({value:f,delta:0})}),l=r[o+1].fold(function(){var f=r.slice(o+1);return ln(f,function(m,w){return m.map(function(E){return{value:E,delta:w+1}})})},function(f){return k.some({value:f,delta:1})});return u.bind(function(f){return l.map(function(m){var w=m.delta+f.delta;return Math.abs(m.value-f.value)/w})})},hh=function(r,o){return function(u){return Yf(u)==="rtl"?o:r}},Yf=function(r){return zo(r,"direction")==="rtl"?"rtl":"ltr"},ph=Kf("height",function(r){var o=r.dom;return La(r)?o.getBoundingClientRect().height:o.offsetHeight}),xu=function(r){return ph.get(r)},Jf=function(r){return ph.getOuter(r)},Gu=function(r,o){var u=function(l,f){return Gu(r+l,o+f)};return{left:r,top:o,translate:u}},Su=Gu,Ss=function(r){var o=r.getBoundingClientRect();return Su(o.left,o.top)},na=function(r,o){return r!==void 0?r:o!==void 0?o:0},ui=function(r){var o=r.dom.ownerDocument,u=o.body,l=o.defaultView,f=o.documentElement;if(u===r.dom)return Su(u.offsetLeft,u.offsetTop);var m=na(l==null?void 0:l.pageYOffset,f.scrollTop),w=na(l==null?void 0:l.pageXOffset,f.scrollLeft),E=na(f.clientTop,u.clientTop),A=na(f.clientLeft,u.clientLeft);return Pb(r).translate(w-A,m-E)},Pb=function(r){var o=r.dom,u=o.ownerDocument,l=u.body;return l===o?Su(l.offsetLeft,l.offsetTop):La(r)?Ss(o):Su(0,0)},Ji=function(r,o){return{row:r,y:o}},Di=function(r,o){return{col:r,x:o}},bh=function(r){var o=ui(r);return o.left+Xf(r)},yl=function(r){return ui(r).left},qu=function(r,o){return Di(r,yl(o))},Oc=function(r,o){return Di(r,bh(o))},Jd=function(r){return ui(r).top},zb=function(r,o){return Ji(r,Jd(o))},Fi=function(r,o){return Ji(r,Jd(o)+Jf(o))},Cs=function(r,o,u){if(u.length===0)return[];var l=ee(u.slice(1),function(m,w){return m.map(function(E){return r(w,E)})}),f=u[u.length-1].map(function(m){return o(u.length-1,m)});return l.concat([f])},Zd=function(r){return-r},Ts={delta:Gt,positions:function(r){return Cs(zb,Fi,r)},edge:Jd},Ho={delta:Gt,edge:yl,positions:function(r){return Cs(qu,Oc,r)}},Bb={delta:Zd,edge:bh,positions:function(r){return Cs(Oc,qu,r)}},Zf=hh(Ho,Bb),Qf={delta:function(r,o){return Zf(o).delta(r,o)},positions:function(r,o){return Zf(o).positions(r,o)},edge:function(r){return Zf(r).edge(r)}},Pi={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Qd=function(){var r="[0-9]+",o="[+-]?"+r,u="[eE]"+o,l="\\.",f=function(E){return"(?:"+E+")?"},m=["Infinity",r+l+f(r)+f(u),l+r+f(u),r+f(u)].join("|"),w="[+-]?(?:"+m+")";return new RegExp("^("+w+")(.*)$")}(),$b=function(r,o){return g(o,function(u){return g(Pi[u],function(l){return r===l})})},em=function(r,o){var u=k.from(Qd.exec(r));return u.bind(function(l){var f=Number(l[1]),m=l[2];return $b(m,o)?k.some({value:f,unit:m}):k.none()})},tm=function(){var r=W().browser;return r.isIE()||r.isEdge()},Rb=function(r,o){var u=parseFloat(r);return isNaN(u)?o:u},Va=function(r,o,u){return Rb(zo(r,o),u)},ev=function(r){var o=r.dom.getBoundingClientRect().height,u=zo(r,"box-sizing");if(u==="border-box")return o;var l=Va(r,"padding-top",0),f=Va(r,"padding-bottom",0),m=Va(r,"border-top-width",0),w=Va(r,"border-bottom-width",0),E=m+w;return o-l-f-E},Hb=function(r){var o=r.dom.getBoundingClientRect().width,u=zo(r,"box-sizing");if(u==="border-box")return o;var l=Va(r,"padding-left",0),f=Va(r,"padding-right",0),m=Va(r,"border-left-width",0),w=Va(r,"border-right-width",0),E=m+w;return o-l-f-E},yh=function(r){return tm()?ev(r):Va(r,"height",xu(r))},nm=function(r){return tm()?Hb(r):Va(r,"width",cr(r))},tv=/(\d+(\.\d+)?)%/,rm=/(\d+(\.\d+)?)px|em/,nv=function(r,o){var u=ye(r).getOr(Ei(Fo(r)));return o(r)/o(u)*100},wh=function(r,o){Ra(r,"width",o+"px")},xh=function(r,o){Ra(r,"width",o+"%")},Io=function(r,o){Ra(r,"height",o+"px")},Ib=function(r){return Bo(r,"height").getOrThunk(function(){return yh(r)+"px"})},Lb=function(r,o,u,l){var f=Zr(r).map(function(m){var w=u(m);return Math.floor(o/100*w)}).getOr(o);return l(r,f),f},Sh=function(r,o,u,l){var f=parseInt(r,10);return lr(r,"%")&&ar(o)!=="table"?Lb(o,f,u,l):f},am=function(r){var o=Ib(r);return o?Sh(o,r,xu,Io):xu(r)},Ku=function(r,o,u){var l=u(r),f=Gi(r,o);return l/f},Ac=function(r){var o=Bo(r,"width");return o.fold(function(){return k.from(mi(r,"width"))},function(u){return k.some(u)})},Ch=function(r,o){return r/o.pixelWidth()*100},om=function(r,o,u){var l=tv.exec(o);if(l!==null)return parseFloat(l[1]);var f=nm(r);return Ch(f,u)},wl=function(r,o){var u=Ac(r);return u.fold(function(){var l=cr(r);return Ch(l,o)},function(l){return om(r,l,o)})},Nb=function(r,o){return r/100*o.pixelWidth()},Th=function(r,o,u){var l=rm.exec(o);if(l!==null)return parseInt(l[1],10);var f=tv.exec(o);if(f!==null){var m=parseFloat(f[1]);return Nb(m,u)}return nm(r)},sr=function(r,o){var u=Ac(r);return u.fold(function(){return nm(r)},function(l){return Th(r,l,o)})},kh=function(r){return Ku(r,"rowspan",am)},mo=function(r){var o=Ac(r);return o.bind(function(u){return em(u,["fixed","relative","empty"])})},Ec=function(r,o,u){Ra(r,"width",o+u)},Oh=function(r){return cr(r)+"px"},Lo=function(r){return nv(r,cr)+"%"},Vb=function(r){return Ac(r).exists(function(o){return tv.test(o)})},Ub=function(r){return Ac(r).exists(function(o){return rm.test(o)})},Wb=function(r){return Ac(r).isNone()},Xu=Ee(tv),jb=Ee(rm),Ah=Do("col"),Eh=function(r,o,u){return Bo(r,o).fold(function(){return u(r)+"px"},function(l){return l})},Mh=function(r,o){var u=function(l){return Ah(l)?cr(l):sr(l,o)};return Eh(r,"width",u)},sn=function(r){return Eh(r,"height",kh)},Gb=function(r){return ee(In.justColumns(r),function(o){return k.from(o.element)})},_h=function(r,o){return Bo(r,o).isSome()},qb=function(r){return!Ah(r)||_h(r,"width")},rv=function(r,o,u,l,f,m){return r.filter(l).fold(function(){return m(Yd(u,o))},function(w){return f(w)})},im=function(r,o,u,l,f){var m=Kd(r,function(N){return _h(N,"width")}),w=In.hasColumns(r)?Gb(r):m,E=[k.some(Qf.edge(o))].concat(ee(Qf.positions(m,o),function(N){return N.map(function(Q){return Q.x})})),A=_e(Ef);return ee(w,function(N,Q){return rv(N,Q,E,A,function(et){if(qb(et))return u(et,f);var je=kc(m[Q],Gt);return rv(je,Q,E,A,function(at){return l(k.some(cr(at)))},l)},l)})},av=function(r){return r.map(function(o){return o+"px"}).getOr("")},xl=function(r,o,u){return im(r,o,Mh,av,u)},Sl=function(r,o,u){return im(r,o,wl,function(l){return l.fold(function(){return u.minCellWidth()},function(f){return f/u.pixelWidth()*100})},u)},um=function(r,o,u){return im(r,o,sr,function(l){return l.getOrThunk(u.minCellWidth)},u)},Cl=function(r,o,u,l,f){var m=Ze(r),w=[k.some(u.edge(o))].concat(ee(u.positions(m,o),function(E){return E.map(function(A){return A.y})}));return ee(m,function(E,A){return rv(E,A,w,_e(us),l,f)})},Kb=function(r,o,u){return Cl(r,o,u,kh,function(l){return l.getOrThunk(il)})},Xb=function(r,o,u){return Cl(r,o,u,sn,av)},No=function(r){var o=r,u=function(){return o},l=function(f){o=f};return{get:u,set:l}},ov=function(r){var o=function(){return cr(r)},u=Ee(0),l=function(f,m){return um(f,r,m)};return{width:o,pixelWidth:o,getWidths:l,getCellDelta:u,singleColumnWidth:Ee([0]),minCellWidth:u,setElementWidth:Xe,adjustTableWidth:Xe,isRelative:!0,label:"none"}},Dh=function(r,o){var u=No(parseFloat(r)),l=No(cr(o)),f=function(N){return N/l.get()*100},m=function(N,Q){return[100-N]},w=function(){return yu()/l.get()*100},E=function(N){var Q=u.get(),et=N/100*Q,je=Q+et;xh(o,je),u.set(je),l.set(cr(o))},A=function(N,Q){return Sl(N,o,Q)};return{width:u.get,pixelWidth:l.get,getWidths:A,getCellDelta:f,singleColumnWidth:m,minCellWidth:w,setElementWidth:xh,adjustTableWidth:E,isRelative:!0,label:"percent"}},iv=function(r,o){var u=No(r),l=u.get,f=Gt,m=function(A,N){var Q=Math.max(yu(),A+N);return[Q-A]},w=function(A){var N=l()+A;wh(o,N),u.set(N)},E=function(A,N){return um(A,o,N)};return{width:l,pixelWidth:l,getWidths:E,getCellDelta:f,singleColumnWidth:m,minCellWidth:yu,setElementWidth:wh,adjustTableWidth:w,isRelative:!1,label:"pixel"}},Fh=function(r,o){var u=Xu().exec(o);if(u!==null)return Dh(u[1],r);var l=jb().exec(o);if(l!==null){var f=parseInt(l[1],10);return iv(f,r)}var m=cr(r);return iv(m,r)},Yb=function(r){var o=Ac(r);return o.fold(function(){return ov(r)},function(u){return Fh(r,u)})},Cu={getTableSize:Yb,pixelSize:iv,percentageSize:Dh,noneSize:ov},zi=function(r,o,u,l,f,m){return{minRow:r,minCol:o,maxRow:u,maxCol:l,allCells:f,selectedCells:m}},ci=function(r,o){var u=r.grid.columns,l=r.grid.rows,f=l,m=u,w=0,E=0,A=[],N=[];return zr(r.access,function(Q){if(A.push(Q),o(Q)){N.push(Q);var et=Q.row,je=et+Q.rowspan-1,at=Q.column,xe=at+Q.colspan-1;et<f?f=et:je>w&&(w=je),at<m?m=at:xe>E&&(E=xe)}}),zi(f,m,w,E,A,N)},Jb=function(r,o,u){var l=r[u].element,f=U.fromTag("td");We(f,U.fromTag("br"));var m=o?We:se;m(l,f)},Zb=function(r,o,u,l){for(var f=o.grid.columns,m=o.grid.rows,w=0;w<m;w++)for(var E=!1,A=0;A<f;A++)if(!(w<u.minRow||w>u.maxRow||A<u.minCol||A>u.maxCol)){var N=In.getAt(o,w,A).filter(l).isNone();N?Jb(r,E,w):E=!0}},Qb=function(r,o,u,l){zr(u.columns,function(w){(w.column<o.minCol||w.column>o.maxCol)&&Xr(w.element)});var f=Tt(Fa(r,"tr"),function(w){return w.dom.childElementCount===0});Qe(f,Xr),(o.minCol===o.maxCol||o.minRow===o.maxRow)&&Qe(Fa(r,"th,td"),function(w){xt(w,"rowspan"),xt(w,"colspan")}),xt(r,wc),xt(r,"data-snooker-col-series");var m=Cu.getTableSize(r);m.adjustTableWidth(l)},Ph=function(r,o,u,l){if(l.minCol===0&&o.grid.columns===l.maxCol+1)return 0;var f=um(o,r,u),m=an(f,function(N,Q){return N+Q},0),w=an(f.slice(l.minCol,l.maxCol+1),function(N,Q){return N+Q},0),E=w/m*u.pixelWidth(),A=E-u.pixelWidth();return u.getCellDelta(A)},pi=function(r,o){var u=function(je){return Ce(je.element,o)},l=Tc(r),f=yc(l),m=Cu.getTableSize(r),w=In.generate(f),E=ci(w,u),A="th:not("+o+"),td:not("+o+")",N=Vu(l,"th,td",function(je){return Ce(je,A)});Qe(N,Xr),Zb(f,w,E,u);var Q=In.fromTable(r),et=Ph(r,Q,m,E);return Qb(l,E,w,et),l},zh="\xA0",Yu=function(r){return ar(r)==="img"?1:Lf(r).fold(function(){return b(r).length},function(o){return o.length})},ey=function(r){return Lf(r).filter(function(o){return o.trim().length!==0||o.indexOf(zh)>-1}).isSome()},ty=["img","br"],Bh=function(r){var o=ey(r);return o||Ve(ty,ar(r))},uv=function(r){return Po(r,Bh)},Tl=function(r){return ny(r,Bh)},ny=function(r,o){var u=function(l){for(var f=b(l),m=f.length-1;m>=0;m--){var w=f[m];if(o(w))return k.some(w);var E=u(w);if(E.isSome())return E}return k.none()};return u(r)},ry={scope:["row","col"]},cm=function(){var r=U.fromTag("td");return We(r,U.fromTag("br")),r},ay=function(){return U.fromTag("col")},$h=function(){return U.fromTag("colgroup")},oy=function(r,o,u){var l=Gd(r,o);return zr(u,function(f,m){f===null?xt(l,m):$a(l,m,f)}),l},iy=function(r){return r},Rh=function(r){return function(){return U.fromTag("tr",r.dom)}},Mc=function(r,o,u){var l=uv(r);return l.map(function(f){var m=u.join(","),w=Ui(f,m,function(E){return it(E,r)});return Ot(w,function(E,A){var N=jd(A);return xt(N,"contenteditable"),We(E,N),N},o)}).getOr(o)},uy=function(r,o){zr(ry,function(u,l){return Oa(r,l).filter(function(f){return Ve(u,f)}).each(function(f){return $a(o,l,f)})})},sm=function(r,o,u){var l=function(w,E){is(w.element,E),_i(E,"height"),w.colspan!==1&&_i(E,"width")},f=function(w){var E=Fo(w.element),A=U.fromTag(ar(w.element),E.dom),N=u.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Q=N.length>0?Mc(w.element,A,N):A;return We(Q,U.fromTag("br")),l(w,A),uy(w.element,A),r(w.element,A),A},m=function(w){var E=Fo(w.element),A=U.fromTag(ar(w.element),E.dom);return l(w,A),r(w.element,A),A};return{col:m,colgroup:$h,row:Rh(o),cell:f,replace:oy,gap:cm}},Hh=function(r){return{col:ay,colgroup:$h,row:Rh(r),cell:cm,replace:iy,gap:cm}},cy=function(r,o){var u=o||document,l=u.createElement("div");return l.innerHTML=r,b(U.fromDom(l))},cv=function(r){return ee(r,U.fromDom)},ks=function(r){return r.nodeName.toLowerCase()},_c=function(r){return U.fromDom(r.getBody())},kl=function(r){return r.getBoundingClientRect().width},Ih=function(r){return r.getBoundingClientRect().height},Os=function(r){return function(o){return it(o,_c(r))}},sy=function(r){return r?r.replace(/px$/,""):""},Yr=function(r){return/^\d+(\.\d+)?$/.test(r)?r+"px":r},Dc=function(r){xt(r,"data-mce-style");var o=function(u){return xt(u,"data-mce-style")};Qe(qi(r),o),Qe(Yo(r),o)},xa=function(r,o){var u=r.dom.getStyle(o,"width")||r.dom.getAttrib(o,"width");return k.from(u).filter(ue)},Bi=function(r){return/^(\d+(\.\d+)?)%$/.test(r)},Ol=function(r){return/^(\d+(\.\d+)?)px$/.test(r)},Ha=function(r){return U.fromDom(r.selection.getStart())},Ju=function(r){return ws(r.get(),Ee([]),Gt,ge)},$i=function(r){var o=function(f,m){return Oa(f,m).exists(function(w){return parseInt(w,10)>1})},u=function(f){return o(f,"rowspan")||o(f,"colspan")},l=Ju(r);return l.length>0&&Y(l,u)?k.some(l):k.none()},Tu=function(r,o,u){return ws(o.get(),k.none,function(l){return l.length<=1?k.none():jf(r,u.firstSelectedSelector,u.lastSelectedSelector).map(function(f){return{bounds:f,cells:l}})},k.none)},sv="data-mce-selected",lm="td["+sv+"],th["+sv+"]",Lh="["+sv+"]",Ln="data-mce-first-selected",As="td["+Ln+"],th["+Ln+"]",Al="data-mce-last-selected",bi="td["+Al+"],th["+Al+"]",Nh=Lh,la={selected:sv,selectedSelector:lm,firstSelected:Ln,firstSelectedSelector:As,lastSelected:Al,lastSelectedSelector:bi},ly=function(r){return{element:r,mergable:k.none(),unmergable:k.none(),selection:[r]}},Es=function(r,o,u){return{element:u,mergable:Tu(o,r,la),unmergable:$i(r),selection:Ju(r)}},Ur=function(r,o,u){return{element:r,clipboard:o,generators:u}},El=function(r,o,u,l){return{selection:Ju(r),clipboard:u,generators:l}},Zu=function(r){return Zr(r[0]).map(function(o){var u=pi(o,Nh);return Dc(u),[u]})},Ml=function(r,o){return ee(o,function(u){return r.selection.serializer.serialize(u.dom,{})}).join("")},fy=function(r){return ee(r,function(o){return o.dom.innerText}).join("")},vy=function(r,o,u,l){r.on("BeforeGetContent",function(f){var m=function(w){f.preventDefault(),Zu(w).each(function(E){f.content=f.format==="text"?fy(E):Ml(r,E)})};f.selection===!0&&ws(o.get(),Xe,m,Xe)}),r.on("BeforeSetContent",function(f){if(f.selection===!0&&f.paste===!0){var m=k.from(r.dom.getParent(r.selection.getStart(),"th,td"));m.each(function(w){var E=U.fromDom(w);Zr(E).each(function(A){var N=Tt(cy(f.content),function(xe){return ar(xe)!=="meta"}),Q=function(xe){return ar(xe)==="table"};if(N.length===1&&Q(N[0])){f.preventDefault();var et=U.fromDom(r.getDoc()),je=Hh(et),at=Ur(E,N[0],je);u.pasteCells(A,at).each(function(xe){r.selection.setRng(xe.rng),r.focus(),l.clear(A)})}})})}})},dy=wu.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Ms=on({},dy),my=function(r,o){return r.length===0?Ms.none():r.length===1?Ms.only(0):o===0?Ms.left(0,1):o===r.length-1?Ms.right(o-1,o):o>0&&o<r.length-1?Ms.middle(o-1,o,o+1):Ms.none()},gy=function(r,o,u,l,f){var m=r.slice(0),w=my(r,o),E=Ee(ee(m,Ee(0))),A=function(je){return l.singleColumnWidth(m[je],u)},N=function(je,at){return f.calcLeftEdgeDeltas(m,je,at,u,l.minCellWidth(),l.isRelative)},Q=function(je,at,xe){return f.calcMiddleDeltas(m,je,at,xe,u,l.minCellWidth(),l.isRelative)},et=function(je,at){return f.calcRightEdgeDeltas(m,je,at,u,l.minCellWidth(),l.isRelative)};return w.fold(E,A,N,Q,et)},Vh=function(r,o,u){for(var l=0,f=r;f<o;f++)l+=u[f]!==void 0?u[f]:0;return l},hy=function(r,o){var u=In.justCells(r);return ee(u,function(l){var f=Vh(l.column,l.column+l.colspan,o);return{element:l.element,width:f,colspan:l.colspan}})},py=function(r,o){var u=In.justColumns(r);return ee(u,function(l,f){return{element:l.element,width:o[f],colspan:l.colspan}})},Qu=function(r,o){var u=In.justCells(r);return ee(u,function(l){var f=Vh(l.row,l.row+l.rowspan,o);return{element:l.element,height:f,rowspan:l.rowspan}})},fm=function(r,o){return ee(r.all,function(u,l){return{element:u.element,height:o[l]}})},by=function(r){return Ot(r,function(o,u){return o+u},0)},go=function(r,o){return In.hasColumns(r)?py(r,o):hy(r,o)},ko=function(r,o,u){var l=go(r,o);Qe(l,function(f){u.setElementWidth(f.element,f.width)})},vm=function(r,o,u,l,f){var m=In.fromTable(r),w=f.getCellDelta(o),E=f.getWidths(m,f),A=u===m.grid.columns-1,N=l.clampTableDelta(E,u,w,f.minCellWidth(),A),Q=gy(E,u,N,f,l),et=ee(Q,function(je,at){return je+E[at]});ko(m,et,f),l.resizeTable(f.adjustTableWidth,N,A)},dm=function(r,o,u,l){var f=In.fromTable(r),m=Kb(f,r,l),w=ee(m,function(Q,et){return u===et?Math.max(o+Q,il()):Q}),E=Qu(f,w),A=fm(f,w);Qe(A,function(Q){Io(Q.element,Q.height)}),Qe(E,function(Q){Io(Q.element,Q.height)});var N=by(w);Io(r,N)},ho=function(r,o,u,l,f){var m=In.generate(o),w=l.getWidths(m,l),E=l.pixelWidth(),A=f.calcRedestributedWidths(w,E,u.pixelDelta,l.isRelative),N=A.newSizes,Q=A.delta;ko(m,N,l),l.adjustTableWidth(Q)},Fc=function(r,o,u,l){var f=In.generate(o),m=l.getWidths(f,l);ko(f,m,l)},lv=function(r){return ee(r,Ee(0))},mm=function(r,o,u,l,f){return f(r.slice(0,o)).concat(l).concat(f(r.slice(u)))},ra=function(r){return function(o,u,l,f){if(r(l)){var m=Math.max(f,o[u]-Math.abs(l)),w=Math.abs(m-o[u]);return l>=0?w:-w}else return l}},fv=ra(function(r){return r<0}),vv=ra(bt),ku=function(){var r=function(E,A,N,Q,et){var je=fv(E,A,Q,et);return mm(E,A,N+1,[je,0],lv)},o=function(E,A,N,Q){var et=(100+N)/100,je=Math.max(Q,(E[A]+N)/et);return ee(E,function(at,xe){var Pe=xe===A?je:at/et;return Pe-at})},u=function(E,A,N,Q,et,je){return je?o(E,A,Q,et):r(E,A,N,Q,et)},l=function(E,A,N,Q,et,je,at){return u(E,N,Q,et,je,at)},f=function(E,A){return E(A)},m=function(E,A,N,Q,et,je){if(je)return o(E,N,Q,et);var at=fv(E,N,Q,et);return lv(E.slice(0,N)).concat([at])},w=function(E,A,N,Q){if(Q){var et=A+N,je=et/A,at=ee(E,function(xe){return xe/je});return{delta:je*100-100,newSizes:at}}else return{delta:N,newSizes:E}};return{resizeTable:f,clampTableDelta:fv,calcLeftEdgeDeltas:u,calcMiddleDeltas:l,calcRightEdgeDeltas:m,calcRedestributedWidths:w}},_l=function(){var r=function(w,E,A,N,Q){var et=N>=0?A:E,je=vv(w,et,N,Q);return mm(w,E,A+1,[je,-je],lv)},o=function(w,E,A,N,Q,et){return r(w,A,N,Q,et)},u=function(w,E,A){A&&w(E)},l=function(w,E,A,N,Q,et){if(et)return lv(w);var je=N/w.length;return ee(w,Ee(je))},f=function(w,E,A,N,Q){if(Q){if(A>=0)return A;var et=an(w,function(je,at){return je+at-N},0);return Math.max(-et,A)}else return fv(w,E,A,N)},m=function(w,E,A,N){return{delta:0,newSizes:w}};return{resizeTable:u,clampTableDelta:f,calcLeftEdgeDeltas:r,calcMiddleDeltas:o,calcRightEdgeDeltas:l,calcRedestributedWidths:m}},dv=function(r,o){var u=k.from(r.dom.documentElement).map(U.fromDom).getOr(r);return{parent:Ee(u),view:Ee(r),origin:Ee(Su(0,0)),isResizable:o}},yy=function(r,o,u){var l=function(){return ui(o)};return{parent:Ee(o),view:Ee(r),origin:l,isResizable:u}},Oo=function(r,o,u){return{parent:Ee(o),view:Ee(r),origin:Ee(Su(0,0)),isResizable:u}},Pc={only:dv,detached:yy,body:Oo},Dl=wu.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Uh=function(r,o,u){var l=u.substring(0,u.length-r.length),f=parseFloat(l);return l===f.toString()?o(f):Dl.invalid(u)},Wh=function(r){return lr(r,"%")?Uh("%",Dl.percent,r):lr(r,"px")?Uh("px",Dl.pixels,r):Dl.invalid(r)},zc=on(on({},Dl),{from:Wh}),jh=function(r,o){return ee(r,function(u){var l=zc.from(u);return l.fold(function(){return u},function(f){var m=f/o*100;return m+"%"},function(f){return f+"%"})})},wy=function(r,o,u){var l=u/o;return ee(r,function(f){var m=zc.from(f);return m.fold(function(){return f},function(w){return w*l+"px"},function(w){return w/100*u+"px"})})},xy=function(r,o){var u=r.fold(function(){return Ee("")},function(l){var f=l/o;return Ee(f+"px")},function(){var l=100/o;return Ee(l+"%")});return he(o,u)},Sy=function(r,o,u){return r.fold(function(){return o},function(l){return wy(o,u,l)},function(l){return jh(o,u)})},Zi=function(r,o,u){var l=zc.from(u),f=Y(r,function(m){return m==="0px"})?xy(l,r.length):Sy(l,r,o);return qh(f)},mv=function(r,o){return r.length===0?o:Ot(r,function(u,l){return zc.from(l).fold(Ee(0),Gt,Gt)+u},0)},Cy=function(r,o){var u=Math.floor(r);return{value:u+o,remainder:r-u}},Gh=function(r,o){return zc.from(r).fold(Ee(r),function(u){return u+o+"px"},function(u){return u+o+"%"})},qh=function(r){if(r.length===0)return r;var o=Ot(r,function(l,f){var m=zc.from(f).fold(function(){return{value:f,remainder:0}},function(w){return Cy(w,"px")},function(w){return{value:w+"%",remainder:0}});return{output:[m.value].concat(l.output),remainder:l.remainder+m.remainder}},{output:[],remainder:0}),u=o.output;return u.slice(0,u.length-1).concat([Gh(u[u.length-1],Math.round(o.remainder))])},Kh=zc.from,Ty=function(r,o,u){Qe(o,function(l){var f=r.slice(l.column,l.colspan+l.column),m=mv(f,yu());Ra(l.element,"width",m+u)})},ky=function(r,o,u){Qe(o,function(l,f){var m=mv([r[f]],yu());Ra(l.element,"width",m+u)})},Oy=function(r,o,u,l){Qe(u,function(f){var m=r.slice(f.row,f.rowspan+f.row),w=mv(m,il());Ra(f.element,"height",w+l)}),Qe(o,function(f,m){Ra(f.element,"height",r[m])})},Xh=function(r){return Kh(r).fold(Ee("px"),Ee("px"),Ee("%"))},gv=function(r,o,u,l){var f=In.fromTable(r),m=f.all,w=In.justCells(f),E=In.justColumns(f);o.each(function(A){var N=Xh(A),Q=cr(r),et=xl(f,r,l),je=Zi(et,Q,A);In.hasColumns(f)?ky(je,E,N):Ty(je,w,N),Ra(r,"width",A)}),u.each(function(A){var N=Xh(A),Q=xu(r),et=Xb(f,r,Ts),je=Zi(et,Q,A);Oy(je,m,w,N),Ra(r,"height",A)})},Yh=Vb,Jh=Ub,si=Wb,li=Lo,ec=function(r){var o=In.fromTable(r);return o.grid},qa=function(r){var o=[],u=function(m){if(m===void 0)throw new Error("Event bind error: undefined handler");o.push(m)},l=function(m){o=Tt(o,function(w){return w!==m})},f=function(){for(var m=[],w=0;w<arguments.length;w++)m[w]=arguments[w];var E={};Qe(r,function(A,N){E[A]=m[N]}),Qe(o,function(A){A(E)})};return{bind:u,unbind:l,trigger:f}},tc=function(r){var o=K(r,function(l){return{bind:l.bind,unbind:l.unbind}}),u=K(r,function(l){return l.trigger});return{registry:o,trigger:u}},Zh=function(r,o){var u=null,l=function(){u!==null&&(clearTimeout(u),u=null)},f=function(){for(var m=[],w=0;w<arguments.length;w++)m[w]=arguments[w];u!==null&&clearTimeout(u),u=setTimeout(function(){r.apply(null,m),u=null},o)};return{cancel:l,throttle:f}},_s=function(r){return r.slice(0).sort()},Ay=function(r,o){throw new Error("All required keys ("+_s(r).join(", ")+") were not specified. Specified keys were: "+_s(o).join(", ")+".")},Qh=function(r){throw new Error("Unsupported keys for object: "+_s(r).join(", "))},hv=function(r,o){if(!Pt(o))throw new Error("The "+r+" fields must be an array. Was: "+o+".");Qe(o,function(u){if(!wt(u))throw new Error("The value "+u+" in the "+r+" fields was not a string.")})},Ka=function(r,o){throw new Error("All values need to be of type: "+o+". Keys ("+_s(r).join(", ")+") were not.")},Ri=function(r){var o=_s(r),u=ne(o,function(l,f){return f<o.length-1&&l===o[f+1]});u.each(function(l){throw new Error("The field: "+l+" occurs more than once in the combined fields: ["+o.join(", ")+"].")})},Ey=function(r,o){return ep(r,o,{validate:ze,label:"function"})},ep=function(r,o,u){if(o.length===0)throw new Error("You must specify at least one required field.");return hv("required",o),Ri(o),function(l){var f=er(l),m=Y(o,function(E){return Ve(f,E)});m||Ay(o,f),r(o,f);var w=Tt(o,function(E){return!u.validate(l[E],E)});return w.length>0&&Ka(w,u.label),l}},My=function(r,o){var u=Tt(o,function(l){return!Ve(r,l)});u.length>0&&Qh(u)},Ou=function(r){return Ey(My,r)},tp=Ou(["compare","extract","mutate","sink"]),Ds=Ou(["element","start","stop","destroy"]),gm=Ou(["forceDrop","drop","move","delayDrop"]),_y=function(){var r=k.none(),o=function(){r=k.none()},u=function(m,w){var E=r.map(function(A){return m.compare(A,w)});return r=k.some(w),E},l=function(m,w){var E=w.extract(m);E.each(function(A){var N=u(w,A);N.each(function(Q){f.trigger.move(Q)})})},f=tc({move:qa(["info"])});return{onEvent:l,reset:o,events:f.registry}},Dy=function(){var r=tc({move:qa(["info"])});return{onEvent:Xe,reset:Xe,events:r.registry}},Fy=function(){var r=Dy(),o=_y(),u=r,l=function(){u.reset(),u=o},f=function(){u.reset(),u=r},m=function(E,A){u.onEvent(E,A)},w=function(){return u===o};return{on:l,off:f,isOn:w,onEvent:m,events:o.events}},Py=function(r,o,u){var l=!1,f=tc({start:qa([]),stop:qa([])}),m=Fy(),w=function(){at.stop(),m.isOn()&&(m.off(),f.trigger.stop())},E=Zh(w,200),A=function(Pe){at.start(Pe),m.on(),f.trigger.start()},N=function(Pe){E.cancel(),m.onEvent(Pe,o)};m.events.move.bind(function(Pe){o.mutate(r,Pe.info)});var Q=function(){l=!0},et=function(){l=!1},je=function(Pe){return function(){for(var ot=[],fn=0;fn<arguments.length;fn++)ot[fn]=arguments[fn];l&&Pe.apply(null,ot)}},at=o.sink(gm({forceDrop:w,drop:je(w),move:je(N),delayDrop:je(E.throttle)}),u),xe=function(){at.destroy()};return{element:at.element,go:A,on:Q,off:et,destroy:xe,events:f.registry}},zy=function(r,o,u,l,f,m,w){return{target:r,x:o,y:u,stop:l,prevent:f,kill:m,raw:w}},pv=function(r){var o=U.fromDom(Pn(r).getOr(r.target)),u=function(){return r.stopPropagation()},l=function(){return r.preventDefault()},f=de(l,u);return zy(o,r.clientX,r.clientY,u,l,f,r)},By=function(r,o){return function(u){r(u)&&o(pv(u))}},np=function(r,o,u,l,f){var m=By(u,l);return r.dom.addEventListener(o,m,f),{unbind:$($y,r,o,m,f)}},hm=function(r,o,u,l){return np(r,o,u,l,!1)},$y=function(r,o,u,l){r.dom.removeEventListener(o,u,l)},Ry=bt,Fs=function(r,o,u){return hm(r,o,Ry,u)},nc=pv,Au=function(r,o){var u=mi(r,o);return u===void 0||u===""?[]:u.split(" ")},bv=function(r,o,u){var l=Au(r,o),f=l.concat([u]);return $a(r,o,f.join(" ")),!0},vr=function(r,o,u){var l=Tt(Au(r,o),function(f){return f!==u});return l.length>0?$a(r,o,l.join(" ")):xt(r,o),!1},to=function(r){return r.dom.classList!==void 0},Bc=function(r){return Au(r,"class")},pm=function(r,o){return bv(r,"class",o)},Ir=function(r,o){return vr(r,"class",o)},Qi=function(r,o){to(r)?r.dom.classList.add(o):pm(r,o)},rp=function(r){var o=to(r)?r.dom.classList:Bc(r);o.length===0&&xt(r,"class")},no=function(r,o){if(to(r)){var u=r.dom.classList;u.remove(o)}else Ir(r,o);rp(r)},eu=function(r,o){return to(r)&&r.dom.classList.contains(o)},ap=function(r){var o=r.replace(/\./g,"-"),u=function(l){return o+"-"+l};return{resolve:u}},Hy=ap("ephox-dragster"),op=Hy.resolve,yv=function(r){var o=on({layerClass:op("blocker")},r),u=U.fromTag("div");$a(u,"role","presentation"),Rt(u,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Qi(u,op("blocker")),Qi(u,o.layerClass);var l=function(){return u},f=function(){Xr(u)};return{element:l,destroy:f}},bm=function(r,o){return Su(o.left-r.left,o.top-r.top)},ym=function(r){return k.some(Su(r.x,r.y))},wm=function(r,o){r.mutate(o.left,o.top)},ip=function(r,o){var u=yv(o),l=Fs(u.element(),"mousedown",r.forceDrop),f=Fs(u.element(),"mouseup",r.drop),m=Fs(u.element(),"mousemove",r.move),w=Fs(u.element(),"mouseout",r.delayDrop),E=function(){u.destroy(),f.unbind(),m.unbind(),w.unbind(),l.unbind()},A=function(Q){We(Q,u.element())},N=function(){Xr(u.element())};return Ds({element:u.element,start:A,stop:N,destroy:E})},up=tp({compare:bm,extract:ym,sink:ip,mutate:wm}),Iy=function(r,o){o===void 0&&(o={});var u=o.mode!==void 0?o.mode:up;return Py(r,u,o)},Ly=function(r){return mi(r,"contenteditable")==="true"},Ny=function(r,o){return br(r,"[contenteditable]",o)},ro=ap("ephox-snooker"),wv=ro.resolve,cp=function(){var r=tc({drag:qa(["xDelta","yDelta"])}),o=function(u,l){r.trigger.drag(u,l)};return{mutate:o,events:r.registry}},sp=function(){var r=tc({drag:qa(["xDelta","yDelta","target"])}),o=k.none(),u=cp();u.events.drag.bind(function(m){o.each(function(w){r.trigger.drag(m.xDelta,m.yDelta,w)})});var l=function(m){o=k.some(m)},f=function(){return o};return{assign:l,get:f,mutate:u.mutate,events:r.registry}},lp=function(r,o,u,l,f){var m=U.fromTag("div");return Rt(m,{position:"absolute",left:o-l/2+"px",top:u+"px",height:f+"px",width:l+"px"}),Wi(m,{"data-column":r,role:"presentation"}),m},xm=function(r,o,u,l,f){var m=U.fromTag("div");return Rt(m,{position:"absolute",left:o+"px",top:u-f/2+"px",height:f+"px",width:l+"px"}),Wi(m,{"data-row":r,role:"presentation"}),m},Fl=wv("resizer-bar"),Sm=wv("resizer-rows"),fp=wv("resizer-cols"),vp=7,Xa=function(r,o){return ke(r.all,function(u,l){return o(u.element)?[l]:[]})},Ya=function(r,o){var u=[];return he(r.grid.columns,function(l){var f=In.getColumnAt(r,l).map(function(m){return m.element});f.forall(o)&&u.push(l)}),Tt(u,function(l){var f=In.filterItems(r,function(m){return m.column===l});return Y(f,function(m){return o(m.element)})})},ao=function(r){var o=fo(r.parent(),"."+Fl);Qe(o,Xr)},po=function(r,o,u){var l=r.origin();Qe(o,function(f){f.each(function(m){var w=u(l,m);Qi(w,Fl),We(r.parent(),w)})})},Vo=function(r,o,u,l){po(r,o,function(f,m){var w=lp(m.col,m.x-f.left,u.top-f.top,vp,l);return Qi(w,fp),w})},Ja=function(r,o,u,l){po(r,o,function(f,m){var w=xm(m.row,u.left-f.left,m.y-f.top,l,vp);return Qi(w,Sm),w})},Cm=function(r,o,u,l,f){var m=ui(u),w=o.isResizable,E=l.length>0?Ts.positions(l,u):[],A=E.length>0?Xa(r,w):[],N=Tt(E,function(at,xe){return g(A,function(Pe){return xe===Pe})});Ja(o,N,m,Xf(u));var Q=f.length>0?Qf.positions(f,u):[],et=Q.length>0?Ya(r,w):[],je=Tt(Q,function(at,xe){return g(et,function(Pe){return xe===Pe})});Vo(o,je,m,Jf(u))},Ps=function(r,o){if(ao(r),r.isResizable(o)){var u=In.fromTable(o),l=Ze(u),f=Kd(u);Cm(u,r,o,l,f)}},Tm=function(r,o){var u=fo(r.parent(),"."+Fl);Qe(u,o)},dp=function(r){Tm(r,function(o){Ra(o,"display","none")})},mp=function(r){Tm(r,function(o){Ra(o,"display","block")})},gp=function(r){return eu(r,Sm)},km=function(r){return eu(r,fp)},Om=wv("resizer-bar-dragging"),Vy=function(r){var o=sp(),u=Iy(o,{}),l=k.none(),f=function(xe,Pe){return k.from(mi(xe,Pe))};o.events.drag.bind(function(xe){f(xe.target,"data-row").each(function(Pe){var ot=cs(xe.target,"top");Ra(xe.target,"top",ot+xe.yDelta+"px")}),f(xe.target,"data-column").each(function(Pe){var ot=cs(xe.target,"left");Ra(xe.target,"left",ot+xe.xDelta+"px")})});var m=function(xe,Pe){var ot=cs(xe,Pe),fn=gi(xe,"data-initial-"+Pe,0);return ot-fn};u.events.stop.bind(function(){o.get().each(function(xe){l.each(function(Pe){f(xe,"data-row").each(function(ot){var fn=m(xe,"top");xt(xe,"data-initial-top"),at.trigger.adjustHeight(Pe,fn,parseInt(ot,10))}),f(xe,"data-column").each(function(ot){var fn=m(xe,"left");xt(xe,"data-initial-left"),at.trigger.adjustWidth(Pe,fn,parseInt(ot,10))}),Ps(r,Pe)})})});var w=function(xe,Pe){at.trigger.startAdjust(),o.assign(xe),$a(xe,"data-initial-"+Pe,cs(xe,Pe)),Qi(xe,Om),Ra(xe,"opacity","0.2"),u.go(r.parent())},E=Fs(r.parent(),"mousedown",function(xe){gp(xe.target)&&w(xe.target,"top"),km(xe.target)&&w(xe.target,"left")}),A=function(xe){return it(xe,r.view())},N=function(xe){return br(xe,"table",A).filter(function(Pe){return Ny(Pe,A).exists(Ly)})},Q=Fs(r.view(),"mouseover",function(xe){N(xe.target).fold(function(){La(xe.target)&&ao(r)},function(Pe){l=k.some(Pe),Ps(r,Pe)})}),et=function(){E.unbind(),Q.unbind(),u.destroy(),ao(r)},je=function(xe){Ps(r,xe)},at=tc({adjustHeight:qa(["table","delta","row"]),adjustWidth:qa(["table","delta","column"]),startAdjust:qa([])});return{destroy:et,refresh:je,on:u.on,off:u.off,hideBars:$(dp,r),showBars:$(mp,r),events:at.registry}},Uy=function(r,o,u){var l=Ts,f=Qf,m=Vy(r),w=tc({beforeResize:qa(["table","type"]),afterResize:qa(["table","type"]),startDrag:qa([])});return m.events.adjustHeight.bind(function(E){var A=E.table;w.trigger.beforeResize(A,"row");var N=l.delta(E.delta,A);dm(A,N,E.row,l),w.trigger.afterResize(A,"row")}),m.events.startAdjust.bind(function(E){w.trigger.startDrag()}),m.events.adjustWidth.bind(function(E){var A=E.table;w.trigger.beforeResize(A,"col");var N=f.delta(E.delta,A),Q=u(A);vm(A,N,E.column,o,Q),w.trigger.afterResize(A,"col")}),{on:m.on,off:m.off,hideBars:m.hideBars,showBars:m.showBars,destroy:m.destroy,events:w.registry}},Wy={create:Uy},hp=function(r,o){return r.fire("newrow",{node:o})},Am=function(r,o){return r.fire("newcell",{node:o})},Em=function(r,o,u,l,f){r.fire("ObjectResizeStart",{target:o,width:u,height:l,origin:f})},jy=function(r,o,u,l,f){r.fire("ObjectResized",{target:o,width:u,height:l,origin:f})},Gy=function(r,o,u,l,f){r.fire("TableSelectionChange",{cells:o,start:u,finish:l,otherCells:f})},qy=function(r){r.fire("TableSelectionClear")},rc=function(r,o,u){r.fire("TableModified",on(on({},u),{table:o}))},Mm={structure:!1,style:!0},lt={structure:!0,style:!1},Ky="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Aa={"border-collapse":"collapse",width:"100%"},Xy=function(r){if(zl(r)){var o=r.getBody().offsetWidth;return on(on({},Aa),{width:o+"px"})}else return Bl(r)?Yt(Aa,function(u,l){return l!=="width"}):Aa},pp={border:"1"},bp="preservetable",Zo=function(r){return r.getParam("table_sizing_mode","auto")},yp=function(r){return r.getParam("table_responsive_width")},_m=function(r){return r.getParam("table_default_attributes",pp,"object")},Dm=function(r){return r.getParam("table_default_styles",Xy(r),"object")},ac=function(r){return r.getParam("table_resize_bars",!0,"boolean")},Yy=function(r){return r.getParam("table_tab_navigation",!0,"boolean")},Fm=function(r){return r.getParam("table_cell_advtab",!0,"boolean")},Hi=function(r){return r.getParam("table_row_advtab",!0,"boolean")},bo=function(r){return r.getParam("table_advtab",!0,"boolean")},wp=function(r){return r.getParam("table_appearance_options",!0,"boolean")},Ii=function(r){return r.getParam("table_grid",!0,"boolean")},zs=function(r){return r.getParam("table_style_by_css",!1,"boolean")},Pm=function(r){return r.getParam("table_cell_class_list",[],"array")},xp=function(r){return r.getParam("table_row_class_list",[],"array")},Jy=function(r){return r.getParam("table_class_list",[],"array")},Pl=function(r){return Zo(r)==="relative"||yp(r)===!0},zl=function(r){return Zo(r)==="fixed"||yp(r)===!1},Bl=function(r){return Zo(r)==="responsive"},Zy=function(r){return r.getParam("table_toolbar",Ky)},Qy=function(r){return r.getParam("table_use_colgroups",!1,"boolean")},Sp=function(r){var o="section",u=r.getParam("table_header_type",o,"string"),l=["section","cells","sectionCells","auto"];return Ve(l,u)?u:o},zm=function(r){var o=["preservetable","resizetable"],u=r.getParam("table_column_resizing",bp,"string");return ne(o,function(l){return l===u}).getOr(bp)},Cp=function(r){return zm(r)==="preservetable"},$c=function(r){return zm(r)==="resizetable"},tu=function(r){var o=r.getParam("table_clone_elements");return wt(o)?k.some(o.split(/[ ,]/)):Array.isArray(o)?k.some(o):k.none()},Rc=function(r){var o=r.getParam("object_resizing",!0);return wt(o)?o==="table":o},xv=function(r,o){if(Pl(r)){var u=xa(r,o.dom).filter(Bi).getOrThunk(function(){return li(o)});return Cu.percentageSize(u,o)}else return zl(r)?Cu.pixelSize(cr(o),o):Cu.getTableSize(o)},Sv=function(r){xt(r,"width")},e2=function(r,o){var u=Lo(r);gv(r,k.some(u),k.none(),o),Sv(r)},t2=function(r,o){var u=Oh(r);gv(r,k.some(u),k.none(),o),Sv(r)},n2=function(r){_i(r,"width");var o=Yo(r),u=o.length>0?o:qi(r);Qe(u,function(l){_i(l,"width"),Sv(l)}),Sv(r)},$l=function(r,o){var u=xv(r,o);e2(o,u)},Bm=function(r,o){var u=xv(r,o);t2(o,u)},Tp=n2,r2=function(r){var o=In.fromTable(r);In.hasColumns(o)||Qe(qi(r),function(u){var l=zo(u,"width");Ra(u,"width",l),xt(u,"width")})},kp=function(){var r=U.fromTag("div");return Rt(r,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),We(so(),r),r},a2=function(r,o){return r.inline?Pc.body(_c(r),kp(),o):Pc.only(U.fromDom(r.getDoc()),o)},Cv=function(r,o){r.inline&&Xr(o.parent())},Tv="bar-",Op=function(r){return mi(r,"data-mce-resize")!=="false"},o2=function(r){var o=k.none(),u=k.none(),l=k.none(),f,m,w=function(xe){return xe.nodeName==="TABLE"},E=function(){return u},A=function(){return l.getOr(Pc.only(U.fromDom(r.getBody()),Op))},N=function(xe){return xv(r,xe)},Q=function(){return Cp(r)?_l():ku()},et=function(xe){return ec(xe).columns},je=function(xe,Pe,ot){var fn=lr(Pe,"e");if(m===""&&$l(r,xe),ot!==f&&m!==""){Ra(xe,"width",m);var jn=Q(),On=N(xe),rr=Cp(r)||fn?et(xe)-1:0;vm(xe,ot-f,rr,jn,On)}else if(Bi(m)){var Wr=parseFloat(m.replace("%","")),jr=ot*Wr/f;Ra(xe,"width",jr+"%")}Ol(m)&&r2(xe)},at=function(){u.each(function(xe){xe.destroy()}),l.each(function(xe){Cv(r,xe)})};return r.on("init",function(){var xe=a2(r,Op);if(l=k.some(xe),Rc(r)&&ac(r)){var Pe=Q(),ot=Wy.create(xe,Pe,N);ot.on(),ot.events.startDrag.bind(function(fn){o=k.some(r.selection.getRng())}),ot.events.beforeResize.bind(function(fn){var jn=fn.table.dom;Em(r,jn,kl(jn),Ih(jn),Tv+fn.type)}),ot.events.afterResize.bind(function(fn){var jn=fn.table,On=jn.dom;Dc(jn),o.each(function(rr){r.selection.setRng(rr),r.focus()}),jy(r,On,kl(On),Ih(On),Tv+fn.type),r.undoManager.add()}),u=k.some(ot)}}),r.on("ObjectResizeStart",function(xe){var Pe=xe.target;if(w(Pe)){var ot=U.fromDom(Pe);Qe(r.dom.select(".mce-clonedresizable"),function(fn){r.dom.addClass(fn,"mce-"+zm(r)+"-columns")}),!Jh(ot)&&zl(r)?Bm(r,ot):!Yh(ot)&&Pl(r)&&$l(r,ot),si(ot)&&Dr(xe.origin,Tv)&&$l(r,ot),f=xe.width,m=Bl(r)?"":xa(r,Pe).getOr("")}}),r.on("ObjectResized",function(xe){var Pe=xe.target;if(w(Pe)){var ot=U.fromDom(Pe),fn=xe.origin;Dr(fn,"corner-")&&je(ot,fn,xe.width),Dc(ot),rc(r,ot.dom,Mm)}}),r.on("SwitchMode",function(){E().each(function(xe){r.mode.isReadOnly()?xe.hideBars():xe.showBars()})}),{lazyResize:E,lazyWire:A,destroy:at}},Rl=function(r,o){return{element:r,offset:o}},Bs=function(r,o,u){return r.property().isText(o)&&r.property().getText(o).trim().length===0||r.property().isComment(o)?u(o).bind(function(l){return Bs(r,l,u).orThunk(function(){return k.some(l)})}):k.none()},Hl=function(r,o){if(r.property().isText(o))return r.property().getText(o).length;var u=r.property().children(o);return u.length},Il=function(r,o){var u=Bs(r,o,r.query().prevSibling).getOr(o);if(r.property().isText(u))return Rl(u,Hl(r,u));var l=r.property().children(u);return l.length>0?Il(r,l[l.length-1]):Rl(u,Hl(r,u))},$m=Il,i2=Nf(),Eu=function(r){return $m(i2,r)},Rm=function(r,o){var u=Gi(r,"colspan");if(u===1){var l=mo(r);l.each(function(f){var m=f.value/2;Ec(r,m,f.unit),Ec(o,m,f.unit)})}},Ll=function(r,o,u,l){u===l?xt(r,o):$a(r,o,u)},Mu=function(r,o,u){Dt(pr(r,o)).fold(function(){return se(r,u)},function(l){return X(l,u)})},kv=function(r,o){var u=pu(r,o).getOrThunk(function(){var l=U.fromTag(o,Fo(r).dom);return o==="thead"?Mu(r,"caption,colgroup",l):o==="colgroup"?Mu(r,"caption",l):We(r,l),l});return $r(u),u},u2=function(r,o){var u=[],l=[],f=function(at){return ee(at,function(xe){xe.isNew&&u.push(xe.element);var Pe=xe.element;return $r(Pe),Qe(xe.cells,function(ot){ot.isNew&&l.push(ot.element),Ll(ot.element,"colspan",ot.colspan,1),Ll(ot.element,"rowspan",ot.rowspan,1),We(Pe,ot.element)}),Pe})},m=function(at){return ke(at,function(xe){return ee(xe.cells,function(Pe){return Ll(Pe.element,"span",Pe.colspan,1),Pe.element})})},w=function(at,xe){var Pe=kv(r,xe),ot=xe==="colgroup"?m:f,fn=ot(at);Hn(Pe,fn)},E=function(at){pu(r,at).each(Xr)},A=function(at,xe){at.length>0?w(at,xe):E(xe)},N=[],Q=[],et=[],je=[];return Qe(o,function(at){switch(at.section){case"thead":N.push(at);break;case"tbody":Q.push(at);break;case"tfoot":et.push(at);break;case"colgroup":je.push(at);break}}),A(je,"colgroup"),A(N,"thead"),A(Q,"tbody"),A(et,"tfoot"),{newRows:u,newCells:l}},c2=function(r){return ee(r,function(o){var u=jd(o.element);return Qe(o.cells,function(l){var f=Tc(l.element);Ll(f,"colspan",l.colspan,1),Ll(f,"rowspan",l.rowspan,1),We(u,f)}),u})},s2=function(r,o){return ee(r,function(u){return Jo(u,o)})},l2=function(r,o){return r[o]},Hm=function(r,o){if(r.length===0)return 0;var u=r[0],l=Le(r,function(f){return!o(u.element,f.element)});return l.fold(function(){return r.length},function(f){return f})},f2=function(r,o,u,l){var f=l2(r,o).cells.slice(u),m=Hm(f,l),w=s2(r,u).slice(o),E=Hm(w,l);return{colspan:m,rowspan:E}},v2=function(r,o){var u=ee(r,function(f){return ee(f.cells,cn)}),l=function(f,m,w,E){for(var A=f;A<f+w;A++)for(var N=m;N<m+E;N++)u[A][N]=!0};return ee(r,function(f,m){var w=ke(f.cells,function(E,A){if(u[m][A]===!1){var N=f2(r,m,A,o);return l(m,A,N.rowspan,N.colspan),[hr(E.element,N.rowspan,N.colspan,E.isNew)]}else return[]});return Ai(w,f.section)})},$s=function(r,o,u){var l=[];if(In.hasColumns(r)){var f=ee(In.justColumns(r),function(Q){return Hr(Q.element,u,!1)});l.push(ii(f,"colgroup"))}for(var m=0;m<r.grid.rows;m++){for(var w=[],E=0;E<r.grid.columns;E++){var A=In.getAt(r,m,E).map(function(Q){return Hr(Q.element,u,Q.isLocked)}).getOrThunk(function(){return Hr(o.gap(),!0,!1)});w.push(A)}var N=ii(w,r.all[m].section);l.push(N)}return l},d2=function(r,o){return $s(r,o,!1)},Ap=function(r,o){var u=function(l){var f=ln(l,function(m){return C(m.element).map(function(w){var E=C(w).isNone();return Hr(w,E,!1)})});return f.getOrThunk(function(){return Hr(o.row(),!0,!1)})};return ee(r,function(l){var f=u(l.details);return Br(f.element,l.details,l.section,f.isNew)})},Ov=function(r,o){var u=v2(r,it);return Ap(u,o)},Im=function(r,o){return ln(r.all,function(u){return ne(u.cells,function(l){return it(o,l.element)})})},Lm=function(r,o,u){var l=ee(o.selection,function(m){return ul(m).bind(function(w){return Im(r,w)}).filter(u)}),f=ur(l);return qf(f.length>0,f)},Ao=function(r,o,u,l,f){return function(m,w,E,A,N,Q){var et=In.fromTable(w),je=o(et,E).map(function(at){var xe=d2(et,A),Pe=r(xe,at,it,f(A)),ot=Ki(Pe.grid),fn=Ov(Pe.grid,A);return{info:at,grid:fn,cursor:Pe.cursor,lockedColumns:ot}});return je.bind(function(at){var xe=u2(w,at.grid),Pe=k.from(N).getOrThunk(function(){return Cu.getTableSize(w)}),ot=k.from(Q).getOrThunk(_l);return u(w,at.grid,at.info,Pe,ot),l(w),Ps(m,w),xt(w,wc),at.lockedColumns.length>0&&$a(w,wc,at.lockedColumns.join(",")),k.some({cursor:at.cursor,newRows:xe.newRows,newCells:xe.newCells})})}},Ep=function(r,o){return ul(o.element).bind(function(u){return Im(r,u).map(function(l){var f=on(on({},l),{generators:o.generators,clipboard:o.clipboard});return f})})},Av=function(r,o){return Lm(r,o,bt).map(function(u){return{cells:u,generators:o.generators,clipboard:o.clipboard}})},m2=function(r,o){return o.mergable},g2=function(r,o){return o.unmergable},oc=function(r,o){return Lm(r,o,bt)},Ev=function(r,o){return Lm(r,o,function(u){return!u.isLocked})},h2=function(r,o){return Im(r,o).exists(function(u){return!u.isLocked})},Mv=function(r,o){return Y(o,function(u){return h2(r,u)})},_v=function(r,o){return m2(r,o).filter(function(u){return Mv(r,u.cells)})},Mp=function(r,o){return g2(r,o).filter(function(u){return Mv(r,u)})},p2=function(r,o,u,l){var f=Na(r).rows;if(f.length===0)return r;for(var m=o.startRow;m<=o.finishRow;m++)for(var w=o.startCol;w<=o.finishCol;w++){var E=f[m],A=Jo(E,w).isLocked;Uu(E,w,Hr(l(),!1,A))}return r},_p=function(r,o,u,l){for(var f=Na(r).rows,m=!0,w=0;w<f.length;w++)for(var E=0;E<$o(f[0]);E++){var A=f[w],N=Jo(A,E),Q=N.element,et=u(Q,o);et===!0&&m===!1?Uu(A,E,Hr(l(),!0,N.isLocked)):et===!0&&(m=!1)}return r},b2=function(r,o){return an(r,function(u,l){return g(u,function(f){return o(f.element,l.element)})?u:u.concat([l])},[])},y2=function(r,o,u,l){return o>0&&o<r[0].cells.length&&Qe(r,function(f){var m=f.cells[o-1],w=f.cells[o],E=u(w.element,m.element);E&&Uu(f,o,Hr(l(),!0,w.isLocked))}),r},w2=function(r,o,u,l){var f=Na(r).rows;if(o>0&&o<f.length){var m=f[o-1].cells,w=b2(m,u);Qe(w,function(E){for(var A=k.none(),N=o;N<f.length;N++)for(var Q=function(je){var at=f[N],xe=Jo(at,je),Pe=u(xe.element,E.element);Pe&&(A.isNone()&&(A=k.some(l())),A.each(function(ot){Uu(at,je,Hr(ot,!0,xe.isLocked))}))},et=0;et<$o(f[0]);et++)Q(et)})}return r},_u=function(r){var o=function(je){return r===je},u=function(je){return _u(r)},l=function(je){return _u(r)},f=function(je){return _u(je(r))},m=function(je){return _u(r)},w=function(je){je(r)},E=function(je){return je(r)},A=function(je,at){return at(r)},N=function(je){return je(r)},Q=function(je){return je(r)},et=function(){return k.some(r)};return{is:o,isValue:bt,isError:cn,getOr:Ee(r),getOrThunk:Ee(r),getOrDie:Ee(r),or:u,orThunk:l,fold:A,map:f,mapError:m,each:w,bind:E,exists:N,forall:Q,toOptional:et}},Nl=function(r){var o=function(N){return N()},u=function(){return nn(String(r))()},l=function(N){return N},f=function(N){return N()},m=function(N){return Nl(r)},w=function(N){return Nl(N(r))},E=function(N){return Nl(r)},A=function(N,Q){return N(r)};return{is:cn,isValue:cn,isError:bt,getOr:Gt,getOrThunk:o,getOrDie:u,or:l,orThunk:f,fold:A,map:m,mapError:w,each:Xe,bind:E,exists:cn,forall:bt,toOptional:k.none}},x2=function(r,o){return r.fold(function(){return Nl(o)},_u)},Dp={value:_u,error:Nl,fromOption:x2},S2=function(r,o,u){if(r.row>=o.length||r.column>$o(o[0]))return Dp.error("invalid start address out of table bounds, row: "+r.row+", column: "+r.column);var l=o.slice(r.row),f=l[0].cells.slice(r.column),m=$o(u[0]),w=u.length;return Dp.value({rowDelta:l.length-w,colDelta:f.length-m})},Fp=function(r,o){var u=$o(r[0]),l=$o(o[0]);return{rowDelta:0,colDelta:u-l}},Pp=function(r,o){var u=r.length,l=o.length;return{rowDelta:u-l,colDelta:0}},Nm=function(r,o,u,l){var f=o.section==="colgroup"?u.col:u.cell;return he(r,function(m){return Hr(f(),!0,l(m))})},Vl=function(r,o,u,l){return r.concat(he(o,function(){var f=r[r.length-1],m=Nm(f.cells.length,f,u,function(w){return ea(l,w.toString())});return fs(f,m)}))},C2=function(r,o,u,l){return ee(r,function(f){var m=Nm(o,f,u,cn);return ls(f,l,m)})},T2=function(r,o,u){return ee(r,function(l){return an(u,function(f,m){var w=Nm(1,l,o,bt)[0];return fl(f,m,w)},l)})},Rs=function(r,o,u){var l=o.colDelta<0?C2:Gt,f=o.rowDelta<0?Vl:Gt,m=Ki(r),w=$o(r[0]),E=g(m,function(Q){return Q===w-1}),A=l(r,Math.abs(o.colDelta),u,E?w-1:w),N=Ki(A);return f(A,Math.abs(o.rowDelta),u,z(N,bt))},zp=function(r,o,u,l){var f=Jo(r[o],u),m=$(l,f.element),w=r[o];return r.length>1&&$o(w)>1&&(u>0&&m(Ga(w,u-1))||u<w.cells.length-1&&m(Ga(w,u+1))||o>0&&m(Ga(r[o-1],u))||o<r.length-1&&m(Ga(r[o+1],u)))},k2=function(r,o,u,l,f,m){for(var w=r.row,E=r.column,A=u.length,N=$o(u[0]),Q=w+A,et=E+N+m.length,je=z(m,bt),at=w;at<Q;at++)for(var xe=0,Pe=E;Pe<et;Pe++){if(je[Pe]){xe++;continue}zp(o,at,Pe,f)&&_p(o,Ga(o[at],Pe),f,l.cell);var ot=Pe-E-xe,fn=Jo(u[at-w],ot),jn=fn.element,On=l.replace(jn);Uu(o[at],Pe,Hr(On,!0,fn.isLocked))}return o},O2=function(r,o,u){var l=$o(o[0]),f=Na(o).cols.length+r.row,m=he(l-r.column,function(E){return E+r.column}),w=ne(m,function(E){return Y(u,function(A){return A!==E})}).getOr(l-1);return{row:f,column:w}},Hs=function(r,o,u){return Tt(u,function(l){return l>=r.column&&l<=$o(o[0])+r.column})},Bp=function(r,o,u,l,f){var m=Ki(o),w=O2(r,o,m),E=Na(u).rows,A=Hs(w,E,m),N=S2(w,o,E);return N.map(function(Q){var et=on(on({},Q),{colDelta:Q.colDelta-A.length}),je=Rs(o,et,l),at=Ki(je),xe=Hs(w,E,at);return k2(w,je,E,l,f,xe)})},$p=function(r,o,u,l,f){y2(o,r,f,l.cell);var m=Pp(u,o),w=Rs(u,m,l),E=Pp(o,w),A=Rs(o,E,l);return ee(A,function(N,Q){return ls(N,r,w[Q].cells)})},Rp=function(r,o,u,l,f){w2(o,r,f,l.cell);var m=Ki(o),w=Fp(o,u),E=on(on({},w),{colDelta:w.colDelta-m.length}),A=Rs(o,E,l),N=Na(A),Q=N.cols,et=N.rows,je=Ki(A),at=Fp(u,o),xe=on(on({},at),{colDelta:at.colDelta+je.length}),Pe=T2(u,l,je),ot=Rs(Pe,xe,l);return Q.concat(et.slice(0,r)).concat(ot).concat(et.slice(r,et.length))},Hp=function(r,o,u,l,f){var m=Na(r),w=m.rows,E=m.cols,A=w.slice(0,o),N=w.slice(o),Q=vl(w[u],function(et,je){var at=o>0&&o<w.length&&l(Ga(w[o-1],je),Ga(w[o],je)),xe=at?Jo(w[o],je):Hr(f(et.element,l),!0,et.isLocked);return xe});return E.concat(A).concat([Q]).concat(N)},A2=function(r,o,u,l,f,m,w){if(u==="colgroup"||!l){var E=Jo(r,f);return Hr(w(E.element,m),!0,!1)}else return Jo(r,o)},Ip=function(r,o,u,l,f){return ee(r,function(m){var w=o>0&&o<$o(m)&&l(Ga(m,o-1),Ga(m,o)),E=A2(m,o,m.section,w,u,l,f);return fl(m,o,E)})},Lp=function(r,o){return ke(r,function(u){var l=u.cells,f=Ot(o,function(m,w){return w>=0&&w<m.length?m.slice(0,w).concat(m.slice(w+1)):m},l);return f.length>0?[ii(f,u.section)]:[]})},E2=function(r,o,u){var l=Na(r),f=l.rows,m=l.cols;return m.concat(f.slice(0,o)).concat(f.slice(u+1))},Np=function(r,o,u,l){var f=function(m){return g(o,function(w){return u(m.element,w.element)})};return ee(r,function(m){return vl(m,function(w){return f(w)?Hr(l(w.element,u),!0,w.isLocked):w})})},M2=function(r,o,u,l){return Ga(r[o],u)!==void 0&&o>0&&l(Ga(r[o-1],u),Ga(r[o],u))},_2=function(r,o,u){return o>0&&u(Ga(r,o-1),Ga(r,o))},Vp=function(r,o,u,l){var f=Na(r).rows,m=ke(f,function(w,E){var A=M2(r,E,o,u)||_2(w,o,u);return A?[]:[Jo(w,o)]});return Np(r,m,u,l)},Is=function(r){var o=function(u,l){var f=g(u,function(m){return m.column===l.column});return f?u:u.concat([l])};return an(r,o,[]).sort(function(u,l){return u.column-l.column})},D2=function(r){var o=gi(r,"colspan",1),u=gi(r,"rowspan",1);return{element:r,colspan:o,rowspan:u}},F2=function(r,o){o===void 0&&(o=D2);var u=No(k.none()),l=function(A){switch(ar(A.element)){case"col":return r.col(A);default:return r.cell(A)}},f=function(A){var N=o(A);return l(N)},m=function(A){var N=f(A);return u.get().isNone()&&u.set(k.some(N)),w=k.some({item:A,replacement:N}),N},w=k.none(),E=function(A,N){return w.fold(function(){return m(A)},function(Q){return N(A,Q.item)?Q.replacement:m(A)})};return{getOrInit:E,cursor:u.get}},Eo=function(r,o){return function(u){var l=No(k.none()),f=[],m=function(A,N){return ne(f,function(Q){return N(Q.item,A)})},w=function(A){var N={scope:r},Q=u.replace(A,o,N);return f.push({item:A,sub:Q}),l.get().isNone()&&l.set(k.some(Q)),Q},E=function(A,N){return ar(A)==="col"?A:m(A,N).fold(function(){return w(A)},function(Q){return N(A,Q.item)?Q.sub:w(A)})};return{replaceOrInit:E,cursor:l.get}}},Up=function(r){return Oa(r,"scope").map(function(o){return o.substr(0,3)})},P2=function(r){var o=No(k.none()),u=function(f){o.get().isNone()&&o.set(k.some(f));var m=Up(f);return m.each(function(w){return $a(f,"scope",w)}),function(){var w=r.cell({element:f,colspan:1,rowspan:1});return _i(w,"width"),_i(f,"width"),m.each(function(E){return $a(w,"scope",E)}),w}},l=function(f){var m=function(){var w=ur(ee(f,Up));if(w.length===0)return k.none();var E=w[0],A=["row","col"],N=g(w,function(Q){return Q!==E&&Ve(A,Q)});return N?k.none():k.from(E)};return _i(f[0],"width"),m().fold(function(){return xt(f[0],"scope")},function(w){return $a(f[0],"scope",w+"group")}),Ee(f[0])};return{unmerge:u,merge:l,cursor:o.get}},Uo={modification:F2,transform:Eo,merging:P2},Wp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],z2=function(r,o){var u=r.property().name(o);return Ve(["ol","ul"],u)},B2=function(r,o){var u=r.property().name(o);return Ve(Wp,u)},Vm=function(r,o){return Ve(["br","img","hr","input"],r.property().name(o))},Ls=Nf(),Um=function(r){return B2(Ls,r)},jp=function(r){return z2(Ls,r)},Gp=function(r){return Vm(Ls,r)},$2=function(r){var o=function(A){return ar(A)==="br"},u=function(A){return Y(A,function(N){return o(N)||fr(N)&&ps(N).trim().length===0})},l=function(A){return ar(A)==="li"||ja(A,jp).isSome()},f=function(A){return nt(A).map(function(N){return Um(N)?!0:Gp(N)?ar(N)!=="img":!1}).getOr(!1)},m=function(A){return Tl(A).bind(function(N){var Q=f(N);return C(N).map(function(et){return Q===!0||l(et)||o(N)||Um(et)&&!it(A,et)?[]:[U.fromTag("br")]})}).getOr([])},w=function(){var A=ke(r,function(N){var Q=b(N);return u(Q)?[]:Q.concat(m(N))});return A.length===0?[U.fromTag("br")]:A},E=w();$r(r[0]),Hn(r[0],E)},qp=function(r){var o=qi(r);o.length===0&&Xr(r)},yi=function(r,o){return{grid:r,cursor:o}},ic=function(r,o,u){var l=Na(r).rows;return Dv(l,o,u).orThunk(function(){return Dv(l,0,0)})},Dv=function(r,o,u){return k.from(r[o]).bind(function(l){return k.from(l.cells[u]).bind(function(f){return k.from(f.element)})})},Hc=function(r,o,u){var l=Na(r).rows;return yi(r,Dv(l,o,u))},Fv=function(r){var o=function(u,l){var f=g(u,function(m){return m.row===l.row});return f?u:u.concat([l])};return an(r,o,[]).sort(function(u,l){return u.row-l.row})},Kp=function(r,o,u,l){var f=o[0].row,m=Fv(o),w=Ot(m,function(E,A){var N=Hp(E.grid,f,A.row+E.delta,u,l.getOrInit);return{grid:N,delta:E.delta+1}},{grid:r,delta:0}).grid;return Hc(w,f,o[0].column)},Xp=function(r,o,u,l){var f=Fv(o),m=f[f.length-1],w=m.row+m.rowspan,E=Ot(f,function(A,N){return Hp(A,w,N.row,u,l.getOrInit)},r);return Hc(E,w,o[0].column)},Yp=function(r,o,u,l){var f=o.details,m=Is(f),w=m[0].column,E=Ot(m,function(A,N){var Q=Ip(A.grid,w,N.column+A.delta,u,l.getOrInit);return{grid:Q,delta:A.delta+1}},{grid:r,delta:0}).grid;return Hc(E,f[0].row,w)},Jp=function(r,o,u,l){var f=o.details,m=f[f.length-1],w=m.column+m.colspan,E=Is(f),A=Ot(E,function(N,Q){return Ip(N,w,Q.column,u,l.getOrInit)},r);return Hc(A,f[0].row,w)},Zp=function(r,o,u,l){var f=Is(o),m=function(E,A){return Vp(E,A.column,u,l.replaceOrInit)},w=an(f,m,r);return Hc(w,o[0].row,o[0].column)},R2=function(r,o,u,l){var f=Is(o),m=function(E,A){return Vp(E,A.column,u,l.replaceOrInit)},w=an(f,m,r);return Hc(w,o[0].row,o[0].column)},H2=function(r,o,u,l){var f=Is(o.details),m=Lp(r,ee(f,function(E){return E.column})),w=ic(m,f[0].row,f[0].column);return yi(m,w)},I2=function(r,o,u,l){var f=Fv(o),m=E2(r,f[0].row,f[f.length-1].row),w=ic(m,o[0].row,o[0].column);return yi(m,w)},L2=function(r,o,u,l){var f=o.cells;$2(f);var m=p2(r,o.bounds,u,l.merge(f));return yi(m,k.from(f[0]))},N2=function(r,o,u,l){var f=function(w,E){return _p(w,E,u,l.unmerge(E))},m=Ot(o,f,r);return yi(m,k.from(o[0]))},V2=function(r,o,u,l){var f=function(A,N){var Q=In.fromTable(A);return $s(Q,N,!0)},m=f(o.clipboard,o.generators),w=bn(o.row,o.column),E=Bp(w,r,m,o.generators,u);return E.fold(function(){return yi(r,k.some(o.element))},function(A){var N=ic(A,o.row,o.column);return yi(A,N)})},Pv=function(r,o,u){var l=ll(r,u.section),f=In.generate(l);return $s(f,o,!0)},Qp=function(r,o,u,l){var f=Na(r).rows,m=o.cells[0].column,w=f[o.cells[0].row],E=Pv(o.clipboard,o.generators,w),A=$p(m,r,E,o.generators,u),N=ic(A,o.cells[0].row,o.cells[0].column);return yi(A,N)},e1=function(r,o,u,l){var f=Na(r).rows,m=o.cells[o.cells.length-1].column+o.cells[o.cells.length-1].colspan,w=f[o.cells[0].row],E=Pv(o.clipboard,o.generators,w),A=$p(m,r,E,o.generators,u),N=ic(A,o.cells[0].row,o.cells[0].column);return yi(A,N)},U2=function(r,o,u,l){var f=Na(r).rows,m=o.cells[0].row,w=f[m],E=Pv(o.clipboard,o.generators,w),A=Rp(m,r,E,o.generators,u),N=ic(A,o.cells[0].row,o.cells[0].column);return yi(A,N)},W2=function(r,o,u,l){var f=Na(r).rows,m=o.cells[o.cells.length-1].row+o.cells[o.cells.length-1].rowspan,w=f[o.cells[0].row],E=Pv(o.clipboard,o.generators,w),A=Rp(m,r,E,o.generators,u),N=ic(A,o.cells[0].row,o.cells[0].column);return yi(A,N)},j2=function(r,o){var u=In.fromTable(r),l=oc(u,o);return l.bind(function(f){var m=f[f.length-1],w=f[0].column,E=m.column+m.colspan,A=At(ee(u.all,function(N){return Tt(N.cells,function(Q){return Q.column>=w&&Q.column<E})}));return yo(A,function(N){return ar(N.element)==="th"})}).getOr("")},yo=function(r,o){var u=Tt(r,o);return u.length===0?k.some("td"):u.length===r.length?k.some("th"):k.none()},Ns=Fc,Vs=ho,Wm=function(r,o){return g(o,function(u){return u.column===0&&u.isLocked})},t1=function(r,o){return g(o,function(u){return u.column+u.colspan>=r.grid.columns&&u.isLocked})},jm=function(r,o){var u=Kd(r),l=Is(o);return an(l,function(f,m){var w=u[m.column],E=w.map(Xf).getOr(0);return f+E},0)},uc=function(r){return function(o,u){return oc(o,u).filter(function(l){var f=r?Wm:t1;return!f(o,l)}).map(function(l){return{details:l,pixelDelta:jm(o,l)}})}},n1=function(r,o){return Ev(r,o).map(function(u){return{details:u,pixelDelta:-jm(r,u)}})},Gm=function(r){return function(o,u){return Av(o,u).filter(function(l){var f=r?Wm:t1;return!f(o,l.cells)})}},Ic=Ao(Kp,oc,Xe,Xe,Uo.modification),r1=Ao(Xp,oc,Xe,Xe,Uo.modification),qm=Ao(Yp,uc(!0),Vs,Xe,Uo.modification),G2=Ao(Jp,uc(!1),Vs,Xe,Uo.modification),a1=Ao(H2,n1,Vs,qp,Uo.modification),o1=Ao(I2,oc,Xe,qp,Uo.modification),i1=Ao(Zp,Ev,Xe,Xe,Uo.transform("row","th")),u1=Ao(R2,Ev,Xe,Xe,Uo.transform(null,"td")),q2=Ao(L2,_v,Ns,Xe,Uo.merging),K2=Ao(N2,Mp,Ns,Xe,Uo.merging),c1=Ao(V2,Ep,Ns,Xe,Uo.modification),s1=Ao(Qp,Gm(!0),Xe,Xe,Uo.modification),X2=Ao(e1,Gm(!1),Xe,Xe,Uo.modification),Y2=Ao(U2,Av,Xe,Xe,Uo.modification),J2=Ao(W2,Av,Xe,Xe,Uo.modification),Z2=j2,Km=function(r){return ks(r.parentNode)},Q2=function(r){return r==="thead"?"header":r==="tfoot"?"footer":"body"},Xm=function(r,o){var u=Km(o)==="thead",l=!g(o.cells,function(f){return ks(f)!=="th"});return u||l?k.some({thead:u,ths:l}):k.none()},l1=function(r,o){return Q2(Xm(r,o).fold(function(){return Km(o)},function(u){return"thead"}))},f1=function(r,o,u){var l=r.getParent(o,"table"),f=o.parentNode,m=ks(f);if(u!==m){var w=r.select(u,l)[0];if(!w){w=r.create(u);var E=l.firstChild;u==="thead"?Dt(pr(U.fromDom(l),"caption,colgroup")).fold(function(){return l.insertBefore(w,E)},function(A){return r.insertAfter(w,A.dom)}):l.appendChild(w)}u==="tbody"&&m==="thead"&&w.firstChild?w.insertBefore(o,w.firstChild):w.appendChild(o),f.hasChildNodes()||r.remove(f)}},ew=function(r,o,u){if(Ct(u)&&ks(o)!==u){var l=r.dom.rename(o,u);return Am(r,l),l}else return o},v1=function(r,o,u,l){var f=r.dom,m=ew(r,o,u);return Ye(l)||f.setAttrib(m,"scope",l),m},Ym=function(r,o,u,l){return Qe(o,function(f){return v1(r,f,u,l)})},d1=function(r,o,u){var l=function(){var E=Zr(U.fromDom(o.cells[0])).map(function(A){return cl(A)}).getOr([]);return ln(E,function(A){return Xm(r,A.dom)}).map(function(A){return A.thead&&A.ths?"sectionCells":A.thead?"section":"cells"}).getOr("section")},f=r.dom;if(u==="header"){var m=Sp(r),w=m==="auto"?l():m;Ym(r,o.cells,w==="section"?"td":"th","col"),f1(f,o,w==="cells"?"tbody":"thead")}else Ym(r,o.cells,"td",null),f1(f,o,u==="footer"?"tfoot":"tbody")},Yn=function(r){return Zr(r).bind(function(o){return Wf(o,la.firstSelectedSelector)}).fold(function(){return r},function(o){return o[0]})},Lc=function(r){return function(o,u){var l=ar(o),f=l==="col"||l==="colgroup"?Yn(o):o;return br(f,r,u)}},Du=Lc("th,td"),Ul=Lc("th,td,caption"),zv=function(r,o,u){return Du(r,u).map(function(l){return Ju(o)}).getOr([])},Wl=function(r,o){var u=Du(r),l=u.bind(function(f){return Zr(f)}).map(function(f){return cl(f)});return Cn(u,l,function(f,m){return Tt(m,function(w){return g(cv(w.dom.cells),function(E){return mi(E,o)==="1"||it(E,f)})})}).getOr([])},tw=function(r,o,u){var l=function(Lr){return ar(_c(Lr))==="table"},f=function(Lr){return l(r)===!1||ec(Lr).rows>1},m=function(Lr){return l(r)===!1||ec(Lr).columns>1},w=tu(r),E=$c(r)?Xe:Rm,A=function(Lr,io,eo,zu,Jc){return function(Zc,Pg){Dc(Zc);var _0=zu(),Wx=U.fromDom(r.getDoc()),vc=sm(eo,Wx,w),jx=xv(r,Zc),D0=$c(r)?ku():_l();return io(Zc)?Lr(_0,Zc,Pg,vc,jx,D0).bind(function(zg){return Qe(zg.newRows,function(of){hp(r,of.dom)}),Qe(zg.newCells,function(of){Am(r,of.dom)}),zg.cursor.map(function(of){var uf=Eu(of),id=r.dom.createRng();return id.setStart(uf.element.dom,uf.offset),id.setEnd(uf.element.dom,uf.offset),{rng:id,effect:Jc}})}):k.none()}},N=A(o1,f,Xe,o,lt),Q=A(a1,m,Xe,o,lt),et=A(Ic,bt,Xe,o,lt),je=A(r1,bt,Xe,o,lt),at=A(qm,bt,E,o,lt),xe=A(G2,bt,E,o,lt),Pe=A(q2,bt,Xe,o,lt),ot=A(K2,bt,Xe,o,lt),fn=A(s1,bt,Xe,o,lt),jn=A(X2,bt,Xe,o,lt),On=A(Y2,bt,Xe,o,lt),rr=A(J2,bt,Xe,o,lt),Wr=A(c1,bt,Xe,o,lt),jr=function(Lr,io){return ha(Lr,"type").filter(function(eo){return Ve(io,eo)})},Yc=function(Lr,io){return jr(io,["td","th"]).each(function(eo){var zu=ee(zv(Ha(Lr),u),function(Jc){return Jc.dom});Ym(Lr,zu,eo,null)})},af=function(Lr,io){return jr(io,["header","body","footer"]).each(function(eo){ee(Wl(Ha(Lr),la.selected),function(zu){return d1(Lr,zu.dom,eo)})})},fc=A(i1,bt,Xe,o,lt),dr=A(u1,bt,Xe,o,lt),Qa=function(Lr){var io=Wl(Ha(Lr),la.selected);if(io.length>0){var eo=ee(io,function(Pg){return l1(Lr,Pg.dom)}),zu=Ve(eo,"header"),Jc=Ve(eo,"footer");if(!zu&&!Jc)return"body";var Zc=Ve(eo,"body");return zu&&!Zc&&!Jc?"header":!zu&&!Zc&&Jc?"footer":""}},Ua=function(Lr){return yo(zv(Ha(Lr),u),function(io){return ar(io)==="th"}).getOr("")},Qo=Z2;return{deleteRow:N,deleteColumn:Q,insertRowsBefore:et,insertRowsAfter:je,insertColumnsBefore:at,insertColumnsAfter:xe,mergeCells:Pe,unmergeCells:ot,pasteColsBefore:fn,pasteColsAfter:jn,pasteRowsBefore:On,pasteRowsAfter:rr,pasteCells:Wr,setTableCellType:Yc,setTableRowType:af,makeColumnsHeader:fc,unmakeColumnsHeader:dr,getTableRowType:Qa,getTableCellType:Ua,getTableColType:Qo}},Jm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Zm=function(){return U.fromTag("th")},m1=function(){return U.fromTag("td")},nw=function(){return U.fromTag("col")},rw=function(r,o,u,l){for(var f=U.fromTag("tr"),m=0;m<r;m++){var w=l<o||m<u?Zm():m1();m<u&&$a(w,"scope","row"),l<o&&$a(w,"scope","col"),We(w,U.fromTag("br")),We(f,w)}return f},aw=function(r){var o=U.fromTag("colgroup");return he(r,function(){return We(o,nw())}),o},g1=function(r,o,u,l){return he(r,function(f){return rw(o,u,l,f)})},ow=function(r,o,u,l,f,m){m===void 0&&(m=Jm);var w=U.fromTag("table"),E=f!=="cells";Rt(w,m.styles),Wi(w,m.attributes),m.colGroups&&We(w,aw(o));var A=Math.min(r,u);if(E&&u>0){var N=U.fromTag("thead");We(w,N);var Q=f==="sectionCells"?A:0,et=g1(u,o,Q,l);Hn(N,et)}var je=U.fromTag("tbody");We(w,je);var at=E?r-A:r,xe=E?0:u,Pe=g1(at,o,xe,l);return Hn(je,Pe),w},iw=function(r){return r.dom.innerHTML},h1=function(r){var o=U.fromTag("div"),u=U.fromDom(r.dom.cloneNode(!0));return We(o,u),iw(o)},uw=function(r,o){r.selection.select(o.dom,!0),r.selection.collapse(!0)},p1=function(r,o){vo(o,"td,th").each($(uw,r))},cw=function(r,o){Qe(fo(o,"tr"),function(u){hp(r,u.dom),Qe(fo(u,"th,td"),function(l){Am(r,l.dom)})})},sw=function(r){return wt(r)&&r.indexOf("%")!==-1},Qm=function(r,o,u,l,f){var m=Dm(r),w={styles:m,attributes:_m(r),colGroups:Qy(r)};return r.undoManager.ignore(function(){var E=ow(u,o,f,l,Sp(r),w);$a(E,"data-mce-id","__mce");var A=h1(E);r.insertContent(A),r.addVisual()}),vo(_c(r),'table[data-mce-id="__mce"]').map(function(E){return zl(r)?Bm(r,E):Bl(r)?Tp(E):(Pl(r)||sw(m.width))&&$l(r,E),Dc(E),xt(E,"data-mce-id"),cw(r,E),p1(r,E),E.dom}).getOr(null)},b1=function(r,o,u,l,f){l===void 0&&(l={});var m=function(A){return Bt(A)&&A>0};if(m(o)&&m(u)){var w=l.headerRows||0,E=l.headerColumns||0;return Qm(r,u,o,E,w)}else return console.error(f),null},y1=function(r){return function(){return r().fold(function(){return[]},function(o){return ee(o,function(u){return u.dom})})}},w1=function(r){return function(o){var u=o.length>0?k.some(cv(o)):k.none();r(u)}},lw=function(r){return function(o,u,l){l===void 0&&(l={});var f=b1(r,u,o,l,"Invalid values for insertTable - rows and columns values are required to insert a table.");return r.undoManager.add(),f}},fw=function(r,o,u,l){return{insertTable:lw(r),setClipboardRows:w1(o.setRows),getClipboardRows:y1(o.getRows),setClipboardCols:w1(o.setColumns),getClipboardCols:y1(o.getColumns),resizeHandler:u,selectionTargets:l}},x1=function(r,o,u){var l=gi(r,o,1);u===1||l<=1?xt(r,o):$a(r,o,Math.min(u,l))},vw=function(r,o,u){if(In.hasColumns(r)){var l=Tt(In.justColumns(r),function(w){return w.column>=o&&w.column<u}),f=ee(l,function(w){var E=Tc(w.element);return x1(E,"span",u-o),E}),m=U.fromTag("colgroup");return Hn(m,f),[m]}else return[]},dw=function(r,o,u){return ee(r.all,function(l){var f=Tt(l.cells,function(E){return E.column>=o&&E.column<u}),m=ee(f,function(E){var A=Tc(E.element);return x1(A,"colspan",u-o),A}),w=U.fromTag("tr");return Hn(w,m),w})},mw=function(r,o){var u=In.fromTable(r),l=Ev(u,o);return l.map(function(f){var m=f[f.length-1],w=f[0].column,E=m.column+m.colspan,A=vw(u,w,E),N=dw(u,w,E);return Gn(A,N)})},gw=function(r,o,u){var l=In.fromTable(r),f=oc(l,o);return f.bind(function(m){var w=$s(l,u,!1),E=Na(w).rows,A=E.slice(m[0].row,m[m.length-1].row+m[m.length-1].rowspan),N=ke(A,function(et){var je=Tt(et.cells,function(at){return!at.isLocked});return je.length>0?[on(on({},et),{cells:je})]:[]}),Q=Ov(N,u);return qf(Q.length>0,Q)}).map(function(m){return c2(m)})},S1=tinymce.util.Tools.resolve("tinymce.util.Tools"),eg=function(r,o,u){var l=r.select("td,th",o),f,m=function(w,E){for(var A=0;A<E.length;A++){var N=r.getStyle(E[A],u);if(typeof w=="undefined"&&(w=N),w!==N)return""}return w};return m(f,l)},tg=function(r,o,u){u&&r.formatter.apply("align"+u,{},o)},hw=function(r,o,u){u&&r.formatter.apply("valign"+u,{},o)},zt=function(r,o){S1.each("left center right".split(" "),function(u){r.formatter.remove("align"+u,{},o)})},Pa=function(r,o){S1.each("top middle bottom".split(" "),function(u){r.formatter.remove("valign"+u,{},o)})},Bv=function(r){return M(r,"menu")},Sa=function(r,o){var u=function(l,f){return f.concat(ee(l,function(m){var w=m.text||m.title;return Bv(m)?{text:w,items:Sa(m.menu)}:{text:w,value:m.value}}))};return u(r,o||[])},Wo=function(r){return function(o){return Dr(o,"rgb")?r.toHex(o):o}},$v=function(r,o){var u=U.fromDom(o);return{borderwidth:Bo(u,"border-width").getOr(""),borderstyle:Bo(u,"border-style").getOr(""),bordercolor:Bo(u,"border-color").map(Wo(r)).getOr(""),backgroundcolor:Bo(u,"background-color").map(Wo(r)).getOr("")}},jl=function(r){var o=r[0],u=r.slice(1);return Qe(u,function(l){Qe(er(o),function(f){zr(l,function(m,w){var E=o[f];E!==""&&f===w&&E!==m&&(o[f]="")})})}),o},Gl=function(r){var o=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],u={name:"borderwidth",type:"input",label:"Border width"},l=r==="cell"?[u].concat(o):o;return{title:"Advanced",name:"advanced",items:l}},C1=function(r,o,u,l){return ne(r,function(f){return u.formatter.matchNode(l,o+f)}).getOr("")},ng=$(C1,["left","center","right"],"align"),T1=$(C1,["top","middle","bottom"],"valign"),pw=function(r,o){var u=Dm(r),l=_m(r),f=function(Q){return{borderstyle:ha(u,"border-style").getOr(""),bordercolor:Wo(Q)(ha(u,"border-color").getOr("")),backgroundcolor:Wo(Q)(ha(u,"background-color").getOr(""))}},m={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},w=function(){var Q=u["border-width"];return zs(r)&&Q?{border:Q}:ha(l,"border").fold(function(){return{}},function(et){return{border:et}})},E=o?f(r.dom):{},A=function(){var Q=ha(u,"border-spacing").or(ha(l,"cellspacing")).fold(function(){return{}},function(je){return{cellspacing:je}}),et=ha(u,"border-padding").or(ha(l,"cellpadding")).fold(function(){return{}},function(je){return{cellpadding:je}});return on(on({},Q),et)},N=on(on(on(on(on(on({},m),u),l),E),w()),A());return N},bw=function(r,o,u){var l=function(m,w){var E=Bo(U.fromDom(w),"border-width");return zs(r)&&E.isSome()?E.getOr(""):m.getAttrib(w,"border")||eg(r.dom,w,"border-width")||eg(r.dom,w,"border")},f=r.dom;return on({width:f.getStyle(o,"width")||f.getAttrib(o,"width"),height:f.getStyle(o,"height")||f.getAttrib(o,"height"),cellspacing:f.getStyle(o,"border-spacing")||f.getAttrib(o,"cellspacing"),cellpadding:f.getAttrib(o,"cellpadding")||eg(r.dom,o,"padding"),border:l(f,o),caption:!!f.select("caption",o)[0],class:f.getAttrib(o,"class",""),align:ng(r,o)},u?$v(f,o):{})},yw=function(r,o,u){var l=r.dom;return on({height:l.getStyle(o,"height")||l.getAttrib(o,"height"),class:l.getAttrib(o,"class",""),type:l1(r,o),align:ng(r,o)},u?$v(l,o):{})},k1=function(r,o,u,l){var f=r.dom,m=l.getOr(o),w=function(E,A){return f.getStyle(E,A)||f.getAttrib(E,A)};return on({width:w(m,"width"),height:w(o,"height"),scope:f.getAttrib(o,"scope"),celltype:ks(o),class:f.getAttrib(o,"class",""),halign:ng(r,o),valign:T1(r,o)},u?$v(f,o):{})},ww=function(r){var o=Sa(Pm(r));return o.length>0?k.some({name:"class",type:"listbox",label:"Class",items:o}):k.none()},O1=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],ql=function(r){return O1.concat(ww(r).toArray())},Kl=function(r){return function(o,u){var l=o.dom,f=function(E,A){(!r||A)&&l.setAttrib(u,E,A)},m=function(E,A){(!r||A)&&l.setStyle(u,E,A)},w=function(E,A){(!r||A)&&(A===""?o.formatter.remove(E,{value:null},u,!0):o.formatter.apply(E,{value:A},u))};return{setAttrib:f,setStyle:m,setFormat:w}}},Fu={normal:Kl(!1),ifTruthy:Kl(!0)},Xl=function(r){return Zr(r[0]).map(function(o){var u=In.fromTable(o),l=In.justCells(u),f=Tt(l,function(m){return g(r,function(w){return it(m.element,w)})});return ee(f,function(m){return{element:m.element.dom,column:In.getColumnAt(u,m.column).map(function(w){return w.element.dom})}})})},rg=function(r,o,u){r.setAttrib("scope",u.scope),r.setAttrib("class",u.class),r.setStyle("height",Yr(u.height)),o.setStyle("width",Yr(u.width))},xw=function(r,o){r.setFormat("tablecellbackgroundcolor",o.backgroundcolor),r.setFormat("tablecellbordercolor",o.bordercolor),r.setFormat("tablecellborderstyle",o.borderstyle),r.setFormat("tablecellborderwidth",Yr(o.borderwidth))},Rv=function(r,o,u,l){var f=o.length===1,m=Yt(l,function(A,N){return u[N]!==A});if(kr(m)>0&&o.length>=1){var w=Zr(o[0]);Xl(o).each(function(A){Qe(A,function(N){var Q=v1(r,N.element,l.celltype),et=f?Fu.normal(r,Q):Fu.ifTruthy(r,Q),je=N.column.map(function(at){return f?Fu.normal(r,at):Fu.ifTruthy(r,at)}).getOr(et);rg(et,je,l),Fm(r)&&xw(et,l),f&&(zt(r,Q),Pa(r,Q)),l.halign&&tg(r,Q,l.halign),l.valign&&hw(r,Q,l.valign)})});var E=kr(Yt(m,function(A,N){return N!=="scope"&&N!=="celltype"}))>0;w.each(function(A){return rc(r,A.dom,{structure:ea(m,"celltype"),style:E})})}},Hv=function(r,o,u,l){var f=l.getData();l.close(),r.undoManager.transact(function(){Rv(r,o,u,f),r.focus()})},Sw=function(r,o){var u=Xl(o).map(function(l){return ee(l,function(f){return k1(r,f.element,Fm(r),f.column)})});return jl(u.getOrDie())},Cw=function(r,o){var u=zv(Ha(r),o);if(u.length!==0){var l=Sw(r,u),f={type:"tabpanel",tabs:[{title:"General",name:"general",items:ql(r)},Gl("cell")]},m={type:"panel",items:[{type:"grid",columns:2,items:ql(r)}]};r.windowManager.open({title:"Cell Properties",size:"normal",body:Fm(r)?f:m,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:l,onSubmit:$(Hv,r,u,l)})}},Tw=function(r){var o=Sa(xp(r));return o.length>0?k.some({name:"class",type:"listbox",label:"Class",items:o}):k.none()},kw=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ag=function(r){return kw.concat(Tw(r).toArray())},A1=function(r,o){r.setAttrib("class",o.class),r.setStyle("height",Yr(o.height))},Ow=function(r,o){r.setStyle("background-color",o.backgroundcolor),r.setStyle("border-color",o.bordercolor),r.setStyle("border-style",o.borderstyle)},Iv=function(r,o,u,l){var f=o.length===1,m=Yt(l,function(A,N){return u[N]!==A});if(kr(m)>0){Qe(o,function(A){l.type!==ks(A.parentNode)&&d1(r,A,l.type);var N=f?Fu.normal(r,A):Fu.ifTruthy(r,A);A1(N,l),Hi(r)&&Ow(N,l),l.align!==u.align&&(zt(r,A),tg(r,A,l.align))});var w=ea(m,"type"),E=w?kr(m)>1:!0;Zr(U.fromDom(o[0])).each(function(A){return rc(r,A.dom,{structure:w,style:E})})}},Za=function(r,o,u,l){var f=l.getData();l.close(),r.undoManager.transact(function(){Iv(r,o,u,f),r.focus()})},wi=function(r){var o=Wl(Ha(r),la.selected);if(o.length!==0){var u=ee(o,function(w){return yw(r,w.dom,Hi(r))}),l=jl(u),f={type:"tabpanel",tabs:[{title:"General",name:"general",items:ag(r)},Gl("row")]},m={type:"panel",items:[{type:"grid",columns:2,items:ag(r)}]};r.windowManager.open({title:"Row Properties",size:"normal",body:Hi(r)?f:m,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:l,onSubmit:$(Za,r,ee(o,function(w){return w.dom}),l)})}},xi=tinymce.util.Tools.resolve("tinymce.Env"),Lv=function(r,o,u){var l=u?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],f=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],m=wp(r)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],w=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],E=o.length>0?[{type:"listbox",name:"class",label:"Class",items:o}]:[];return l.concat(f).concat(m).concat(w).concat(E)},Yl=function(r,o,u,l){if(o.tagName==="TD"||o.tagName==="TH")wt(u)?r.setStyle(o,u,l):r.setStyle(o,u);else if(o.children)for(var f=0;f<o.children.length;f++)Yl(r,o.children[f],u,l)},Aw=function(r,o,u){var l=r.dom,f={},m={};if(f.class=u.class,m.height=Yr(u.height),l.getAttrib(o,"width")&&!zs(r)?f.width=sy(u.width):m.width=Yr(u.width),zs(r)?(m["border-width"]=Yr(u.border),m["border-spacing"]=Yr(u.cellspacing)):(f.border=u.border,f.cellpadding=u.cellpadding,f.cellspacing=u.cellspacing),zs(r)&&o.children)for(var w=0;w<o.children.length;w++)Yl(l,o.children[w],{"border-width":Yr(u.border),padding:Yr(u.cellpadding)}),bo(r)&&Yl(l,o.children[w],{"border-color":u.bordercolor});bo(r)&&(m["background-color"]=u.backgroundcolor,m["border-color"]=u.bordercolor,m["border-style"]=u.borderstyle),f.style=l.serializeStyle(on(on({},Dm(r)),m)),l.setAttribs(o,on(on({},_m(r)),f))},og=function(r,o,u,l){var f=r.dom,m,w=l.getData(),E=Yt(w,function(A,N){return u[N]!==A});l.close(),w.class===""&&delete w.class,r.undoManager.transact(function(){if(!o){var A=parseInt(w.cols,10)||1,N=parseInt(w.rows,10)||1;o=Qm(r,A,N,0,0)}if(kr(E)>0&&(Aw(r,o,w),m=f.select("caption",o)[0],m&&!w.caption&&f.remove(m),!m&&w.caption&&(m=f.create("caption"),m.innerHTML=xi.ie?zh:'<br data-mce-bogus="1"/>',o.insertBefore(m,o.firstChild)),w.align===""?zt(r,o):tg(r,o,w.align)),r.focus(),r.addVisual(),kr(E)>0){var Q=ea(E,"caption"),et=Q?kr(E)>1:!0;rc(r,o,{structure:Q,style:et})}})},E1=function(r,o){var u=r.dom,l,f=pw(r,bo(r));o===!1?(l=u.getParent(r.selection.getStart(),"table",r.getBody()),l?f=bw(r,l,bo(r)):bo(r)&&(f.borderstyle="",f.bordercolor="",f.backgroundcolor="")):(f.cols="1",f.rows="1",bo(r)&&(f.borderstyle="",f.bordercolor="",f.backgroundcolor=""));var m=Sa(Jy(r));m.length>0&&f.class&&(f.class=f.class.replace(/\s*mce\-item\-table\s*/g,""));var w={type:"grid",columns:2,items:Lv(r,m,o)},E=function(){return{type:"panel",items:[w]}},A=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[w]},Gl("table")]}},N=bo(r)?A():E();r.windowManager.open({title:"Table Properties",size:"normal",body:N,onSubmit:$(og,r,l,f),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:f})},Nv=function(r){return Ul(Ha(r),Os(r))},Vv=function(r){return Du(Ha(r),Os(r))},ig=function(r,o,u,l,f){var m=Os(r),w=function(){return Nv(r).each(function(Pe){Zr(Pe,m).filter(_e(m)).each(function(ot){var fn=U.fromText("");if(X(ot,fn),Xr(ot),r.dom.isEmpty(r.getBody()))r.setContent(""),r.selection.setCursorLocation();else{var jn=r.dom.createRng();jn.setStart(fn.dom,0),jn.setEnd(fn.dom,0),r.selection.setRng(jn),r.nodeChanged()}})})},E=function(Pe){return Nv(r).each(function(ot){var fn=Bl(r)||zl(r)||Pl(r);fn||Zr(ot,m).each(function(jn){Pe==="relative"&&!Yh(jn)?$l(r,jn):Pe==="fixed"&&!Jh(jn)?Bm(r,jn):Pe==="responsive"&&!si(jn)&&Tp(jn),Dc(jn),rc(r,jn.dom,lt)})})},A=function(Pe){return Zr(Pe,m)},N=function(Pe){return function(ot){r.selection.setRng(ot.rng),r.focus(),u.clear(Pe),Dc(Pe),rc(r,Pe.dom,ot.effect)}},Q=function(Pe){return Vv(r).each(function(ot){A(ot).each(function(fn){var jn=Es(l,fn,ot);Pe(fn,jn).each(N(fn))})})},et=function(){return Vv(r).map(function(Pe){return A(Pe).bind(function(ot){var fn=Es(l,ot,Pe),jn=sm(Xe,U.fromDom(r.getDoc()),k.none());return gw(ot,fn,jn)})})},je=function(){return Vv(r).map(function(Pe){return A(Pe).bind(function(ot){var fn=Es(l,ot,Pe);return mw(ot,fn)})})},at=function(Pe,ot){return ot().each(function(fn){var jn=ee(fn,function(On){return Tc(On)});Vv(r).each(function(On){return A(On).each(function(rr){var Wr=Hh(U.fromDom(r.getDoc())),jr=El(l,On,jn,Wr);Pe(rr,jr).each(N(rr))})})})};zr({mceTableSplitCells:function(){return Q(o.unmergeCells)},mceTableMergeCells:function(){return Q(o.mergeCells)},mceTableInsertRowBefore:function(){return Q(o.insertRowsBefore)},mceTableInsertRowAfter:function(){return Q(o.insertRowsAfter)},mceTableInsertColBefore:function(){return Q(o.insertColumnsBefore)},mceTableInsertColAfter:function(){return Q(o.insertColumnsAfter)},mceTableDeleteCol:function(){return Q(o.deleteColumn)},mceTableDeleteRow:function(){return Q(o.deleteRow)},mceTableCutCol:function(Pe){return je().each(function(ot){f.setColumns(ot),Q(o.deleteColumn)})},mceTableCutRow:function(Pe){return et().each(function(ot){f.setRows(ot),Q(o.deleteRow)})},mceTableCopyCol:function(Pe){return je().each(function(ot){return f.setColumns(ot)})},mceTableCopyRow:function(Pe){return et().each(function(ot){return f.setRows(ot)})},mceTablePasteColBefore:function(Pe){return at(o.pasteColsBefore,f.getColumns)},mceTablePasteColAfter:function(Pe){return at(o.pasteColsAfter,f.getColumns)},mceTablePasteRowBefore:function(Pe){return at(o.pasteRowsBefore,f.getRows)},mceTablePasteRowAfter:function(Pe){return at(o.pasteRowsAfter,f.getRows)},mceTableDelete:w,mceTableSizingMode:function(Pe,ot){return E(ot)}},function(Pe,ot){return r.addCommand(ot,Pe)});var xe=function(Pe,ot){ot.each(function(fn){rc(Pe,fn.dom,lt)})};zr({mceTableCellType:function(Pe,ot){var fn=Zr(Ha(r),m);o.setTableCellType(r,ot),xe(r,fn)},mceTableRowType:function(Pe,ot){var fn=Zr(Ha(r),m);o.setTableRowType(r,ot),xe(r,fn)}},function(Pe,ot){return r.addCommand(ot,Pe)}),r.addCommand("mceTableColType",function(Pe,ot){return ha(ot,"type").each(function(fn){return Q(fn==="th"?o.makeColumnsHeader:o.unmakeColumnsHeader)})}),zr({mceTableProps:$(E1,r,!1),mceTableRowProps:$(wi,r),mceTableCellProps:$(Cw,r,l)},function(Pe,ot){return r.addCommand(ot,function(){return Pe()})}),r.addCommand("mceInsertTable",function(Pe,ot){$t(ot)&&er(ot).length>0?b1(r,ot.rows,ot.columns,ot.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):E1(r,!0)}),r.addCommand("mceTableApplyCellStyle",function(Pe,ot){var fn=function(rr){return"tablecell"+rr.toLowerCase().replace("-","")};if(!!$t(ot)){var jn=zv(Ha(r),l,m);if(jn.length!==0){var On=Yt(ot,function(rr,Wr){return r.formatter.has(fn(Wr))&&wt(rr)});oe(On)||(zr(On,function(rr,Wr){Qe(jn,function(jr){Fu.normal(r,jr.dom).setFormat(fn(Wr),rr)})}),A(jn[0]).each(function(rr){return rc(r,rr.dom,Mm)}))}}})},M1=function(r,o,u){var l=Os(r),f=function(m){return Zr(m,l)};zr({mceTableRowType:function(){return o.getTableRowType(r)},mceTableCellType:function(){return o.getTableCellType(r)},mceTableColType:function(){return Du(Ha(r)).bind(function(m){return f(m).map(function(w){var E=Es(u,w,m);return o.getTableColType(w,E)})}).getOr("")}},function(m,w){return r.addQueryValueHandler(w,m)})},_1=function(){var r=No(k.none()),o=No(k.none()),u=function(l){l.set(k.none())};return{getRows:r.get,setRows:function(l){r.set(l),u(o)},clearRows:function(){return u(r)},getColumns:o.get,setColumns:function(l){o.set(l),u(r)},clearColumns:function(){return u(o)}}},ug={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},cg=function(r){r.formatter.register(ug)},Mr=wu.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),nu=function(r){return r===void 0&&(r=void 0),Mr.none(r)},Nc=on(on({},Mr),{none:nu}),sg=function(r,o){return Zr(r,o).bind(function(u){var l=qi(u),f=Le(l,function(m){return it(r,m)});return f.map(function(m){return{index:m,all:l}})})},D1=function(r,o){var u=sg(r,o);return u.fold(function(){return Nc.none(r)},function(l){return l.index+1<l.all.length?Nc.middle(r,l.all[l.index+1]):Nc.last(r)})},lg=function(r,o){var u=sg(r,o);return u.fold(function(){return Nc.none()},function(l){return l.index-1>=0?Nc.middle(r,l.all[l.index-1]):Nc.first(r)})},F1=function(r,o,u,l){return{start:r,soffset:o,finish:u,foffset:l}},Vc={create:F1},fg=wu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ew=function(r,o,u,l){return r.fold(o,u,l)},P1=function(r){return r.fold(Gt,Gt,Gt)},Mw=fg.before,vg=fg.on,_w=fg.after,oo={before:Mw,on:vg,after:_w,cata:Ew,getStart:P1},Uv=wu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Dw=function(r){return Uv.exact(r.start,r.soffset,r.finish,r.foffset)},Fw=function(r){return r.match({domRange:function(o){return U.fromDom(o.startContainer)},relative:function(o,u){return oo.getStart(o)},exact:function(o,u,l,f){return o}})},fi=Uv.domRange,wo=Uv.relative,Us=Uv.exact,Pw=function(r){var o=Fw(r);return bc(o)},zw=Vc.create,cc={domRange:fi,relative:wo,exact:Us,exactFromRange:Dw,getWin:Pw,range:zw},Bw=function(r,o){var u=r.document.createRange();return z1(u,o),u},z1=function(r,o){return r.selectNodeContents(o.dom)},Ws=function(r,o){o.fold(function(u){r.setStartBefore(u.dom)},function(u,l){r.setStart(u.dom,l)},function(u){r.setStartAfter(u.dom)})},$w=function(r,o){o.fold(function(u){r.setEndBefore(u.dom)},function(u,l){r.setEnd(u.dom,l)},function(u){r.setEndAfter(u.dom)})},B1=function(r,o,u){var l=r.document.createRange();return Ws(l,o),$w(l,u),l},Wv=function(r,o,u,l,f){var m=r.document.createRange();return m.setStart(o.dom,u),m.setEnd(l.dom,f),m},nr=function(r){return{left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:r.width,height:r.height}},$1=function(r){var o=r.getClientRects(),u=o.length>0?o[0]:r.getBoundingClientRect();return u.width>0||u.height>0?k.some(u).map(nr):k.none()},Jl=wu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),R1=function(r,o,u){return o(U.fromDom(u.startContainer),u.startOffset,U.fromDom(u.endContainer),u.endOffset)},Zl=function(r,o){return o.match({domRange:function(u){return{ltr:Ee(u),rtl:k.none}},relative:function(u,l){return{ltr:Qn(function(){return B1(r,u,l)}),rtl:Qn(function(){return k.some(B1(r,l,u))})}},exact:function(u,l,f,m){return{ltr:Qn(function(){return Wv(r,u,l,f,m)}),rtl:Qn(function(){return k.some(Wv(r,f,m,u,l))})}}})},Rw=function(r,o){var u=o.ltr();if(u.collapsed){var l=o.rtl().filter(function(f){return f.collapsed===!1});return l.map(function(f){return Jl.rtl(U.fromDom(f.endContainer),f.endOffset,U.fromDom(f.startContainer),f.startOffset)}).getOrThunk(function(){return R1(r,Jl.ltr,u)})}else return R1(r,Jl.ltr,u)},dg=function(r,o){var u=Zl(r,o);return Rw(r,u)},mg=function(r,o){var u=dg(r,o);return u.match({ltr:function(l,f,m,w){var E=r.document.createRange();return E.setStart(l.dom,f),E.setEnd(m.dom,w),E},rtl:function(l,f,m,w){var E=r.document.createRange();return E.setStart(m.dom,w),E.setEnd(l.dom,f),E}})};Jl.ltr,Jl.rtl;var Hw=function(r,o,u,l,f){if(f===0)return 0;if(o===l)return f-1;for(var m=l,w=1;w<f;w++){var E=r(w),A=Math.abs(o-E.left);if(u<=E.bottom){if(u<E.top||A>m)return w-1;m=A}}return 0},jv=function(r,o,u){return o>=r.left&&o<=r.right&&u>=r.top&&u<=r.bottom},Iw=function(r,o,u,l,f){var m=function(N){var Q=r.dom.createRange();return Q.setStart(o.dom,N),Q.collapse(!0),Q},w=function(N){var Q=m(N);return Q.getBoundingClientRect()},E=ps(o).length,A=Hw(w,u,l,f.right,E);return m(A)},Lw=function(r,o,u,l){var f=r.dom.createRange();f.selectNode(o.dom);var m=f.getClientRects(),w=ln(m,function(E){return jv(E,u,l)?k.some(E):k.none()});return w.map(function(E){return Iw(r,o,u,l,E)})},H1=function(r,o,u,l){var f=r.dom.createRange(),m=b(o);return ln(m,function(w){return f.selectNode(w.dom),jv(f.getBoundingClientRect(),u,l)?gg(r,w,u,l):k.none()})},gg=function(r,o,u,l){return fr(o)?Lw(r,o,u,l):H1(r,o,u,l)},I1=function(r,o,u,l){var f=r.dom.createRange();f.selectNode(o.dom);var m=f.getBoundingClientRect(),w=Math.max(m.left,Math.min(m.right,u)),E=Math.max(m.top,Math.min(m.bottom,l));return gg(r,o,w,E)},L1=!0,Nw=!1,hg=function(r,o){return o-r.left<r.right-o?L1:Nw},N1=function(r,o,u){var l=r.dom.createRange();return l.selectNode(o.dom),l.collapse(u),l},Vw=function(r,o,u){var l=r.dom.createRange();l.selectNode(o.dom);var f=l.getBoundingClientRect(),m=hg(f,u),w=m===L1?uv:Tl;return w(o).map(function(E){return N1(r,E,m)})},yr=function(r,o,u){var l=o.dom.getBoundingClientRect(),f=hg(l,u);return k.some(N1(r,o,f))},Uw=function(r,o,u){var l=b(o).length===0?yr:Vw;return l(r,o,u)},sc=function(r,o,u){return k.from(r.dom.caretPositionFromPoint(o,u)).bind(function(l){if(l.offsetNode===null)return k.none();var f=r.dom.createRange();return f.setStart(l.offsetNode,l.offset),f.collapse(),k.some(f)})},ru=function(r,o,u){return k.from(r.dom.caretRangeFromPoint(o,u))},Gv=function(r,o,u,l){var f=r.dom.createRange();f.selectNode(o.dom);var m=f.getBoundingClientRect(),w=Math.max(m.left,Math.min(m.right,u)),E=Math.max(m.top,Math.min(m.bottom,l));return I1(r,o,w,E)},jo=function(r,o,u){return U.fromPoint(r,o,u).bind(function(l){var f=function(){return Uw(r,l,o)};return b(l).length===0?f():Gv(r,l,o,u).orThunk(f)})},qv=function(){return document.caretPositionFromPoint?sc:document.caretRangeFromPoint?ru:jo}(),Ql=function(r,o,u){var l=U.fromDom(r.document);return qv(l,o,u).map(function(f){return Vc.create(U.fromDom(f.startContainer),f.startOffset,U.fromDom(f.endContainer),f.endOffset)})},Uc=function(r,o){var u=ar(r);return u==="input"?oo.after(r):Ve(["br","img"],u)?o===0?oo.before(r):oo.after(r):oo.on(r,o)},Wc=function(r,o){var u=r.fold(oo.before,Uc,oo.after),l=o.fold(oo.before,Uc,oo.after);return cc.relative(u,l)},pg=function(r,o,u,l){var f=Uc(r,o),m=Uc(u,l);return cc.relative(f,m)},Ww=function(r){return r.match({domRange:function(o){var u=U.fromDom(o.startContainer),l=U.fromDom(o.endContainer);return pg(u,o.startOffset,l,o.endOffset)},relative:Wc,exact:pg})},jw=function(r,o,u,l){var f=Fo(r),m=f.dom.createRange();return m.setStart(r.dom,o),m.setEnd(u.dom,l),m},Gw=function(r,o,u,l){var f=jw(r,o,u,l),m=it(r,u)&&o===l;return f.collapsed&&!m},Un=function(r){return k.from(r.getSelection())},Si=function(r,o){Un(r).each(function(u){u.removeAllRanges(),u.addRange(o)})},lc=function(r,o,u,l,f){var m=Wv(r,o,u,l,f);Si(r,m)},qw=function(r,o,u,l,f,m){o.collapse(u.dom,l),o.extend(f.dom,m)},js=function(r,o){return dg(r,o).match({ltr:function(u,l,f,m){lc(r,u,l,f,m)},rtl:function(u,l,f,m){Un(r).each(function(w){if(w.setBaseAndExtent)w.setBaseAndExtent(u.dom,l,f.dom,m);else if(w.extend)try{qw(r,w,u,l,f,m)}catch{lc(r,f,m,u,l)}else lc(r,f,m,u,l)})}})},Jn=function(r,o,u,l,f){var m=pg(o,u,l,f);js(r,m)},V1=function(r,o,u){var l=Wc(o,u);js(r,l)},U1=function(r){var o=cc.getWin(r).dom,u=function(f,m,w,E){return Wv(o,f,m,w,E)},l=Ww(r);return dg(o,l).match({ltr:u,rtl:u})},ef=function(r){if(r.rangeCount>0){var o=r.getRangeAt(0),u=r.getRangeAt(r.rangeCount-1);return k.some(Vc.create(U.fromDom(o.startContainer),o.startOffset,U.fromDom(u.endContainer),u.endOffset))}else return k.none()},W1=function(r){if(r.anchorNode===null||r.focusNode===null)return ef(r);var o=U.fromDom(r.anchorNode),u=U.fromDom(r.focusNode);return Gw(o,r.anchorOffset,u,r.focusOffset)?k.some(Vc.create(o,r.anchorOffset,u,r.focusOffset)):ef(r)},Kv=function(r,o){var u=Bw(r,o);Si(r,u)},jc=function(r){return Un(r).filter(function(o){return o.rangeCount>0}).bind(W1)},bg=function(r){return jc(r).map(function(o){return cc.exact(o.start,o.soffset,o.finish,o.foffset)})},Kw=function(r,o){var u=mg(r,o);return $1(u)},Xw=function(r,o,u){return Ql(r,o,u)},Yw=function(r){Un(r).each(function(o){return o.removeAllRanges()})},tf=tinymce.util.Tools.resolve("tinymce.util.VK"),Gs=function(r,o,u){return j1(r,o,D1(u))},Jw=function(r,o,u){return j1(r,o,lg(u))},yg=function(r,o){var u=cc.exact(o,0,o,0);return U1(u)},Zw=function(r,o){var u=fo(o,"tr");return Dt(u).bind(function(l){return vo(l,"td,th").map(function(f){return yg(r,f)})})},j1=function(r,o,u){return u.fold(k.none,k.none,function(l,f){return uv(f).map(function(m){return yg(r,m)})},function(l){return Zr(l,o).bind(function(f){return r.execCommand("mceTableInsertRowAfter"),Zw(r,f)})})},Qw=["table","li","dl"],G1=function(r,o,u){if(r.keyCode===tf.TAB){var l=_c(o),f=function(E){var A=ar(E);return it(E,l)||Ve(Qw,A)},m=o.selection.getRng(),w=U.fromDom(r.shiftKey?m.startContainer:m.endContainer);ul(w,f).each(function(E){r.preventDefault(),Zr(E,f).each(u.clear),o.selection.collapse(r.shiftKey);var A=r.shiftKey?Jw:Gs,N=A(o,f,E);N.each(function(Q){o.selection.setRng(Q)})})}},ex=function(r,o){return{selection:r,kill:o}},qs={create:ex},q1=function(r,o,u,l){return{start:oo.on(r,o),finish:oo.on(u,l)}},Xv={create:q1},Yv=function(r,o){var u=mg(r,o);return Vc.create(U.fromDom(u.startContainer),u.startOffset,U.fromDom(u.endContainer),u.endOffset)},Ks=Xv.create,K1=function(r,o,u,l,f,m,w){return it(u,f)&&l===m?k.none():br(u,"td,th",o).bind(function(E){return br(f,"td,th",o).bind(function(A){return wg(r,o,E,A,w)})})},wg=function(r,o,u,l,f){return it(u,l)?k.none():Yi(u,l,o).bind(function(m){var w=m.boxes.getOr([]);return w.length>0?(f(r,w,m.start,m.finish),k.some(qs.create(k.some(Ks(u,0,u,Yu(u))),!0))):k.none()})},X1=function(r,o,u,l,f){var m=function(w){return f.clearBeforeUpdate(u),f.selectRange(u,w.boxes,w.start,w.finish),w.boxes};return Uf(l,r,o,f.firstSelectedSelector,f.lastSelectedSelector).map(m)},Xs=function(r,o){return{item:r,mode:o}},Y1=function(r,o,u,l){return l===void 0&&(l=Gc),r.property().parent(o).map(function(f){return Xs(f,l)})},Gc=function(r,o,u,l){return l===void 0&&(l=nf),u.sibling(r,o).map(function(f){return Xs(f,l)})},nf=function(r,o,u,l){l===void 0&&(l=nf);var f=r.property().children(o),m=u.first(f);return m.map(function(w){return Xs(w,l)})},J1=[{current:Y1,next:Gc,fallback:k.none()},{current:Gc,next:nf,fallback:k.some(Y1)},{current:nf,next:nf,fallback:k.some(Gc)}],xg=function(r,o,u,l,f){f===void 0&&(f=J1);var m=ne(f,function(w){return w.current===u});return m.bind(function(w){return w.current(r,o,l,w.next).orThunk(function(){return w.fallback.bind(function(E){return xg(r,o,E,l)})})})},Z1=function(){var r=function(u,l){return u.query().prevSibling(l)},o=function(u){return u.length>0?k.some(u[u.length-1]):k.none()};return{sibling:r,first:o}},Q1=function(){var r=function(u,l){return u.query().nextSibling(l)},o=function(u){return u.length>0?k.some(u[0]):k.none()};return{sibling:r,first:o}},Sg={left:Z1,right:Q1},Cg=function(r,o,u,l,f,m){var w=xg(r,o,l,f);return w.bind(function(E){return m(E.item)?k.none():u(E.item)?k.some(E.item):Cg(r,E.item,u,E.mode,f,m)})},tx=function(r,o,u,l){return Cg(r,o,u,Gc,Sg.left(),l)},nx=function(r,o,u,l){return Cg(r,o,u,Gc,Sg.right(),l)},e0=function(r){return function(o){return r.property().children(o).length===0}},rx=function(r,o,u){return t0(r,o,e0(r),u)},ax=function(r,o,u){return n0(r,o,e0(r),u)},t0=tx,n0=nx,qc=Nf(),Tg=function(r,o){return rx(qc,r,o)},r0=function(r,o){return ax(qc,r,o)},a0=function(r,o,u){return t0(qc,r,o,u)},o0=function(r,o,u){return n0(qc,r,o,u)},ox=function(r,o,u){return ja(r,o,u).isSome()},Jv=wu.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),ix=function(r,o,u){var l=r.getRect(o),f=r.getRect(u);return f.right>l.left&&f.left<l.right},ux=function(r){return br(r,"tr")},cx=function(r,o,u,l,f,m,w){return br(l,"td,th",w).bind(function(E){return br(o,"td,th",w).map(function(A){return it(E,A)?it(l,E)&&Yu(E)===f?m(A):Jv.none("in same cell"):Xi(ux,[E,A]).fold(function(){return ix(r,A,E)?Jv.success():m(A)},function(N){return m(A)})})}).getOr(Jv.none("default"))},Zv=function(r,o,u,l,f){return r.fold(o,u,l,f)},Ys=on(on({},Jv),{verify:cx,cata:Zv}),sx=function(r,o,u,l){return{parent:r,children:o,element:u,index:l}},kg=function(r){return C(r).bind(function(o){var u=b(o);return lx(u,r).map(function(l){return sx(o,u,r,l)})})},lx=function(r,o){return Le(r,$(it,o))},Qv=function(r){return ar(r)==="br"},ed=function(r,o,u){return o(r,u).bind(function(l){return fr(l)&&ps(l).trim().length===0?ed(l,o,u):k.some(l)})},i0=function(r,o,u){return u.traverse(o).orThunk(function(){return ed(o,u.gather,r)}).map(u.relative)},fx=function(r,o){return P(r,o).filter(Qv).orThunk(function(){return P(r,o-1).filter(Qv)})},vx=function(r,o,u,l){return fx(o,u).bind(function(f){return l.traverse(f).fold(function(){return ed(f,l.gather,r).map(l.relative)},function(m){return kg(m).map(function(w){return oo.on(w.parent,w.index)})})})},dx=function(r,o,u,l){var f=Qv(o)?i0(r,o,l):vx(r,o,u,l);return f.map(function(m){return{start:m,finish:m}})},mx=function(r){return Ys.cata(r,function(o){return k.none()},function(){return k.none()},function(o){return k.some(Rl(o,0))},function(o){return k.some(Rl(o,Yu(o)))})},Kc=function(r,o){return{left:r.left,top:r.top+o,right:r.right,bottom:r.bottom+o}},rf=function(r,o){return{left:r.left,top:r.top-o,right:r.right,bottom:r.bottom-o}},Og=function(r,o,u){return{left:r.left+o,top:r.top+u,right:r.right+o,bottom:r.bottom+u}},u0=function(r){return r.top},c0=function(r){return r.bottom},gx=function(r,o,u){return u>=0&&u<Yu(o)?r.getRangedRect(o,u,o,u+1):u>0?r.getRangedRect(o,u-1,o,u):k.none()},td=function(r){return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}},s0=function(r,o){return k.some(r.getRect(o))},l0=function(r,o,u){return Xo(o)?s0(r,o).map(td):fr(o)?gx(r,o,u).map(td):k.none()},f0=function(r,o){return Xo(o)?s0(r,o).map(td):fr(o)?r.getRangedRect(o,0,o,Yu(o)).map(td):k.none()},Pu=5,hx=100,au=wu.generate([{none:[]},{retry:["caret"]}]),px=function(r,o){return r.left<o.left||Math.abs(o.right-r.left)<1||r.left>o.right},v0=function(r,o,u){return zd(o,Um).fold(cn,function(l){return f0(r,l).exists(function(f){return px(u,f)})})},bx=function(r,o,u,l,f){var m=Kc(f,Pu);return Math.abs(u.bottom-l.bottom)<1||u.top>f.bottom?au.retry(m):u.top===f.bottom?au.retry(Kc(f,1)):v0(r,o,f)?au.retry(Og(m,Pu,0)):au.none()},yx=function(r,o,u,l,f){var m=rf(f,Pu);return Math.abs(u.top-l.top)<1||u.bottom<f.top?au.retry(m):u.bottom===f.top?au.retry(rf(f,1)):v0(r,o,f)?au.retry(Og(m,Pu,0)):au.none()},nd={point:u0,adjuster:yx,move:rf,gather:Tg},d0={point:c0,adjuster:bx,move:Kc,gather:r0},m0=function(r,o,u){return r.elementFromPoint(o,u).filter(function(l){return ar(l)==="table"}).isSome()},wx=function(r,o,u,l,f){return Ag(r,o,u,o.move(l,Pu),f)},Ag=function(r,o,u,l,f){return f===0?k.some(l):m0(r,l.left,o.point(l))?wx(r,o,u,l,f-1):r.situsFromPoint(l.left,o.point(l)).bind(function(m){return m.start.fold(k.none,function(w){return f0(r,w).bind(function(E){return o.adjuster(r,w,E,u,l).fold(k.none,function(A){return Ag(r,o,u,A,f-1)})}).orThunk(function(){return k.some(l)})},k.none)})},xx=function(r,o){return r.situsFromPoint(o.left,o.bottom+Pu)},Sx=function(r,o){return r.situsFromPoint(o.left,o.top-Pu)},Cx=function(r,o,u){return r.point(o)>u.getInnerHeight()?k.some(r.point(o)-u.getInnerHeight()):r.point(o)<0?k.some(-r.point(o)):k.none()},g0=function(r,o,u){var l=r.move(u,Pu),f=Ag(o,r,u,l,hx).getOr(l);return Cx(r,f,o).fold(function(){return o.situsFromPoint(f.left,r.point(f))},function(m){return o.scrollBy(0,m),o.situsFromPoint(f.left,r.point(f)-m)})},Js={tryUp:$(g0,nd),tryDown:$(g0,d0),ieTryUp:Sx,ieTryDown:xx,getJumpSize:Ee(Pu)},Tx=20,h0=function(r,o,u){return r.getSelection().bind(function(l){return dx(o,l.finish,l.foffset,u).fold(function(){return k.some(Rl(l.finish,l.foffset))},function(f){var m=r.fromSitus(f),w=Ys.verify(r,l.finish,l.foffset,m.finish,m.foffset,u.failure,o);return mx(w)})})},rd=function(r,o,u,l,f,m){return m===0?k.none():kx(r,o,u,l,f).bind(function(w){var E=r.fromSitus(w),A=Ys.verify(r,u,l,E.finish,E.foffset,f.failure,o);return Ys.cata(A,function(){return k.none()},function(){return k.some(w)},function(N){return it(u,N)&&l===0?p0(r,u,l,rf,f):rd(r,o,N,0,f,m-1)},function(N){return it(u,N)&&l===Yu(N)?p0(r,u,l,Kc,f):rd(r,o,N,Yu(N),f,m-1)})})},p0=function(r,o,u,l,f){return l0(r,o,u).bind(function(m){return b0(r,f,l(m,Js.getJumpSize()))})},b0=function(r,o,u){var l=W().browser;return l.isChrome()||l.isSafari()||l.isFirefox()||l.isEdge()?o.otherRetry(r,u):l.isIE()?o.ieRetry(r,u):k.none()},kx=function(r,o,u,l,f){return l0(r,u,l).bind(function(m){return b0(r,f,m)})},Ox=function(r,o,u){return h0(r,o,u).bind(function(l){return rd(r,o,l.element,l.offset,u,Tx).map(r.fromSitus)})},Ax=function(r,o){return ox(r,function(u){return C(u).exists(function(l){return it(l,o)})})},y0=function(r,o,u,l,f){return br(l,"td,th",o).bind(function(m){return br(m,"table",o).bind(function(w){return Ax(f,w)?Ox(r,o,u).bind(function(E){return br(E.finish,"td,th",o).map(function(A){return{start:m,finish:A,range:E}})}):k.none()})})},w0=function(r,o,u,l,f,m){return W().browser.isIE()?k.none():m(l,o).orThunk(function(){return y0(r,o,u,l,f).map(function(w){var E=w.range;return qs.create(k.some(Ks(E.start,E.soffset,E.finish,E.foffset)),!0)})})},Ex=function(r,o){return br(r,"tr",o).bind(function(u){return br(u,"table",o).bind(function(l){var f=fo(l,"tr");return it(u,f[0])?a0(l,function(m){return Tl(m).isSome()},o).map(function(m){var w=Yu(m);return qs.create(k.some(Ks(m,w,m,w)),!0)}):k.none()})})},Mx=function(r,o){return br(r,"tr",o).bind(function(u){return br(u,"table",o).bind(function(l){var f=fo(l,"tr");return it(u,f[f.length-1])?o0(l,function(m){return uv(m).isSome()},o).map(function(m){return qs.create(k.some(Ks(m,0,m,0)),!0)}):k.none()})})},x0=function(r,o,u,l,f,m,w){return y0(r,u,l,f,m).bind(function(E){return wg(o,u,E.start,E.finish,w)})},_x=function(){var r=No(k.none()),o=function(){return r.set(k.none())},u=function(m){return r.set(k.some(m))},l=function(){return r.get().isSome()},f=function(m){return r.get().each(m)};return{clear:o,set:u,isSet:l,on:f}},S0=function(r,o){return br(r,"td,th",o)},Dx=function(r,o,u,l){var f=_x(),m=f.clear,w=function(Q){f.on(function(et){l.clearBeforeUpdate(o),S0(Q.target,u).each(function(je){Yi(et,je,u).each(function(at){var xe=at.boxes.getOr([]);(xe.length>1||xe.length===1&&!it(et,je))&&(l.selectRange(o,xe,at.start,at.finish),r.selectContents(je))})})})},E=function(Q){l.clear(o),S0(Q.target,u).each(f.set)},A=function(Q){w(Q)},N=function(Q){w(Q),m()};return{clearstate:m,mousedown:E,mouseover:A,mouseup:N}},C0={traverse:nt,gather:r0,relative:oo.before,otherRetry:Js.tryDown,ieRetry:Js.ieTryDown,failure:Ys.failedDown},T0={traverse:we,gather:Tg,relative:oo.before,otherRetry:Js.tryUp,ieRetry:Js.ieTryUp,failure:Ys.failedUp},Zs=function(r){return function(o){return o===r}},Eg=Zs(38),ad=Zs(40),Mg=function(r){return r>=37&&r<=40},wn={isBackward:Zs(37),isForward:Zs(39)},Fx={isBackward:Zs(39),isForward:Zs(37)},_g=function(r){var o=r!==void 0?r.dom:document,u=o.body.scrollLeft||o.documentElement.scrollLeft,l=o.body.scrollTop||o.documentElement.scrollTop;return Su(u,l)},Px=function(r,o,u){var l=u!==void 0?u.dom:document,f=l.defaultView;f&&f.scrollBy(r,o)},Dg=function(r){var o=function(Pe,ot){return U.fromPoint(U.fromDom(r.document),Pe,ot)},u=function(Pe){return Pe.dom.getBoundingClientRect()},l=function(Pe,ot,fn,jn){var On=cc.exact(Pe,ot,fn,jn);return Kw(r,On)},f=function(){return bg(r).map(function(Pe){return Yv(r,Pe)})},m=function(Pe){var ot=cc.relative(Pe.start,Pe.finish);return Yv(r,ot)},w=function(Pe,ot){return Xw(r,Pe,ot).map(function(fn){return Xv.create(fn.start,fn.soffset,fn.finish,fn.foffset)})},E=function(){Yw(r)},A=function(Pe){Pe===void 0&&(Pe=!1),bg(r).each(function(ot){return ot.fold(function(fn){return fn.collapse(Pe)},function(fn,jn){var On=Pe?fn:jn;V1(r,On,On)},function(fn,jn,On,rr){var Wr=Pe?fn:On,jr=Pe?jn:rr;Jn(r,Wr,jr,Wr,jr)})})},N=function(Pe){Kv(r,Pe)},Q=function(Pe){Jn(r,Pe.start,Pe.soffset,Pe.finish,Pe.foffset)},et=function(Pe,ot){V1(r,Pe,ot)},je=function(){return r.innerHeight},at=function(){var Pe=_g(U.fromDom(r.document));return Pe.top},xe=function(Pe,ot){Px(Pe,ot,U.fromDom(r.document))};return{elementFromPoint:o,getRect:u,getRangedRect:l,getSelection:f,fromSitus:m,situsFromPoint:w,clearSelection:E,collapseSelection:A,setSelection:Q,setRelativeSelection:et,selectContents:N,getInnerHeight:je,getScrollY:at,scrollBy:xe}},Xc=function(r,o){return{rows:r,cols:o}},od=function(r,o,u,l){var f=Dg(r),m=Dx(f,o,u,l);return{clearstate:m.clearstate,mousedown:m.mousedown,mouseover:m.mouseover,mouseup:m.mouseup}},k0=function(r,o,u,l){var f=Dg(r),m=function(){return l.clear(o),k.none()},w=function(A,N,Q,et,je,at){var xe=A.raw,Pe=xe.which,ot=xe.shiftKey===!0,fn=To(o,l.selectedSelector).fold(function(){return ad(Pe)&&ot?$(x0,f,o,u,C0,et,N,l.selectRange):Eg(Pe)&&ot?$(x0,f,o,u,T0,et,N,l.selectRange):ad(Pe)?$(w0,f,u,C0,et,N,Mx):Eg(Pe)?$(w0,f,u,T0,et,N,Ex):k.none},function(jn){var On=function(rr){return function(){var Wr=ln(rr,function(jr){return X1(jr.rows,jr.cols,o,jn,l)});return Wr.fold(function(){return ys(o,l.firstSelectedSelector,l.lastSelectedSelector).map(function(jr){var Yc=ad(Pe)||at.isForward(Pe)?oo.after:oo.before;return f.setRelativeSelection(oo.on(jr.first,0),Yc(jr.table)),l.clear(o),qs.create(k.none(),!0)})},function(jr){return k.some(qs.create(k.none(),!0))})}};return ad(Pe)&&ot?On([Xc(1,0)]):Eg(Pe)&&ot?On([Xc(-1,0)]):at.isBackward(Pe)&&ot?On([Xc(0,-1),Xc(-1,0)]):at.isForward(Pe)&&ot?On([Xc(0,1),Xc(1,0)]):Mg(Pe)&&ot===!1?m:k.none});return fn()},E=function(A,N,Q,et,je){return To(o,l.selectedSelector).fold(function(){var at=A.raw,xe=at.which,Pe=at.shiftKey===!0;return Pe===!1?k.none():Mg(xe)?K1(o,u,N,Q,et,je,l.selectRange):k.none()},k.none)};return{keydown:w,keyup:E}},zx=function(r,o,u,l){var f=Dg(r);return function(m,w){l.clearBeforeUpdate(o),Yi(m,w,u).each(function(E){var A=E.boxes.getOr([]);l.selectRange(o,A,E.start,E.finish),f.selectContents(w),f.collapseSelection()})}},Bx=function(r,o){Qe(o,function(u){no(r,u)})},Mn=function(r){return function(o){Qi(o,r)}},$x=function(r){return function(o){Bx(o,r)}},Bn=function(r){var o=Mn(r.selected),u=$x([r.selected,r.lastSelected,r.firstSelected]),l=function(m){var w=fo(m,r.selectedSelector);Qe(w,u)},f=function(m,w,E,A){l(m),Qe(w,o),Qi(E,r.firstSelected),Qi(A,r.lastSelected)};return{clearBeforeUpdate:l,clear:l,selectRange:f,selectedSelector:r.selectedSelector,firstSelectedSelector:r.firstSelectedSelector,lastSelectedSelector:r.lastSelectedSelector}},O0=function(r,o,u){var l=function(A){xt(A,r.selected),xt(A,r.firstSelected),xt(A,r.lastSelected)},f=function(A){$a(A,r.selected,"1")},m=function(A){w(A),u()},w=function(A){var N=fo(A,r.selectedSelector);Qe(N,l)},E=function(A,N,Q,et){m(A),Qe(N,f),$a(Q,r.firstSelected,"1"),$a(et,r.lastSelected,"1"),o(N,Q,et)};return{clearBeforeUpdate:w,clear:m,selectRange:E,selectedSelector:r.selectedSelector,firstSelectedSelector:r.firstSelectedSelector,lastSelectedSelector:r.lastSelectedSelector}},Rx={byClass:Bn,byAttr:O0},Hx=function(r,o,u){var l=r.slice(0,o[o.length-1].row+1),f=Ov(l,u);return ke(f,function(m){var w=m.cells.slice(0,o[o.length-1].column+1);return ee(w,function(E){return E.element})})},Ix=function(r,o,u){var l=r.slice(o[0].row+o[0].rowspan-1,r.length),f=Ov(l,u);return ke(f,function(m){var w=m.cells.slice(o[0].column+o[0].colspan-1,m.cells.length);return ee(w,function(E){return E.element})})},Lx=function(r,o,u){var l=In.fromTable(r),f=oc(l,o);return f.map(function(m){var w=$s(l,u,!1),E=Hx(w,m,u),A=Ix(w,m,u);return{upOrLeftCells:E,downOrRightCells:A}})},Fg=function(r){return eu(U.fromDom(r.target),"ephox-snooker-resizer-bar")===!1};function Nx(r,o,u){var l=function(w,E,A){u.targets().each(function(N){var Q=Zr(E);Q.each(function(et){var je=tu(r),at=sm(Xe,U.fromDom(r.getDoc()),je),xe=Lx(et,N,at);Gy(r,w,E,A,xe)})})},f=function(){return qy(r)},m=Rx.byAttr(la,l,f);return r.on("init",function(w){var E=r.getWin(),A=_c(r),N=Os(r),Q=function(){var dr=r.selection,Qa=U.fromDom(dr.getStart()),Ua=U.fromDom(dr.getEnd()),Qo=Xi(Zr,[Qa,Ua]);Qo.fold(function(){return m.clear(A)},Xe)},et=od(E,A,N,m),je=k0(E,A,N,m),at=zx(E,A,N,m),xe=function(dr){return dr.raw.shiftKey===!0};r.on("TableSelectorChange",function(dr){return at(dr.start,dr.finish)});var Pe=function(dr,Qa){!xe(dr)||(Qa.kill&&dr.kill(),Qa.selection.each(function(Ua){var Qo=cc.relative(Ua.start,Ua.finish),Lr=mg(E,Qo);r.selection.setRng(Lr)}))},ot=function(dr){var Qa=nc(dr);if(Qa.raw.shiftKey&&Mg(Qa.raw.which)){var Ua=r.selection.getRng(),Qo=U.fromDom(Ua.startContainer),Lr=U.fromDom(Ua.endContainer);je.keyup(Qa,Qo,Ua.startOffset,Lr,Ua.endOffset).each(function(io){Pe(Qa,io)})}},fn=function(dr){var Qa=nc(dr);o().each(function(eo){return eo.hideBars()});var Ua=r.selection.getRng(),Qo=U.fromDom(Ua.startContainer),Lr=U.fromDom(Ua.endContainer),io=hh(wn,Fx)(U.fromDom(r.selection.getStart()));je.keydown(Qa,Qo,Ua.startOffset,Lr,Ua.endOffset,io).each(function(eo){Pe(Qa,eo)}),o().each(function(eo){return eo.showBars()})},jn=function(dr){return dr.button===0},On=function(dr){return dr.buttons===void 0||xi.browser.isEdge()&&dr.buttons===0?!0:(dr.buttons&1)!==0},rr=function(dr){et.clearstate()},Wr=function(dr){jn(dr)&&Fg(dr)&&et.mousedown(nc(dr))},jr=function(dr){On(dr)&&Fg(dr)&&et.mouseover(nc(dr))},Yc=function(dr){jn(dr)&&Fg(dr)&&et.mouseup(nc(dr))},af=function(){var dr=No(U.fromDom(A)),Qa=No(0),Ua=function(Qo){var Lr=U.fromDom(Qo.target);if(ar(Lr)==="td"||ar(Lr)==="th"){var io=dr.get(),eo=Qa.get();it(io,Lr)&&Qo.timeStamp-eo<300&&(Qo.preventDefault(),at(Lr,Lr))}dr.set(Lr),Qa.set(Qo.timeStamp)};return{touchEnd:Ua}},fc=af();r.on("dragstart",rr),r.on("mousedown",Wr),r.on("mouseover",jr),r.on("mouseup",Yc),r.on("touchend",fc.touchEnd),r.on("keyup",ot),r.on("keydown",fn),r.on("NodeChange",Q)}),{clear:m.clear}}var Vx=function(r,o){var u=No(k.none()),l=No([]),f=k.none(),m=Do("caption"),w=function(On){return f.forall(function(rr){return!rr[On]})},E=function(){return Ul(Ha(r),Os(r)).bind(function(On){var rr=Zr(On);return rr.map(function(Wr){return m(On)?ly(On):Es(o,Wr,On)})})},A=function(On){var rr=Zr(On.element);return rr.map(function(Wr){var jr=In.fromTable(Wr),Yc=oc(jr,On).getOr([]),af=an(Yc,function(fc,dr){return dr.isLocked&&(fc.onAny=!0,dr.column===0?fc.onFirst=!0:dr.column+dr.colspan>=jr.grid.columns&&(fc.onLast=!0)),fc},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:_v(jr,On).isSome(),unmergeable:Mp(jr,On).isSome(),locked:af}})},N=function(){u.set(Qn(E)()),f=u.get().bind(A),Qe(l.get(),function(On){return On()})},Q=function(On,rr){var Wr=function(){return u.get().fold(function(){On.setDisabled(!0)},function(jr){On.setDisabled(rr(jr))})};return Wr(),l.set(l.get().concat([Wr])),function(){l.set(Tt(l.get(),function(jr){return jr!==Wr}))}},et=function(On){return f.exists(function(rr){return rr.locked[On]})},je=function(On){return Q(On,function(rr){return!1})},at=function(On){return Q(On,function(rr){return m(rr.element)})},xe=function(On){return function(rr){return Q(rr,function(Wr){return m(Wr.element)||et(On)})}},Pe=function(On){return function(rr){return Q(rr,function(Wr){return m(Wr.element)||On().isNone()})}},ot=function(On,rr){return function(Wr){return Q(Wr,function(jr){return m(jr.element)||On().isNone()||et(rr)})}},fn=function(On){return Q(On,function(rr){return w("mergeable")})},jn=function(On){return Q(On,function(rr){return w("unmergeable")})};return r.on("NodeChange ExecCommand TableSelectorChange",N),{onSetupTable:je,onSetupCellOrRow:at,onSetupColumn:xe,onSetupPasteable:Pe,onSetupPasteableColumn:ot,onSetupMergeable:fn,onSetupUnmergeable:jn,resetTargets:N,targets:function(){return u.get()}}},An=function(r,o,u){r.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(f){return f("inserttable | cell row column | advtablesort | tableprops deletetable")}});var l=function(f){return function(){return r.execCommand(f)}};r.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:l("mceTableProps"),icon:"table",onSetup:o.onSetupTable}),r.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:l("mceTableDelete"),icon:"table-delete-table",onSetup:o.onSetupTable}),r.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:l("mceTableCellProps"),icon:"table-cell-properties",onSetup:o.onSetupCellOrRow}),r.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:l("mceTableMergeCells"),icon:"table-merge-cells",onSetup:o.onSetupMergeable}),r.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:l("mceTableSplitCells"),icon:"table-split-cells",onSetup:o.onSetupUnmergeable}),r.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:l("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:o.onSetupCellOrRow}),r.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:l("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:o.onSetupCellOrRow}),r.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:l("mceTableDeleteRow"),icon:"table-delete-row",onSetup:o.onSetupCellOrRow}),r.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:l("mceTableRowProps"),icon:"table-row-properties",onSetup:o.onSetupCellOrRow}),r.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:l("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:o.onSetupColumn("onFirst")}),r.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:l("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:o.onSetupColumn("onLast")}),r.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:l("mceTableDeleteCol"),icon:"table-delete-column",onSetup:o.onSetupColumn("onAny")}),r.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:l("mceTableCutRow"),onSetup:o.onSetupCellOrRow}),r.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:l("mceTableCopyRow"),onSetup:o.onSetupCellOrRow}),r.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:l("mceTablePasteRowBefore"),onSetup:o.onSetupPasteable(u.getRows)}),r.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:l("mceTablePasteRowAfter"),onSetup:o.onSetupPasteable(u.getRows)}),r.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:l("mceTableCutCol"),onSetup:o.onSetupColumn("onAny")}),r.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:l("mceTableCopyCol"),onSetup:o.onSetupColumn("onAny")}),r.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:l("mceTablePasteColBefore"),onSetup:o.onSetupPasteableColumn(u.getColumns,"onFirst")}),r.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:l("mceTablePasteColAfter"),onSetup:o.onSetupPasteableColumn(u.getColumns,"onLast")}),r.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:l("mceInsertTable"),icon:"table"})},Ux=function(r){var o=function(l){return r.dom.is(l,"table")&&r.getBody().contains(l)},u=Zy(r);u.length>0&&r.ui.registry.addContextToolbar("table",{predicate:o,items:u,scope:"node",position:"node"})},A0=function(r,o,u){var l=function(Q){return function(){return r.execCommand(Q)}},f=function(Q){r.execCommand("mceInsertTable",!1,{rows:Q.numRows,columns:Q.numColumns})},m={text:"Table properties",onSetup:o.onSetupTable,onAction:l("mceTableProps")},w={text:"Delete table",icon:"table-delete-table",onSetup:o.onSetupTable,onAction:l("mceTableDelete")};r.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:l("mceTableInsertRowBefore"),onSetup:o.onSetupCellOrRow}),r.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:l("mceTableInsertRowAfter"),onSetup:o.onSetupCellOrRow}),r.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:l("mceTableDeleteRow"),onSetup:o.onSetupCellOrRow}),r.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:l("mceTableRowProps"),onSetup:o.onSetupCellOrRow}),r.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:l("mceTableCutRow"),onSetup:o.onSetupCellOrRow}),r.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:l("mceTableCopyRow"),onSetup:o.onSetupCellOrRow}),r.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:l("mceTablePasteRowBefore"),onSetup:o.onSetupPasteable(u.getRows)}),r.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:l("mceTablePasteRowAfter"),onSetup:o.onSetupPasteable(u.getRows)});var E={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}};r.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:l("mceTableInsertColBefore"),onSetup:o.onSetupColumn("onFirst")}),r.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:l("mceTableInsertColAfter"),onSetup:o.onSetupColumn("onLast")}),r.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:l("mceTableDeleteCol"),onSetup:o.onSetupColumn("onAny")}),r.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:l("mceTableCutCol"),onSetup:o.onSetupColumn("onAny")}),r.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:l("mceTableCopyCol"),onSetup:o.onSetupColumn("onAny")}),r.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:l("mceTablePasteColBefore"),onSetup:o.onSetupPasteableColumn(u.getColumns,"onFirst")}),r.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:l("mceTablePasteColAfter"),onSetup:o.onSetupPasteableColumn(u.getColumns,"onLast")});var A={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}};r.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:l("mceTableCellProps"),onSetup:o.onSetupCellOrRow}),r.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:l("mceTableMergeCells"),onSetup:o.onSetupMergeable}),r.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:l("mceTableSplitCells"),onSetup:o.onSetupUnmergeable});var N={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}};Ii(r)===!1?r.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:l("mceInsertTable")}):r.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:f}]}}),r.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:l("mceInsertTable")}),r.ui.registry.addMenuItem("tableprops",m),r.ui.registry.addMenuItem("deletetable",w),r.ui.registry.addNestedMenuItem("row",E),r.ui.registry.addNestedMenuItem("column",A),r.ui.registry.addNestedMenuItem("cell",N),r.ui.registry.addContextMenu("table",{update:function(){return o.resetTargets(),o.targets().fold(function(){return""},function(Q){return ar(Q.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}})},E0=function(r){var o=dh(function(){return _c(r)},function(){return Ul(Ha(r))},la.selectedSelector),u=Vx(r,o),l=o2(r),f=Nx(r,l.lazyResize,u),m=tw(r,l.lazyWire,o),w=_1();return ig(r,m,f,o,w),M1(r,m,o),vy(r,o,m,f),A0(r,u,w),An(r,u,w),Ux(r),r.on("PreInit",function(){r.serializer.addTempAttr(la.firstSelected),r.serializer.addTempAttr(la.lastSelected),cg(r)}),Yy(r)&&r.on("keydown",function(E){G1(E,r,f)}),r.on("remove",function(){l.destroy()}),fw(r,w,l,u)};function M0(){mh.add("table",E0)}M0()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=tinymce.util.Tools.resolve("tinymce.util.VK"),Nt=function(M){var oe=typeof M;return M===null?"null":oe==="object"&&(Array.prototype.isPrototypeOf(M)||M.constructor&&M.constructor.name==="Array")?"array":oe==="object"&&(String.prototype.isPrototypeOf(M)||M.constructor&&M.constructor.name==="String")?"string":oe},jt=function(M){return function(oe){return Nt(oe)===M}},wt=function(M){return function(oe){return typeof oe===M}},$t=function(M){return function(oe){return M===oe}},Pt=jt("string"),ut=jt("array"),Ye=$t(null),gn=wt("boolean"),Ct=wt("function"),ze=function(M){var oe=M.getParam("link_assume_external_targets",!1);return gn(oe)&&oe?1:Pt(oe)&&(oe==="http"||oe==="https")?oe:0},Bt=function(M){return M.getParam("link_context_toolbar",!1,"boolean")},Xe=function(M){return M.getParam("link_list")},de=function(M){return M.getParam("default_link_target")},st=function(M){return M.getParam("target_list",!0)},Ee=function(M){return M.getParam("rel_list",[],"array")},Gt=function(M){return M.getParam("link_class_list",[],"array")},$=function(M){return M.getParam("link_title",!0,"boolean")},_e=function(M){return M.getParam("allow_unsafe_link_target",!1,"boolean")},nn=function(M){return M.getParam("link_quicklink",!1,"boolean")},cn=function(M){return M.getParam("link_default_protocol","http","string")},bt=function(){},Vt=function(M){return function(){return M}},Ut=Vt(!1),qe=Vt(!0),G=function(){return k},k=function(){var M=function(yt){return yt.isNone()},oe=function(yt){return yt()},ce=function(yt){return yt},ie={fold:function(yt,bn){return yt()},is:Ut,isSome:Ut,isNone:qe,getOr:ce,getOrThunk:oe,getOrDie:function(yt){throw new Error(yt||"error: getOrDie called on none.")},getOrNull:Vt(null),getOrUndefined:Vt(void 0),or:ce,orThunk:oe,map:G,each:bt,bind:G,exists:Ut,forall:qe,filter:G,equals:M,equals_:M,toArray:function(){return[]},toString:Vt("none()")};return ie}(),Ue=function(M){var oe=Vt(M),ce=function(){return yt},ie=function(bn){return bn(M)},yt={fold:function(bn,tr){return tr(M)},is:function(bn){return M===bn},isSome:qe,isNone:Ut,getOr:oe,getOrThunk:oe,getOrDie:oe,getOrNull:oe,getOrUndefined:oe,or:ce,orThunk:ce,map:function(bn){return Ue(bn(M))},each:function(bn){bn(M)},bind:ie,exists:ie,forall:ie,filter:function(bn){return bn(M)?yt:k},toArray:function(){return[M]},toString:function(){return"some("+M+")"},equals:function(bn){return bn.is(M)},equals_:function(bn,tr){return bn.fold(Ut,function(hr){return tr(M,hr)})}};return yt},St=function(M){return M==null?k:Ue(M)},vt={some:Ue,none:G,from:St},Ie=Array.prototype.indexOf,Ve=Array.prototype.push,g=function(M,oe){return Ie.call(M,oe)},he=function(M,oe){return g(M,oe)>-1},ee=function(M,oe){for(var ce=M.length,ie=new Array(ce),yt=0;yt<ce;yt++){var bn=M[yt];ie[yt]=oe(bn,yt)}return ie},Qe=function(M,oe){for(var ce=0,ie=M.length;ce<ie;ce++){var yt=M[ce];oe(yt,ce)}},Qt=function(M,oe,ce){return Qe(M,function(ie){ce=oe(ce,ie)}),ce},Jt=function(M){for(var oe=[],ce=0,ie=M.length;ce<ie;++ce){if(!ut(M[ce]))throw new Error("Arr.flatten item "+ce+" was not an array, input: "+M);Ve.apply(oe,M[ce])}return oe},Tt=function(M,oe){return Jt(ee(M,oe))},Ot=function(M,oe){for(var ce=0;ce<M.length;ce++){var ie=oe(M[ce],ce);if(ie.isSome())return ie}return vt.none()},an=function(M){for(var oe=[],ce=function(yt){oe.push(yt)},ie=0;ie<M.length;ie++)M[ie].each(ce);return oe},kn=function(M,oe){return M?vt.some(oe):vt.none()},ne=tinymce.util.Tools.resolve("tinymce.util.Tools"),Le=function(M){return Pt(M.value)?M.value:""},At=function(M){return Pt(M.text)?M.text:Pt(M.title)?M.title:""},ke=function(M,oe){var ce=[];return ne.each(M,function(ie){var yt=At(ie);if(ie.menu!==void 0){var bn=ke(ie.menu,oe);ce.push({text:yt,items:bn})}else{var tr=oe(ie);ce.push({text:yt,value:tr})}}),ce},Y=function(M){return M===void 0&&(M=Le),function(oe){return vt.from(oe).map(function(ce){return ke(ce,M)})}},Se=function(M){return Y(Le)(M)},z=function(M,oe){return function(ce){return{name:M,type:"listbox",label:oe,items:ce}}},ge={sanitize:Se,sanitizeWith:Y,createUi:z,getValue:Le},ve=function(){return ve=Object.assign||function(oe){for(var ce,ie=1,yt=arguments.length;ie<yt;ie++){ce=arguments[ie];for(var bn in ce)Object.prototype.hasOwnProperty.call(ce,bn)&&(oe[bn]=ce[bn])}return oe},ve.apply(this,arguments)},Ke=Object.keys,kt=Object.hasOwnProperty,Dt=function(M,oe){for(var ce=Ke(M),ie=0,yt=ce.length;ie<yt;ie++){var bn=ce[ie],tr=M[bn];oe(tr,bn)}},ln=function(M){return function(oe,ce){M[ce]=oe}},on=function(M,oe,ce,ie){var yt={};return Dt(M,function(bn,tr){(oe(bn,tr)?ce:ie)(bn,tr)}),yt},Gn=function(M,oe){var ce={};return on(M,oe,ln(ce),bt),ce},Qn=function(M,oe){return kt.call(M,oe)},Sr=function(M,oe){return Qn(M,oe)&&M[oe]!==void 0&&M[oe]!==null},rt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),$e=function(M){return M&&M.nodeName.toLowerCase()==="a"},ct=function(M){return $e(M)&&!!Xt(M)},ht=function(M,oe){if(M.collapsed)return[];var ce=M.cloneContents(),ie=new rt(ce.firstChild,ce),yt=[],bn=ce.firstChild;do oe(bn)&&yt.push(bn);while(bn=ie.next());return yt},dt=function(M){return/^\w+:/i.test(M)},Xt=function(M){var oe=M.getAttribute("data-mce-href");return oe||M.getAttribute("href")},Sn=function(M,oe){var ce=["noopener"],ie=M?M.split(/\s+/):[],yt=function(Dn){return ne.trim(Dn.sort().join(" "))},bn=function(Dn){return Dn=tr(Dn),Dn.length>0?Dn.concat(ce):ce},tr=function(Dn){return Dn.filter(function(ta){return ne.inArray(ce,ta)===-1})},hr=oe?bn(ie):tr(ie);return hr.length>0?yt(hr):""},yn=function(M){return M.replace(/\uFEFF/g,"")},Lt=function(M,oe){return oe=oe||M.selection.getNode(),lr(oe)?M.dom.select("a[href]",oe)[0]:M.dom.getParent(oe,"a[href]")},_n=function(M,oe){var ce=oe?oe.innerText||oe.textContent:M.getContent({format:"text"});return yn(ce)},Nn=function(M){return ne.grep(M,ct).length>0},gr=function(M){return ht(M,ct).length>0},Dr=function(M){var oe=M.schema.getTextInlineElements(),ce=function(yt){return yt.nodeType===1&&!$e(yt)&&!Qn(oe,yt.nodeName.toLowerCase())},ie=ht(M.selection.getRng(),ce);return ie.length===0},lr=function(M){return M&&M.nodeName==="FIGURE"&&/\bimage\b/i.test(M.className)},Fr=function(M){return Qt(["title","rel","class","target"],function(oe,ce){return M[ce].each(function(ie){oe[ce]=ie.length>0?ie:null}),oe},{href:M.href})},Pr=function(M,oe){return(oe==="http"||oe==="https")&&!dt(M)?oe+"://"+M:M},ue=function(M,oe){var ce=ve({},oe);if(!(Ee(M).length>0)&&_e(M)===!1){var ie=Sn(ce.rel,ce.target==="_blank");ce.rel=ie||null}return vt.from(ce.target).isNone()&&st(M)===!1&&(ce.target=de(M)),ce.href=Pr(ce.href,ze(M)),ce},Ne=function(M,oe,ce,ie){ce.each(function(yt){oe.hasOwnProperty("innerText")?oe.innerText=yt:oe.textContent=yt}),M.dom.setAttribs(oe,ie),M.selection.select(oe)},mt=function(M,oe,ce,ie){lr(oe)?Jr(M,oe,ie):ce.fold(function(){M.execCommand("mceInsertLink",!1,ie)},function(yt){M.insertContent(M.dom.createHTML("a",ie,M.dom.encode(yt)))})},rn=function(M,oe,ce){var ie=M.selection.getNode(),yt=Lt(M,ie),bn=ue(M,Fr(ce));M.undoManager.transact(function(){ce.href===oe.href&&oe.attach(),yt?(M.focus(),Ne(M,yt,ce.text,bn)):mt(M,ie,ce.text,bn)})},Ft=function(M){var oe=M.dom,ce=M.selection,ie=ce.getBookmark(),yt=ce.getRng().cloneRange(),bn=oe.getParent(yt.startContainer,"a[href]",M.getBody()),tr=oe.getParent(yt.endContainer,"a[href]",M.getBody());bn&&yt.setStartBefore(bn),tr&&yt.setEndAfter(tr),ce.setRng(yt),M.execCommand("unlink"),ce.moveToBookmark(ie)},pn=function(M){M.undoManager.transact(function(){var oe=M.selection.getNode();lr(oe)?sa(M,oe):Ft(M),M.focus()})},Ar=function(M){var oe=M.class,ce=M.href,ie=M.rel,yt=M.target,bn=M.text,tr=M.title;return Gn({class:oe.getOrNull(),href:ce,rel:ie.getOrNull(),target:yt.getOrNull(),text:bn.getOrNull(),title:tr.getOrNull()},function(hr,Dn){return Ye(hr)===!1})},Vn=function(M,oe,ce){M.hasPlugin("rtc",!0)?M.execCommand("createlink",!1,Ar(ce)):rn(M,oe,ce)},qn=function(M){M.hasPlugin("rtc",!0)?M.execCommand("unlink"):pn(M)},sa=function(M,oe){var ce=M.dom.select("img",oe)[0];if(ce){var ie=M.dom.getParents(ce,"a[href]",oe)[0];ie&&(ie.parentNode.insertBefore(ce,ie),M.dom.remove(ie))}},Jr=function(M,oe,ce){var ie=M.dom.select("img",oe)[0];if(ie){var yt=M.dom.create("a",ce);ie.parentNode.insertBefore(yt,ie),yt.appendChild(ie)}},oa=function(M){return Sr(M,"items")},Ea=function(M,oe){return Ot(oe,function(ce){return oa(ce)?Ea(M,ce.items):kn(ce.value===M,ce)})},Vr=function(M,oe,ce,ie){var yt=ie[oe],bn=M.length>0;return yt!==void 0?Ea(yt,ce).map(function(tr){return{url:{value:tr.value,meta:{text:bn?M:tr.text,attach:bt}},text:bn?M:tr.text}}):vt.none()},Qr=function(M,oe){return oe==="link"?M.link:oe==="anchor"?M.anchor:vt.none()},ia=function(M,oe){var ce={text:M.text,title:M.title},ie=function(Dn){return kn(ce.title.length<=0,vt.from(Dn.meta.title).getOr(""))},yt=function(Dn){return kn(ce.text.length<=0,vt.from(Dn.meta.text).getOr(Dn.value))},bn=function(Dn){var ta=yt(Dn.url),Hr=ie(Dn.url);return ta.isSome()||Hr.isSome()?vt.some(ve(ve({},ta.map(function(Br){return{text:Br}}).getOr({})),Hr.map(function(Br){return{title:Br}}).getOr({}))):vt.none()},tr=function(Dn,ta){var Hr=Qr(oe,ta.name).getOr([]);return Vr(ce.text,ta.name,Hr,Dn)},hr=function(Dn,ta){var Hr=ta.name;return Hr==="url"?bn(Dn()):he(["anchor","link"],Hr)?tr(Dn(),ta):((Hr==="text"||Hr==="title")&&(ce[Hr]=Dn()[Hr]),vt.none())};return{onChange:hr}},Zt={init:ia,getDelta:Vr},Cr=tinymce.util.Tools.resolve("tinymce.util.Delay"),_r=tinymce.util.Tools.resolve("tinymce.util.Promise"),ua=function(M,oe,ce){var ie=M.selection.getRng();Cr.setEditorTimeout(M,function(){M.windowManager.confirm(oe,function(yt){M.selection.setRng(ie),ce(yt)})})},xr=function(M){var oe=M.href,ce=oe.indexOf("@")>0&&oe.indexOf("/")===-1&&oe.indexOf("mailto:")===-1;return ce?vt.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(ie){return ve(ve({},ie),{href:"mailto:"+oe})}}):vt.none()},Gr=function(M,oe){return function(ce){var ie=ce.href,yt=M===1&&!dt(ie)||M===0&&/^\s*www(\.|\d\.)/i.test(ie);return yt?vt.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+oe+":// prefix?",preprocess:function(bn){return ve(ve({},bn),{href:oe+"://"+ie})}}):vt.none()}},da=function(M,oe){return Ot([xr,Gr(ze(M),cn(M))],function(ce){return ce(oe)}).fold(function(){return _r.resolve(oe)},function(ce){return new _r(function(ie){ua(M,ce.message,function(yt){ie(yt?ce.preprocess(oe):oe)})})})},Ta={preprocess:da},ka=function(M){var oe=M.dom.select("a:not([href])"),ce=Tt(oe,function(ie){var yt=ie.name||ie.id;return yt?[{text:yt,value:"#"+yt}]:[]});return ce.length>0?vt.some([{text:"None",value:""}].concat(ce)):vt.none()},Fn={getAnchors:ka},ma=function(M){var oe=Gt(M);return oe.length>0?ge.sanitize(oe):vt.none()},qr={getClasses:ma},ga=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ma=function(M){try{return vt.some(JSON.parse(M))}catch{return vt.none()}},W=function(M){var oe=function(ie){return M.convertURL(ie.value||ie.url,"href")},ce=Xe(M);return new _r(function(ie){Pt(ce)?ga.send({url:ce,success:function(yt){return ie(Ma(yt))},error:function(yt){return ie(vt.none())}}):Ct(ce)?ce(function(yt){return ie(vt.some(yt))}):ie(vt.from(ce))}).then(function(ie){return ie.bind(ge.sanitizeWith(oe)).map(function(yt){if(yt.length>0){var bn=[{text:"None",value:""}];return bn.concat(yt)}else return yt})})},ae={getLinks:W},be=function(M,oe){var ce=Ee(M);if(ce.length>0){var ie=oe.is("_blank"),yt=_e(M)===!1,bn=function(hr){return Sn(ge.getValue(hr),ie)},tr=yt?ge.sanitizeWith(bn):ge.sanitize;return tr(ce)}return vt.none()},Oe={getRels:be},F=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],V=function(M){var oe=st(M);return ut(oe)?ge.sanitize(oe).orThunk(function(){return vt.some(F)}):oe===!1?vt.none():vt.some(F)},pe={getTargets:V},Me=function(M,oe,ce){var ie=M.getAttrib(oe,ce);return ie!==null&&ie.length>0?vt.some(ie):vt.none()},Re=function(M,oe){var ce=M.dom,ie=Dr(M),yt=ie?vt.some(_n(M.selection,oe)):vt.none(),bn=oe?vt.some(ce.getAttrib(oe,"href")):vt.none(),tr=oe?vt.from(ce.getAttrib(oe,"target")):vt.none(),hr=Me(ce,oe,"rel"),Dn=Me(ce,oe,"class"),ta=Me(ce,oe,"title");return{url:bn,text:yt,title:ta,target:tr,rel:hr,linkClass:Dn}},pt=function(M,oe){return ae.getLinks(M).then(function(ce){var ie=Re(M,oe);return{anchor:ie,catalogs:{targets:pe.getTargets(M),rels:Oe.getRels(M,ie.target),classes:qr.getClasses(M),anchor:Fn.getAnchors(M),link:ce},optNode:vt.from(oe),flags:{titleEnabled:$(M)}}})},O={collect:pt},H=function(M,oe){return function(ce){var ie=ce.getData();if(!ie.url.value){qn(M),ce.close();return}var yt=function(hr){return vt.from(ie[hr]).filter(function(Dn){return!oe.anchor[hr].is(Dn)})},bn={href:ie.url.value,text:yt("text"),target:yt("target"),rel:yt("rel"),class:yt("linkClass"),title:yt("title")},tr={href:ie.url.value,attach:ie.url.meta!==void 0&&ie.url.meta.attach?ie.url.meta.attach:bt};Ta.preprocess(M,bn).then(function(hr){Vn(M,tr,hr)}),ce.close()}},Z=function(M){var oe=Lt(M);return O.collect(M,oe)},U=function(M,oe){var ce=M.anchor,ie=ce.url.getOr("");return{url:{value:ie,meta:{original:{value:ie}}},text:ce.text.getOr(""),title:ce.title.getOr(""),anchor:ie,link:ie,rel:ce.rel.getOr(""),target:ce.target.or(oe).getOr(""),linkClass:ce.linkClass.getOr("")}},Ce=function(M,oe,ce){var ie=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],yt=M.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),bn=M.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],tr=vt.from(de(ce)),hr=U(M,tr),Dn=M.catalogs,ta=Zt.init(hr,Dn),Hr={type:"panel",items:Jt([ie,yt,bn,an([Dn.anchor.map(ge.createUi("anchor","Anchors")),Dn.rels.map(ge.createUi("rel","Rel")),Dn.targets.map(ge.createUi("target","Open link in...")),Dn.link.map(ge.createUi("link","Link list")),Dn.classes.map(ge.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Hr,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:hr,onChange:function(Br,ii){var Ai=ii.name;ta.onChange(Br.getData,{name:Ai}).each(function(qo){Br.setData(qo)})},onSubmit:oe}},Be=function(M){var oe=Z(M);oe.then(function(ce){var ie=H(M,ce);return Ce(ce,ie,M)}).then(function(ce){M.windowManager.open(ce)})},It=function(M,oe){document.body.appendChild(M),M.dispatchEvent(oe),document.body.removeChild(M)},Kt=function(M){var oe=document.createElement("a");oe.target="_blank",oe.href=M,oe.rel="noreferrer noopener";var ce=document.createEvent("MouseEvents");ce.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),It(oe,ce)},it=function(M,oe){return M.dom.getParent(oe,"a[href]")},en=function(M){return it(M,M.selection.getStart())},Kn=function(M){return M.altKey===!0&&M.shiftKey===!1&&M.ctrlKey===!1&&M.metaKey===!1},Rr=function(M,oe){if(oe){var ce=Xt(oe);if(/^#/.test(ce)){var ie=M.$(ce);ie.length&&M.selection.scrollIntoView(ie[0],!0)}else Kt(oe.href)}},Wn=function(M){return function(){Be(M)}},er=function(M){return function(){Rr(M,en(M))}},ya=function(M){M.on("click",function(oe){var ce=it(M,oe.target);ce&&Ht.metaKeyPressed(oe)&&(oe.preventDefault(),Rr(M,ce))}),M.on("keydown",function(oe){var ce=en(M);ce&&oe.keyCode===13&&Kn(oe)&&(oe.preventDefault(),Rr(M,ce))})},zr=function(M,oe){return M.on("NodeChange",oe),function(){return M.off("NodeChange",oe)}},K=function(M){return function(oe){return zr(M,function(){oe.setActive(!M.mode.isReadOnly()&&Lt(M,M.selection.getNode())!==null)})}},fe=function(M){return function(oe){var ce=function(){return oe.setDisabled(Lt(M,M.selection.getNode())===null)};return ce(),zr(M,ce)}},Je=function(M){return function(oe){var ce=function(yt){return Nn(yt)||gr(M.selection.getRng())},ie=M.dom.getParents(M.selection.getStart());return oe.setDisabled(!ce(ie)),zr(M,function(yt){return oe.setDisabled(!ce(yt.parents))})}},Et=function(M){M.addCommand("mceLink",function(){nn(M)?M.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Wn(M)()})},Yt=function(M){M.addShortcut("Meta+K","",function(){M.execCommand("mceLink")})},En=function(M){M.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Wn(M),onSetup:K(M)}),M.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:er(M),onSetup:fe(M)}),M.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return qn(M)},onSetup:Je(M)})},Er=function(M){M.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:er(M),onSetup:fe(M)}),M.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Wn(M)}),M.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return qn(M)},onSetup:Je(M)})},kr=function(M){var oe="link unlink openlink",ce="link";M.ui.registry.addContextMenu("link",{update:function(ie){return Nn(M.dom.getParents(ie,"a"))?oe:ce}})},ha=function(M){var oe=function(ie){ie.selection.collapse(!1)},ce=function(ie){var yt=M.selection.getNode();return ie.setDisabled(!Lt(M,yt)),bt};M.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:K(M)},label:"Link",predicate:function(ie){return!!Lt(M,ie)&&Bt(M)},initValue:function(){var ie=Lt(M);return ie?Xt(ie):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(ie){var yt=M.selection.getNode();return ie.setActive(!!Lt(M,yt)),K(M)(ie)},onAction:function(ie){var yt=Lt(M),bn=ie.getValue();if(yt)M.undoManager.transact(function(){M.dom.setAttrib(yt,"href",bn),oe(M),ie.hide()});else{var tr={href:bn,attach:bt},hr=Dr(M),Dn=hr?vt.some(_n(M.selection,yt)).filter(function(ta){return ta.length>0}).or(vt.from(bn)):vt.none();Vn(M,tr,{href:bn,text:Dn,title:vt.none(),rel:vt.none(),target:vt.none(),class:vt.none()}),ie.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ce,onAction:function(ie){qn(M),ie.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ce,onAction:function(ie){er(M)(),ie.hide()}}]})};function ea(){mn.add("link",function(M){En(M),Er(M),kr(M),ha(M),ya(M),Et(M),Yt(M)})}ea()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(){return Ht=Object.assign||function(P){for(var L,te=1,q=arguments.length;te<q;te++){L=arguments[te];for(var gt in L)Object.prototype.hasOwnProperty.call(L,gt)&&(P[gt]=L[gt])}return P},Ht.apply(this,arguments)},Nt=function(b){var P=typeof b;return b===null?"null":P==="object"&&(Array.prototype.isPrototypeOf(b)||b.constructor&&b.constructor.name==="Array")?"array":P==="object"&&(String.prototype.isPrototypeOf(b)||b.constructor&&b.constructor.name==="String")?"string":P},jt=function(b){return function(P){return Nt(P)===b}},wt=function(b){return function(P){return typeof P===b}},$t=function(b){return function(P){return b===P}},Pt=jt("string"),ut=jt("object"),Ye=jt("array"),gn=$t(null),Ct=wt("boolean"),ze=function(b){return b==null},Bt=function(b){return!ze(b)},Xe=wt("number"),de=function(){},st=function(b){return function(){return b}},Ee=st(!1),Gt=st(!0),$=function(){return _e},_e=function(){var b=function(q){return q.isNone()},P=function(q){return q()},L=function(q){return q},te={fold:function(q,gt){return q()},is:Ee,isSome:Ee,isNone:Gt,getOr:L,getOrThunk:P,getOrDie:function(q){throw new Error(q||"error: getOrDie called on none.")},getOrNull:st(null),getOrUndefined:st(void 0),or:L,orThunk:P,map:$,each:de,bind:$,exists:Ee,forall:Gt,filter:$,equals:b,equals_:b,toArray:function(){return[]},toString:st("none()")};return te}(),nn=function(b){var P=st(b),L=function(){return q},te=function(gt){return gt(b)},q={fold:function(gt,vn){return vn(b)},is:function(gt){return b===gt},isSome:Gt,isNone:Ee,getOr:P,getOrThunk:P,getOrDie:P,getOrNull:P,getOrUndefined:P,or:L,orThunk:L,map:function(gt){return nn(gt(b))},each:function(gt){gt(b)},bind:te,exists:te,forall:te,filter:function(gt){return gt(b)?q:_e},toArray:function(){return[b]},toString:function(){return"some("+b+")"},equals:function(gt){return gt.is(b)},equals_:function(gt,vn){return gt.fold(Ee,function(Mt){return vn(b,Mt)})}};return q},cn=function(b){return b==null?_e:nn(b)},bt={some:nn,none:$,from:cn},Vt=Object.keys,Ut=Object.hasOwnProperty,qe=function(b,P){for(var L=Vt(b),te=0,q=L.length;te<q;te++){var gt=L[te],vn=b[gt];P(vn,gt)}},G=function(b){return function(P,L){b[L]=P}},k=function(b,P,L,te){var q={};return qe(b,function(gt,vn){(P(gt,vn)?L:te)(gt,vn)}),q},Ue=function(b,P){var L={};return k(b,P,G(L),de),L},St=function(b,P){return Ut.call(b,P)},vt=function(b,P){return St(b,P)&&b[P]!==void 0&&b[P]!==null},Ie=Array.prototype.push,Ve=function(b){for(var P=[],L=0,te=b.length;L<te;++L){if(!Ye(b[L]))throw new Error("Arr.flatten item "+L+" was not an array, input: "+b);Ie.apply(P,b[L])}return P},g=function(b,P){return P>=0&&P<b.length?bt.some(b[P]):bt.none()},he=function(b){return g(b,0)},ee=function(b,P){for(var L=0;L<b.length;L++){var te=P(b[L],L);if(te.isSome())return te}return bt.none()};typeof window!="undefined"||Function("return this;")();var Qe=function(b,P,L){if(Pt(L)||Ct(L)||Xe(L))b.setAttribute(P,L+"");else throw console.error("Invalid call to Attribute.set. Key ",P,":: Value ",L,":: Element ",b),new Error("Attribute value was not simple")},Qt=function(b,P,L){Qe(b.dom,P,L)},Jt=function(b,P){b.dom.removeAttribute(P)},Tt=function(b,P){var L=P||document,te=L.createElement("div");if(te.innerHTML=b,!te.hasChildNodes()||te.childNodes.length>1)throw console.error("HTML does not have a single root node",b),new Error("HTML must have a single root node");return kn(te.childNodes[0])},Ot=function(b,P){var L=P||document,te=L.createElement(b);return kn(te)},an=function(b,P){var L=P||document,te=L.createTextNode(b);return kn(te)},kn=function(b){if(b==null)throw new Error("Node cannot be null or undefined");return{dom:b}},ne=function(b,P,L){return bt.from(b.dom.elementFromPoint(P,L)).map(kn)},Le={fromHtml:Tt,fromTag:Ot,fromText:an,fromDom:kn,fromPoint:ne},At=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ke=tinymce.util.Tools.resolve("tinymce.util.Promise"),Y=tinymce.util.Tools.resolve("tinymce.util.XHR"),Se=function(b){return b.getParam("image_dimensions",!0,"boolean")},z=function(b){return b.getParam("image_advtab",!1,"boolean")},ge=function(b){return b.getParam("image_uploadtab",!0,"boolean")},ve=function(b){return b.getParam("image_prepend_url","","string")},Ke=function(b){return b.getParam("image_class_list")},kt=function(b){return b.getParam("image_description",!0,"boolean")},Dt=function(b){return b.getParam("image_title",!1,"boolean")},ln=function(b){return b.getParam("image_caption",!1,"boolean")},on=function(b){return b.getParam("image_list",!1)},Gn=function(b){return Bt(b.getParam("images_upload_url"))},Qn=function(b){return Bt(b.getParam("images_upload_handler"))},Sr=function(b){return b.getParam("a11y_advanced_options",!1,"boolean")},rt=function(b){return b.getParam("automatic_uploads",!0,"boolean")},$e=function(b,P){return Math.max(parseInt(b,10),parseInt(P,10))},ct=function(b){return new ke(function(P){var L=document.createElement("img"),te=function(gt){L.parentNode&&L.parentNode.removeChild(L),P(gt)};L.onload=function(){var gt=$e(L.width,L.clientWidth),vn=$e(L.height,L.clientHeight),Mt={width:gt,height:vn};te(ke.resolve(Mt))},L.onerror=function(){te(ke.reject("Failed to get image dimensions for: "+b))};var q=L.style;q.visibility="hidden",q.position="fixed",q.bottom=q.left="0px",q.width=q.height="auto",document.body.appendChild(L),L.src=b})},ht=function(b){return b&&(b=b.replace(/px$/,"")),b},dt=function(b){return b.length>0&&/^[0-9]+$/.test(b)&&(b+="px"),b},Xt=function(b){if(b.margin){var P=String(b.margin).split(" ");switch(P.length){case 1:b["margin-top"]=b["margin-top"]||P[0],b["margin-right"]=b["margin-right"]||P[0],b["margin-bottom"]=b["margin-bottom"]||P[0],b["margin-left"]=b["margin-left"]||P[0];break;case 2:b["margin-top"]=b["margin-top"]||P[0],b["margin-right"]=b["margin-right"]||P[1],b["margin-bottom"]=b["margin-bottom"]||P[0],b["margin-left"]=b["margin-left"]||P[1];break;case 3:b["margin-top"]=b["margin-top"]||P[0],b["margin-right"]=b["margin-right"]||P[1],b["margin-bottom"]=b["margin-bottom"]||P[2],b["margin-left"]=b["margin-left"]||P[1];break;case 4:b["margin-top"]=b["margin-top"]||P[0],b["margin-right"]=b["margin-right"]||P[1],b["margin-bottom"]=b["margin-bottom"]||P[2],b["margin-left"]=b["margin-left"]||P[3]}delete b.margin}return b},Sn=function(b,P){var L=on(b);typeof L=="string"?Y.send({url:L,success:function(te){P(JSON.parse(te))}}):typeof L=="function"?L(P):P(L)},yn=function(b,P,L){var te=function(){L.onload=L.onerror=null,b.selection&&(b.selection.select(L),b.nodeChanged())};L.onload=function(){!P.width&&!P.height&&Se(b)&&b.dom.setAttribs(L,{width:String(L.clientWidth),height:String(L.clientHeight)}),te()},L.onerror=te},Lt=function(b){return new ke(function(P,L){var te=new FileReader;te.onload=function(){P(te.result)},te.onerror=function(){L(te.error.message)},te.readAsDataURL(b)})},_n=function(b){return b.nodeName==="IMG"&&(b.hasAttribute("data-mce-object")||b.hasAttribute("data-mce-placeholder"))},Nn=At.DOM,gr=function(b){return b.style.marginLeft&&b.style.marginRight&&b.style.marginLeft===b.style.marginRight?ht(b.style.marginLeft):""},Dr=function(b){return b.style.marginTop&&b.style.marginBottom&&b.style.marginTop===b.style.marginBottom?ht(b.style.marginTop):""},lr=function(b){return b.style.borderWidth?ht(b.style.borderWidth):""},Fr=function(b,P){return b.hasAttribute(P)?b.getAttribute(P):""},Pr=function(b,P){return b.style[P]?b.style[P]:""},ue=function(b){return b.parentNode!==null&&b.parentNode.nodeName==="FIGURE"},Ne=function(b,P,L){L===""?b.removeAttribute(P):b.setAttribute(P,L)},mt=function(b){var P=Nn.create("figure",{class:"image"});Nn.insertAfter(P,b),P.appendChild(b),P.appendChild(Nn.create("figcaption",{contentEditable:"true"},"Caption")),P.contentEditable="false"},rn=function(b){var P=b.parentNode;Nn.insertAfter(b,P),Nn.remove(P)},Ft=function(b){ue(b)?rn(b):mt(b)},pn=function(b,P){var L=b.getAttribute("style"),te=P(L!==null?L:"");te.length>0?(b.setAttribute("style",te),b.setAttribute("data-mce-style",te)):b.removeAttribute("style")},Ar=function(b,P){return function(L,te,q){L.style[te]?(L.style[te]=dt(q),pn(L,P)):Ne(L,te,q)}},Vn=function(b,P){return b.style[P]?ht(b.style[P]):Fr(b,P)},qn=function(b,P){var L=dt(P);b.style.marginLeft=L,b.style.marginRight=L},sa=function(b,P){var L=dt(P);b.style.marginTop=L,b.style.marginBottom=L},Jr=function(b,P){var L=dt(P);b.style.borderWidth=L},oa=function(b,P){b.style.borderStyle=P},Ea=function(b){return Pr(b,"borderStyle")},Vr=function(b){return b.nodeName==="FIGURE"},Qr=function(b){return b.nodeName==="IMG"},ia=function(b){return Nn.getAttrib(b,"alt").length===0&&Nn.getAttrib(b,"role")==="presentation"},Zt=function(b){return ia(b)?"":Fr(b,"alt")},Cr=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},_r=function(b,P){var L=document.createElement("img");return Ne(L,"style",P.style),(gr(L)||P.hspace!=="")&&qn(L,P.hspace),(Dr(L)||P.vspace!=="")&&sa(L,P.vspace),(lr(L)||P.border!=="")&&Jr(L,P.border),(Ea(L)||P.borderStyle!=="")&&oa(L,P.borderStyle),b(L.getAttribute("style"))},ua=function(b,P){var L=document.createElement("img");if(Fn(b,Ht(Ht({},P),{caption:!1}),L),da(L,P.alt,P.isDecorative),P.caption){var te=Nn.create("figure",{class:"image"});return te.appendChild(L),te.appendChild(Nn.create("figcaption",{contentEditable:"true"},"Caption")),te.contentEditable="false",te}else return L},xr=function(b,P){return{src:Fr(P,"src"),alt:Zt(P),title:Fr(P,"title"),width:Vn(P,"width"),height:Vn(P,"height"),class:Fr(P,"class"),style:b(Fr(P,"style")),caption:ue(P),hspace:gr(P),vspace:Dr(P),border:lr(P),borderStyle:Pr(P,"borderStyle"),isDecorative:ia(P)}},Gr=function(b,P,L,te,q){L[te]!==P[te]&&q(b,te,L[te])},da=function(b,P,L){if(L){Nn.setAttrib(b,"role","presentation");var te=Le.fromDom(b);Qt(te,"alt","")}else{if(gn(P)){var te=Le.fromDom(b);Jt(te,"alt")}else{var te=Le.fromDom(b);Qt(te,"alt",P)}Nn.getAttrib(b,"role")==="presentation"&&Nn.setAttrib(b,"role","")}},Ta=function(b,P,L){(L.alt!==P.alt||L.isDecorative!==P.isDecorative)&&da(b,L.alt,L.isDecorative)},ka=function(b,P){return function(L,te,q){b(L,q),pn(L,P)}},Fn=function(b,P,L){var te=xr(b,L);Gr(L,te,P,"caption",function(q,gt,vn){return Ft(q)}),Gr(L,te,P,"src",Ne),Gr(L,te,P,"title",Ne),Gr(L,te,P,"width",Ar("width",b)),Gr(L,te,P,"height",Ar("height",b)),Gr(L,te,P,"class",Ne),Gr(L,te,P,"style",ka(function(q,gt){return Ne(q,"style",gt)},b)),Gr(L,te,P,"hspace",ka(qn,b)),Gr(L,te,P,"vspace",ka(sa,b)),Gr(L,te,P,"border",ka(Jr,b)),Gr(L,te,P,"borderStyle",ka(oa,b)),Ta(L,te,P)},ma=function(b,P){var L=b.dom.styles.parse(P),te=Xt(L),q=b.dom.styles.parse(b.dom.styles.serialize(te));return b.dom.styles.serialize(q)},qr=function(b){var P=b.selection.getNode(),L=b.dom.getParent(P,"figure.image");return L?b.dom.select("img",L)[0]:P&&(P.nodeName!=="IMG"||_n(P))?null:P},ga=function(b,P){var L=b.dom,te=Ue(b.schema.getTextBlockElements(),function(gt,vn){return!b.schema.isValidChild(vn,"figure")}),q=L.getParent(P.parentNode,function(gt){return vt(te,gt.nodeName)},b.getBody());return q?L.split(q,P):P},Ma=function(b){var P=qr(b);return P?xr(function(L){return ma(b,L)},P):Cr()},W=function(b,P){var L=ua(function(gt){return ma(b,gt)},P);b.dom.setAttrib(L,"data-mce-id","__mcenew"),b.focus(),b.selection.setContent(L.outerHTML);var te=b.dom.select('*[data-mce-id="__mcenew"]')[0];if(b.dom.setAttrib(te,"data-mce-id",null),Vr(te)){var q=ga(b,te);b.selection.select(q)}else b.selection.select(te)},ae=function(b,P){b.dom.setAttrib(P,"src",P.getAttribute("src"))},be=function(b,P){if(P){var L=b.dom.is(P.parentNode,"figure.image")?P.parentNode:P;b.dom.remove(L),b.focus(),b.nodeChanged(),b.dom.isEmpty(b.getBody())&&(b.setContent(""),b.selection.setCursorLocation())}},Oe=function(b,P){var L=qr(b);if(Fn(function(q){return ma(b,q)},P,L),ae(b,L),Vr(L.parentNode)){var te=L.parentNode;ga(b,te),b.selection.select(L.parentNode)}else b.selection.select(L),yn(b,P,L)},F=function(b,P){var L=qr(b);if(L){var te=xr(function(gt){return ma(b,gt)},L),q=Ht(Ht({},te),P);q.src?Oe(b,q):be(b,L)}else P.src&&W(b,Ht(Ht({},Cr()),P))},V=Object.prototype.hasOwnProperty,pe=function(b,P){var L=ut(b)&&ut(P);return L?Re(b,P):P},Me=function(b){return function(){for(var P=[],L=0;L<arguments.length;L++)P[L]=arguments[L];if(P.length===0)throw new Error("Can't merge zero objects");for(var te={},q=0;q<P.length;q++){var gt=P[q];for(var vn in gt)V.call(gt,vn)&&(te[vn]=b(te[vn],gt[vn]))}return te}},Re=Me(pe),pt=function(b){return b.length>0},O=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),H=tinymce.util.Tools.resolve("tinymce.util.Tools"),Z=function(b){return Pt(b.value)?b.value:""},U=function(b){return Pt(b.text)?b.text:Pt(b.title)?b.title:""},Ce=function(b,P){var L=[];return H.each(b,function(te){var q=U(te);if(te.menu!==void 0){var gt=Ce(te.menu,P);L.push({text:q,items:gt})}else{var vn=P(te);L.push({text:q,value:vn})}}),L},Be=function(b){return b===void 0&&(b=Z),function(P){return P?bt.from(P).map(function(L){return Ce(L,b)}):bt.none()}},It=function(b){return Be(Z)(b)},Kt=function(b){return Object.prototype.hasOwnProperty.call(b,"items")},it=function(b,P){return ee(b,function(L){return Kt(L)?it(L.items,P):L.value===P?bt.some(L):bt.none()})},en=function(b,P){return b.bind(function(L){return it(L,P)})},Kn={sanitizer:Be,sanitize:It,findEntry:en},Rr=function(b){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Wn={makeTab:Rr},er=function(b){var P=Kn.sanitizer(function(Da){return b.convertURL(Da.value||Da.url,"src")}),L=new ke(function(Da){Sn(b,function(Ui){Da(P(Ui).map(function(pr){return Ve([[{text:"None",value:""}],pr])}))})}),te=Kn.sanitize(Ke(b)),q=z(b),gt=ge(b),vn=Gn(b),Mt=Qn(b),or=Ma(b),Pn=kt(b),Xn=Dt(b),La=Se(b),so=ln(b),Ei=Sr(b),lo=rt(b),ir=bt.some(ve(b)).filter(function(Da){return Pt(Da)&&Da.length>0});return L.then(function(Da){return{image:or,imageList:Da,classList:te,hasAdvTab:q,hasUploadTab:gt,hasUploadUrl:vn,hasUploadHandler:Mt,hasDescription:Pn,hasImageTitle:Xn,hasDimensions:La,hasImageCaption:so,prependURL:ir,hasAccessibilityOptions:Ei,automaticUploads:lo}})},ya=function(b){var P={name:"src",type:"urlinput",filetype:"image",label:"Source"},L=b.imageList.map(function(Xn){return{name:"images",type:"listbox",label:"Image list",items:Xn}}),te={name:"alt",type:"input",label:"Alternative description",disabled:b.hasAccessibilityOptions&&b.image.isDecorative},q={name:"title",type:"input",label:"Image title"},gt={name:"dimensions",type:"sizeinput"},vn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Mt=b.classList.map(function(Xn){return{name:"classes",type:"listbox",label:"Class",items:Xn}}),or={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Pn=function(Xn){return Xn?{type:"grid",columns:2}:{type:"panel"}};return Ve([[P],L.toArray(),b.hasAccessibilityOptions&&b.hasDescription?[vn]:[],b.hasDescription?[te]:[],b.hasImageTitle?[q]:[],b.hasDimensions?[gt]:[],[Ht(Ht({},Pn(b.classList.isSome()&&b.hasImageCaption)),{items:Ve([Mt.toArray(),b.hasImageCaption?[or]:[]])})]])},zr=function(b){return{title:"General",name:"general",items:ya(b)}},K={makeTab:zr,makeItems:ya},fe=function(b){var P=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:P}},Je={makeTab:fe},Et=function(b){return{prevImage:Kn.findEntry(b.imageList,b.image.src),prevAlt:b.image.alt,open:!0}},Yt=function(b){return{src:{value:b.src,meta:{}},images:b.src,alt:b.alt,title:b.title,dimensions:{width:b.width,height:b.height},classes:b.class,caption:b.caption,style:b.style,vspace:b.vspace,border:b.border,hspace:b.hspace,borderstyle:b.borderStyle,fileinput:[],isDecorative:b.isDecorative}},En=function(b,P){return{src:b.src.value,alt:b.alt.length===0&&P?null:b.alt,title:b.title,width:b.dimensions.width,height:b.dimensions.height,class:b.classes,style:b.style,caption:b.caption,hspace:b.hspace,vspace:b.vspace,border:b.border,borderStyle:b.borderstyle,isDecorative:b.isDecorative}},Er=function(b,P){return/^(?:[a-zA-Z]+:)?\/\//.test(P)?bt.none():b.prependURL.bind(function(L){return P.substring(0,L.length)!==L?bt.some(L+P):bt.none()})},kr=function(b,P){var L=P.getData();Er(b,L.src.value).each(function(te){P.setData({src:{value:te,meta:L.src.meta}})})},ha=function(b,P,L){b.hasDescription&&Pt(L.alt)&&(P.alt=L.alt),b.hasAccessibilityOptions&&(P.isDecorative=L.isDecorative||P.isDecorative||!1),b.hasImageTitle&&Pt(L.title)&&(P.title=L.title),b.hasDimensions&&(Pt(L.width)&&(P.dimensions.width=L.width),Pt(L.height)&&(P.dimensions.height=L.height)),Pt(L.class)&&Kn.findEntry(b.classList,L.class).each(function(te){P.classes=te.value}),b.hasImageCaption&&Ct(L.caption)&&(P.caption=L.caption),b.hasAdvTab&&(Pt(L.style)&&(P.style=L.style),Pt(L.vspace)&&(P.vspace=L.vspace),Pt(L.border)&&(P.border=L.border),Pt(L.hspace)&&(P.hspace=L.hspace),Pt(L.borderstyle)&&(P.borderstyle=L.borderstyle))},ea=function(b,P){var L=P.getData(),te=L.src.meta;if(te!==void 0){var q=Re({},L);ha(b,q,te),P.setData(q)}},M=function(b,P,L,te){var q=te.getData(),gt=q.src.value,vn=q.src.meta||{};!vn.width&&!vn.height&&P.hasDimensions&&(pt(gt)?b.imageSize(gt).then(function(Mt){L.open&&te.setData({dimensions:Mt})}).catch(function(Mt){return console.error(Mt)}):te.setData({dimensions:{width:"",height:""}}))},oe=function(b,P,L){var te=L.getData(),q=Kn.findEntry(b.imageList,te.src.value);P.prevImage=q,L.setData({images:q.map(function(gt){return gt.value}).getOr("")})},ce=function(b,P,L,te){kr(P,te),ea(P,te),M(b,P,L,te),oe(P,L,te)},ie=function(b,P,L,te){var q=te.getData(),gt=Kn.findEntry(P.imageList,q.images);gt.each(function(vn){var Mt=q.alt===""||L.prevImage.map(function(or){return or.text===q.alt}).getOr(!1);Mt?vn.value===""?te.setData({src:vn,alt:L.prevAlt}):te.setData({src:vn,alt:vn.text}):te.setData({src:vn})}),L.prevImage=gt,ce(b,P,L,te)},yt=function(b){var P=b["margin-top"]&&b["margin-bottom"]&&b["margin-top"]===b["margin-bottom"];return P?ht(String(b["margin-top"])):""},bn=function(b){var P=b["margin-right"]&&b["margin-left"]&&b["margin-right"]===b["margin-left"];return P?ht(String(b["margin-right"])):""},tr=function(b){return b["border-width"]?ht(String(b["border-width"])):""},hr=function(b){return b["border-style"]?String(b["border-style"]):""},Dn=function(b,P,L){return P(b(P(L)))},ta=function(b,P,L){var te=Xt(b(L.style)),q=Re({},L);return q.vspace=yt(te),q.hspace=bn(te),q.border=tr(te),q.borderstyle=hr(te),q.style=Dn(b,P,te),q},Hr=function(b,P){var L=P.getData(),te=ta(b.parseStyle,b.serializeStyle,L);P.setData(te)},Br=function(b,P,L){var te=Re(Yt(P.image),L.getData()),q=_r(b.normalizeCss,En(te,!1));L.setData({style:q})},ii=function(b,P,L,te){var q=te.getData();te.block("Uploading image"),he(q.fileinput).fold(function(){te.unblock()},function(gt){var vn=URL.createObjectURL(gt),Mt=function(){te.unblock(),URL.revokeObjectURL(vn)},or=function(Pn){te.setData({src:{value:Pn,meta:{}}}),te.showTab("general"),ce(b,P,L,te)};Lt(gt).then(function(Pn){var Xn=b.createBlobCache(gt,vn,Pn);P.automaticUploads?b.uploadImage(Xn).then(function(La){or(La.url),Mt()}).catch(function(La){Mt(),b.alertErr(La)}):(b.addToBlobCache(Xn),or(Xn.blobUri()),te.unblock())})})},Ai=function(b,P,L){return function(te,q){q.name==="src"?ce(b,P,L,te):q.name==="images"?ie(b,P,L,te):q.name==="alt"?L.prevAlt=te.getData().alt:q.name==="style"?Hr(b,te):q.name==="vspace"||q.name==="hspace"||q.name==="border"||q.name==="borderstyle"?Br(b,P,te):q.name==="fileinput"?ii(b,P,L,te):q.name==="isDecorative"&&(te.getData().isDecorative?te.disable("alt"):te.enable("alt"))}},qo=function(b){return function(){b.open=!1}},mu=function(b){if(b.hasAdvTab||b.hasUploadUrl||b.hasUploadHandler){var P={type:"tabpanel",tabs:Ve([[K.makeTab(b)],b.hasAdvTab?[Wn.makeTab(b)]:[],b.hasUploadTab&&(b.hasUploadUrl||b.hasUploadHandler)?[Je.makeTab(b)]:[]])};return P}else{var L={type:"panel",items:K.makeItems(b)};return L}},ar=function(b){return function(P){var L=Et(P);return{title:"Insert/Edit Image",size:"normal",body:mu(P),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Yt(P.image),onSubmit:b.onSubmit(P),onChange:Ai(b,P,L),onClose:qo(L)}}},gu=function(b){return function(P){return function(L){var te=Re(Yt(P.image),L.getData());b.execCommand("mceUpdateImage",!1,En(te,P.hasAccessibilityOptions)),b.editorUpload.uploadImagesAuto(),L.close()}}},Ko=function(b){return function(P){return ct(b.documentBaseURI.toAbsolute(P)).then(function(L){return{width:String(L.width),height:String(L.height)}})}},hu=function(b){return function(P,L,te){return b.editorUpload.blobCache.create({blob:P,blobUri:L,name:P.name?P.name.replace(/\.[^\.]+$/,""):null,filename:P.name,base64:te.split(",")[1]})}},Xo=function(b){return function(P){b.editorUpload.blobCache.add(P)}},fr=function(b){return function(P){b.windowManager.alert(P)}},Co=function(b){return function(P){return ma(b,P)}},Kr=function(b){return function(P){return b.dom.parseStyle(P)}},Do=function(b){return function(P,L){return b.dom.serializeStyle(P,L)}},Fo=function(b){return function(P){return O(b).upload([P],!1).then(function(L){return L.length===0?ke.reject("Failed to upload image"):L[0].status===!1?ke.reject(L[0].error.message):L[0]})}},_a=function(b){var P={onSubmit:gu(b),imageSize:Ko(b),addToBlobCache:Xo(b),createBlobCache:hu(b),alertErr:fr(b),normalizeCss:Co(b),parseStyle:Kr(b),serializeStyle:Do(b),uploadImage:Fo(b)},L=function(){er(b).then(ar(P)).then(b.windowManager.open)};return{open:L}},bc=function(b){b.addCommand("mceImage",_a(b).open),b.addCommand("mceUpdateImage",function(P,L){b.undoManager.transact(function(){return F(b,L)})})},C=function(b){var P=b.attr("class");return P&&/\bimage\b/.test(P)},j=function(b){return function(P){for(var L=P.length,te=function(gt){gt.attr("contenteditable",b?"true":null)};L--;){var q=P[L];C(q)&&(q.attr("contenteditable",b?"false":null),H.each(q.getAll("figcaption"),te))}}},ye=function(b){b.on("PreInit",function(){b.parser.addNodeFilter("figure",j(!0)),b.serializer.addNodeFilter("figure",j(!1))})},we=function(b){b.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:_a(b).open,onSetup:function(P){return b.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",P.setActive).unbind}}),b.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:_a(b).open}),b.ui.registry.addContextMenu("image",{update:function(P){return Vr(P)||Qr(P)&&!_n(P)?["image"]:[]}})};function nt(){mn.add("image",function(b){ye(b),we(b),bc(b)})}nt()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(ut,Ye){ut.focus(),ut.undoManager.transact(function(){ut.setContent(Ye)}),ut.selection.setCursorLocation(),ut.nodeChanged()},Nt=function(ut){return ut.getContent({source_view:!0})},jt=function(ut){var Ye=Nt(ut);ut.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Ye},onSubmit:function(gn){Ht(ut,gn.getData().code),gn.close()}})},wt=function(ut){ut.addCommand("mceCodeEditor",function(){jt(ut)})},$t=function(ut){ut.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return jt(ut)}}),ut.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return jt(ut)}})};function Pt(){mn.add("code",function(ut){return wt(ut),$t(ut),{}})}Pt()})();(function(){var mn=function(K){var fe=K,Je=function(){return fe},Et=function(Yt){fe=Yt};return{get:Je,set:Et}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),Nt=function(K){return{isFullscreen:function(){return K.get()!==null}}},jt=function(K){var fe=typeof K;return K===null?"null":fe==="object"&&(Array.prototype.isPrototypeOf(K)||K.constructor&&K.constructor.name==="Array")?"array":fe==="object"&&(String.prototype.isPrototypeOf(K)||K.constructor&&K.constructor.name==="String")?"string":fe},wt=function(K){return function(fe){return jt(fe)===K}},$t=function(K){return function(fe){return typeof fe===K}},Pt=wt("string"),ut=wt("array"),Ye=$t("boolean"),gn=function(K){return K==null},Ct=function(K){return!gn(K)},ze=$t("function"),Bt=$t("number"),Xe=function(){},de=function(K,fe){return function(){for(var Je=[],Et=0;Et<arguments.length;Et++)Je[Et]=arguments[Et];return K(fe.apply(null,Je))}},st=function(K,fe){return function(Je){return K(fe(Je))}},Ee=function(K){return function(){return K}};function Gt(K){for(var fe=[],Je=1;Je<arguments.length;Je++)fe[Je-1]=arguments[Je];return function(){for(var Et=[],Yt=0;Yt<arguments.length;Yt++)Et[Yt]=arguments[Yt];var En=fe.concat(Et);return K.apply(null,En)}}var $=Ee(!1),_e=Ee(!0),nn=function(){return cn},cn=function(){var K=function(Yt){return Yt.isNone()},fe=function(Yt){return Yt()},Je=function(Yt){return Yt},Et={fold:function(Yt,En){return Yt()},is:$,isSome:$,isNone:_e,getOr:Je,getOrThunk:fe,getOrDie:function(Yt){throw new Error(Yt||"error: getOrDie called on none.")},getOrNull:Ee(null),getOrUndefined:Ee(void 0),or:Je,orThunk:fe,map:nn,each:Xe,bind:nn,exists:$,forall:_e,filter:nn,equals:K,equals_:K,toArray:function(){return[]},toString:Ee("none()")};return Et}(),bt=function(K){var fe=Ee(K),Je=function(){return Yt},Et=function(En){return En(K)},Yt={fold:function(En,Er){return Er(K)},is:function(En){return K===En},isSome:_e,isNone:$,getOr:fe,getOrThunk:fe,getOrDie:fe,getOrNull:fe,getOrUndefined:fe,or:Je,orThunk:Je,map:function(En){return bt(En(K))},each:function(En){En(K)},bind:Et,exists:Et,forall:Et,filter:function(En){return En(K)?Yt:cn},toArray:function(){return[K]},toString:function(){return"some("+K+")"},equals:function(En){return En.is(K)},equals_:function(En,Er){return En.fold($,function(kr){return Er(K,kr)})}};return Yt},Vt=function(K){return K==null?cn:bt(K)},Ut={some:bt,none:nn,from:Vt},qe=function(K){var fe=mn(Ut.none()),Je=function(){return fe.get().each(K)},Et=function(){Je(),fe.set(Ut.none())},Yt=function(){return fe.get().isSome()},En=function(Er){Je(),fe.set(Ut.some(Er))};return{clear:Et,isSet:Yt,set:En}},G=function(){return qe(function(K){return K.unbind()})},k=function(){var K=mn(Ut.none()),fe=function(){return K.set(Ut.none())},Je=function(En){return K.set(Ut.some(En))},Et=function(){return K.get().isSome()},Yt=function(En){return K.get().each(En)};return{clear:fe,set:Je,isSet:Et,on:Yt}},Ue=Array.prototype.push,St=function(K,fe){for(var Je=K.length,Et=new Array(Je),Yt=0;Yt<Je;Yt++){var En=K[Yt];Et[Yt]=fe(En,Yt)}return Et},vt=function(K,fe){for(var Je=0,Et=K.length;Je<Et;Je++){var Yt=K[Je];fe(Yt,Je)}},Ie=function(K,fe){for(var Je=[],Et=0,Yt=K.length;Et<Yt;Et++){var En=K[Et];fe(En,Et)&&Je.push(En)}return Je},Ve=function(K){for(var fe=[],Je=0,Et=K.length;Je<Et;++Je){if(!ut(K[Je]))throw new Error("Arr.flatten item "+Je+" was not an array, input: "+K);Ue.apply(fe,K[Je])}return fe},g=function(K,fe){return Ve(St(K,fe))},he=function(K,fe){return fe>=0&&fe<K.length?Ut.some(K[fe]):Ut.none()},ee=function(K){return he(K,0)},Qe=Object.keys,Qt=function(K,fe){for(var Je=Qe(K),Et=0,Yt=Je.length;Et<Yt;Et++){var En=Je[Et],Er=K[En];fe(Er,En)}},Jt=function(K){return K.style!==void 0&&ze(K.style.getPropertyValue)},Tt=function(K,fe){var Je=fe||document,Et=Je.createElement("div");if(Et.innerHTML=K,!Et.hasChildNodes()||Et.childNodes.length>1)throw console.error("HTML does not have a single root node",K),new Error("HTML must have a single root node");return kn(Et.childNodes[0])},Ot=function(K,fe){var Je=fe||document,Et=Je.createElement(K);return kn(Et)},an=function(K,fe){var Je=fe||document,Et=Je.createTextNode(K);return kn(Et)},kn=function(K){if(K==null)throw new Error("Node cannot be null or undefined");return{dom:K}},ne=function(K,fe,Je){return Ut.from(K.dom.elementFromPoint(fe,Je)).map(kn)},Le={fromHtml:Tt,fromTag:Ot,fromText:an,fromDom:kn,fromPoint:ne};typeof window!="undefined"||Function("return this;")();var At=9,ke=11,Y=1,Se=3,z=function(K){return K.dom.nodeType},ge=function(K){return function(fe){return z(fe)===K}},ve=ge(Y),Ke=ge(Se),kt=ge(At),Dt=ge(ke),ln=function(K,fe){var Je=K.dom;if(Je.nodeType!==Y)return!1;var Et=Je;if(Et.matches!==void 0)return Et.matches(fe);if(Et.msMatchesSelector!==void 0)return Et.msMatchesSelector(fe);if(Et.webkitMatchesSelector!==void 0)return Et.webkitMatchesSelector(fe);if(Et.mozMatchesSelector!==void 0)return Et.mozMatchesSelector(fe);throw new Error("Browser lacks native selectors")},on=function(K){return K.nodeType!==Y&&K.nodeType!==At&&K.nodeType!==ke||K.childElementCount===0},Gn=function(K,fe){var Je=fe===void 0?document:fe.dom;return on(Je)?[]:St(Je.querySelectorAll(K),Le.fromDom)},Qn=function(K,fe){return K.dom===fe.dom},Sr=function(K){return Le.fromDom(K.dom.ownerDocument)},rt=function(K){return kt(K)?K:Sr(K)},$e=function(K){return Ut.from(K.dom.parentNode).map(Le.fromDom)},ct=function(K,fe){for(var Je=ze(fe)?fe:$,Et=K.dom,Yt=[];Et.parentNode!==null&&Et.parentNode!==void 0;){var En=Et.parentNode,Er=Le.fromDom(En);if(Yt.push(Er),Je(Er)===!0)break;Et=En}return Yt},ht=function(K){var fe=function(Je){return Ie(Je,function(Et){return!Qn(K,Et)})};return $e(K).map(dt).map(fe).getOr([])},dt=function(K){return St(K.dom.childNodes,Le.fromDom)},Xt=function(K){return Dt(K)&&Ct(K.dom.host)},Sn=ze(Element.prototype.attachShadow)&&ze(Node.prototype.getRootNode),yn=Ee(Sn),Lt=Sn?function(K){return Le.fromDom(K.dom.getRootNode())}:rt,_n=function(K){var fe=Lt(K);return Xt(fe)?Ut.some(fe):Ut.none()},Nn=function(K){return Le.fromDom(K.dom.host)},gr=function(K){if(yn()&&Ct(K.target)){var fe=Le.fromDom(K.target);if(ve(fe)&&Dr(fe)&&K.composed&&K.composedPath){var Je=K.composedPath();if(Je)return ee(Je)}}return Ut.from(K.target)},Dr=function(K){return Ct(K.dom.shadowRoot)},lr=function(K){var fe=Ke(K)?K.dom.parentNode:K.dom;if(fe==null||fe.ownerDocument===null)return!1;var Je=fe.ownerDocument;return _n(Le.fromDom(fe)).fold(function(){return Je.body.contains(fe)},st(lr,Nn))},Fr=function(K){var fe=K.dom.body;if(fe==null)throw new Error("Body is not available yet");return Le.fromDom(fe)},Pr=function(K,fe,Je){if(Pt(Je)||Ye(Je)||Bt(Je))K.setAttribute(fe,Je+"");else throw console.error("Invalid call to Attribute.set. Key ",fe,":: Value ",Je,":: Element ",K),new Error("Attribute value was not simple")},ue=function(K,fe,Je){Pr(K.dom,fe,Je)},Ne=function(K,fe){var Je=K.dom.getAttribute(fe);return Je===null?void 0:Je},mt=function(K,fe){K.dom.removeAttribute(fe)},rn=function(K,fe,Je){if(!Pt(Je))throw console.error("Invalid call to CSS.set. Property ",fe,":: Value ",Je,":: Element ",K),new Error("CSS value must be a string: "+Je);Jt(K)&&K.style.setProperty(fe,Je)},Ft=function(K,fe){var Je=K.dom;Qt(fe,function(Et,Yt){rn(Je,Yt,Et)})},pn=function(K,fe){var Je=K.dom,Et=window.getComputedStyle(Je),Yt=Et.getPropertyValue(fe);return Yt===""&&!lr(K)?Ar(Je,fe):Yt},Ar=function(K,fe){return Jt(K)?K.style.getPropertyValue(fe):""},Vn=function(K,fe,Je,Et,Yt,En,Er){return{target:K,x:fe,y:Je,stop:Et,prevent:Yt,kill:En,raw:Er}},qn=function(K){var fe=Le.fromDom(gr(K).getOr(K.target)),Je=function(){return K.stopPropagation()},Et=function(){return K.preventDefault()},Yt=de(Et,Je);return Vn(fe,K.clientX,K.clientY,Je,Et,Yt,K)},sa=function(K,fe){return function(Je){K(Je)&&fe(qn(Je))}},Jr=function(K,fe,Je,Et,Yt){var En=sa(Je,Et);return K.dom.addEventListener(fe,En,Yt),{unbind:Gt(Ea,K,fe,En,Yt)}},oa=function(K,fe,Je,Et){return Jr(K,fe,Je,Et,!1)},Ea=function(K,fe,Je,Et){K.dom.removeEventListener(fe,Je,Et)},Vr=_e,Qr=function(K,fe,Je){return oa(K,fe,Vr,Je)},ia=function(K,fe){var Je=function(Et,Yt){return ia(K+Et,fe+Yt)};return{left:K,top:fe,translate:Je}},Zt=ia,Cr=function(K){var fe=K!==void 0?K.dom:document,Je=fe.body.scrollLeft||fe.documentElement.scrollLeft,Et=fe.body.scrollTop||fe.documentElement.scrollTop;return Zt(Je,Et)},_r=function(K){var fe=K===void 0?window:K;return Ut.from(fe.visualViewport)},ua=function(K,fe,Je,Et){return{x:K,y:fe,width:Je,height:Et,right:K+Je,bottom:fe+Et}},xr=function(K){var fe=K===void 0?window:K,Je=fe.document,Et=Cr(Le.fromDom(Je));return _r(fe).fold(function(){var Yt=fe.document.documentElement,En=Yt.clientWidth,Er=Yt.clientHeight;return ua(Et.left,Et.top,En,Er)},function(Yt){return ua(Math.max(Yt.pageLeft,Et.left),Math.max(Yt.pageTop,Et.top),Yt.width,Yt.height)})},Gr=function(K,fe,Je){return _r(Je).map(function(Et){var Yt=function(En){return fe(qn(En))};return Et.addEventListener(K,Yt),{unbind:function(){return Et.removeEventListener(K,Yt)}}}).getOrThunk(function(){return{unbind:Xe}})},da=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ta=tinymce.util.Tools.resolve("tinymce.Env"),ka=tinymce.util.Tools.resolve("tinymce.util.Delay"),Fn=function(K,fe){K.fire("FullscreenStateChanged",{state:fe})},ma=function(K){return K.getParam("fullscreen_native",!1,"boolean")},qr=function(K){var fe=Le.fromDom(K.getElement());return _n(fe).map(Nn).getOrThunk(function(){return Fr(Sr(fe))})},ga=function(K){return K.fullscreenElement!==void 0?K.fullscreenElement:K.msFullscreenElement!==void 0?K.msFullscreenElement:K.webkitFullscreenElement!==void 0?K.webkitFullscreenElement:null},Ma=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},W=function(K){var fe=K.dom;fe.requestFullscreen?fe.requestFullscreen():fe.msRequestFullscreen?fe.msRequestFullscreen():fe.webkitRequestFullScreen&&fe.webkitRequestFullScreen()},ae=function(K){var fe=K.dom;fe.exitFullscreen?fe.exitFullscreen():fe.msExitFullscreen?fe.msExitFullscreen():fe.webkitCancelFullScreen&&fe.webkitCancelFullScreen()},be=function(K){return K.dom===ga(Sr(K).dom)},Oe=function(K,fe,Je){return Ie(ct(K,Je),fe)},F=function(K,fe){return Ie(ht(K),fe)},V=function(K){return Gn(K)},pe=function(K,fe,Je){return Oe(K,function(Et){return ln(Et,fe)},Je)},Me=function(K,fe){return F(K,function(Je){return ln(Je,fe)})},Re="data-ephox-mobile-fullscreen-style",pt="display:none!important;",O="position:absolute!important;",H="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Z="background-color:rgb(255,255,255)!important;",U=Ta.os.isAndroid(),Ce=function(K){var fe=pn(K,"background-color");return fe!==void 0&&fe!==""?"background-color:"+fe+"!important":Z},Be=function(K,fe,Je){var Et=function(ea){return Me(ea,"*:not(.tox-silver-sink)")},Yt=function(ea){return function(M){var oe=Ne(M,"style"),ce=oe===void 0?"no-styles":oe.trim();ce!==ea&&(ue(M,Re,ce),Ft(M,K.parseStyle(ea)))}},En=pe(fe,"*"),Er=g(En,Et),kr=Ce(Je);vt(Er,Yt(pt)),vt(En,Yt(O+H+kr));var ha=U===!0?"":O;Yt(ha+H+kr)(fe)},It=function(K){var fe=V("["+Re+"]");vt(fe,function(Je){var Et=Ne(Je,Re);Et!=="no-styles"?Ft(Je,K.parseStyle(Et)):mt(Je,"style"),mt(Je,Re)})},Kt=da.DOM,it=function(){var K=xr(window);return{x:K.x,y:K.y}},en=function(K){window.scrollTo(K.x,K.y)},Kn=_r().fold(function(){return{bind:Xe,unbind:Xe}},function(K){var fe=k(),Je=G(),Et=G(),Yt=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},En=function(){window.requestAnimationFrame(function(){fe.on(function(ea){return Ft(ea,{top:K.offsetTop+"px",left:K.offsetLeft+"px",height:K.height+"px",width:K.width+"px"})})})},Er=ka.throttle(function(){Yt(),En()},50),kr=function(ea){fe.set(ea),Er(),Je.set(Gr("resize",Er)),Et.set(Gr("scroll",Er))},ha=function(){fe.on(function(){Je.clear(),Et.clear()}),fe.clear()};return{bind:kr,unbind:ha}}),Rr=function(K,fe){var Je=document.body,Et=document.documentElement,Yt=K.getContainer(),En=Le.fromDom(Yt),Er=qr(K),kr=fe.get(),ha=Le.fromDom(K.getBody()),ea=Ta.deviceType.isTouch(),M=Yt.style,oe=K.iframeElement,ce=oe.style,ie=function(hr){hr(Je,"tox-fullscreen"),hr(Et,"tox-fullscreen"),hr(Yt,"tox-fullscreen"),_n(En).map(function(Dn){return Nn(Dn).dom}).each(function(Dn){hr(Dn,"tox-fullscreen"),hr(Dn,"tox-shadowhost")})},yt=function(){ea&&It(K.dom),ie(Kt.removeClass),Kn.unbind(),Ut.from(fe.get()).each(function(hr){return hr.fullscreenChangeHandler.unbind()})};if(kr)kr.fullscreenChangeHandler.unbind(),ma(K)&&be(Er)&&ae(Sr(Er)),ce.width=kr.iframeWidth,ce.height=kr.iframeHeight,M.width=kr.containerWidth,M.height=kr.containerHeight,M.top=kr.containerTop,M.left=kr.containerLeft,en(kr.scrollPos),fe.set(null),Fn(K,!1),yt(),K.off("remove",yt);else{var bn=Qr(Sr(Er),Ma(),function(hr){ma(K)&&!be(Er)&&fe.get()!==null&&Rr(K,fe)}),tr={scrollPos:it(),containerWidth:M.width,containerHeight:M.height,containerTop:M.top,containerLeft:M.left,iframeWidth:ce.width,iframeHeight:ce.height,fullscreenChangeHandler:bn};ea&&Be(K.dom,En,ha),ce.width=ce.height="100%",M.width=M.height="",ie(Kt.addClass),Kn.bind(En),K.on("remove",yt),fe.set(tr),ma(K)&&W(Er),Fn(K,!0)}},Wn=function(K,fe){K.addCommand("mceFullScreen",function(){Rr(K,fe)})},er=function(K,fe){return function(Je){Je.setActive(fe.get()!==null);var Et=function(Yt){return Je.setActive(Yt.state)};return K.on("FullscreenStateChanged",Et),function(){return K.off("FullscreenStateChanged",Et)}}},ya=function(K,fe){K.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return K.execCommand("mceFullScreen")},onSetup:er(K,fe)}),K.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return K.execCommand("mceFullScreen")},onSetup:er(K,fe)})};function zr(){Ht.add("fullscreen",function(K){var fe=mn(null);return K.inline||(Wn(K,fe),ya(K,fe),K.addShortcut("Meta+Shift+F","","mceFullScreen")),Nt(fe)})}zr()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(){return Ht=Object.assign||function(ae){for(var be,Oe=1,F=arguments.length;Oe<F;Oe++){be=arguments[Oe];for(var V in be)Object.prototype.hasOwnProperty.call(be,V)&&(ae[V]=be[V])}return ae},Ht.apply(this,arguments)},Nt=function(W){var ae=typeof W;return W===null?"null":ae==="object"&&(Array.prototype.isPrototypeOf(W)||W.constructor&&W.constructor.name==="Array")?"array":ae==="object"&&(String.prototype.isPrototypeOf(W)||W.constructor&&W.constructor.name==="String")?"string":ae},jt=function(W){return function(ae){return Nt(ae)===W}},wt=jt("string"),$t=jt("object"),Pt=jt("array"),ut=function(W){return W==null},Ye=function(W){return!ut(W)},gn=function(){},Ct=function(W){return function(){return W}},ze=Ct(!1),Bt=Ct(!0),Xe=function(){return de},de=function(){var W=function(F){return F.isNone()},ae=function(F){return F()},be=function(F){return F},Oe={fold:function(F,V){return F()},is:ze,isSome:ze,isNone:Bt,getOr:be,getOrThunk:ae,getOrDie:function(F){throw new Error(F||"error: getOrDie called on none.")},getOrNull:Ct(null),getOrUndefined:Ct(void 0),or:be,orThunk:ae,map:Xe,each:gn,bind:Xe,exists:ze,forall:Bt,filter:Xe,equals:W,equals_:W,toArray:function(){return[]},toString:Ct("none()")};return Oe}(),st=function(W){var ae=Ct(W),be=function(){return F},Oe=function(V){return V(W)},F={fold:function(V,pe){return pe(W)},is:function(V){return W===V},isSome:Bt,isNone:ze,getOr:ae,getOrThunk:ae,getOrDie:ae,getOrNull:ae,getOrUndefined:ae,or:be,orThunk:be,map:function(V){return st(V(W))},each:function(V){V(W)},bind:Oe,exists:Oe,forall:Oe,filter:function(V){return V(W)?F:de},toArray:function(){return[W]},toString:function(){return"some("+W+")"},equals:function(V){return V.is(W)},equals_:function(V,pe){return V.fold(ze,function(Me){return pe(W,Me)})}};return F},Ee=function(W){return W==null?de:st(W)},Gt={some:st,none:Xe,from:Ee},$=Array.prototype.push,_e=function(W,ae){for(var be=0,Oe=W.length;be<Oe;be++){var F=W[be];ae(F,be)}},nn=function(W){for(var ae=[],be=0,Oe=W.length;be<Oe;++be){if(!Pt(W[be]))throw new Error("Arr.flatten item "+be+" was not an array, input: "+W);$.apply(ae,W[be])}return ae},cn=function(W){var ae=W,be=function(){return ae},Oe=function(F){ae=F};return{get:be,set:Oe}},bt=Object.keys,Vt=Object.hasOwnProperty,Ut=function(W,ae){for(var be=bt(W),Oe=0,F=be.length;Oe<F;Oe++){var V=be[Oe],pe=W[V];ae(pe,V)}},qe=function(W,ae){return G(W,ae)?Gt.from(W[ae]):Gt.none()},G=function(W,ae){return Vt.call(W,ae)},k=function(W){return W.getParam("media_scripts")},Ue=function(W){return W.getParam("audio_template_callback")},St=function(W){return W.getParam("video_template_callback")},vt=function(W){return W.getParam("media_live_embeds",!0)},Ie=function(W){return W.getParam("media_filter_html",!0)},Ve=function(W){return W.getParam("media_url_resolver")},g=function(W){return W.getParam("media_alt_source",!0)},he=function(W){return W.getParam("media_poster",!0)},ee=function(W){return W.getParam("media_dimensions",!0)},Qe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Qt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Jt=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),Tt=function(W,ae){if(W){for(var be=0;be<W.length;be++)if(ae.indexOf(W[be].filter)!==-1)return W[be]}},Ot=Qt.DOM,an=function(W){return W.replace(/px$/,"")},kn=function(W){var ae=W.map.style,be=ae?Ot.parseStyle(ae):{};return{type:"ephox-embed-iri",source:W.map["data-ephox-embed-iri"],altsource:"",poster:"",width:qe(be,"max-width").map(an).getOr(""),height:qe(be,"max-height").map(an).getOr("")}},ne=function(W,ae){var be=cn(!1),Oe={};return Jt({validate:!1,allow_conditional_comments:!0,start:function(F,V){if(!be.get())if(G(V.map,"data-ephox-embed-iri"))be.set(!0),Oe=kn(V);else{if(!Oe.source&&F==="param"&&(Oe.source=V.map.movie),(F==="iframe"||F==="object"||F==="embed"||F==="video"||F==="audio")&&(Oe.type||(Oe.type=F),Oe=Qe.extend(V.map,Oe)),F==="script"){var pe=Tt(W,V.map.src);if(!pe)return;Oe={type:"script",source:V.map.src,width:String(pe.width),height:String(pe.height)}}F==="source"&&(Oe.source?Oe.altsource||(Oe.altsource=V.map.src):Oe.source=V.map.src),F==="img"&&!Oe.poster&&(Oe.poster=V.map.src)}}}).parse(ae),Oe.source=Oe.source||Oe.src||Oe.data,Oe.altsource=Oe.altsource||"",Oe.poster=Oe.poster||"",Oe},Le=function(W){var ae={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},be=W.toLowerCase().split(".").pop(),Oe=ae[be];return Oe||""},At=tinymce.util.Tools.resolve("tinymce.html.Schema"),ke=tinymce.util.Tools.resolve("tinymce.html.Writer"),Y=Qt.DOM,Se=function(W){return/^[0-9.]+$/.test(W)?W+"px":W},z=function(W,ae){Ut(ae,function(be,Oe){var F=""+be;if(W.map[Oe])for(var V=W.length;V--;){var pe=W[V];pe.name===Oe&&(F?(W.map[Oe]=F,pe.value=F):(delete W.map[Oe],W.splice(V,1)))}else F&&(W.push({name:Oe,value:F}),W.map[Oe]=F)})},ge=function(W,ae){var be=ae.map.style,Oe=be?Y.parseStyle(be):{};Oe["max-width"]=Se(W.width),Oe["max-height"]=Se(W.height),z(ae,{style:Y.serializeStyle(Oe)})},ve=["source","altsource"],Ke=function(W,ae,be){var Oe=ke(),F=cn(!1),V=0,pe;return Jt({validate:!1,allow_conditional_comments:!0,comment:function(Me){Oe.comment(Me)},cdata:function(Me){Oe.cdata(Me)},text:function(Me,Re){Oe.text(Me,Re)},start:function(Me,Re,pt){if(!F.get())if(G(Re.map,"data-ephox-embed-iri"))F.set(!0),ge(ae,Re);else{switch(Me){case"video":case"object":case"embed":case"img":case"iframe":ae.height!==void 0&&ae.width!==void 0&&z(Re,{width:ae.width,height:ae.height});break}if(be)switch(Me){case"video":z(Re,{poster:ae.poster,src:""}),ae.altsource&&z(Re,{src:""});break;case"iframe":z(Re,{src:ae.source});break;case"source":if(V<2&&(z(Re,{src:ae[ve[V]],type:ae[ve[V]+"mime"]}),!ae[ve[V]]))return;V++;break;case"img":if(!ae.poster)return;pe=!0;break}}Oe.start(Me,Re,pt)},end:function(Me){if(!F.get()){if(Me==="video"&&be){for(var Re=0;Re<2;Re++)if(ae[ve[Re]]){var pt=[];pt.map={},V<=Re&&(z(pt,{src:ae[ve[Re]],type:ae[ve[Re]+"mime"]}),Oe.start("source",pt,!0))}}if(ae.poster&&Me==="object"&&be&&!pe){var O=[];O.map={},z(O,{src:ae.poster,width:ae.width,height:ae.height}),Oe.start("img",O,!0)}}Oe.end(Me)}},At({})).parse(W),Oe.getContent()},kt=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Dt=function(W){var ae=W.match(/^(https?:\/\/|www\.)(.+)$/i);return ae&&ae.length>1?ae[1]==="www."?"https://":ae[1]:"https://"},ln=function(W,ae){for(var be=Dt(ae),Oe=W.regex.exec(ae),F=be+W.url,V=function(Me){F=F.replace("$"+Me,function(){return Oe[Me]?Oe[Me]:""})},pe=0;pe<Oe.length;pe++)V(pe);return F.replace(/\?$/,"")},on=function(W){var ae=kt.filter(function(be){return be.regex.test(W)});return ae.length>0?Qe.extend({},ae[0],{url:ln(ae[0],W)}):null},Gn=function(W){var ae=W.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+W.source+'" width="'+W.width+'" height="'+W.height+'"'+ae+"></iframe>"},Qn=function(W){var ae='<object data="'+W.source+'" width="'+W.width+'" height="'+W.height+'" type="application/x-shockwave-flash">';return W.poster&&(ae+='<img src="'+W.poster+'" width="'+W.width+'" height="'+W.height+'" />'),ae+="</object>",ae},Sr=function(W,ae){return ae?ae(W):'<audio controls="controls" src="'+W.source+'">'+(W.altsource?`
<source src="`+W.altsource+'"'+(W.altsourcemime?' type="'+W.altsourcemime+'"':"")+` />
`:"")+"</audio>"},rt=function(W,ae){return ae?ae(W):'<video width="'+W.width+'" height="'+W.height+'"'+(W.poster?' poster="'+W.poster+'"':"")+` controls="controls">
<source src="`+W.source+'"'+(W.sourcemime?' type="'+W.sourcemime+'"':"")+` />
`+(W.altsource?'<source src="'+W.altsource+'"'+(W.altsourcemime?' type="'+W.altsourcemime+'"':"")+` />
`:"")+"</video>"},$e=function(W){return'<script src="'+W.source+'"><\/script>'},ct=function(W,ae){var be=Qe.extend({},ae);if(!be.source&&(Qe.extend(be,ne(k(W),be.embed)),!be.source))return"";be.altsource||(be.altsource=""),be.poster||(be.poster=""),be.source=W.convertURL(be.source,"source"),be.altsource=W.convertURL(be.altsource,"source"),be.sourcemime=Le(be.source),be.altsourcemime=Le(be.altsource),be.poster=W.convertURL(be.poster,"poster");var Oe=on(be.source);if(Oe&&(be.source=Oe.url,be.type=Oe.type,be.allowfullscreen=Oe.allowFullscreen,be.width=be.width||String(Oe.w),be.height=be.height||String(Oe.h)),be.embed)return Ke(be.embed,be,!0);var F=Tt(k(W),be.source);F&&(be.type="script",be.width=String(F.width),be.height=String(F.height));var V=Ue(W),pe=St(W);return be.width=be.width||"300",be.height=be.height||"150",Qe.each(be,function(Me,Re){be[Re]=W.dom.encode(""+Me)}),be.type==="iframe"?Gn(be):be.sourcemime==="application/x-shockwave-flash"?Qn(be):be.sourcemime.indexOf("audio")!==-1?Sr(be,V):be.type==="script"?$e(be):rt(be,pe)},ht=tinymce.util.Tools.resolve("tinymce.util.Promise"),dt={},Xt=function(W,ae,be){return new ht(function(Oe,F){var V=function(pe){return pe.html&&(dt[W.source]=pe),Oe({url:W.source,html:pe.html?pe.html:ae(W)})};dt[W.source]?V(dt[W.source]):be({url:W.source},V,F)})},Sn=function(W,ae){return new ht(function(be){be({html:ae(W),url:W.source})})},yn=function(W){return function(ae){return ct(W,ae)}},Lt=function(W,ae){var be=Ve(W);return be?Xt(ae,yn(W),be):Sn(ae,yn(W))},_n=function(W){return dt.hasOwnProperty(W)},Nn=function(W,ae){return qe(ae,W).bind(function(be){return qe(be,"meta")})},gr=function(W,ae,be){return function(Oe){var F,V=function(){return qe(W,Oe)},pe=function(){return qe(ae,Oe)},Me=function(O){return qe(O,"value").bind(function(H){return H.length>0?Gt.some(H):Gt.none()})},Re=function(){return V().bind(function(O){return $t(O)?Me(O).orThunk(pe):pe().orThunk(function(){return Gt.from(O)})})},pt=function(){return pe().orThunk(function(){return V().bind(function(O){return $t(O)?Me(O):Gt.from(O)})})};return F={},F[Oe]=(Oe===be?Re():pt()).getOr(""),F}},Dr=function(W,ae){var be={};return qe(W,"dimensions").each(function(Oe){_e(["width","height"],function(F){qe(ae,F).orThunk(function(){return qe(Oe,F)}).each(function(V){return be[F]=V})})}),be},lr=function(W,ae){var be=ae?Nn(ae,W).getOr({}):{},Oe=gr(W,be,ae);return Ht(Ht(Ht(Ht(Ht({},Oe("source")),Oe("altsource")),Oe("poster")),Oe("embed")),Dr(W,be))},Fr=function(W){var ae=Ht(Ht({},W),{source:{value:qe(W,"source").getOr("")},altsource:{value:qe(W,"altsource").getOr("")},poster:{value:qe(W,"poster").getOr("")}});return _e(["width","height"],function(be){qe(W,be).each(function(Oe){var F=ae.dimensions||{};F[be]=Oe,ae.dimensions=F})}),ae},Pr=function(W){return function(ae){var be=ae&&ae.msg?"Media embed handler error: "+ae.msg:"Media embed handler threw unknown error.";W.notificationManager.open({type:"error",text:be})}},ue=function(W,ae){return ne(k(W),ae)},Ne=function(W){return W.getAttribute("data-mce-object")||W.getAttribute("data-ephox-embed-iri")},mt=function(W){var ae=W.selection.getNode(),be=Ne(ae)?W.serializer.serialize(ae,{selection:!0}):"";return Ht({embed:be},ne(k(W),be))},rn=function(W,ae){return function(be){if(wt(be.url)&&be.url.trim().length>0){var Oe=be.html,F=ue(ae,Oe),V=Ht(Ht({},F),{source:be.url,embed:Oe});W.setData(Fr(V))}}},Ft=function(W,ae){for(var be=W.dom.select("*[data-mce-object]"),Oe=0;Oe<ae.length;Oe++)for(var F=be.length-1;F>=0;F--)ae[Oe]===be[F]&&be.splice(F,1);W.selection.select(be[0])},pn=function(W,ae){var be=W.dom.select("*[data-mce-object]");W.insertContent(ae),Ft(W,be),W.nodeChanged()},Ar=function(W,ae,be){ae.embed=Ke(ae.embed,ae),ae.embed&&(W.source===ae.source||_n(ae.source))?pn(be,ae.embed):Lt(be,ae).then(function(Oe){pn(be,Oe.html)}).catch(Pr(be))},Vn=function(W){var ae=mt(W),be=cn(ae),Oe=Fr(ae),F=function(Kt,it){var en=lr(it.getData(),"source");Kt.source!==en.source&&(rn(It,W)({url:en.source,html:""}),Lt(W,en).then(rn(It,W)).catch(Pr(W)))},V=function(Kt){var it=lr(Kt.getData()),en=ue(W,it.embed);Kt.setData(Fr(en))},pe=function(Kt,it){var en=lr(Kt.getData(),it),Kn=ct(W,en);Kt.setData(Fr(Ht(Ht({},en),{embed:Kn})))},Me=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Re=ee(W)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],pt={title:"General",name:"general",items:nn([Me,Re])},O={type:"textarea",name:"embed",label:"Paste your embed code below:"},H={title:"Embed",items:[O]},Z=[];g(W)&&Z.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),he(W)&&Z.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var U={title:"Advanced",name:"advanced",items:Z},Ce=[pt,H];Z.length>0&&Ce.push(U);var Be={type:"tabpanel",tabs:Ce},It=W.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Be,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Kt){var it=lr(Kt.getData());Ar(be.get(),it,W),Kt.close()},onChange:function(Kt,it){switch(it.name){case"source":F(be.get(),Kt);break;case"embed":V(Kt);break;case"dimensions":case"altsource":case"poster":pe(Kt,it.name);break}be.set(lr(Kt.getData()))},initialData:Oe})},qn=function(W){var ae=function(){Vn(W)};return{showDialog:ae}},sa=function(W){var ae=function(){Vn(W)};W.addCommand("mceMedia",ae)},Jr=tinymce.util.Tools.resolve("tinymce.html.Node"),oa=tinymce.util.Tools.resolve("tinymce.Env"),Ea=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Vr=function(W,ae){if(Ie(W)===!1)return ae;var be=ke(),Oe;return Jt({validate:!1,allow_conditional_comments:!1,comment:function(F){Oe||be.comment(F)},cdata:function(F){Oe||be.cdata(F)},text:function(F,V){Oe||be.text(F,V)},start:function(F,V,pe){if(Oe=!0,!(F==="script"||F==="noscript"||F==="svg")){for(var Me=V.length-1;Me>=0;Me--){var Re=V[Me].name;Re.indexOf("on")===0&&(delete V.map[Re],V.splice(Me,1)),Re==="style"&&(V[Me].value=W.dom.serializeStyle(W.dom.parseStyle(V[Me].value),F))}be.start(F,V,pe),Oe=!1}},end:function(F){Oe||be.end(F)}},At({})).parse(ae),be.getContent()},Qr=function(W){var ae=W.name;return ae==="iframe"||ae==="video"||ae==="audio"},ia=function(W,ae,be,Oe){Oe===void 0&&(Oe=null);var F=W.attr(be);return Ye(F)?F:G(ae,be)?null:Oe},Zt=function(W,ae,be){var Oe=ae.name==="img"||W.name==="video",F=Oe?"300":null,V=W.name==="audio"?"30":"150",pe=Oe?V:null;ae.attr({width:ia(W,be,"width",F),height:ia(W,be,"height",pe)})},Cr=function(W,ae,be,Oe){for(var F=Ea({forced_root_block:!1,validate:!1},W.schema).parse(Oe,{context:ae});F.firstChild;)be.append(F.firstChild)},_r=function(W,ae){var be=ae.name,Oe=new Jr("img",1);return Oe.shortEnded=!0,xr(W,ae,Oe),Zt(ae,Oe,{}),Oe.attr({style:ae.attr("style"),src:oa.transparentSrc,"data-mce-object":be,class:"mce-object mce-object-"+be}),Oe},ua=function(W,ae){var be=ae.name,Oe=new Jr("span",1);Oe.attr({contentEditable:"false",style:ae.attr("style"),"data-mce-object":be,class:"mce-preview-object mce-object-"+be}),xr(W,ae,Oe);var F=W.dom.parseStyle(ae.attr("style")),V=new Jr(be,1);if(Zt(ae,V,F),V.attr({src:ae.attr("src"),style:ae.attr("style"),class:ae.attr("class")}),be==="iframe")V.attr({allowfullscreen:ae.attr("allowfullscreen"),frameborder:"0"});else{var pe=["controls","crossorigin","currentTime","loop","muted","poster","preload"];_e(pe,function(pt){V.attr(pt,ae.attr(pt))});var Me=Oe.attr("data-mce-html");Ye(Me)&&Cr(W,be,V,Me)}var Re=new Jr("span",1);return Re.attr("class","mce-shim"),Oe.append(V),Oe.append(Re),Oe},xr=function(W,ae,be){for(var Oe=ae.attributes,F=Oe.length;F--;){var V=Oe[F].name,pe=Oe[F].value;V!=="width"&&V!=="height"&&V!=="style"&&((V==="data"||V==="src")&&(pe=W.convertURL(pe,V)),be.attr("data-mce-p-"+V,pe))}var Me=ae.firstChild&&ae.firstChild.value;Me&&(be.attr("data-mce-html",escape(Vr(W,Me))),be.firstChild=null)},Gr=function(W){var ae=W.attr("class");return ae&&/\btiny-pageembed\b/.test(ae)},da=function(W){for(;W=W.parent;)if(W.attr("data-ephox-embed-iri")||Gr(W))return!0;return!1},Ta=function(W){return function(ae){for(var be=ae.length,Oe,F;be--;)Oe=ae[be],Oe.parent&&(Oe.parent.attr("data-mce-object")||Oe.name==="script"&&(F=Tt(k(W),Oe.attr("src")),!F)||(F&&(F.width&&Oe.attr("width",F.width.toString()),F.height&&Oe.attr("height",F.height.toString())),Qr(Oe)&&vt(W)&&oa.ceFalse?da(Oe)||Oe.replace(ua(W,Oe)):da(Oe)||Oe.replace(_r(W,Oe))))}},ka=function(W){W.on("preInit",function(){var ae=W.schema.getSpecialElements();Qe.each("video audio iframe object".split(" "),function(Oe){ae[Oe]=new RegExp("</"+Oe+"[^>]*>","gi")});var be=W.schema.getBoolAttrs();Qe.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(Oe){be[Oe]={}}),W.parser.addNodeFilter("iframe,video,audio,object,embed,script",Ta(W)),W.serializer.addAttributeFilter("data-mce-object",function(Oe,F){for(var V=Oe.length,pe,Me,Re,pt,O,H,Z,U;V--;)if(pe=Oe[V],!!pe.parent){for(Z=pe.attr(F),Me=new Jr(Z,1),Z!=="audio"&&Z!=="script"&&(U=pe.attr("class"),U&&U.indexOf("mce-preview-object")!==-1?Me.attr({width:pe.firstChild.attr("width"),height:pe.firstChild.attr("height")}):Me.attr({width:pe.attr("width"),height:pe.attr("height")})),Me.attr({style:pe.attr("style")}),pt=pe.attributes,Re=pt.length;Re--;){var Ce=pt[Re].name;Ce.indexOf("data-mce-p-")===0&&Me.attr(Ce.substr(11),pt[Re].value)}Z==="script"&&Me.attr("type","text/javascript"),O=pe.attr("data-mce-html"),O&&(H=new Jr("#text",3),H.raw=!0,H.value=Vr(W,unescape(O)),Me.append(H)),pe.replace(Me)}})}),W.on("SetContent",function(){W.$("span.mce-preview-object").each(function(ae,be){var Oe=W.$(be);Oe.find("span.mce-shim").length===0&&Oe.append('<span class="mce-shim"></span>')})})},Fn=function(W){W.on("ResolveName",function(ae){var be;ae.target.nodeType===1&&(be=ae.target.getAttribute("data-mce-object"))&&(ae.name=be)})},ma=function(W){W.on("click keyup touchend",function(){var ae=W.selection.getNode();ae&&W.dom.hasClass(ae,"mce-preview-object")&&W.dom.getAttrib(ae,"data-mce-selected")&&ae.setAttribute("data-mce-selected","2")}),W.on("ObjectSelected",function(ae){var be=ae.target.getAttribute("data-mce-object");be==="script"&&ae.preventDefault()}),W.on("ObjectResized",function(ae){var be=ae.target,Oe;be.getAttribute("data-mce-object")&&(Oe=be.getAttribute("data-mce-html"),Oe&&(Oe=unescape(Oe),be.setAttribute("data-mce-html",escape(Ke(Oe,{width:String(ae.width),height:String(ae.height)})))))})},qr=function(W,ae){return function(be){return W.selection.selectorChangedWithUnbind(ae.join(","),be.setActive).unbind}},ga=function(W){W.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){W.execCommand("mceMedia")},onSetup:qr(W,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),W.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){W.execCommand("mceMedia")}})};function Ma(){mn.add("media",function(W){return sa(W),ga(W),Fn(W),ka(W),ma(W),qn(W)})}Ma()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(wt){wt.addCommand("InsertHorizontalRule",function(){wt.execCommand("mceInsertContent",!1,"<hr />")})},Nt=function(wt){wt.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return wt.execCommand("InsertHorizontalRule")}}),wt.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return wt.execCommand("InsertHorizontalRule")}})};function jt(){mn.add("hr",function(wt){Ht(wt),Nt(wt)})}jt()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(p){var T=typeof p;return p===null?"null":T==="object"&&(Array.prototype.isPrototypeOf(p)||p.constructor&&p.constructor.name==="Array")?"array":T==="object"&&(String.prototype.isPrototypeOf(p)||p.constructor&&p.constructor.name==="String")?"string":T},Nt=function(p){return function(T){return Ht(T)===p}},jt=function(p){return function(T){return typeof T===p}},wt=Nt("string"),$t=Nt("object"),Pt=Nt("array"),ut=jt("boolean"),Ye=jt("function"),gn=jt("number"),Ct=function(){},ze=function(p){return function(){return p}},Bt=function(p){return function(T){return!p(T)}},Xe=ze(!1),de=ze(!0),st=function(){return Ee},Ee=function(){var p=function(se){return se.isNone()},T=function(se){return se()},_=function(se){return se},X={fold:function(se,We){return se()},is:Xe,isSome:Xe,isNone:de,getOr:_,getOrThunk:T,getOrDie:function(se){throw new Error(se||"error: getOrDie called on none.")},getOrNull:ze(null),getOrUndefined:ze(void 0),or:_,orThunk:T,map:st,each:Ct,bind:st,exists:Xe,forall:de,filter:st,equals:p,equals_:p,toArray:function(){return[]},toString:ze("none()")};return X}(),Gt=function(p){var T=ze(p),_=function(){return se},X=function(We){return We(p)},se={fold:function(We,dn){return dn(p)},is:function(We){return p===We},isSome:de,isNone:Xe,getOr:T,getOrThunk:T,getOrDie:T,getOrNull:T,getOrUndefined:T,or:_,orThunk:_,map:function(We){return Gt(We(p))},each:function(We){We(p)},bind:X,exists:X,forall:X,filter:function(We){return We(p)?se:Ee},toArray:function(){return[p]},toString:function(){return"some("+p+")"},equals:function(We){return We.is(p)},equals_:function(We,dn){return We.fold(Xe,function(Rn){return dn(p,Rn)})}};return se},$=function(p){return p==null?Ee:Gt(p)},_e={some:Gt,none:st,from:$},nn=Array.prototype.slice,cn=Array.prototype.push,bt=function(p,T){for(var _=p.length,X=new Array(_),se=0;se<_;se++){var We=p[se];X[se]=T(We,se)}return X},Vt=function(p,T){for(var _=0,X=p.length;_<X;_++){var se=p[_];T(se,_)}},Ut=function(p,T){for(var _=[],X=0,se=p.length;X<se;X++){var We=p[X];T(We,X)&&_.push(We)}return _},qe=function(p,T){if(p.length===0)return[];for(var _=T(p[0]),X=[],se=[],We=0,dn=p.length;We<dn;We++){var Rn=p[We],zn=T(Rn);zn!==_&&(X.push(se),se=[]),_=zn,se.push(Rn)}return se.length!==0&&X.push(se),X},G=function(p,T,_){return Vt(p,function(X){_=T(_,X)}),_},k=function(p,T,_){for(var X=0,se=p.length;X<se;X++){var We=p[X];if(T(We,X))return _e.some(We);if(_(We,X))break}return _e.none()},Ue=function(p,T){return k(p,T,Xe)},St=function(p){for(var T=[],_=0,X=p.length;_<X;++_){if(!Pt(p[_]))throw new Error("Arr.flatten item "+_+" was not an array, input: "+p);cn.apply(T,p[_])}return T},vt=function(p,T){return St(bt(p,T))},Ie=function(p){var T=nn.call(p,0);return T.reverse(),T},Ve=function(p,T){return T>=0&&T<p.length?_e.some(p[T]):_e.none()},g=function(p){return Ve(p,0)},he=function(p){return Ve(p,p.length-1)},ee=function(){return ee=Object.assign||function(T){for(var _,X=1,se=arguments.length;X<se;X++){_=arguments[X];for(var We in _)Object.prototype.hasOwnProperty.call(_,We)&&(T[We]=_[We])}return T},ee.apply(this,arguments)};function Qe(){for(var p=0,T=0,_=arguments.length;T<_;T++)p+=arguments[T].length;for(var X=Array(p),se=0,T=0;T<_;T++)for(var We=arguments[T],dn=0,Rn=We.length;dn<Rn;dn++,se++)X[se]=We[dn];return X}var Qt=function(p){var T=!1,_;return function(){for(var X=[],se=0;se<arguments.length;se++)X[se]=arguments[se];return T||(T=!0,_=p.apply(null,X)),_}},Jt=function(p,T,_,X){var se=p.isiOS()&&/ipad/i.test(_)===!0,We=p.isiOS()&&!se,dn=p.isiOS()||p.isAndroid(),Rn=dn||X("(pointer:coarse)"),zn=se||!We&&dn&&X("(min-device-width:768px)"),Hn=We||dn&&!zn,$r=T.isSafari()&&p.isiOS()&&/safari/i.test(_)===!1,Xr=!Hn&&!zn&&!$r;return{isiPad:ze(se),isiPhone:ze(We),isTablet:ze(zn),isPhone:ze(Hn),isTouch:ze(Rn),isAndroid:p.isAndroid,isiOS:p.isiOS,isWebView:ze($r),isDesktop:ze(Xr)}},Tt=function(p,T){for(var _=0;_<p.length;_++){var X=p[_];if(X.test(T))return X}},Ot=function(p,T){var _=Tt(p,T);if(!_)return{major:0,minor:0};var X=function(se){return Number(T.replace(_,"$"+se))};return ne(X(1),X(2))},an=function(p,T){var _=String(T).toLowerCase();return p.length===0?kn():Ot(p,_)},kn=function(){return ne(0,0)},ne=function(p,T){return{major:p,minor:T}},Le={nu:ne,detect:an,unknown:kn},At=function(p,T){var _=String(T).toLowerCase();return Ue(p,function(X){return X.search(_)})},ke=function(p,T){return At(p,T).map(function(_){var X=Le.detect(_.versionRegexes,T);return{current:_.name,version:X}})},Y=function(p,T){return At(p,T).map(function(_){var X=Le.detect(_.versionRegexes,T);return{current:_.name,version:X}})},Se={detectBrowser:ke,detectOs:Y},z=function(p,T){return p.indexOf(T)!==-1},ge=function(p){return function(T){return T.replace(p,"")}},ve=ge(/^\s+|\s+$/g),Ke=function(p){return p.length>0},kt=function(p){return!Ke(p)},Dt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ln=function(p){return function(T){return z(T,p)}},on=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(p){return z(p,"edge/")&&z(p,"chrome")&&z(p,"safari")&&z(p,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Dt],search:function(p){return z(p,"chrome")&&!z(p,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(p){return z(p,"msie")||z(p,"trident")}},{name:"Opera",versionRegexes:[Dt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ln("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ln("firefox")},{name:"Safari",versionRegexes:[Dt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(p){return(z(p,"safari")||z(p,"mobile/"))&&z(p,"applewebkit")}}],Gn=[{name:"Windows",search:ln("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(p){return z(p,"iphone")||z(p,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ln("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ln("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ln("linux"),versionRegexes:[]},{name:"Solaris",search:ln("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ln("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ln("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Qn={browsers:ze(on),oses:ze(Gn)},Sr="Edge",rt="Chrome",$e="IE",ct="Opera",ht="Firefox",dt="Safari",Xt=function(){return Sn({current:void 0,version:Le.unknown()})},Sn=function(p){var T=p.current,_=p.version,X=function(se){return function(){return T===se}};return{current:T,version:_,isEdge:X(Sr),isChrome:X(rt),isIE:X($e),isOpera:X(ct),isFirefox:X(ht),isSafari:X(dt)}},yn={unknown:Xt,nu:Sn,edge:ze(Sr),chrome:ze(rt),ie:ze($e),opera:ze(ct),firefox:ze(ht),safari:ze(dt)},Lt="Windows",_n="iOS",Nn="Android",gr="Linux",Dr="OSX",lr="Solaris",Fr="FreeBSD",Pr="ChromeOS",ue=function(){return Ne({current:void 0,version:Le.unknown()})},Ne=function(p){var T=p.current,_=p.version,X=function(se){return function(){return T===se}};return{current:T,version:_,isWindows:X(Lt),isiOS:X(_n),isAndroid:X(Nn),isOSX:X(Dr),isLinux:X(gr),isSolaris:X(lr),isFreeBSD:X(Fr),isChromeOS:X(Pr)}},mt={unknown:ue,nu:Ne,windows:ze(Lt),ios:ze(_n),android:ze(Nn),linux:ze(gr),osx:ze(Dr),solaris:ze(lr),freebsd:ze(Fr),chromeos:ze(Pr)},rn=function(p,T){var _=Qn.browsers(),X=Qn.oses(),se=Se.detectBrowser(_,p).fold(yn.unknown,yn.nu),We=Se.detectOs(X,p).fold(mt.unknown,mt.nu),dn=Jt(We,se,p,T);return{browser:se,os:We,deviceType:dn}},Ft={detect:rn},pn=function(p){return window.matchMedia(p).matches},Ar=Qt(function(){return Ft.detect(navigator.userAgent,pn)}),Vn=function(){return Ar()},qn=function(p,T,_){return(p.compareDocumentPosition(T)&_)!==0},sa=function(p,T){return qn(p,T,Node.DOCUMENT_POSITION_CONTAINED_BY)},Jr=1,oa=function(p,T){var _=T||document,X=_.createElement("div");if(X.innerHTML=p,!X.hasChildNodes()||X.childNodes.length>1)throw console.error("HTML does not have a single root node",p),new Error("HTML must have a single root node");return Qr(X.childNodes[0])},Ea=function(p,T){var _=T||document,X=_.createElement(p);return Qr(X)},Vr=function(p,T){var _=T||document,X=_.createTextNode(p);return Qr(X)},Qr=function(p){if(p==null)throw new Error("Node cannot be null or undefined");return{dom:p}},ia=function(p,T,_){return _e.from(p.dom.elementFromPoint(T,_)).map(Qr)},Zt={fromHtml:oa,fromTag:Ea,fromText:Vr,fromDom:Qr,fromPoint:ia},Cr=function(p,T){var _=p.dom;if(_.nodeType!==Jr)return!1;var X=_;if(X.matches!==void 0)return X.matches(T);if(X.msMatchesSelector!==void 0)return X.msMatchesSelector(T);if(X.webkitMatchesSelector!==void 0)return X.webkitMatchesSelector(T);if(X.mozMatchesSelector!==void 0)return X.mozMatchesSelector(T);throw new Error("Browser lacks native selectors")},_r=function(p,T){return p.dom===T.dom},ua=function(p,T){var _=p.dom,X=T.dom;return _===X?!1:_.contains(X)},xr=function(p,T){return sa(p.dom,T.dom)},Gr=function(p,T){return Vn().browser.isIE()?xr(p,T):ua(p,T)},da=Cr,Ta=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ka=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Fn=tinymce.util.Tools.resolve("tinymce.util.VK"),ma=Object.keys,qr=function(p,T){for(var _=ma(p),X=0,se=_.length;X<se;X++){var We=_[X],dn=p[We];T(dn,We)}},ga=function(p){return function(T,_){p[_]=T}},Ma=function(p,T,_,X){var se={};return qr(p,function(We,dn){(T(We,dn)?_:X)(We,dn)}),se},W=function(p,T){var _={};return Ma(p,T,ga(_),Ct),_};typeof window!="undefined"||Function("return this;")();var ae=function(p){var T=p.dom.nodeName;return T.toLowerCase()},be=function(p){return p.dom.nodeType},Oe=function(p){return function(T){return be(T)===p}},F=Oe(Jr),V=function(p,T,_){if(wt(_)||ut(_)||gn(_))p.setAttribute(T,_+"");else throw console.error("Invalid call to Attribute.set. Key ",T,":: Value ",_,":: Element ",p),new Error("Attribute value was not simple")},pe=function(p,T){var _=p.dom;qr(T,function(X,se){V(_,se,X)})},Me=function(p){return G(p.dom.attributes,function(T,_){return T[_.name]=_.value,T},{})},Re=function(p){return _e.from(p.dom.parentNode).map(Zt.fromDom)},pt=function(p){return bt(p.dom.childNodes,Zt.fromDom)},O=function(p,T){var _=p.dom.childNodes;return _e.from(_[T]).map(Zt.fromDom)},H=function(p){return O(p,0)},Z=function(p){return O(p,p.dom.childNodes.length-1)},U=function(p,T){var _=Re(p);_.each(function(X){X.dom.insertBefore(T.dom,p.dom)})},Ce=function(p,T){p.dom.appendChild(T.dom)},Be=function(p,T){Vt(T,function(_){U(p,_)})},It=function(p,T){Vt(T,function(_){Ce(p,_)})},Kt=function(p){var T=p.dom;T.parentNode!==null&&T.parentNode.removeChild(T)},it=function(p,T){return Zt.fromDom(p.dom.cloneNode(T))},en=function(p){return it(p,!0)},Kn=function(p,T){var _=Zt.fromTag(T),X=Me(p);return pe(_,X),_},Rr=function(p,T){var _=Kn(p,T);U(p,_);var X=pt(p);return It(_,X),Kt(p),_},Wn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),er=tinymce.util.Tools.resolve("tinymce.util.Tools"),ya=function(p){return function(T){return T&&T.nodeName.toLowerCase()===p}},zr=function(p){return function(T){return T&&p.test(T.nodeName)}},K=function(p){return p&&p.nodeType===3},fe=zr(/^(OL|UL|DL)$/),Je=zr(/^(OL|UL)$/),Et=ya("ol"),Yt=zr(/^(LI|DT|DD)$/),En=zr(/^(DT|DD)$/),Er=zr(/^(TH|TD)$/),kr=ya("br"),ha=function(p){return p.parentNode.firstChild===p},ea=function(p,T){return T&&!!p.schema.getTextBlockElements()[T.nodeName]},M=function(p,T){return p&&p.nodeName in T},oe=function(p,T){return kr(T)?p.isBlock(T.nextSibling)&&!kr(T.previousSibling):!1},ce=function(p,T,_){var X=p.isEmpty(T);return _&&p.select("span[data-mce-type=bookmark]",T).length>0?!1:X},ie=function(p,T){return p.isChildOf(T,p.getRoot())},yt=function(p){return p.getParam("lists_indent_on_tab",!0)},bn=function(p){var T=p.getParam("forced_root_block","p");return T===!1?"":T===!0?"p":T},tr=function(p){return p.getParam("forced_root_block_attrs",{})},hr=function(p,T){var _=p.dom,X=p.schema.getBlockElements(),se=_.createFragment(),We=bn(p),dn,Rn,zn;if(We&&(Rn=_.create(We),Rn.tagName===We.toUpperCase()&&_.setAttribs(Rn,tr(p)),M(T.firstChild,X)||se.appendChild(Rn)),T)for(;dn=T.firstChild;){var Hn=dn.nodeName;!zn&&(Hn!=="SPAN"||dn.getAttribute("data-mce-type")!=="bookmark")&&(zn=!0),M(dn,X)?(se.appendChild(dn),Rn=null):We?(Rn||(Rn=_.create(We),se.appendChild(Rn)),Rn.appendChild(dn)):se.appendChild(dn)}return We?zn||Rn.appendChild(_.create("br",{"data-mce-bogus":"1"})):se.appendChild(_.create("br")),se},Dn=Wn.DOM,ta=function(p,T,_){var X=function(Hn){er.each(se,function($r){Hn.parentNode.insertBefore($r,_.parentNode)}),Dn.remove(Hn)},se=Dn.select('span[data-mce-type="bookmark"]',T),We=hr(p,_),dn=Dn.createRng();dn.setStartAfter(_),dn.setEndAfter(T);for(var Rn=dn.extractContents(),zn=Rn.firstChild;zn;zn=zn.firstChild)if(zn.nodeName==="LI"&&p.dom.isEmpty(zn)){Dn.remove(zn);break}p.dom.isEmpty(Rn)||Dn.insertAfter(Rn,T),Dn.insertAfter(We,T),ce(p.dom,_.parentNode)&&X(_.parentNode),Dn.remove(_),ce(p.dom,T)&&Dn.remove(T)},Hr=function(p,T){da(T,"dd")?Rr(T,"dt"):da(T,"dt")&&Re(T).each(function(_){return ta(p,_.dom,T.dom)})},Br=function(p){da(p,"dt")&&Rr(p,"dd")},ii=function(p,T,_){T==="Indent"?Vt(_,Br):Vt(_,function(X){return Hr(p,X)})},Ai=function(p,T){if(K(p))return{container:p,offset:T};var _=Ta.getNode(p,T);return K(_)?{container:_,offset:T>=p.childNodes.length?_.data.length:0}:_.previousSibling&&K(_.previousSibling)?{container:_.previousSibling,offset:_.previousSibling.data.length}:_.nextSibling&&K(_.nextSibling)?{container:_.nextSibling,offset:0}:{container:p,offset:T}},qo=function(p){var T=p.cloneRange(),_=Ai(p.startContainer,p.startOffset);T.setStart(_.container,_.offset);var X=Ai(p.endContainer,p.endOffset);return T.setEnd(X.container,X.offset),T},mu=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ar=function(p,T){var _=T||p.selection.getStart(!0);return p.dom.getParent(_,"OL,UL,DL",Kr(p,_))},gu=function(p,T){return p&&T.length===1&&T[0]===p},Ko=function(p){return er.grep(p.querySelectorAll("ol,ul,dl"),function(T){return fe(T)})},hu=function(p){var T=ar(p),_=p.selection.getSelectedBlocks();return gu(T,_)?Ko(T):er.grep(_,function(X){return fe(X)&&T!==X})},Xo=function(p,T){var _=er.map(T,function(X){var se=p.dom.getParent(X,"li,dd,dt",Kr(p,X));return se||X});return mu.unique(_)},fr=function(p){var T=p.selection.getSelectedBlocks();return er.grep(Xo(p,T),function(_){return Yt(_)})},Co=function(p){return Ut(fr(p),En)},Kr=function(p,T){var _=p.dom.getParents(T,"TD,TH"),X=_.length>0?_[0]:p.getBody();return X},Do=function(p,T){var _=p.dom.getParents(T,"ol,ul",Kr(p,T));return he(_)},Fo=function(p){var T=Do(p,p.selection.getStart()),_=Ut(p.selection.getSelectedBlocks(),Je);return T.toArray().concat(_)},_a=function(p){var T=Fo(p);return bc(p,T)},bc=function(p,T){var _=bt(T,function(X){return Do(p,X).getOr(X)});return mu.unique(_)},C=function(p,T,_){return p.isSome()&&T.isSome()?_e.some(_(p.getOrDie(),T.getOrDie())):_e.none()},j=function(p,T){var _=T||document,X=_.createDocumentFragment();return Vt(p,function(se){X.appendChild(se.dom)}),Zt.fromDom(X)},ye=function(p,T,_){return p.fire("ListMutation",{action:T,element:_})},we=function(p){return p.style!==void 0&&Ye(p.style.getPropertyValue)},nt=function(p,T,_){if(!wt(_))throw console.error("Invalid call to CSS.set. Property ",T,":: Value ",_,":: Element ",p),new Error("CSS value must be a string: "+_);we(p)&&p.style.setProperty(T,_)},b=function(p,T,_){var X=p.dom;nt(X,T,_)},P=function(p,T){Ce(p.item,T.list)},L=function(p){for(var T=1;T<p.length;T++)P(p[T-1],p[T])},te=function(p,T){C(he(p),g(T),P)},q=function(p,T){var _={list:Zt.fromTag(T,p),item:Zt.fromTag("li",p)};return Ce(_.list,_.item),_},gt=function(p,T,_){for(var X=[],se=0;se<_;se++)X.push(q(p,T.listType));return X},vn=function(p,T){for(var _=0;_<p.length-1;_++)b(p[_].item,"list-style-type","none");he(p).each(function(X){pe(X.list,T.listAttributes),pe(X.item,T.itemAttributes),It(X.item,T.content)})},Mt=function(p,T){ae(p.list)!==T.listType&&(p.list=Rr(p.list,T.listType)),pe(p.list,T.listAttributes)},or=function(p,T,_){var X=Zt.fromTag("li",p);return pe(X,T),It(X,_),X},Pn=function(p,T){Ce(p.list,T),p.item=T},Xn=function(p,T,_){var X=T.slice(0,_.depth);return he(X).each(function(se){var We=or(p,_.itemAttributes,_.content);Pn(se,We),Mt(se,_)}),X},La=function(p,T,_){var X=gt(p,_,_.depth-T.length);return L(X),vn(X,_),te(T,X),T.concat(X)},so=function(p,T){var _=G(T,function(X,se){return se.depth>X.length?La(p,X,se):Xn(p,X,se)},[]);return g(_).map(function(X){return X.list})},Ei=function(p){return da(p,"OL,UL")},lo=function(p){return H(p).map(Ei).getOr(!1)},ir=function(p){return Z(p).map(Ei).getOr(!1)},Da=function(p){return p.depth>0},Ui=function(p){return p.isSelected},pr=function(p){var T=pt(p),_=ir(p)?T.slice(0,-1):T;return bt(_,en)},fo=function(p,T,_){return Re(p).filter(F).map(function(X){return{depth:T,dirty:!1,isSelected:_,content:pr(p),itemAttributes:Me(p),listAttributes:Me(X),listType:ae(X)}})},Af=function(p,T){switch(p){case"Indent":T.depth++;break;case"Outdent":T.depth--;break;case"Flatten":T.depth=0}T.dirty=!0},ja=function(p,T){p.listType=T.listType,p.listAttributes=ee({},T.listAttributes)},zd=function(p){p.listAttributes=W(p.listAttributes,function(T,_){return _!=="start"})},me=function(p,T){var _=p[T].depth,X=function(We){return We.depth===_&&!We.dirty},se=function(We){return We.depth<_};return k(Ie(p.slice(0,T)),X,se).orThunk(function(){return k(p.slice(T+1),X,se)})},Po=function(p){return Vt(p,function(T,_){me(p,_).fold(function(){T.dirty&&zd(T)},function(X){return ja(T,X)})}),p},Mi=function(p){var T=p,_=function(){return T},X=function(se){T=se};return{get:_,set:X}},pu=function(p,T,_,X){return H(X).filter(Ei).fold(function(){T.each(function(dn){_r(dn.start,X)&&_.set(!0)});var se=fo(X,p,_.get());T.each(function(dn){_r(dn.end,X)&&_.set(!1)});var We=Z(X).filter(Ei).map(function(dn){return vo(p,T,_,dn)}).getOr([]);return se.toArray().concat(We)},function(se){return vo(p,T,_,se)})},vo=function(p,T,_,X){return vt(pt(X),function(se){var We=Ei(se)?vo:pu,dn=p+1;return We(dn,T,_,se)})},br=function(p,T){var _=Mi(!1),X=0;return bt(p,function(se){return{sourceList:se,entries:vo(X,T,_,se)}})},Nr=function(p,T){var _=Po(T);return bt(_,function(X){var se=j(X.content);return Zt.fromDom(hr(p,se.dom))})},$a=function(p,T){var _=Po(T);return so(p.contentDocument,_).toArray()},Wi=function(p,T){return vt(qe(T,Da),function(_){var X=g(_).map(Da).getOr(!1);return X?$a(p,_):Nr(p,_)})},mi=function(p,T){Vt(Ut(p,Ui),function(_){return Af(T,_)})},Oa=function(p){var T=bt(fr(p),Zt.fromDom);return C(Ue(T,Bt(lo)),Ue(Ie(T),Bt(lo)),function(_,X){return{start:_,end:X}})},xt=function(p,T,_){var X=br(T,Oa(p));Vt(X,function(se){mi(se.entries,_);var We=Wi(p,se.entries);Vt(We,function(dn){ye(p,_==="Indent"?"IndentList":"OutdentList",dn.dom)}),Be(se.sourceList,We),Kt(se.sourceList)})},as=function(p,T){var _=bt(_a(p),Zt.fromDom),X=bt(Co(p),Zt.fromDom),se=!1;if(_.length||X.length){var We=p.selection.getBookmark();xt(p,_,T),ii(p,T,X),p.selection.moveToBookmark(We),p.selection.setRng(qo(p.selection.getRng())),p.nodeChanged(),se=!0}return se},bu=function(p){return as(p,"Indent")},os=function(p){return as(p,"Outdent")},ji=function(p){return as(p,"Flatten")},Ra=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Rt=Wn.DOM,zo=function(p){var T={},_=function(X){var se,We,dn;We=p[X?"startContainer":"endContainer"],dn=p[X?"startOffset":"endOffset"],We.nodeType===1&&(se=Rt.create("span",{"data-mce-type":"bookmark"}),We.hasChildNodes()?(dn=Math.min(dn,We.childNodes.length-1),X?We.insertBefore(se,We.childNodes[dn]):Rt.insertAfter(se,We.childNodes[dn])):We.appendChild(se),We=se,dn=0),T[X?"startContainer":"endContainer"]=We,T[X?"startOffset":"endOffset"]=dn};return _(!0),p.collapsed||_(),T},Nu=function(p){var T=function(X){var se,We,dn,Rn=function(zn){for(var Hn=zn.parentNode.firstChild,$r=0;Hn;){if(Hn===zn)return $r;(Hn.nodeType!==1||Hn.getAttribute("data-mce-type")!=="bookmark")&&$r++,Hn=Hn.nextSibling}return-1};se=dn=p[X?"startContainer":"endContainer"],We=p[X?"startOffset":"endOffset"],se&&(se.nodeType===1&&(We=Rn(se),se=se.parentNode,Rt.remove(dn),!se.hasChildNodes()&&Rt.isBlock(se)&&se.appendChild(Rt.create("br"))),p[X?"startContainer":"endContainer"]=se,p[X?"startOffset":"endOffset"]=We)};T(!0),T();var _=Rt.createRng();return _.setStart(p.startContainer,p.startOffset),p.endContainer&&_.setEnd(p.endContainer,p.endOffset),qo(_)},Bo=function(p){switch(p){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},_i=function(p){return/\btox\-/.test(p.className)},is=function(p,T,_){var X=function(We){var dn=k(We.parents,fe,Er).filter(function(Rn){return Rn.nodeName===T&&!_i(Rn)}).isSome();_(dn)},se=p.dom.getParents(p.selection.getNode());return X({parents:se}),p.on("NodeChange",X),function(){return p.off("NodeChange",X)}},gi=function(p,T,_){var X=_["list-style-type"]?_["list-style-type"]:null;p.setStyle(T,"list-style-type",X)},Gi=function(p,T){er.each(T,function(_,X){p.setAttribute(X,_)})},Ef=function(p,T,_){Gi(T,_["list-attributes"]),er.each(p.select("li",T),function(X){Gi(X,_["list-item-attributes"])})},us=function(p,T,_){gi(p,T,_),Ef(p,T,_)},cs=function(p,T,_){er.each(_,function(X){var se;return p.setStyle(T,(se={},se[X]="",se))})},yu=function(p,T,_,X){var se=T[_?"startContainer":"endContainer"],We=T[_?"startOffset":"endOffset"];for(se.nodeType===1&&(se=se.childNodes[Math.min(We,se.childNodes.length-1)]||se),!_&&kr(se.nextSibling)&&(se=se.nextSibling);se.parentNode!==X;){if(ea(p,se)||/^(TD|TH)$/.test(se.parentNode.nodeName))return se;se=se.parentNode}return se},il=function(p,T,_){for(var X=[],se=p.dom,We=yu(p,T,!0,_),dn=yu(p,T,!1,_),Rn,zn=[],Hn=We;Hn&&(zn.push(Hn),Hn!==dn);Hn=Hn.nextSibling);return er.each(zn,function($r){if(ea(p,$r)){X.push($r),Rn=null;return}if(se.isBlock($r)||kr($r)){kr($r)&&se.remove($r),Rn=null;return}var Xr=$r.nextSibling;if(Ra.isBookmarkNode($r)&&(fe(Xr)||ea(p,Xr)||!Xr&&$r.parentNode===_)){Rn=null;return}Rn||(Rn=se.create("p"),$r.parentNode.insertBefore(Rn,$r),X.push(Rn)),Rn.appendChild($r)}),X},Fa=function(p,T,_){var X=p.getStyle(T,"list-style-type"),se=_?_["list-style-type"]:"";return se=se===null?"":se,X===se},Vu=function(p,T,_){var X=p.selection.getRng(),se="LI",We=Kr(p,p.selection.getStart(!0)),dn=p.dom;if(dn.getContentEditable(p.selection.getNode())!=="false"){T=T.toUpperCase(),T==="DL"&&(se="DT");var Rn=zo(X),zn=il(p,X,We);er.each(zn,function(Hn){var $r,Xr=Hn.previousSibling,If=Hn.parentNode;Yt(If)||(Xr&&fe(Xr)&&Xr.nodeName===T&&Fa(dn,Xr,_)?($r=Xr,Hn=dn.rename(Hn,se),Xr.appendChild(Hn)):($r=dn.create(T),Hn.parentNode.insertBefore($r,Hn),$r.appendChild(Hn),Hn=dn.rename(Hn,se)),cs(dn,Hn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),us(dn,$r,_),Zr(p.dom,$r))}),p.selection.setRng(Nu(Rn))}},Bd=function(p,T){return p&&T&&fe(p)&&p.nodeName===T.nodeName},ul=function(p,T,_){var X=p.getStyle(T,"list-style-type",!0),se=p.getStyle(_,"list-style-type",!0);return X===se},qi=function(p,T){return p.className===T.className},Yo=function(p,T,_){return Bd(T,_)&&ul(p,T,_)&&qi(T,_)},Zr=function(p,T){var _,X;if(_=T.nextSibling,Yo(p,T,_)){for(;X=_.firstChild;)T.appendChild(X);p.remove(_)}if(_=T.previousSibling,Yo(p,T,_)){for(;X=_.lastChild;)T.insertBefore(X,T.firstChild);p.remove(_)}},cl=function(p,T,_,X){if(T.nodeName!==_){var se=p.dom.rename(T,_);us(p.dom,se,X),ye(p,Bo(_),se)}else us(p.dom,T,X),ye(p,Bo(_),T)},sl=function(p,T,_,X,se){var We=fe(T);if(We&&T.nodeName===X&&!ss(se))ji(p);else{Vu(p,X,se);var dn=zo(p.selection.getRng(!0)),Rn=We?Qe([T],_):_;er.each(Rn,function(zn){cl(p,zn,X,se)}),p.selection.setRng(Nu(dn))}},ss=function(p){return"list-style-type"in p},Mf=function(p,T,_,X){if(T!==p.getBody())if(T)if(T.nodeName===_&&!ss(X)&&!_i(T))ji(p);else{var se=zo(p.selection.getRng(!0));us(p.dom,T,X);var We=p.dom.rename(T,_);Zr(p.dom,We),p.selection.setRng(Nu(se)),Vu(p,_,X),ye(p,Bo(_),We)}else Vu(p,_,X),ye(p,Bo(_),T)},yc=function(p,T,_){var X=ar(p),se=hu(p),We=$t(_)?_:{};se.length>0?sl(p,X,se,T,We):Mf(p,X,T,We)},ll=Wn.DOM,ls=function(p,T){var _,X=T.parentNode;X.nodeName==="LI"&&X.firstChild===T&&(_=X.previousSibling,_&&_.nodeName==="LI"?(_.appendChild(T),ce(p,X)&&ll.remove(X)):ll.setStyle(X,"listStyleType","none")),fe(X)&&(_=X.previousSibling,_&&_.nodeName==="LI"&&_.appendChild(T))},fl=function(p,T){er.each(er.grep(p.select("ol,ul",T)),function(_){ls(p,_)})},Uu=function(p,T,_,X){var se=T.startContainer,We=T.startOffset;if(K(se)&&(_?We<se.data.length:We>0))return se;var dn=p.schema.getNonEmptyElements();se.nodeType===1&&(se=Ta.getNode(se,We));var Rn=new ka(se,X);for(_&&oe(p.dom,se)&&Rn.next();se=Rn[_?"next":"prev2"]();)if(se.nodeName==="LI"&&!se.hasChildNodes()||dn[se.nodeName]||K(se)&&se.data.length>0)return se},fs=function(p,T){var _=T.childNodes;return _.length===1&&!fe(_[0])&&p.isBlock(_[0])},vl=function(p,T){fs(p,T)&&p.remove(T.firstChild,!0)},Jo=function(p,T,_){var X,se=fs(p,_)?_.firstChild:_;if(vl(p,T),!ce(p,T,!0))for(;X=T.firstChild;)se.appendChild(X)},Ga=function(p,T,_){var X,se=T.parentNode;if(!(!ie(p,T)||!ie(p,_))){fe(_.lastChild)&&(X=_.lastChild),se===_.lastChild&&kr(se.previousSibling)&&p.remove(se.previousSibling);var We=_.lastChild;We&&kr(We)&&T.hasChildNodes()&&p.remove(We),ce(p,_,!0)&&p.$(_).empty(),Jo(p,T,_),X&&_.appendChild(X);var dn=Gr(Zt.fromDom(_),Zt.fromDom(T)),Rn=dn?p.getParents(T,fe,_):[];p.remove(T),Vt(Rn,function(zn){ce(p,zn)&&zn!==p.getRoot()&&p.remove(zn)})}},$o=function(p,T,_){p.dom.$(_).empty(),Ga(p.dom,T,_),p.selection.setCursorLocation(_,0)},Na=function(p,T,_,X){var se=p.dom;if(se.isEmpty(X))$o(p,_,X);else{var We=zo(T);Ga(se,_,X),p.selection.setRng(Nu(We))}},wc=function(p,T,_,X){var se=zo(T);Ga(p.dom,_,X);var We=Nu(se);p.selection.setRng(We)},_f=function(p,T){var _=p.dom,X=p.selection,se=X.getStart(),We=Kr(p,se),dn=_.getParent(X.getStart(),"LI",We);if(dn){var Rn=dn.parentNode;if(Rn===p.getBody()&&ce(_,Rn))return!0;var zn=qo(X.getRng()),Hn=_.getParent(Uu(p,zn,T,We),"LI",We);if(Hn&&Hn!==dn)return p.undoManager.transact(function(){T?Na(p,zn,Hn,dn):ha(dn)?os(p):wc(p,zn,dn,Hn)}),!0;if(!Hn&&!T&&zn.startOffset===0&&zn.endOffset===0)return p.undoManager.transact(function(){ji(p)}),!0}return!1},Ki=function(p,T,_){var X=p.getParent(T.parentNode,p.isBlock,_);p.remove(T),X&&p.isEmpty(X)&&p.remove(X)},vs=function(p,T){var _=p.dom,X=p.selection.getStart(),se=Kr(p,X),We=_.getParent(X,_.isBlock,se);if(We&&_.isEmpty(We)){var dn=qo(p.selection.getRng()),Rn=_.getParent(Uu(p,dn,T,se),"LI",se);if(Rn)return p.undoManager.transact(function(){Ki(_,We,se),Zr(_,Rn.parentNode),p.selection.select(Rn,!0),p.selection.collapse(T)}),!0}return!1},$d=function(p,T){return _f(p,T)||vs(p,T)},Df=function(p){var T=p.selection.getStart(),_=Kr(p,T),X=p.dom.getParent(T,"LI,DT,DD",_);return X||fr(p).length>0?(p.undoManager.transact(function(){p.execCommand("Delete"),fl(p.dom,p.getBody())}),!0):!1},xc=function(p,T){return p.selection.isCollapsed()?$d(p,T):Df(p)},Rd=function(p){p.on("keydown",function(T){T.keyCode===Fn.BACKSPACE?xc(p,!1)&&T.preventDefault():T.keyCode===Fn.DELETE&&xc(p,!0)&&T.preventDefault()})},Ff=function(p){return{backspaceDelete:function(T){xc(p,T)}}},Hd=function(p,T){var _=ar(p);p.undoManager.transact(function(){$t(T.styles)&&p.dom.setStyles(_,T.styles),$t(T.attrs)&&qr(T.attrs,function(X,se){return p.dom.setAttrib(_,se,X)})})},Pf=function(p){var T=Ie(ve(p).split("")),_=bt(T,function(X,se){var We=X.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,se)*We});return G(_,function(X,se){return X+se},0)},Ro=function(p){if(p--,p<0)return"";var T=p%26,_=Math.floor(p/26),X=Ro(_),se=String.fromCharCode("A".charCodeAt(0)+T);return X+se},Id=function(p){return/^[A-Z]+$/.test(p)},Ld=function(p){return/^[a-z]+$/.test(p)},In=function(p){return/^[0-9]+$/.test(p)},zf=function(p){return In(p)?2:Id(p)?0:Ld(p)?1:kt(p)?3:4},ds=function(p){switch(zf(p)){case 2:return _e.some({listStyleType:_e.none(),start:p});case 0:return _e.some({listStyleType:_e.some("upper-alpha"),start:Pf(p).toString()});case 1:return _e.some({listStyleType:_e.some("lower-alpha"),start:Pf(p).toString()});case 3:return _e.some({listStyleType:_e.none(),start:""});case 4:return _e.none()}},Bf=function(p){var T=parseInt(p.start,10);return p.listStyleType.is("upper-alpha")?Ro(T):p.listStyleType.is("lower-alpha")?Ro(T).toLowerCase():p.start},$f=function(p){var T=ar(p);!Et(T)||p.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Bf({start:p.dom.getAttrib(T,"start","1"),listStyleType:_e.some(p.dom.getStyle(T,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(_){var X=_.getData();ds(X.start).each(function(se){p.execCommand("mceListUpdate",!1,{attrs:{start:se.start==="1"?"":se.start},styles:{"list-style-type":se.listStyleType.getOr("")}})}),_.close()}})},Sc=function(p,T){return function(){var _=ar(p);return _&&_.nodeName===T}},Rf=function(p){p.addCommand("mceListProps",function(){$f(p)})},Nd=function(p){p.on("BeforeExecCommand",function(T){var _=T.command.toLowerCase();_==="indent"?bu(p):_==="outdent"&&os(p)}),p.addCommand("InsertUnorderedList",function(T,_){yc(p,"UL",_)}),p.addCommand("InsertOrderedList",function(T,_){yc(p,"OL",_)}),p.addCommand("InsertDefinitionList",function(T,_){yc(p,"DL",_)}),p.addCommand("RemoveList",function(){ji(p)}),Rf(p),p.addCommand("mceListUpdate",function(T,_){$t(_)&&Hd(p,_)}),p.addQueryStateHandler("InsertUnorderedList",Sc(p,"UL")),p.addQueryStateHandler("InsertOrderedList",Sc(p,"OL")),p.addQueryStateHandler("InsertDefinitionList",Sc(p,"DL"))},wa=function(p){p.on("keydown",function(T){T.keyCode!==Fn.TAB||Fn.metaKeyPressed(T)||p.undoManager.transact(function(){(T.shiftKey?os(p):bu(p))&&T.preventDefault()})})},Hf=function(p){yt(p)&&wa(p),Rd(p)},Vd=function(p){var T=function(_){return function(){return p.execCommand(_)}};p.hasPlugin("advlist")||(p.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:T("InsertOrderedList"),onSetup:function(_){return is(p,"OL",_.setActive)}}),p.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:T("InsertUnorderedList"),onSetup:function(_){return is(p,"UL",_.setActive)}}))},ms=function(p){var T={text:"List properties...",icon:"ordered-list",onAction:function(){return p.execCommand("mceListProps")},onSetup:function(_){return is(p,"OL",function(X){return _.setDisabled(!X)})}};p.ui.registry.addMenuItem("listprops",T),p.ui.registry.addContextMenu("lists",{update:function(_){var X=ar(p,_);return Et(X)?["listprops"]:[]}})};function gs(){mn.add("lists",function(p){return p.hasPlugin("rtc",!0)===!1?(Hf(p),Nd(p)):Rf(p),Vd(p),ms(p),Ff(p)})}gs()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(k,Ue,St){var vt=Ue==="UL"?"InsertUnorderedList":"InsertOrderedList";k.execCommand(vt,!1,St===!1?null:{"list-style-type":St})},Nt=function(k){k.addCommand("ApplyUnorderedListStyle",function(Ue,St){Ht(k,"UL",St["list-style-type"])}),k.addCommand("ApplyOrderedListStyle",function(Ue,St){Ht(k,"OL",St["list-style-type"])})},jt=tinymce.util.Tools.resolve("tinymce.util.Tools"),wt=function(k){var Ue=k.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return Ue?Ue.split(/[ ,]/):[]},$t=function(k){var Ue=k.getParam("advlist_bullet_styles","default,circle,square");return Ue?Ue.split(/[ ,]/):[]},Pt=function(){},ut=function(k){return function(){return k}},Ye=ut(!1),gn=ut(!0),Ct=function(){return ze},ze=function(){var k=function(Ie){return Ie.isNone()},Ue=function(Ie){return Ie()},St=function(Ie){return Ie},vt={fold:function(Ie,Ve){return Ie()},is:Ye,isSome:Ye,isNone:gn,getOr:St,getOrThunk:Ue,getOrDie:function(Ie){throw new Error(Ie||"error: getOrDie called on none.")},getOrNull:ut(null),getOrUndefined:ut(void 0),or:St,orThunk:Ue,map:Ct,each:Pt,bind:Ct,exists:Ye,forall:gn,filter:Ct,equals:k,equals_:k,toArray:function(){return[]},toString:ut("none()")};return vt}(),Bt=function(k){var Ue=ut(k),St=function(){return Ie},vt=function(Ve){return Ve(k)},Ie={fold:function(Ve,g){return g(k)},is:function(Ve){return k===Ve},isSome:gn,isNone:Ye,getOr:Ue,getOrThunk:Ue,getOrDie:Ue,getOrNull:Ue,getOrUndefined:Ue,or:St,orThunk:St,map:function(Ve){return Bt(Ve(k))},each:function(Ve){Ve(k)},bind:vt,exists:vt,forall:vt,filter:function(Ve){return Ve(k)?Ie:ze},toArray:function(){return[k]},toString:function(){return"some("+k+")"},equals:function(Ve){return Ve.is(k)},equals_:function(Ve,g){return Ve.fold(Ye,function(he){return g(k,he)})}};return Ie},Xe=function(k){return k==null?ze:Bt(k)},de={some:Bt,none:Ct,from:Xe},st=function(k,Ue){return k.$.contains(k.getBody(),Ue)},Ee=function(k){return k&&/^(TH|TD)$/.test(k.nodeName)},Gt=function(k){return function(Ue){return Ue&&/^(OL|UL|DL)$/.test(Ue.nodeName)&&st(k,Ue)}},$=function(k){var Ue=k.dom.getParent(k.selection.getNode(),"ol,ul"),St=k.dom.getStyle(Ue,"listStyleType");return de.from(St)},_e=function(k,Ue){for(var St=0;St<k.length;St++){var vt=k[St];if(Ue(vt))return St}return-1},nn=function(k){return k.replace(/\-/g," ").replace(/\b\w/g,function(Ue){return Ue.toUpperCase()})},cn=function(k,Ue,St){var vt=_e(Ue.parents,Ee),Ie=vt!==-1?Ue.parents.slice(0,vt):Ue.parents,Ve=jt.grep(Ie,Gt(k));return Ve.length>0&&Ve[0].nodeName===St},bt=function(k,Ue,St,vt,Ie,Ve){k.ui.registry.addSplitButton(Ue,{tooltip:St,icon:Ie==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(g){var he=jt.map(Ve,function(ee){var Qe=Ie==="OL"?"num":"bull",Qt=ee==="disc"||ee==="decimal"?"default":ee,Jt=ee==="default"?"":ee,Tt=nn(ee);return{type:"choiceitem",value:Jt,icon:"list-"+Qe+"-"+Qt,text:Tt}});g(he)},onAction:function(){return k.execCommand(vt)},onItemAction:function(g,he){Ht(k,Ie,he)},select:function(g){var he=$(k);return he.map(function(ee){return g===ee}).getOr(!1)},onSetup:function(g){var he=function(ee){g.setActive(cn(k,ee,Ie))};return k.on("NodeChange",he),function(){return k.off("NodeChange",he)}}})},Vt=function(k,Ue,St,vt,Ie,Ve){k.ui.registry.addToggleButton(Ue,{active:!1,tooltip:St,icon:Ie==="OL"?"ordered-list":"unordered-list",onSetup:function(g){var he=function(ee){g.setActive(cn(k,ee,Ie))};return k.on("NodeChange",he),function(){return k.off("NodeChange",he)}},onAction:function(){return k.execCommand(vt)}})},Ut=function(k,Ue,St,vt,Ie,Ve){Ve.length>1?bt(k,Ue,St,vt,Ie,Ve):Vt(k,Ue,St,vt,Ie)},qe=function(k){Ut(k,"numlist","Numbered list","InsertOrderedList","OL",wt(k)),Ut(k,"bullist","Bullet list","InsertUnorderedList","UL",$t(k))};function G(){mn.add("advlist",function(k){k.hasPlugin("lists")?(qe(k),Nt(k)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}G()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Nt=tinymce.util.Tools.resolve("tinymce.util.Tools"),jt=function(k){return k.getParam("allow_html_in_named_anchor",!1,"boolean")},wt="a:not([href])",$t=function(k){return!k},Pt=function(k){var Ue=k.getAttribute("id")||k.getAttribute("name");return Ue||""},ut=function(k){return k&&k.nodeName.toLowerCase()==="a"},Ye=function(k){return ut(k)&&!k.getAttribute("href")&&Pt(k)!==""},gn=function(k){return Ye(k)&&!k.firstChild},Ct=function(k){var Ue=k.dom;Ht(Ue).walk(k.selection.getRng(),function(St){Nt.each(St,function(vt){gn(vt)&&Ue.remove(vt,!1)})})},ze=function(k){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(k)},Bt=function(k){return k.dom.getParent(k.selection.getStart(),wt)},Xe=function(k){var Ue=Bt(k);return Ue?Pt(Ue):""},de=function(k,Ue){k.undoManager.transact(function(){jt(k)||k.selection.collapse(!0),k.selection.isCollapsed()?k.insertContent(k.dom.createHTML("a",{id:Ue})):(Ct(k),k.formatter.remove("namedAnchor",null,null,!0),k.formatter.apply("namedAnchor",{value:Ue}),k.addVisual())})},st=function(k,Ue,St){St.removeAttribute("name"),St.id=Ue,k.addVisual(),k.undoManager.add()},Ee=function(k,Ue){var St=Bt(k);St?st(k,Ue,St):de(k,Ue),k.focus()},Gt=function(k,Ue){return ze(Ue)?(Ee(k,Ue),!0):(k.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},$=function(k){var Ue=Xe(k);k.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Ue},onSubmit:function(St){Gt(k,St.getData().id)&&St.close()}})},_e=function(k){k.addCommand("mceAnchor",function(){$(k)})},nn=function(k){return k&&$t(k.attr("href"))&&!$t(k.attr("id")||k.attr("name"))},cn=function(k){return nn(k)&&!k.firstChild},bt=function(k){return function(Ue){for(var St=0;St<Ue.length;St++){var vt=Ue[St];cn(vt)&&vt.attr("contenteditable",k)}}},Vt=function(k){k.on("PreInit",function(){k.parser.addNodeFilter("a",bt("false")),k.serializer.addNodeFilter("a",bt(null))})},Ut=function(k){k.formatter.register("namedAnchor",{inline:"a",selector:wt,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(Ue,St,vt){return Ye(Ue)}})},qe=function(k){k.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return k.execCommand("mceAnchor")},onSetup:function(Ue){return k.selection.selectorChangedWithUnbind("a:not([href])",Ue.setActive).unbind}}),k.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return k.execCommand("mceAnchor")}})};function G(){mn.add("anchor",function(k){Vt(k),_e(k),qe(k),k.on("PreInit",function(){Ut(k)})})}G()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(Y,Se){return Y.fire("insertCustomChar",{chr:Se})},Nt=function(Y,Se){var z=Ht(Y,Se).chr;Y.execCommand("mceInsertContent",!1,z)},jt=function(Y){var Se=typeof Y;return Y===null?"null":Se==="object"&&(Array.prototype.isPrototypeOf(Y)||Y.constructor&&Y.constructor.name==="Array")?"array":Se==="object"&&(String.prototype.isPrototypeOf(Y)||Y.constructor&&Y.constructor.name==="String")?"string":Se},wt=function(Y){return function(Se){return jt(Se)===Y}},$t=wt("array"),Pt=function(){},ut=function(Y){return function(){return Y}},Ye=ut(!1),gn=ut(!0),Ct=function(){return ze},ze=function(){var Y=function(ve){return ve.isNone()},Se=function(ve){return ve()},z=function(ve){return ve},ge={fold:function(ve,Ke){return ve()},is:Ye,isSome:Ye,isNone:gn,getOr:z,getOrThunk:Se,getOrDie:function(ve){throw new Error(ve||"error: getOrDie called on none.")},getOrNull:ut(null),getOrUndefined:ut(void 0),or:z,orThunk:Se,map:Ct,each:Pt,bind:Ct,exists:Ye,forall:gn,filter:Ct,equals:Y,equals_:Y,toArray:function(){return[]},toString:ut("none()")};return ge}(),Bt=function(Y){var Se=ut(Y),z=function(){return ve},ge=function(Ke){return Ke(Y)},ve={fold:function(Ke,kt){return kt(Y)},is:function(Ke){return Y===Ke},isSome:gn,isNone:Ye,getOr:Se,getOrThunk:Se,getOrDie:Se,getOrNull:Se,getOrUndefined:Se,or:z,orThunk:z,map:function(Ke){return Bt(Ke(Y))},each:function(Ke){Ke(Y)},bind:ge,exists:ge,forall:ge,filter:function(Ke){return Ke(Y)?ve:ze},toArray:function(){return[Y]},toString:function(){return"some("+Y+")"},equals:function(Ke){return Ke.is(Y)},equals_:function(Ke,kt){return Ke.fold(Ye,function(Dt){return kt(Y,Dt)})}};return ve},Xe=function(Y){return Y==null?ze:Bt(Y)},de={some:Bt,none:Ct,from:Xe},st=Array.prototype.push,Ee=function(Y,Se){for(var z=Y.length,ge=new Array(z),ve=0;ve<z;ve++){var Ke=Y[ve];ge[ve]=Se(Ke,ve)}return ge},Gt=function(Y,Se){for(var z=0,ge=Y.length;z<ge;z++){var ve=Y[z];Se(ve,z)}},$=function(Y,Se,z){for(var ge=0,ve=Y.length;ge<ve;ge++){var Ke=Y[ge];if(Se(Ke,ge))return de.some(Ke);if(z(Ke,ge))break}return de.none()},_e=function(Y,Se){return $(Y,Se,Ye)},nn=function(Y){for(var Se=[],z=0,ge=Y.length;z<ge;++z){if(!$t(Y[z]))throw new Error("Arr.flatten item "+z+" was not an array, input: "+Y);st.apply(Se,Y[z])}return Se},cn=function(Y,Se){return nn(Ee(Y,Se))},bt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Vt=function(Y){return Y.getParam("charmap")},Ut=function(Y){return Y.getParam("charmap_append")},qe=bt.isArray,G="User Defined",k=function(){return[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]},Ue=function(Y){return bt.grep(Y,function(Se){return qe(Se)&&Se.length===2})},St=function(Y){return qe(Y)?[].concat(Ue(Y)):typeof Y=="function"?Y():[]},vt=function(Y,Se){var z=Vt(Y);z&&(Se=[{name:G,characters:St(z)}]);var ge=Ut(Y);if(ge){var ve=bt.grep(Se,function(Ke){return Ke.name===G});return ve.length?(ve[0].characters=[].concat(ve[0].characters).concat(St(ge)),Se):[].concat(Se).concat({name:G,characters:St(ge)})}return Se},Ie=function(Y){var Se=vt(Y,k());return Se.length>1?[{name:"All",characters:cn(Se,function(z){return z.characters})}].concat(Se):Se},Ve=function(Y){var Se=function(){return Ie(Y)},z=function(ge){Nt(Y,ge)};return{getCharMap:Se,insertChar:z}},g=function(Y){var Se=Y,z=function(){return Se},ge=function(ve){Se=ve};return{get:z,set:ge}},he=function(Y,Se){var z=null,ge=function(){z!==null&&(clearTimeout(z),z=null)},ve=function(){for(var Ke=[],kt=0;kt<arguments.length;kt++)Ke[kt]=arguments[kt];z!==null&&clearTimeout(z),z=setTimeout(function(){Y.apply(null,Ke),z=null},Se)};return{cancel:ge,throttle:ve}},ee=String.fromCodePoint,Qe=function(Y,Se){return Y.indexOf(Se)!==-1},Qt=function(){for(var Y=[],Se=0;Se<arguments.length;Se++)Y[Se]=arguments[Se];if(ee)return ee.apply(void 0,Y);for(var z=[],ge=0,ve="",Ke=0,kt=Y.length;Ke!==kt;++Ke){var Dt=+Y[Ke];if(!(Dt<1114111&&Dt>>>0===Dt))throw RangeError("Invalid code point: "+Dt);Dt<=65535?ge=z.push(Dt):(Dt-=65536,ge=z.push((Dt>>10)+55296,Dt%1024+56320)),ge>=16383&&(ve+=String.fromCharCode.apply(null,z),z.length=0)}return ve+String.fromCharCode.apply(null,z)},Jt=function(Y,Se,z){return Qe(Qt(Y).toLowerCase(),z)?!0:Qe(Se.toLowerCase(),z)||Qe(Se.toLowerCase().replace(/\s+/g,""),z)},Tt=function(Y,Se){var z=[],ge=Se.toLowerCase();return Gt(Y.characters,function(ve){Jt(ve[0],ve[1],ge)&&z.push(ve)}),Ee(z,function(ve){return{text:ve[1],value:Qt(ve[0]),icon:Qt(ve[0])}})},Ot="pattern",an=function(Y,Se){var z=function(){return[{label:"Search",type:"input",name:Ot},{type:"collection",name:"results"}]},ge=function(){return Ee(Se,function($e){return{title:$e.name,name:$e.name,items:z()}})},ve=function(){return{type:"panel",items:z()}},Ke=function(){return{type:"tabpanel",tabs:ge()}},kt=Se.length===1?g(G):g("All"),Dt=function($e,ct){_e(Se,function(ht){return ht.name===kt.get()}).each(function(ht){var dt=Tt(ht,ct);$e.setData({results:dt})})},ln=40,on=he(function($e){var ct=$e.getData().pattern;Dt($e,ct)},ln),Gn=Se.length===1?ve():Ke(),Qn={pattern:"",results:Tt(Se[0],"")},Sr={title:"Special Character",size:"normal",body:Gn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Qn,onAction:function($e,ct){ct.name==="results"&&(Nt(Y,ct.value),$e.close())},onTabChange:function($e,ct){kt.set(ct.newTabName),on.throttle($e)},onChange:function($e,ct){ct.name===Ot&&on.throttle($e)}},rt=Y.windowManager.open(Sr);rt.focus(Ot)},kn=function(Y,Se){Y.addCommand("mceShowCharmap",function(){an(Y,Se)})},ne=tinymce.util.Tools.resolve("tinymce.util.Promise"),Le=function(Y,Se){Y.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(z,ge){return new ne(function(ve,Ke){ve(Tt(Se,z))})},onAction:function(z,ge,ve){Y.selection.setRng(ge),Y.insertContent(ve),z.hide()}})},At=function(Y){Y.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return Y.execCommand("mceShowCharmap")}}),Y.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return Y.execCommand("mceShowCharmap")}})};function ke(){mn.add("charmap",function(Y){var Se=Ie(Y);return kn(Y,Se),At(Y),Le(Y,Se[0]),Ve(Y)})}ke()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=tinymce.util.Tools.resolve("tinymce.Env"),Nt=function($t){$t.addCommand("mcePrint",function(){Ht.browser.isIE()?$t.getDoc().execCommand("print",!1,null):$t.getWin().print()})},jt=function($t){$t.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:function(){return $t.execCommand("mcePrint")}}),$t.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:function(){return $t.execCommand("mcePrint")}})};function wt(){mn.add("print",function($t){Nt($t),jt($t),$t.addShortcut("Meta+P","","mcePrint")})}wt()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=tinymce.util.Tools.resolve("tinymce.Env"),Nt=tinymce.util.Tools.resolve("tinymce.util.Tools"),jt=function(de){return de.getParam("content_style","","string")},wt=function(de){return de.getParam("content_css_cors",!1,"boolean")},$t=function(de){var st=de.getParam("body_class","","hash");return st[de.id]||""},Pt=function(de){var st=de.getParam("body_class","","string");return st.indexOf("=")===-1?st:$t(de)},ut=function(de){var st=de.getParam("body_id","","hash");return st[de.id]||st},Ye=function(de){var st=de.getParam("body_id","tinymce","string");return st.indexOf("=")===-1?st:ut(de)},gn=function(de){var st="",Ee=de.dom.encode,Gt=jt(de);st+='<base href="'+Ee(de.documentBaseURI.getURI())+'">';var $=wt(de)?' crossorigin="anonymous"':"";Nt.each(de.contentCSS,function(G){st+='<link type="text/css" rel="stylesheet" href="'+Ee(de.documentBaseURI.toAbsolute(G))+'"'+$+">"}),Gt&&(st+='<style type="text/css">'+Gt+"</style>");var _e=Ye(de),nn=Pt(de),cn=Ht.mac?"e.metaKey":"e.ctrlKey && !e.altKey",bt='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+cn+")) {e.preventDefault();}}}, false);<\/script> ",Vt=de.getBody().dir,Ut=Vt?' dir="'+Ee(Vt)+'"':"",qe="<!DOCTYPE html><html><head>"+st+'</head><body id="'+Ee(_e)+'" class="mce-content-body '+Ee(nn)+'"'+Ut+">"+de.getContent()+bt+"</body></html>";return qe},Ct=function(de){var st=gn(de),Ee=de.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:st}});Ee.focus("close")},ze=function(de){de.addCommand("mcePreview",function(){Ct(de)})},Bt=function(de){de.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:function(){return de.execCommand("mcePreview")}}),de.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:function(){return de.execCommand("mcePreview")}})};function Xe(){mn.add("preview",function(de){ze(de),Bt(de)})}Xe()})();(function(){var mn=function(F){var V=F,pe=function(){return V},Me=function(Re){V=Re};return{get:pe,set:Me}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),Nt=function(){return Nt=Object.assign||function(V){for(var pe,Me=1,Re=arguments.length;Me<Re;Me++){pe=arguments[Me];for(var pt in pe)Object.prototype.hasOwnProperty.call(pe,pt)&&(V[pt]=pe[pt])}return V},Nt.apply(this,arguments)},jt=function(F){var V=typeof F;return F===null?"null":V==="object"&&(Array.prototype.isPrototypeOf(F)||F.constructor&&F.constructor.name==="Array")?"array":V==="object"&&(String.prototype.isPrototypeOf(F)||F.constructor&&F.constructor.name==="String")?"string":V},wt=function(F){return function(V){return jt(V)===F}},$t=function(F){return function(V){return typeof V===F}},Pt=wt("string"),ut=wt("array"),Ye=$t("boolean"),gn=$t("number"),Ct=function(){},ze=function(F){return function(){return F}},Bt=ze(!1),Xe=ze(!0),de="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",st=ze(de),Ee=function(){return Gt},Gt=function(){var F=function(Re){return Re.isNone()},V=function(Re){return Re()},pe=function(Re){return Re},Me={fold:function(Re,pt){return Re()},is:Bt,isSome:Bt,isNone:Xe,getOr:pe,getOrThunk:V,getOrDie:function(Re){throw new Error(Re||"error: getOrDie called on none.")},getOrNull:ze(null),getOrUndefined:ze(void 0),or:pe,orThunk:V,map:Ee,each:Ct,bind:Ee,exists:Bt,forall:Xe,filter:Ee,equals:F,equals_:F,toArray:function(){return[]},toString:ze("none()")};return Me}(),$=function(F){var V=ze(F),pe=function(){return Re},Me=function(pt){return pt(F)},Re={fold:function(pt,O){return O(F)},is:function(pt){return F===pt},isSome:Xe,isNone:Bt,getOr:V,getOrThunk:V,getOrDie:V,getOrNull:V,getOrUndefined:V,or:pe,orThunk:pe,map:function(pt){return $(pt(F))},each:function(pt){pt(F)},bind:Me,exists:Me,forall:Me,filter:function(pt){return pt(F)?Re:Gt},toArray:function(){return[F]},toString:function(){return"some("+F+")"},equals:function(pt){return pt.is(F)},equals_:function(pt,O){return pt.fold(Bt,function(H){return O(F,H)})}};return Re},_e=function(F){return F==null?Gt:$(F)},nn={some:$,none:Ee,from:_e},cn=st,bt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Vt=Array.prototype.slice,Ut=Array.prototype.push,qe=function(F,V){for(var pe=F.length,Me=new Array(pe),Re=0;Re<pe;Re++){var pt=F[Re];Me[Re]=V(pt,Re)}return Me},G=function(F,V){for(var pe=0,Me=F.length;pe<Me;pe++){var Re=F[pe];V(Re,pe)}},k=function(F,V){for(var pe=F.length-1;pe>=0;pe--){var Me=F[pe];V(Me,pe)}},Ue=function(F,V){if(F.length===0)return[];for(var pe=V(F[0]),Me=[],Re=[],pt=0,O=F.length;pt<O;pt++){var H=F[pt],Z=V(H);Z!==pe&&(Me.push(Re),Re=[]),pe=Z,Re.push(H)}return Re.length!==0&&Me.push(Re),Me},St=function(F,V,pe){return G(F,function(Me){pe=V(pe,Me)}),pe},vt=function(F){for(var V=[],pe=0,Me=F.length;pe<Me;++pe){if(!ut(F[pe]))throw new Error("Arr.flatten item "+pe+" was not an array, input: "+F);Ut.apply(V,F[pe])}return V},Ie=function(F,V){return vt(qe(F,V))},Ve=function(F,V){var pe=Vt.call(F,0);return pe.sort(V),pe},g=Object.hasOwnProperty,he=function(F,V){return g.call(F,V)};typeof window!="undefined"||Function("return this;")();var ee=9,Qe=11,Qt=1,Jt=3,Tt=function(F){return F.dom.nodeType},Ot=function(F){return function(V){return Tt(V)===F}},an=Ot(Jt),kn=function(F,V,pe){if(Pt(pe)||Ye(pe)||gn(pe))F.setAttribute(V,pe+"");else throw console.error("Invalid call to Attribute.set. Key ",V,":: Value ",pe,":: Element ",F),new Error("Attribute value was not simple")},ne=function(F,V,pe){kn(F.dom,V,pe)},Le=function(F,V,pe){return(F.compareDocumentPosition(V)&pe)!==0},At=function(F,V){return Le(F,V,Node.DOCUMENT_POSITION_PRECEDING)},ke=function(F,V){var pe=V||document,Me=pe.createElement("div");if(Me.innerHTML=F,!Me.hasChildNodes()||Me.childNodes.length>1)throw console.error("HTML does not have a single root node",F),new Error("HTML must have a single root node");return z(Me.childNodes[0])},Y=function(F,V){var pe=V||document,Me=pe.createElement(F);return z(Me)},Se=function(F,V){var pe=V||document,Me=pe.createTextNode(F);return z(Me)},z=function(F){if(F==null)throw new Error("Node cannot be null or undefined");return{dom:F}},ge=function(F,V,pe){return nn.from(F.dom.elementFromPoint(V,pe)).map(z)},ve={fromHtml:ke,fromTag:Y,fromText:Se,fromDom:z,fromPoint:ge},Ke=function(F){return F.nodeType!==Qt&&F.nodeType!==ee&&F.nodeType!==Qe||F.childElementCount===0},kt=function(F,V){var pe=V===void 0?document:V.dom;return Ke(pe)?[]:qe(pe.querySelectorAll(F),ve.fromDom)},Dt=function(F){return nn.from(F.dom.parentNode).map(ve.fromDom)},ln=function(F){return qe(F.dom.childNodes,ve.fromDom)},on=function(F,V){return{element:F,offset:V}},Gn=function(F,V){var pe=ln(F);return pe.length>0&&V<pe.length?on(pe[V],0):on(F,V)},Qn=function(F,V){var pe=Dt(F);pe.each(function(Me){Me.dom.insertBefore(V.dom,F.dom)})},Sr=function(F,V){F.dom.appendChild(V.dom)},rt=function(F,V){Qn(F,V),Sr(V,F)},$e=function(F,V){var pe=function(pt){if(!F(pt))throw new Error("Can only get "+V+" value of a "+V+" node");return Me(pt).getOr("")},Me=function(pt){return F(pt)?nn.from(pt.dom.nodeValue):nn.none()},Re=function(pt,O){if(!F(pt))throw new Error("Can only set raw "+V+" value of a "+V+" node");pt.dom.nodeValue=O};return{get:pe,getOption:Me,set:Re}},ct=$e(an,"text"),ht=function(F){return ct.get(F)},dt=function(F,V){return kt(V,F)},Xt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Sn=function(F,V){return F.isBlock(V)||he(F.schema.getShortEndedElements(),V.nodeName)},yn=function(F,V){return F.getContentEditable(V)==="false"},Lt=function(F,V){return F.getContentEditable(V)==="true"&&F.getContentEditableParent(V.parentNode)==="false"},_n=function(F,V){return!F.isBlock(V)&&he(F.schema.getWhiteSpaceElements(),V.nodeName)},Nn=function(F,V){return Sn(F,V)||yn(F,V)||_n(F,V)||Lt(F,V)},gr=function(F){return F.nodeType===3},Dr=function(){return{sOffset:0,fOffset:0,elements:[]}},lr=function(F,V){return Gn(ve.fromDom(F),V)},Fr=function(F,V,pe,Me,Re,pt){pt===void 0&&(pt=!0);for(var O=pt?V(!1):pe;O;){var H=yn(F,O);if(H||_n(F,O)){var Z=H?Me.cef(O):Me.boundary(O);if(Z)break;O=V(!0);continue}else if(Sn(F,O)){if(Me.boundary(O))break}else gr(O)&&Me.text(O);if(O===Re)break;O=V(!1)}},Pr=function(F,V,pe,Me,Re){if(!Nn(F,pe)){var pt=F.getParent(Me,F.isBlock),O=new Xt(pe,pt),H=Re?O.next.bind(O):O.prev.bind(O);Fr(F,H,pe,{boundary:Xe,cef:Xe,text:function(Z){Re?V.fOffset+=Z.length:V.sOffset+=Z.length,V.elements.push(ve.fromDom(Z))}})}},ue=function(F,V,pe,Me,Re,pt){pt===void 0&&(pt=!0);var O=new Xt(pe,V),H=[],Z=Dr();Pr(F,Z,pe,V,!1);var U=function(){return Z.elements.length>0&&(H.push(Z),Z=Dr()),!1};return Fr(F,O.next.bind(O),pe,{boundary:U,cef:function(Ce){return U(),Re&&H.push.apply(H,Re.cef(Ce)),!1},text:function(Ce){Z.elements.push(ve.fromDom(Ce)),Re&&Re.text(Ce,Z)}},Me,pt),Me&&Pr(F,Z,Me,V,!0),U(),H},Ne=function(F,V){var pe=lr(V.startContainer,V.startOffset),Me=pe.element.dom,Re=lr(V.endContainer,V.endOffset),pt=Re.element.dom;return ue(F,V.commonAncestorContainer,Me,pt,{text:function(O,H){O===pt?H.fOffset+=O.length-Re.offset:O===Me&&(H.sOffset+=pe.offset)},cef:function(O){var H=Ie(dt(ve.fromDom(O),"*[contenteditable=true]"),function(Z){var U=Z.dom;return ue(F,U,U)});return Ve(H,function(Z,U){return At(Z.elements[0].dom,U.elements[0].dom)?1:-1})}},!1)},mt=function(F,V){return V.collapsed?[]:Ne(F,V)},rn=function(F,V){var pe=F.createRng();return pe.selectNode(V),mt(F,pe)},Ft=function(F,V){return Ie(V,function(pe){return rn(F,pe)})},pn=function(F,V,pe,Me){pe===void 0&&(pe=0),Me===void 0&&(Me=F.length);var Re=V.regex;Re.lastIndex=pe;for(var pt=[],O;O=Re.exec(F);){var H=O[V.matchIndex],Z=O.index+O[0].indexOf(H),U=Z+H.length;if(U>Me)break;pt.push({start:Z,finish:U}),Re.lastIndex=U}return pt},Ar=function(F,V){var pe=St(F,function(Me,Re){var pt=ht(Re),O=Me.last,H=O+pt.length,Z=Ie(V,function(U,Ce){return U.start<H&&U.finish>O?[{element:Re,start:Math.max(O,U.start)-O,finish:Math.min(H,U.finish)-O,matchId:Ce}]:[]});return{results:Me.results.concat(Z),last:H}},{results:[],last:0}).results;return Ue(pe,function(Me){return Me.matchId})},Vn=function(F,V){return Ie(V,function(pe){var Me=pe.elements,Re=qe(Me,ht).join(""),pt=pn(Re,F,pe.sOffset,Re.length-pe.fOffset);return Ar(Me,pt)})},qn=function(F,V){k(F,function(pe,Me){k(pe,function(Re){var pt=ve.fromDom(V.cloneNode(!1));ne(pt,"data-mce-index",Me);var O=Re.element.dom;if(O.length===Re.finish&&Re.start===0)rt(Re.element,pt);else{O.length!==Re.finish&&O.splitText(Re.finish);var H=O.splitText(Re.start);rt(ve.fromDom(H),pt)}})})},sa=function(F,V,pe,Me){var Re=rn(F,pe),pt=Vn(V,Re);return qn(pt,Me),pt.length},Jr=function(F,V,pe,Me){var Re=pe.getBookmark(),pt=F.select("td[data-mce-selected],th[data-mce-selected]"),O=pt.length>0?Ft(F,pt):mt(F,pe.getRng()),H=Vn(V,O);return qn(H,Me),pe.moveToBookmark(Re),H.length},oa=function(F){var V=F.getAttribute("data-mce-index");return typeof V=="number"?""+V:V},Ea=function(F,V,pe,Me){var Re=F.dom.create("span",{"data-mce-bogus":1});Re.className="mce-match-marker";var pt=F.getBody();return Ta(F,V,!1),Me?Jr(F.dom,pe,F.selection,Re):sa(F.dom,pe,pt,Re)},Vr=function(F){var V=F.parentNode;F.firstChild&&V.insertBefore(F.firstChild,F),F.parentNode.removeChild(F)},Qr=function(F,V){var pe=[],Me=bt.toArray(F.getBody().getElementsByTagName("span"));if(Me.length)for(var Re=0;Re<Me.length;Re++){var pt=oa(Me[Re]);pt===null||!pt.length||pt===V.toString()&&pe.push(Me[Re])}return pe},ia=function(F,V,pe){var Me=V.get(),Re=Me.index,pt=F.dom;pe=pe!==!1,pe?Re+1===Me.count?Re=0:Re++:Re-1===-1?Re=Me.count-1:Re--,pt.removeClass(Qr(F,Me.index),"mce-match-marker-selected");var O=Qr(F,Re);return O.length?(pt.addClass(Qr(F,Re),"mce-match-marker-selected"),F.selection.scrollIntoView(O[0]),Re):-1},Zt=function(F,V){var pe=V.parentNode;F.remove(V),F.isEmpty(pe)&&F.remove(pe)},Cr=function(F,V){var pe=F.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),Me="("+pe+")";return V?"(?:^|\\s|"+cn()+")"+Me+("(?=$|\\s|"+cn()+")"):Me},_r=function(F,V,pe,Me,Re,pt){var O=Cr(pe,Re),H={regex:new RegExp(O,Me?"g":"gi"),matchIndex:1},Z=Ea(F,V,H,pt);if(Z){var U=ia(F,V,!0);V.set({index:U,count:Z,text:pe,matchCase:Me,wholeWord:Re,inSelection:pt})}return Z},ua=function(F,V){var pe=ia(F,V,!0);V.set(Nt(Nt({},V.get()),{index:pe}))},xr=function(F,V){var pe=ia(F,V,!1);V.set(Nt(Nt({},V.get()),{index:pe}))},Gr=function(F){var V=oa(F);return V!==null&&V.length>0},da=function(F,V,pe,Me,Re){var pt=V.get(),O=pt.index,H,Z=O;Me=Me!==!1;for(var U=F.getBody(),Ce=bt.grep(bt.toArray(U.getElementsByTagName("span")),Gr),Be=0;Be<Ce.length;Be++){var It=oa(Ce[Be]),Kt=H=parseInt(It,10);if(Re||Kt===pt.index){for(pe.length?(Ce[Be].firstChild.nodeValue=pe,Vr(Ce[Be])):Zt(F.dom,Ce[Be]);Ce[++Be];)if(Kt=parseInt(oa(Ce[Be]),10),Kt===H)Zt(F.dom,Ce[Be]);else{Be--;break}Me&&Z--}else H>O&&Ce[Be].setAttribute("data-mce-index",String(H-1))}return V.set(Nt(Nt({},pt),{count:Re?0:pt.count-1,index:Z})),Me?ua(F,V):xr(F,V),!Re&&V.get().count>0},Ta=function(F,V,pe){var Me,Re,pt,O=V.get(),H=bt.toArray(F.getBody().getElementsByTagName("span"));for(Me=0;Me<H.length;Me++){var Z=oa(H[Me]);Z!==null&&Z.length&&(Z===O.index.toString()&&(Re||(Re=H[Me].firstChild),pt=H[Me].firstChild),Vr(H[Me]))}if(V.set(Nt(Nt({},O),{index:-1,count:0,text:""})),Re&&pt){var U=F.dom.createRng();return U.setStart(Re,0),U.setEnd(pt,pt.data.length),pe!==!1&&F.selection.setRng(U),U}},ka=function(F,V){return V.get().count>1},Fn=function(F,V){return V.get().count>1},ma=function(F,V){var pe=function(H){return Ta(F,V,H)},Me=function(H,Z,U,Ce){return Ce===void 0&&(Ce=!1),_r(F,V,H,Z,U,Ce)},Re=function(){return ua(F,V)},pt=function(){return xr(F,V)},O=function(H,Z,U){return da(F,V,H,Z,U)};return{done:pe,find:Me,next:Re,prev:pt,replace:O}},qr=function(){var F=mn(nn.none()),V=function(){return F.set(nn.none())},pe=function(pt){return F.set(nn.some(pt))},Me=function(){return F.get().isSome()},Re=function(pt){return F.get().each(pt)};return{clear:V,set:pe,isSet:Me,on:Re}},ga=tinymce.util.Tools.resolve("tinymce.Env"),Ma=function(F,V){var pe=qr();F.undoManager.add();var Me=bt.trim(F.selection.getContent({format:"text"})),Re=function(it){var en=ka(F,V)?it.enable:it.disable;en("next");var Kn=Fn(F,V)?it.enable:it.disable;Kn("prev")},pt=function(it){var en=it.getData(),Kn=V.get();V.set(Nt(Nt({},Kn),{matchCase:en.matchcase,wholeWord:en.wholewords,inSelection:en.inselection}))},O=function(it,en){var Kn=["replace","replaceall","prev","next"],Rr=en?it.disable:it.enable;G(Kn,Rr)},H=function(it){F.windowManager.alert("Could not find the specified string.",function(){it.focus("findtext")})},Z=function(it,en){ga.browser.isSafari()&&ga.deviceType.isTouch()&&(en==="find"||en==="replace"||en==="replaceall")&&it.focus(en)},U=function(it){Ta(F,V,!1),O(it,!0),Re(it)},Ce=function(it){var en=it.getData(),Kn=V.get();if(!en.findtext.length){U(it);return}if(Kn.text===en.findtext&&Kn.matchCase===en.matchcase&&Kn.wholeWord===en.wholewords)ua(F,V);else{var Rr=_r(F,V,en.findtext,en.matchcase,en.wholewords,en.inselection);Rr<=0&&H(it),O(it,Rr===0)}Re(it)},Be=V.get(),It={findtext:Me,replacetext:"",wholewords:Be.wholeWord,matchcase:Be.matchCase,inselection:Be.inSelection},Kt={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:It,onChange:function(it,en){en.name==="findtext"&&V.get().count>0&&U(it)},onAction:function(it,en){var Kn=it.getData();switch(en.name){case"find":Ce(it);break;case"replace":da(F,V,Kn.replacetext)?Re(it):U(it);break;case"replaceall":da(F,V,Kn.replacetext,!0,!0),U(it);break;case"prev":xr(F,V),Re(it);break;case"next":ua(F,V),Re(it);break;case"matchcase":case"wholewords":case"inselection":pt(it),U(it);break}Z(it,en.name)},onSubmit:function(it){Ce(it),Z(it,"find")},onClose:function(){F.focus(),Ta(F,V),F.undoManager.add()}};pe.set(F.windowManager.open(Kt,{inline:"toolbar"}))},W=function(F,V){F.addCommand("SearchReplace",function(){Ma(F,V)})},ae=function(F,V){return function(){Ma(F,V)}},be=function(F,V){F.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:ae(F,V),icon:"search"}),F.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:ae(F,V),icon:"search"}),F.shortcuts.add("Meta+F","",ae(F,V))};function Oe(){Ht.add("searchreplace",function(F){var V=mn({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return W(F,V),be(F,V),ma(F,V)})}Oe()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(ke){return ke},Nt=function(){return Nt=Object.assign||function(Y){for(var Se,z=1,ge=arguments.length;z<ge;z++){Se=arguments[z];for(var ve in Se)Object.prototype.hasOwnProperty.call(Se,ve)&&(Y[ve]=Se[ve])}return Y},Nt.apply(this,arguments)},jt="\uFEFF",wt=function(ke){return ke.replace(/\uFEFF/g,"")},$t=function(ke,Y){for(var Se=ke.length,z=new Array(Se),ge=0;ge<Se;ge++){var ve=ke[ge];z[ge]=Y(ve,ge)}return z},Pt="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",ut={aletter:"[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F3\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BC0-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790\uA791\uA7A0-\uA7A9\uA7FA-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]",midnumlet:"[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]",midletter:"[:\xB7\xB7\u05F4\u2027\uFE13\uFE55\uFF1A]",midnum:"[\xB1+*/,;;\u0589\u060C\u060D\u066C\u07F8\u2044\uFE10\uFE14\uFE50\uFE54\uFF0C\uFF1B]",numeric:"[0-9\u0660-\u0669\u066B\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9]",cr:"\\r",lf:"\\n",newline:"[\v\f\x85\u2028\u2029]",extend:"[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2\u1DC0-\u1DE6\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26\uFF9E\uFF9F]",format:"[\xAD\u0600-\u0603\u06DD\u070F\u17B4\u17B5\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\uFEFF\uFFF9-\uFFFB]",katakana:"[\u3031-\u3035\u309B\u309C\u30A0-\u30FA\u30FC-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF9D]",extendnumlet:"[=_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F\u2200-\u22FF<>]",punctuation:Pt},Ye={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},gn=[new RegExp(ut.aletter),new RegExp(ut.midnumlet),new RegExp(ut.midletter),new RegExp(ut.midnum),new RegExp(ut.numeric),new RegExp(ut.cr),new RegExp(ut.lf),new RegExp(ut.newline),new RegExp(ut.extend),new RegExp(ut.format),new RegExp(ut.katakana),new RegExp(ut.extendnumlet),new RegExp("@")],Ct="",ze=new RegExp("^"+ut.punctuation+"$"),Bt=/^\s+$/,Xe=gn,de=Ye.OTHER,st=function(ke){for(var Y=de,Se=Xe.length,z=0;z<Se;++z){var ge=Xe[z];if(ge&&ge.test(ke)){Y=z;break}}return Y},Ee=function(ke){var Y={};return function(Se){if(Y[Se])return Y[Se];var z=ke(Se);return Y[Se]=z,z}},Gt=function(ke){var Y=Ee(st);return $t(ke,Y)},$=function(ke,Y){var Se=ke[Y],z=ke[Y+1];if(Y<0||Y>ke.length-1&&Y!==0||Se===Ye.ALETTER&&z===Ye.ALETTER)return!1;var ge=ke[Y+2];if(Se===Ye.ALETTER&&(z===Ye.MIDLETTER||z===Ye.MIDNUMLET||z===Ye.AT)&&ge===Ye.ALETTER)return!1;var ve=ke[Y-1];return(Se===Ye.MIDLETTER||Se===Ye.MIDNUMLET||z===Ye.AT)&&z===Ye.ALETTER&&ve===Ye.ALETTER||(Se===Ye.NUMERIC||Se===Ye.ALETTER)&&(z===Ye.NUMERIC||z===Ye.ALETTER)||(Se===Ye.MIDNUM||Se===Ye.MIDNUMLET)&&z===Ye.NUMERIC&&ve===Ye.NUMERIC||Se===Ye.NUMERIC&&(z===Ye.MIDNUM||z===Ye.MIDNUMLET)&&ge===Ye.NUMERIC||Se===Ye.EXTEND||Se===Ye.FORMAT||ve===Ye.EXTEND||ve===Ye.FORMAT||z===Ye.EXTEND||z===Ye.FORMAT||Se===Ye.CR&&z===Ye.LF?!1:Se===Ye.NEWLINE||Se===Ye.CR||Se===Ye.LF||z===Ye.NEWLINE||z===Ye.CR||z===Ye.LF?!0:!(Se===Ye.KATAKANA&&z===Ye.KATAKANA||z===Ye.EXTENDNUMLET&&(Se===Ye.ALETTER||Se===Ye.NUMERIC||Se===Ye.KATAKANA||Se===Ye.EXTENDNUMLET)||Se===Ye.EXTENDNUMLET&&(z===Ye.ALETTER||z===Ye.NUMERIC||z===Ye.KATAKANA)||Se===Ye.AT)},_e=Ct,nn=Bt,cn=ze,bt=function(ke){return ke==="http"||ke==="https"},Vt=function(ke,Y){var Se;for(Se=Y;Se<ke.length&&!nn.test(ke[Se]);Se++);return Se},Ut=function(ke,Y){var Se=Vt(ke,Y+1),z=ke.slice(Y+1,Se).join(_e);return z.substr(0,3)==="://"?Se:Y},qe=function(ke,Y,Se,z){for(var ge=[],ve=[],Ke=0;Ke<Se.length;++Ke)if(ve.push(ke[Ke]),$(Se,Ke)){var kt=Y[Ke];if((z.includeWhitespace||!nn.test(kt))&&(z.includePunctuation||!cn.test(kt))){var Dt=Ke-ve.length+1,ln=Ke+1,on=Y.slice(Dt,ln).join(_e);if(bt(on)){var Gn=Ut(Y,Ke),Qn=ke.slice(ln,Gn);Array.prototype.push.apply(ve,Qn),Ke=Gn}ge.push(ve)}ve=[]}return ge},G=function(){return{includeWhitespace:!1,includePunctuation:!1}},k=function(ke,Y,Se){Se=Nt(Nt({},G()),Se);for(var z=[],ge=[],ve=0;ve<ke.length;ve++){var Ke=Y(ke[ve]);Ke!==jt&&(z.push(ke[ve]),ge.push(Ke))}var kt=Gt(ge);return qe(z,ge,kt,Se)},Ue=k,St=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),vt=function(ke,Y){for(var Se=Y.getBlockElements(),z=Y.getShortEndedElements(),ge=function(Dt){return Se[Dt.nodeName]||z[Dt.nodeName]},ve=[],Ke="",kt=new St(ke,ke);ke=kt.next();)ke.nodeType===3?Ke+=wt(ke.data):ge(ke)&&Ke.length&&(ve.push(Ke),Ke="");return Ke.length&&ve.push(Ke),ve},Ie=function(ke){return ke.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},Ve=function(ke,Y){var Se=vt(ke,Y).join(`
`);return Ue(Se.split(""),Ht).length},g=function(ke,Y){var Se=vt(ke,Y).join("");return Ie(Se)},he=function(ke,Y){var Se=vt(ke,Y).join("").replace(/\s/g,"");return Ie(Se)},ee=function(ke,Y){return function(){return Y(ke.getBody(),ke.schema)}},Qe=function(ke,Y){return function(){return Y(ke.selection.getRng().cloneContents(),ke.schema)}},Qt=function(ke){return ee(ke,Ve)},Jt=function(ke){return{body:{getWordCount:Qt(ke),getCharacterCount:ee(ke,g),getCharacterCountWithoutSpaces:ee(ke,he)},selection:{getWordCount:Qe(ke,Ve),getCharacterCount:Qe(ke,g),getCharacterCountWithoutSpaces:Qe(ke,he)},getCount:Qt(ke)}},Tt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ot=function(ke,Y){ke.fire("wordCountUpdate",{wordCount:{words:Y.body.getWordCount(),characters:Y.body.getCharacterCount(),charactersWithoutSpaces:Y.body.getCharacterCountWithoutSpaces()}})},an=function(ke,Y){Ot(ke,Y)},kn=function(ke,Y,Se){var z=Tt.debounce(function(){return an(ke,Y)},Se);ke.on("init",function(){an(ke,Y),Tt.setEditorTimeout(ke,function(){ke.on("SetContent BeforeAddUndo Undo Redo keyup",z)},0)})},ne=function(ke,Y){ke.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Y.body.getWordCount()),String(Y.selection.getWordCount())],["Characters (no spaces)",String(Y.body.getCharacterCountWithoutSpaces()),String(Y.selection.getCharacterCountWithoutSpaces())],["Characters",String(Y.body.getCharacterCount()),String(Y.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Le=function(ke,Y){ke.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return ne(ke,Y)}}),ke.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return ne(ke,Y)}})};function At(ke){ke===void 0&&(ke=300),mn.add("wordcount",function(Y){var Se=Jt(Y);return Le(Y,Se),kn(Y,Se,ke),Se})}At()})();(function(){var mn=function(Ct){var ze=Ct,Bt=function(){return ze},Xe=function(de){ze=de};return{get:Bt,set:Xe}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),Nt=function(Ct,ze){Ct.fire("VisualBlocks",{state:ze})},jt=function(Ct,ze,Bt){var Xe=Ct.dom;Xe.toggleClass(Ct.getBody(),"mce-visualblocks"),Bt.set(!Bt.get()),Nt(Ct,Bt.get())},wt=function(Ct,ze,Bt){Ct.addCommand("mceVisualBlocks",function(){jt(Ct,ze,Bt)})},$t=function(Ct){return Ct.getParam("visualblocks_default_state",!1,"boolean")},Pt=function(Ct,ze,Bt){Ct.on("PreviewFormats AfterPreviewFormats",function(Xe){Bt.get()&&Ct.dom.toggleClass(Ct.getBody(),"mce-visualblocks",Xe.type==="afterpreviewformats")}),Ct.on("init",function(){$t(Ct)&&jt(Ct,ze,Bt)})},ut=function(Ct,ze){return function(Bt){Bt.setActive(ze.get());var Xe=function(de){return Bt.setActive(de.state)};return Ct.on("VisualBlocks",Xe),function(){return Ct.off("VisualBlocks",Xe)}}},Ye=function(Ct,ze){Ct.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:function(){return Ct.execCommand("mceVisualBlocks")},onSetup:ut(Ct,ze)}),Ct.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:function(){return Ct.execCommand("mceVisualBlocks")},onSetup:ut(Ct,ze)})};function gn(){Ht.add("visualblocks",function(Ct,ze){var Bt=mn(!1);wt(Ct,ze,Bt),Ye(Ct,Bt),Pt(Ct,ze,Bt)})}gn()})();(function(){var mn=function(ue){var Ne=ue,mt=function(){return Ne},rn=function(Ft){Ne=Ft};return{get:mt,set:rn}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),Nt=function(ue){var Ne=function(){return ue.get()};return{isEnabled:Ne}},jt=function(ue,Ne){return ue.fire("VisualChars",{state:Ne})},wt=function(ue){var Ne=typeof ue;return ue===null?"null":Ne==="object"&&(Array.prototype.isPrototypeOf(ue)||ue.constructor&&ue.constructor.name==="Array")?"array":Ne==="object"&&(String.prototype.isPrototypeOf(ue)||ue.constructor&&ue.constructor.name==="String")?"string":Ne},$t=function(ue){return function(Ne){return wt(Ne)===ue}},Pt=function(ue){return function(Ne){return typeof Ne===ue}},ut=$t("string"),Ye=Pt("boolean"),gn=Pt("number"),Ct=function(){},ze=function(ue){return function(){return ue}},Bt=ze(!1),Xe=ze(!0),de=function(){return st},st=function(){var ue=function(Ft){return Ft.isNone()},Ne=function(Ft){return Ft()},mt=function(Ft){return Ft},rn={fold:function(Ft,pn){return Ft()},is:Bt,isSome:Bt,isNone:Xe,getOr:mt,getOrThunk:Ne,getOrDie:function(Ft){throw new Error(Ft||"error: getOrDie called on none.")},getOrNull:ze(null),getOrUndefined:ze(void 0),or:mt,orThunk:Ne,map:de,each:Ct,bind:de,exists:Bt,forall:Xe,filter:de,equals:ue,equals_:ue,toArray:function(){return[]},toString:ze("none()")};return rn}(),Ee=function(ue){var Ne=ze(ue),mt=function(){return Ft},rn=function(pn){return pn(ue)},Ft={fold:function(pn,Ar){return Ar(ue)},is:function(pn){return ue===pn},isSome:Xe,isNone:Bt,getOr:Ne,getOrThunk:Ne,getOrDie:Ne,getOrNull:Ne,getOrUndefined:Ne,or:mt,orThunk:mt,map:function(pn){return Ee(pn(ue))},each:function(pn){pn(ue)},bind:rn,exists:rn,forall:rn,filter:function(pn){return pn(ue)?Ft:st},toArray:function(){return[ue]},toString:function(){return"some("+ue+")"},equals:function(pn){return pn.is(ue)},equals_:function(pn,Ar){return pn.fold(Bt,function(Vn){return Ar(ue,Vn)})}};return Ft},Gt=function(ue){return ue==null?st:Ee(ue)},$={some:Ee,none:de,from:Gt},_e=function(ue,Ne){for(var mt=ue.length,rn=new Array(mt),Ft=0;Ft<mt;Ft++){var pn=ue[Ft];rn[Ft]=Ne(pn,Ft)}return rn},nn=function(ue,Ne){for(var mt=0,rn=ue.length;mt<rn;mt++){var Ft=ue[mt];Ne(Ft,mt)}},cn=function(ue,Ne){for(var mt=[],rn=0,Ft=ue.length;rn<Ft;rn++){var pn=ue[rn];Ne(pn,rn)&&mt.push(pn)}return mt},bt=Object.keys,Vt=function(ue,Ne){for(var mt=bt(ue),rn=0,Ft=mt.length;rn<Ft;rn++){var pn=mt[rn],Ar=ue[pn];Ne(Ar,pn)}};typeof window!="undefined"||Function("return this;")();var Ut=3,qe=function(ue){return ue.dom.nodeType},G=function(ue){return ue.dom.nodeValue},k=function(ue){return function(Ne){return qe(Ne)===ue}},Ue=k(Ut),St=function(ue,Ne,mt){if(ut(mt)||Ye(mt)||gn(mt))ue.setAttribute(Ne,mt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ne,":: Value ",mt,":: Element ",ue),new Error("Attribute value was not simple")},vt=function(ue,Ne,mt){St(ue.dom,Ne,mt)},Ie=function(ue,Ne){var mt=ue.dom.getAttribute(Ne);return mt===null?void 0:mt},Ve=function(ue,Ne){ue.dom.removeAttribute(Ne)},g=function(ue,Ne){var mt=Ie(ue,Ne);return mt===void 0||mt===""?[]:mt.split(" ")},he=function(ue,Ne,mt){var rn=g(ue,Ne),Ft=rn.concat([mt]);return vt(ue,Ne,Ft.join(" ")),!0},ee=function(ue,Ne,mt){var rn=cn(g(ue,Ne),function(Ft){return Ft!==mt});return rn.length>0?vt(ue,Ne,rn.join(" ")):Ve(ue,Ne),!1},Qe=function(ue){return ue.dom.classList!==void 0},Qt=function(ue){return g(ue,"class")},Jt=function(ue,Ne){return he(ue,"class",Ne)},Tt=function(ue,Ne){return ee(ue,"class",Ne)},Ot=function(ue,Ne){Qe(ue)?ue.dom.classList.add(Ne):Jt(ue,Ne)},an=function(ue){var Ne=Qe(ue)?ue.dom.classList:Qt(ue);Ne.length===0&&Ve(ue,"class")},kn=function(ue,Ne){if(Qe(ue)){var mt=ue.dom.classList;mt.remove(Ne)}else Tt(ue,Ne);an(ue)},ne=function(ue,Ne){var mt=Ne||document,rn=mt.createElement("div");if(rn.innerHTML=ue,!rn.hasChildNodes()||rn.childNodes.length>1)throw console.error("HTML does not have a single root node",ue),new Error("HTML must have a single root node");return ke(rn.childNodes[0])},Le=function(ue,Ne){var mt=Ne||document,rn=mt.createElement(ue);return ke(rn)},At=function(ue,Ne){var mt=Ne||document,rn=mt.createTextNode(ue);return ke(rn)},ke=function(ue){if(ue==null)throw new Error("Node cannot be null or undefined");return{dom:ue}},Y=function(ue,Ne,mt){return $.from(ue.dom.elementFromPoint(Ne,mt)).map(ke)},Se={fromHtml:ne,fromTag:Le,fromText:At,fromDom:ke,fromPoint:Y},z={"\xA0":"nbsp","\xAD":"shy"},ge=function(ue,Ne){var mt="";return Vt(ue,function(rn,Ft){mt+=Ft}),new RegExp("["+mt+"]",Ne?"g":"")},ve=function(ue){var Ne="";return Vt(ue,function(mt){Ne&&(Ne+=","),Ne+="span.mce-"+mt}),Ne},Ke=ge(z),kt=ge(z,!0),Dt=ve(z),ln="mce-nbsp",on=function(ue){return'<span data-mce-bogus="1" class="mce-'+z[ue]+'">'+ue+"</span>"},Gn=function(ue){var Ne=G(ue);return Ue(ue)&&Ne!==void 0&&Ke.test(Ne)},Qn=function(ue,Ne){var mt=[],rn=ue.dom,Ft=_e(rn.childNodes,Se.fromDom);return nn(Ft,function(pn){Ne(pn)&&(mt=mt.concat([pn])),mt=mt.concat(Qn(pn,Ne))}),mt},Sr=function(ue,Ne){for(;ue.parentNode;){if(ue.parentNode===Ne)return ue;ue=ue.parentNode}},rt=function(ue){return ue.replace(kt,on)},$e=function(ue){return ue.nodeName.toLowerCase()==="span"&&ue.classList.contains("mce-nbsp-wrap")},ct=function(ue,Ne){var mt=Qn(Se.fromDom(Ne),Gn);nn(mt,function(rn){var Ft=rn.dom.parentNode;if($e(Ft))Ot(Se.fromDom(Ft),ln);else{for(var pn=rt(ue.dom.encode(G(rn))),Ar=ue.dom.create("div",null,pn),Vn=void 0;Vn=Ar.lastChild;)ue.dom.insertAfter(Vn,rn.dom);ue.dom.remove(rn.dom)}})},ht=function(ue,Ne){var mt=ue.dom.select(Dt,Ne);nn(mt,function(rn){$e(rn)?kn(Se.fromDom(rn),ln):ue.dom.remove(rn,!0)})},dt=function(ue){var Ne=ue.getBody(),mt=ue.selection.getBookmark(),rn=Sr(ue.selection.getNode(),Ne);rn=rn!==void 0?rn:Ne,ht(ue,rn),ct(ue,rn),ue.selection.moveToBookmark(mt)},Xt=function(ue,Ne){jt(ue,Ne.get());var mt=ue.getBody();Ne.get()===!0?ct(ue,mt):ht(ue,mt)},Sn=function(ue,Ne){Ne.set(!Ne.get());var mt=ue.selection.getBookmark();Xt(ue,Ne),ue.selection.moveToBookmark(mt)},yn=function(ue,Ne){ue.addCommand("mceVisualChars",function(){Sn(ue,Ne)})},Lt=function(ue){return ue.getParam("visualchars_default_state",!1)},_n=function(ue){return ue.getParam("forced_root_block")!==!1},Nn=function(ue,Ne){ue.on("init",function(){Xt(ue,Ne)})},gr=tinymce.util.Tools.resolve("tinymce.util.Delay"),Dr=function(ue,Ne){var mt=gr.debounce(function(){dt(ue)},300);_n(ue)&&ue.on("keydown",function(rn){Ne.get()===!0&&(rn.keyCode===13?dt(ue):mt())}),ue.on("remove",mt.stop)},lr=function(ue,Ne){return function(mt){mt.setActive(Ne.get());var rn=function(Ft){return mt.setActive(Ft.state)};return ue.on("VisualChars",rn),function(){return ue.off("VisualChars",rn)}}},Fr=function(ue,Ne){ue.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:function(){return ue.execCommand("mceVisualChars")},onSetup:lr(ue,Ne)}),ue.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:function(){return ue.execCommand("mceVisualChars")},onSetup:lr(ue,Ne)})};function Pr(){Ht.add("visualchars",function(ue){var Ne=mn(Lt(ue));return yn(ue,Ne),Fr(ue,Ne),Dr(ue,Ne),Nn(ue,Ne),Nt(Ne)})}Pr()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(ze){var Bt=ze.getParam("nonbreaking_force_tab",0);return typeof Bt=="boolean"?Bt===!0?3:0:Bt},Nt=function(ze){return ze.getParam("nonbreaking_wrap",!0,"boolean")},jt=function(ze,Bt){for(var Xe="",de=0;de<Bt;de++)Xe+=ze;return Xe},wt=function(ze){return ze.plugins.visualchars?ze.plugins.visualchars.isEnabled():!1},$t=function(ze,Bt){var Xe=function(){return wt(ze)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},de=function(){return'<span class="'+Xe()+'" contenteditable="false">'+jt("&nbsp;",Bt)+"</span>"},st=Nt(ze),Ee=st||ze.plugins.visualchars?de():jt("&nbsp;",Bt);ze.undoManager.transact(function(){return ze.insertContent(Ee)})},Pt=function(ze){ze.addCommand("mceNonBreaking",function(){$t(ze,1)})},ut=tinymce.util.Tools.resolve("tinymce.util.VK"),Ye=function(ze){var Bt=Ht(ze);Bt>0&&ze.on("keydown",function(Xe){if(Xe.keyCode===ut.TAB&&!Xe.isDefaultPrevented()){if(Xe.shiftKey)return;Xe.preventDefault(),Xe.stopImmediatePropagation(),$t(ze,Bt)}})},gn=function(ze){ze.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return ze.execCommand("mceNonBreaking")}}),ze.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return ze.execCommand("mceNonBreaking")}})};function Ct(){mn.add("nonbreaking",function(ze){Pt(ze),gn(ze),Ye(ze)})}Ct()})();(function(){var mn=function(Ie){var Ve=Ie,g=function(){return Ve},he=function(ee){Ve=ee};return{get:g,set:he}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),Nt=function(){return Nt=Object.assign||function(Ve){for(var g,he=1,ee=arguments.length;he<ee;he++){g=arguments[he];for(var Qe in g)Object.prototype.hasOwnProperty.call(g,Qe)&&(Ve[Qe]=g[Qe])}return Ve},Nt.apply(this,arguments)},jt=tinymce.util.Tools.resolve("tinymce.util.Tools"),wt=tinymce.util.Tools.resolve("tinymce.html.DomParser"),$t=tinymce.util.Tools.resolve("tinymce.html.Node"),Pt=tinymce.util.Tools.resolve("tinymce.html.Serializer"),ut=function(Ie){return Ie.getParam("fullpage_hide_in_source_view")},Ye=function(Ie){return Ie.getParam("fullpage_default_xml_pi")},gn=function(Ie){return Ie.getParam("fullpage_default_encoding")},Ct=function(Ie){return Ie.getParam("fullpage_default_font_family")},ze=function(Ie){return Ie.getParam("fullpage_default_font_size")},Bt=function(Ie){return Ie.getParam("fullpage_default_text_color")},Xe=function(Ie){return Ie.getParam("fullpage_default_title")},de=function(Ie){return Ie.getParam("fullpage_default_doctype","<!DOCTYPE html>")},st=function(Ie){return Ie.getParam("protect")},Ee=function(Ie){return wt({validate:!1,root_name:"#document"}).parse(Ie,{format:"xhtml"})},Gt=function(Ie,Ve){var g=Ee(Ve),he={},ee,Qe,Qt=function(Jt,Tt){var Ot=Jt.attr(Tt);return Ot||""};return he.fontface=Ct(Ie),he.fontsize=ze(Ie),ee=g.firstChild,ee.type===7&&(he.xml_pi=!0,Qe=/encoding="([^"]+)"/.exec(ee.value),Qe&&(he.docencoding=Qe[1])),ee=g.getAll("#doctype")[0],ee&&(he.doctype="<!DOCTYPE"+ee.value+">"),ee=g.getAll("title")[0],ee&&ee.firstChild&&(he.title=ee.firstChild.value),jt.each(g.getAll("meta"),function(Jt){var Tt=Jt.attr("name"),Ot=Jt.attr("http-equiv"),an;Tt?he[Tt.toLowerCase()]=Jt.attr("content"):Ot==="Content-Type"&&(an=/charset\s*=\s*(.*)\s*/gi.exec(Jt.attr("content")),an&&(he.docencoding=an[1]))}),ee=g.getAll("html")[0],ee&&(he.langcode=Qt(ee,"lang")||Qt(ee,"xml:lang")),he.stylesheets=[],jt.each(g.getAll("link"),function(Jt){Jt.attr("rel")==="stylesheet"&&he.stylesheets.push(Jt.attr("href"))}),ee=g.getAll("body")[0],ee&&(he.langdir=Qt(ee,"dir"),he.style=Qt(ee,"style"),he.visited_color=Qt(ee,"vlink"),he.link_color=Qt(ee,"link"),he.active_color=Qt(ee,"alink")),he},$=function(Ie,Ve,g){var he,ee,Qe,Qt=Ie.dom,Jt=function(ne,Le,At){ne.attr(Le,At||void 0)},Tt=function(ne){he.firstChild?he.insert(ne,he.firstChild):he.append(ne)},Ot=Ee(g);he=Ot.getAll("head")[0],he||(ee=Ot.getAll("html")[0],he=new $t("head",1),ee.firstChild?ee.insert(he,ee.firstChild,!0):ee.append(he)),ee=Ot.firstChild,Ve.xml_pi?(Qe='version="1.0"',Ve.docencoding&&(Qe+=' encoding="'+Ve.docencoding+'"'),ee.type!==7&&(ee=new $t("xml",7),Ot.insert(ee,Ot.firstChild,!0)),ee.value=Qe):ee&&ee.type===7&&ee.remove(),ee=Ot.getAll("#doctype")[0],Ve.doctype?(ee||(ee=new $t("#doctype",10),Ve.xml_pi?Ot.insert(ee,Ot.firstChild):Tt(ee)),ee.value=Ve.doctype.substring(9,Ve.doctype.length-1)):ee&&ee.remove(),ee=null,jt.each(Ot.getAll("meta"),function(ne){ne.attr("http-equiv")==="Content-Type"&&(ee=ne)}),Ve.docencoding?(ee||(ee=new $t("meta",1),ee.attr("http-equiv","Content-Type"),ee.shortEnded=!0,Tt(ee)),ee.attr("content","text/html; charset="+Ve.docencoding)):ee&&ee.remove(),ee=Ot.getAll("title")[0],Ve.title?(ee?ee.empty():(ee=new $t("title",1),Tt(ee)),ee.append(new $t("#text",3)).value=Ve.title):ee&&ee.remove(),jt.each("keywords,description,author,copyright,robots".split(","),function(ne){var Le=Ot.getAll("meta"),At,ke,Y=Ve[ne];for(At=0;At<Le.length;At++)if(ke=Le[At],ke.attr("name")===ne){Y?ke.attr("content",Y):ke.remove();return}Y&&(ee=new $t("meta",1),ee.attr("name",ne),ee.attr("content",Y),ee.shortEnded=!0,Tt(ee))});var an={};jt.each(Ot.getAll("link"),function(ne){ne.attr("rel")==="stylesheet"&&(an[ne.attr("href")]=ne)}),jt.each(Ve.stylesheets,function(ne){an[ne]||(ee=new $t("link",1),ee.attr({rel:"stylesheet",text:"text/css",href:ne}),ee.shortEnded=!0,Tt(ee)),delete an[ne]}),jt.each(an,function(ne){ne.remove()}),ee=Ot.getAll("body")[0],ee&&(Jt(ee,"dir",Ve.langdir),Jt(ee,"style",Ve.style),Jt(ee,"vlink",Ve.visited_color),Jt(ee,"link",Ve.link_color),Jt(ee,"alink",Ve.active_color),Qt.setAttribs(Ie.getBody(),{style:Ve.style,dir:Ve.dir,vLink:Ve.visited_color,link:Ve.link_color,aLink:Ve.active_color})),ee=Ot.getAll("html")[0],ee&&(Jt(ee,"lang",Ve.langcode),Jt(ee,"xml:lang",Ve.langcode)),he.firstChild||he.remove();var kn=Pt({validate:!1,indent:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(Ot);return kn.substring(0,kn.indexOf("</body>"))},_e=function(Ie,Ve){var g=Gt(Ie,Ve.get()),he={title:"",keywords:"",description:"",robots:"",author:"",docencoding:""},ee=Nt(Nt({},he),g);Ie.windowManager.open({title:"Metadata and Document Properties",size:"normal",body:{type:"panel",items:[{name:"title",type:"input",label:"Title"},{name:"keywords",type:"input",label:"Keywords"},{name:"description",type:"input",label:"Description"},{name:"robots",type:"input",label:"Robots"},{name:"author",type:"input",label:"Author"},{name:"docencoding",type:"input",label:"Encoding"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ee,onSubmit:function(Qe){var Qt=Qe.getData(),Jt=$(Ie,jt.extend(g,Qt),Ve.get());Ve.set(Jt),Qe.close()}})},nn=function(Ie,Ve){Ie.addCommand("mceFullPageProperties",function(){_e(Ie,Ve)})},cn=function(Ie,Ve){return jt.each(Ie,function(g){Ve=Ve.replace(g,function(he){return"<!--mce:protected "+escape(he)+"-->"})}),Ve},bt=function(Ie){return Ie.replace(/<!--mce:protected ([\s\S]*?)-->/g,function(Ve,g){return unescape(g)})},Vt=jt.each,Ut=function(Ie){return Ie.replace(/<\/?[A-Z]+/g,function(Ve){return Ve.toLowerCase()})},qe=function(Ie,Ve,g,he){var ee,Qe,Qt,Jt="",Tt=Ie.dom;if(!he.selection&&(Qt=cn(st(Ie),he.content),!(he.format==="raw"&&Ve.get())&&!(he.source_view&&ut(Ie)))){Qt.length===0&&!he.source_view&&(Qt=jt.trim(Ve.get())+`
`+jt.trim(Qt)+`
`+jt.trim(g.get())),Qt=Qt.replace(/<(\/?)BODY/gi,"<$1body"),ee=Qt.indexOf("<body"),ee!==-1?(ee=Qt.indexOf(">",ee),Ve.set(Ut(Qt.substring(0,ee+1))),Qe=Qt.indexOf("</body",ee),Qe===-1&&(Qe=Qt.length),he.content=jt.trim(Qt.substring(ee+1,Qe)),g.set(Ut(Qt.substring(Qe)))):(Ve.set(G(Ie)),g.set(`
</body>
</html>`));var Ot=Ee(Ve.get());Vt(Ot.getAll("style"),function(At){At.firstChild&&(Jt+=At.firstChild.value)});var an=Ot.getAll("body")[0];an&&Tt.setAttribs(Ie.getBody(),{style:an.attr("style")||"",dir:an.attr("dir")||"",vLink:an.attr("vlink")||"",link:an.attr("link")||"",aLink:an.attr("alink")||""}),Tt.remove("fullpage_styles");var kn=Ie.getDoc().getElementsByTagName("head")[0];if(Jt){var ne=Tt.add(kn,"style",{id:"fullpage_styles"});ne.appendChild(document.createTextNode(Jt))}var Le={};jt.each(kn.getElementsByTagName("link"),function(At){At.rel==="stylesheet"&&At.getAttribute("data-mce-fullpage")&&(Le[At.href]=At)}),jt.each(Ot.getAll("link"),function(At){var ke=At.attr("href");if(!ke)return!0;!Le[ke]&&At.attr("rel")==="stylesheet"&&Tt.add(kn,"link",{rel:"stylesheet",text:"text/css",href:ke,"data-mce-fullpage":"1"}),delete Le[ke]}),jt.each(Le,function(At){At.parentNode.removeChild(At)})}},G=function(Ie){var Ve="",g,he="";if(Ye(Ie)){var ee=gn(Ie);Ve+='<?xml version="1.0" encoding="'+(ee||"ISO-8859-1")+`" ?>
`}return Ve+=de(Ie),Ve+=`
<html>
<head>
`,(g=Xe(Ie))&&(Ve+="<title>"+g+`</title>
`),(g=gn(Ie))&&(Ve+='<meta http-equiv="Content-Type" content="text/html; charset='+g+`" />
`),(g=Ct(Ie))&&(he+="font-family: "+g+";"),(g=ze(Ie))&&(he+="font-size: "+g+";"),(g=Bt(Ie))&&(he+="color: "+g+";"),Ve+=`</head>
<body`+(he?' style="'+he+'"':"")+`>
`,Ve},k=function(Ie,Ve,g,he){he.format==="html"&&!he.selection&&(!he.source_view||!ut(Ie))&&(he.content=bt(jt.trim(Ve)+`
`+jt.trim(he.content)+`
`+jt.trim(g)))},Ue=function(Ie,Ve,g){Ie.on("BeforeSetContent",function(he){qe(Ie,Ve,g,he)}),Ie.on("GetContent",function(he){k(Ie,Ve.get(),g.get(),he)})},St=function(Ie){Ie.ui.registry.addButton("fullpage",{tooltip:"Metadata and document properties",icon:"document-properties",onAction:function(){Ie.execCommand("mceFullPageProperties")}}),Ie.ui.registry.addMenuItem("fullpage",{text:"Metadata and document properties",icon:"document-properties",onAction:function(){Ie.execCommand("mceFullPageProperties")}})};function vt(){Ht.add("fullpage",function(Ie){var Ve=mn(""),g=mn("");nn(Ie,Ve),St(Ie),Ue(Ie,Ve,g)})}vt()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(){},Nt=function(z){return function(){return z}};function jt(z){for(var ge=[],ve=1;ve<arguments.length;ve++)ge[ve-1]=arguments[ve];return function(){for(var Ke=[],kt=0;kt<arguments.length;kt++)Ke[kt]=arguments[kt];var Dt=ge.concat(Ke);return z.apply(null,Dt)}}var wt=Nt(!1),$t=Nt(!0),Pt=tinymce.util.Tools.resolve("tinymce.util.Tools"),ut=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ye=function(z){return z.getParam("template_cdate_classes","cdate")},gn=function(z){return z.getParam("template_mdate_classes","mdate")},Ct=function(z){return z.getParam("template_selected_content_classes","selcontent")},ze=function(z){return z.getParam("template_preview_replace_values")},Bt=function(z){return z.getParam("content_style","","string")},Xe=function(z){return z.getParam("content_css_cors",!1,"boolean")},de=function(z){return z.getParam("template_replace_values")},st=function(z){return z.getParam("templates")},Ee=function(z){return z.getParam("template_cdate_format",z.translate("%Y-%m-%d"))},Gt=function(z){return z.getParam("template_mdate_format",z.translate("%Y-%m-%d"))},$=function(z){var ge=z.getParam("body_class","","hash");return ge[z.id]||""},_e=function(z){var ge=z.getParam("body_class","","string");return ge.indexOf("=")===-1?ge:$(z)},nn=function(z,ge){if(z=""+z,z.length<ge)for(var ve=0;ve<ge-z.length;ve++)z="0"+z;return z},cn=function(z,ge,ve){var Ke="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),kt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Dt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ln="January February March April May June July August September October November December".split(" ");return ve=ve||new Date,ge=ge.replace("%D","%m/%d/%Y"),ge=ge.replace("%r","%I:%M:%S %p"),ge=ge.replace("%Y",""+ve.getFullYear()),ge=ge.replace("%y",""+ve.getYear()),ge=ge.replace("%m",nn(ve.getMonth()+1,2)),ge=ge.replace("%d",nn(ve.getDate(),2)),ge=ge.replace("%H",""+nn(ve.getHours(),2)),ge=ge.replace("%M",""+nn(ve.getMinutes(),2)),ge=ge.replace("%S",""+nn(ve.getSeconds(),2)),ge=ge.replace("%I",""+((ve.getHours()+11)%12+1)),ge=ge.replace("%p",ve.getHours()<12?"AM":"PM"),ge=ge.replace("%B",""+z.translate(ln[ve.getMonth()])),ge=ge.replace("%b",""+z.translate(Dt[ve.getMonth()])),ge=ge.replace("%A",""+z.translate(kt[ve.getDay()])),ge=ge.replace("%a",""+z.translate(Ke[ve.getDay()])),ge=ge.replace("%%","%"),ge},bt=function(z,ge){return function(){var ve=st(z);if(typeof ve=="function"){ve(ge);return}typeof ve=="string"?ut.send({url:ve,success:function(Ke){ge(JSON.parse(Ke))}}):ge(ve)}},Vt=function(z,ge){return Pt.each(ge,function(ve,Ke){typeof ve=="function"&&(ve=ve(Ke)),z=z.replace(new RegExp("\\{\\$"+Ke+"\\}","g"),ve)}),z},Ut=function(z,ge){var ve=z.dom,Ke=de(z);Pt.each(ve.select("*",ge),function(kt){Pt.each(Ke,function(Dt,ln){ve.hasClass(kt,ln)&&typeof Ke[ln]=="function"&&Ke[ln](kt)})})},qe=function(z,ge){return new RegExp("\\b"+ge+"\\b","g").test(z.className)},G=function(z,ge,ve){var Ke,kt=z.dom,Dt=z.selection.getContent();ve=Vt(ve,de(z)),Ke=kt.create("div",null,ve);var ln=kt.select(".mceTmpl",Ke);ln&&ln.length>0&&(Ke=kt.create("div",null),Ke.appendChild(ln[0].cloneNode(!0))),Pt.each(kt.select("*",Ke),function(on){qe(on,Ye(z).replace(/\s+/g,"|"))&&(on.innerHTML=cn(z,Ee(z))),qe(on,gn(z).replace(/\s+/g,"|"))&&(on.innerHTML=cn(z,Gt(z))),qe(on,Ct(z).replace(/\s+/g,"|"))&&(on.innerHTML=Dt)}),Ut(z,Ke),z.execCommand("mceInsertContent",!1,Ke.innerHTML),z.addVisual()},k=function(z){z.addCommand("mceInsertTemplate",jt(G,z))},Ue=function(z){z.on("PreProcess",function(ge){var ve=z.dom,Ke=Gt(z);Pt.each(ve.select("div",ge.node),function(kt){ve.hasClass(kt,"mceTmpl")&&(Pt.each(ve.select("*",kt),function(Dt){ve.hasClass(Dt,gn(z).replace(/\s+/g,"|"))&&(Dt.innerHTML=cn(z,Ke))}),Ut(z,kt))})})},St=function(){return vt},vt=function(){var z=function(kt){return kt.isNone()},ge=function(kt){return kt()},ve=function(kt){return kt},Ke={fold:function(kt,Dt){return kt()},is:wt,isSome:wt,isNone:$t,getOr:ve,getOrThunk:ge,getOrDie:function(kt){throw new Error(kt||"error: getOrDie called on none.")},getOrNull:Nt(null),getOrUndefined:Nt(void 0),or:ve,orThunk:ge,map:St,each:Ht,bind:St,exists:wt,forall:$t,filter:St,equals:z,equals_:z,toArray:function(){return[]},toString:Nt("none()")};return Ke}(),Ie=function(z){var ge=Nt(z),ve=function(){return kt},Ke=function(Dt){return Dt(z)},kt={fold:function(Dt,ln){return ln(z)},is:function(Dt){return z===Dt},isSome:$t,isNone:wt,getOr:ge,getOrThunk:ge,getOrDie:ge,getOrNull:ge,getOrUndefined:ge,or:ve,orThunk:ve,map:function(Dt){return Ie(Dt(z))},each:function(Dt){Dt(z)},bind:Ke,exists:Ke,forall:Ke,filter:function(Dt){return Dt(z)?kt:vt},toArray:function(){return[z]},toString:function(){return"some("+z+")"},equals:function(Dt){return Dt.is(z)},equals_:function(Dt,ln){return Dt.fold(wt,function(on){return ln(z,on)})}};return kt},Ve=function(z){return z==null?vt:Ie(z)},g={some:Ie,none:St,from:Ve},he=function(z,ge){for(var ve=z.length,Ke=new Array(ve),kt=0;kt<ve;kt++){var Dt=z[kt];Ke[kt]=ge(Dt,kt)}return Ke},ee=function(z,ge,ve){for(var Ke=0,kt=z.length;Ke<kt;Ke++){var Dt=z[Ke];if(ge(Dt,Ke))return g.some(Dt);if(ve(Dt,Ke))break}return g.none()},Qe=function(z,ge){return ee(z,ge,wt)},Qt=tinymce.util.Tools.resolve("tinymce.Env"),Jt=tinymce.util.Tools.resolve("tinymce.util.Promise"),Tt=Object.hasOwnProperty,Ot=function(z,ge){return an(z,ge)?g.from(z[ge]):g.none()},an=function(z,ge){return Tt.call(z,ge)},kn={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},ne=function(z){return z.replace(/["'<>&]/g,function(ge){return Ot(kn,ge).getOr(ge)})},Le=function(z,ge){if(ge.indexOf("<html>")===-1){var ve="",Ke=Bt(z),kt=Xe(z)?' crossorigin="anonymous"':"";Pt.each(z.contentCSS,function(rt){ve+='<link type="text/css" rel="stylesheet" href="'+z.documentBaseURI.toAbsolute(rt)+'"'+kt+">"}),Ke&&(ve+='<style type="text/css">'+Ke+"</style>");var Dt=_e(z),ln=z.dom.encode,on=Qt.mac?"e.metaKey":"e.ctrlKey && !e.altKey",Gn='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+on+")) {e.preventDefault();}}}, false);<\/script> ",Qn=z.getBody().dir,Sr=Qn?' dir="'+ln(Qn)+'"':"";ge='<!DOCTYPE html><html><head><base href="'+ln(z.documentBaseURI.getURI())+'">'+ve+Gn+'</head><body class="'+ln(Dt)+'"'+Sr+">"+ge+"</body></html>"}return Vt(ge,ze(z))},At=function(z,ge){var ve=function(){if(!ge||ge.length===0){var rt=z.translate("No templates defined.");return z.notificationManager.open({text:rt,type:"info"}),g.none()}return g.from(Pt.map(ge,function($e,ct){var ht=function(dt){return dt.url!==void 0};return{selected:ct===0,text:$e.title,value:{url:ht($e)?g.from($e.url):g.none(),content:ht($e)?g.none():g.from($e.content),description:$e.description}}}))},Ke=function(rt){return he(rt,function($e){return{text:$e.text,value:$e.text}})},kt=function(rt,$e){return Qe(rt,function(ct){return ct.text===$e})},Dt=function(rt){z.windowManager.alert("Could not load the specified template.",function(){return rt.focus("template")})},ln=function(rt){return new Jt(function($e,ct){rt.value.url.fold(function(){return $e(rt.value.content.getOr(""))},function(ht){return ut.send({url:ht,success:function(dt){$e(dt)},error:function(dt){ct(dt)}})})})},on=function(rt,$e){return function(ct,ht){if(ht.name==="template"){var dt=ct.getData().template;kt(rt,dt).each(function(Xt){ct.block("Loading..."),ln(Xt).then(function(Sn){$e(ct,Xt,Sn)}).catch(function(){$e(ct,Xt,""),ct.disable("save"),Dt(ct)})})}}},Gn=function(rt){return function($e){var ct=$e.getData();kt(rt,ct.template).each(function(ht){ln(ht).then(function(dt){G(z,!1,dt),$e.close()}).catch(function(){$e.disable("save"),Dt($e)})})}},Qn=function(rt){var $e=Ke(rt),ct=function(Xt,Sn){return{title:"Insert Template",size:"large",body:{type:"panel",items:Xt},initialData:Sn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Gn(rt),onChange:on(rt,ht)}},ht=function(Xt,Sn,yn){var Lt=Le(z,yn),_n=[{type:"selectbox",name:"template",label:"Templates",items:$e},{type:"htmlpanel",html:'<p aria-live="polite">'+ne(Sn.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],Nn={template:Sn.text,preview:Lt};Xt.unblock(),Xt.redial(ct(_n,Nn)),Xt.focus("template")},dt=z.windowManager.open(ct([],{template:"",preview:""}));dt.block("Loading..."),ln(rt[0]).then(function(Xt){ht(dt,rt[0],Xt)}).catch(function(){ht(dt,rt[0],""),dt.disable("save"),Dt(dt)})},Sr=ve();Sr.each(Qn)},ke=function(z){return function(ge){At(z,ge)}},Y=function(z){z.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:bt(z,ke(z))}),z.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:bt(z,ke(z))})};function Se(){mn.add("template",function(z){Y(z),k(z),Ue(z)})}Se()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager");function Ht(){mn.add("contextmenu",function(){console.warn("Context menu plugin is now built in to the core editor, please remove it from your editor configuration")})}Ht()})();(function(){var mn=function(C){var j=C,ye=function(){return j},we=function(nt){j=nt};return{get:ye,set:we}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),Nt=function(C){return C.hasPlugin("powerpaste",!0)?(typeof window.console!="undefined"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},jt=function(C,j){return{clipboard:C,quirks:j}},wt=function(C){return function(j){return typeof j===C}},$t=function(C){return C==null},Pt=function(C){return!$t(C)},ut=wt("function"),Ye=function(){},gn=function(C){return function(){return C}},Ct=gn(!1),ze=gn(!0),Bt=function(){return Xe},Xe=function(){var C=function(nt){return nt.isNone()},j=function(nt){return nt()},ye=function(nt){return nt},we={fold:function(nt,b){return nt()},is:Ct,isSome:Ct,isNone:ze,getOr:ye,getOrThunk:j,getOrDie:function(nt){throw new Error(nt||"error: getOrDie called on none.")},getOrNull:gn(null),getOrUndefined:gn(void 0),or:ye,orThunk:j,map:Bt,each:Ye,bind:Bt,exists:Ct,forall:ze,filter:Bt,equals:C,equals_:C,toArray:function(){return[]},toString:gn("none()")};return we}(),de=function(C){var j=gn(C),ye=function(){return nt},we=function(b){return b(C)},nt={fold:function(b,P){return P(C)},is:function(b){return C===b},isSome:ze,isNone:Ct,getOr:j,getOrThunk:j,getOrDie:j,getOrNull:j,getOrUndefined:j,or:ye,orThunk:ye,map:function(b){return de(b(C))},each:function(b){b(C)},bind:we,exists:we,forall:we,filter:function(b){return b(C)?nt:Xe},toArray:function(){return[C]},toString:function(){return"some("+C+")"},equals:function(b){return b.is(C)},equals_:function(b,P){return b.fold(Ct,function(L){return P(C,L)})}};return nt},st=function(C){return C==null?Xe:de(C)},Ee={some:de,none:Bt,from:st},Gt=Array.prototype.slice,$=function(C,j){for(var ye=0,we=C.length;ye<we;ye++){var nt=C[ye];if(j(nt,ye))return!0}return!1},_e=function(C,j){for(var ye=C.length,we=new Array(ye),nt=0;nt<ye;nt++){var b=C[nt];we[nt]=j(b,nt)}return we},nn=function(C,j){for(var ye=0,we=C.length;ye<we;ye++){var nt=C[ye];j(nt,ye)}},cn=function(C,j){for(var ye=[],we=0,nt=C.length;we<nt;we++){var b=C[we];j(b,we)&&ye.push(b)}return ye},bt=function(C,j,ye){return nn(C,function(we){ye=j(ye,we)}),ye},Vt=ut(Array.from)?Array.from:function(C){return Gt.call(C)},Ut=function(){var C=mn(Ee.none()),j=function(){return C.set(Ee.none())},ye=function(b){return C.set(Ee.some(b))},we=function(){return C.get().isSome()},nt=function(b){return C.get().each(b)};return{clear:j,set:ye,isSet:we,on:nt}},qe=function(C,j,ye){return j===""||C.length>=j.length&&C.substr(ye,ye+j.length)===j},G=function(C,j){return qe(C,j,0)},k=function(C,j){return qe(C,j,C.length-j.length)},Ue=function(C,j){return j<=0?"":new Array(j+1).join(C)},St=tinymce.util.Tools.resolve("tinymce.Env"),vt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ie=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ve=tinymce.util.Tools.resolve("tinymce.util.VK"),g=function(C,j,ye,we){return C.fire("PastePreProcess",{content:j,internal:ye,wordContent:we})},he=function(C,j,ye,we){return C.fire("PastePostProcess",{node:j,internal:ye,wordContent:we})},ee=function(C,j){return C.fire("PastePlainTextToggle",{state:j})},Qe=function(C,j){return C.fire("paste",{ieFake:j})},Qt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Jt=function(C){return C.getParam("paste_block_drop",!1)},Tt=function(C){return C.getParam("paste_data_images",!1)},Ot=function(C){return C.getParam("paste_filter_drop",!0)},an=function(C){return C.getParam("paste_preprocess")},kn=function(C){return C.getParam("paste_postprocess")},ne=function(C){return C.getParam("paste_webkit_styles")},Le=function(C){return C.getParam("paste_remove_styles_if_webkit",!0)},At=function(C){return C.getParam("paste_merge_formats",!0)},ke=function(C){return C.getParam("smart_paste",!0)},Y=function(C){return C.getParam("paste_as_text",!1)},Se=function(C){return C.getParam("paste_retain_style_properties")},z=function(C){var j="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return C.getParam("paste_word_valid_elements",j)},ge=function(C){return C.getParam("paste_convert_word_fake_lists",!0)},ve=function(C){return C.getParam("paste_enable_default_filters",!0)},Ke=function(C){return C.getParam("validate")},kt=function(C){return C.getParam("allow_html_data_urls",!1,"boolean")},Dt=function(C){return C.getParam("paste_data_images",!1,"boolean")},ln=function(C){return C.getParam("images_dataimg_filter")},on=function(C){return C.getParam("images_reuse_filename")},Gn=function(C){return C.getParam("forced_root_block")},Qn=function(C){return C.getParam("forced_root_block_attrs")},Sr=function(C){return C.getParam("paste_tab_spaces",4,"number")},rt=function(C){var j="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return Qt.explode(C.getParam("images_file_types",j,"string"))},$e="x-tinymce/html",ct="<!-- "+$e+" -->",ht=function(C){return ct+C},dt=function(C){return C.replace(ct,"")},Xt=function(C){return C.indexOf(ct)!==-1},Sn=function(){return $e},yn=tinymce.util.Tools.resolve("tinymce.html.Entities"),Lt=function(C){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(C)},_n=function(C){return C.replace(/\r?\n/g,"<br>")},Nn=function(C,j){var ye,we=[],nt="<"+C;if(typeof j=="object"){for(ye in j)j.hasOwnProperty(ye)&&we.push(ye+'="'+yn.encodeAllRaw(j[ye])+'"');we.length&&(nt+=" "+we.join(" "))}return nt+">"},gr=function(C,j,ye){var we=C.split(/\n\n/),nt=Nn(j,ye),b="</"+j+">",P=Qt.map(we,function(te){return te.split(/\n/).join("<br />")}),L=function(te){return nt+te+b};return P.length===1?P[0]:Qt.map(P,L).join("")},Dr=function(C,j,ye){return j?gr(C,j===!0?"p":j,ye):_n(C)},lr=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Fr=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Pr="\xA0",ue=tinymce.util.Tools.resolve("tinymce.html.Node"),Ne=tinymce.util.Tools.resolve("tinymce.html.Schema"),mt=function(C,j){return Qt.each(j,function(ye){ye.constructor===RegExp?C=C.replace(ye,""):C=C.replace(ye[0],ye[1])}),C},rn=function(C){var j=Ne(),ye=lr({},j),we="",nt=j.getShortEndedElements(),b=Qt.makeMap("script noscript style textarea video audio iframe object"," "),P=j.getBlockElements(),L=function(te){var q=te.name,gt=te;if(q==="br"){we+=`
`;return}if(q!=="wbr"){if(nt[q]&&(we+=" "),b[q]){we+=" ";return}if(te.type===3&&(we+=te.value),!te.shortEnded&&(te=te.firstChild))do L(te);while(te=te.next);P[q]&&gt.next&&(we+=`
`,q==="p"&&(we+=`
`))}};return C=mt(C,[/<!\[[^\]]+\]>/g]),L(ye.parse(C)),we},Ft=function(C){var j=function(ye,we,nt){return!we&&!nt?" ":Pr};return C=mt(C,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,j],/<br class="Apple-interchange-newline">/g,/<br>$/i]),C},pn=function(C){var j=0;return function(){return C+j++}},Ar=function(C){var j=C.toLowerCase(),ye={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Qt.hasOwn(ye,j)?"image/"+ye[j]:"image/"+j},Vn=function(C){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(C)||/class="OutlineElement/.test(C)||/id="?docs\-internal\-guid\-/.test(C)},qn=function(C){var j,ye=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return C=C.replace(/^[\u00a0 ]+/,""),Qt.each(ye,function(we){if(we.test(C))return j=!0,!1}),j},sa=function(C){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(C)},Jr=function(C){for(var j,ye,we=1,nt=function(Pn){var Xn="";if(Pn.type===3)return Pn.value;if(Pn=Pn.firstChild)do Xn+=nt(Pn);while(Pn=Pn.next);return Xn},b=function(Pn,Xn){if(Pn.type===3&&Xn.test(Pn.value))return Pn.value=Pn.value.replace(Xn,""),!1;if(Pn=Pn.firstChild)do if(!b(Pn,Xn))return!1;while(Pn=Pn.next);return!0},P=function(Pn){if(Pn._listIgnore){Pn.remove();return}if(Pn=Pn.firstChild)do P(Pn);while(Pn=Pn.next)},L=function(Pn,Xn,La){var so=Pn._listLevel||we;so!==we&&(so<we?j&&(j=j.parent.parent):(ye=j,j=null)),!j||j.name!==Xn?(ye=ye||j,j=new ue(Xn,1),La>1&&j.attr("start",""+La),Pn.wrap(j)):j.append(Pn),Pn.name="li",so>we&&ye&&ye.lastChild.append(j),we=so,P(Pn),b(Pn,/^\u00a0+/),b(Pn,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),b(Pn,/^\u00a0+/)},te=[],q=C.firstChild;typeof q!="undefined"&&q!==null;)if(te.push(q),q=q.walk(),q!==null)for(;typeof q!="undefined"&&q.parent!==C;)q=q.walk();for(var gt=0;gt<te.length;gt++)if(C=te[gt],C.name==="p"&&C.firstChild){var vn=nt(C);if(sa(vn)){L(C,"ul");continue}if(qn(vn)){var Mt=/([0-9]+)\./.exec(vn),or=1;Mt&&(or=parseInt(Mt[1],10)),L(C,"ol",or);continue}if(C._listLevel){L(C,"ul",1);continue}j=null}else ye=j,j=null},oa=function(C,j,ye,we){var nt={},b,P=C.dom.parseStyle(we);return Qt.each(P,function(L,te){switch(te){case"mso-list":b=/\w+ \w+([0-9]+)/i.exec(we),b&&(ye._listLevel=parseInt(b[1],10)),/Ignore/i.test(L)&&ye.firstChild&&(ye._listIgnore=!0,ye.firstChild._listIgnore=!0);break;case"horiz-align":te="text-align";break;case"vert-align":te="vertical-align";break;case"font-color":case"mso-foreground":te="color";break;case"mso-background":case"mso-highlight":te="background";break;case"font-weight":case"font-style":L!=="normal"&&(nt[te]=L);return;case"mso-element":if(/^(comment|comment-list)$/i.test(L)){ye.remove();return}break}if(te.indexOf("mso-comment")===0){ye.remove();return}te.indexOf("mso-")!==0&&(Se(C)==="all"||j&&j[te])&&(nt[te]=L)}),/(bold)/i.test(nt["font-weight"])&&(delete nt["font-weight"],ye.wrap(new ue("b",1))),/(italic)/i.test(nt["font-style"])&&(delete nt["font-style"],ye.wrap(new ue("i",1))),nt=C.dom.serializeStyle(nt,ye.name),nt||null},Ea=function(C,j){var ye,we=Se(C);we&&(ye=Qt.makeMap(we.split(/[, ]/))),j=mt(j,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Pr],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(te,q){return q.length>0?q.replace(/./," ").slice(Math.floor(q.length/2)).split("").join(Pr):""}]]);var nt=z(C),b=Ne({valid_elements:nt,valid_children:"-li[p]"});Qt.each(b.elements,function(te){te.attributes.class||(te.attributes.class={},te.attributesOrder.push("class")),te.attributes.style||(te.attributes.style={},te.attributesOrder.push("style"))});var P=lr({},b);P.addAttributeFilter("style",function(te){for(var q=te.length,gt;q--;)gt=te[q],gt.attr("style",oa(C,ye,gt,gt.attr("style"))),gt.name==="span"&&gt.parent&&!gt.attributes.length&&gt.unwrap()}),P.addAttributeFilter("class",function(te){for(var q=te.length,gt,vn;q--;)gt=te[q],vn=gt.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(vn)&&gt.remove(),gt.attr("class",null)}),P.addNodeFilter("del",function(te){for(var q=te.length;q--;)te[q].remove()}),P.addNodeFilter("a",function(te){for(var q=te.length,gt,vn,Mt;q--;){if(gt=te[q],vn=gt.attr("href"),Mt=gt.attr("name"),vn&&vn.indexOf("#_msocom_")!==-1){gt.remove();continue}if(vn&&vn.indexOf("file://")===0&&(vn=vn.split("#")[1],vn&&(vn="#"+vn)),!vn&&!Mt)gt.unwrap();else{if(Mt&&!/^_?(?:toc|edn|ftn)/i.test(Mt)){gt.unwrap();continue}gt.attr({href:vn,name:Mt})}}});var L=P.parse(j);return ge(C)&&Jr(L),j=Fr({validate:Ke(C)},b).serialize(L),j},Vr=function(C,j){return ve(C)?Ea(C,j):j},Qr=function(C,j){var ye=lr({},C.schema);ye.addNodeFilter("meta",function(nt){Qt.each(nt,function(b){b.remove()})});var we=ye.parse(j,{forced_root_block:!1,isRootContent:!0});return Fr({validate:Ke(C)},C.schema).serialize(we)},ia=function(C,j){return{content:C,cancelled:j}},Zt=function(C,j,ye,we){var nt=C.dom.create("div",{style:"display:none"},j),b=he(C,nt,ye,we);return ia(b.node.innerHTML,b.isDefaultPrevented())},Cr=function(C,j,ye,we){var nt=g(C,j,ye,we),b=Qr(C,nt.content);return C.hasEventListeners("PastePostProcess")&&!nt.isDefaultPrevented()?Zt(C,b,ye,we):ia(b,nt.isDefaultPrevented())},_r=function(C,j,ye){var we=Vn(j),nt=we?Vr(C,j):j;return Cr(C,nt,ye,we)},ua=function(C,j){return C.insertContent(j,{merge:At(C),paste:!0}),!0},xr=function(C){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(C)},Gr=function(C,j){return xr(j)&&$(rt(C),function(ye){return k(j.toLowerCase(),"."+ye.toLowerCase())})},da=function(C,j,ye){return C.undoManager.extra(function(){ye(C,j)},function(){C.insertContent('<img src="'+j+'">')}),!0},Ta=function(C,j,ye){return C.undoManager.extra(function(){ye(C,j)},function(){C.execCommand("mceInsertLink",!1,j)}),!0},ka=function(C,j,ye){return C.selection.isCollapsed()===!1&&xr(j)?Ta(C,j,ye):!1},Fn=function(C,j,ye){return Gr(C,j)?da(C,j,ye):!1},ma=function(C,j){Qt.each([ka,Fn,ua],function(ye){return ye(C,j,ua)!==!0})},qr=function(C,j,ye){ye||ke(C)===!1?ua(C,j):ma(C,j)},ga=function(C){return" \f	\v".indexOf(C)!==-1},Ma=function(C){return C===`
`||C==="\r"},W=function(C,j){return j<C.length&&j>=0?Ma(C[j]):!1},ae=function(C,j){var ye=Ue(" ",Sr(C)),we=j.replace(/\t/g,ye),nt=bt(we,function(b,P){return ga(P)||P===Pr?b.pcIsSpace||b.str===""||b.str.length===we.length-1||W(we,b.str.length+1)?{pcIsSpace:!1,str:b.str+Pr}:{pcIsSpace:!0,str:b.str+" "}:{pcIsSpace:Ma(P),str:b.str+P}},{pcIsSpace:!1,str:""});return nt.str},be=function(C,j,ye,we){var nt=_r(C,j,ye);nt.cancelled===!1&&qr(C,nt.content,we)},Oe=function(C,j,ye){var we=ye||Xt(j);be(C,dt(j),we,!1)},F=function(C,j){var ye=C.dom.encode(j).replace(/\r\n/g,`
`),we=ae(C,ye),nt=Dr(we,Gn(C),Qn(C));be(C,nt,!1,!0)},V=function(C){var j={},ye="data:text/mce-internal,";if(C){if(C.getData){var we=C.getData("Text");we&&we.length>0&&we.indexOf(ye)===-1&&(j["text/plain"]=we)}if(C.types)for(var nt=0;nt<C.types.length;nt++){var b=C.types[nt];try{j[b]=C.getData(b)}catch{j[b]=""}}}return j},pe=function(C,j){return V(j.clipboardData||C.getDoc().dataTransfer)},Me=function(C,j){return j in C&&C[j].length>0},Re=function(C){return Me(C,"text/html")||Me(C,"text/plain")},pt=function(C){var j=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(C);return j?{type:j[1],data:decodeURIComponent(j[2])}:{type:null,data:null}},O=function(C,j){var ye=ln(C);return ye?ye(j):!0},H=function(C,j){var ye=j.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Pt(ye)?C.dom.encode(ye[1]):null},Z=pn("mceclip"),U=function(C,j){var ye=pt(j.uri),we=ye.data,nt=ye.type,b=Z(),P=j.blob,L=new Image;if(L.src=j.uri,O(C,L)){var te=C.editorUpload.blobCache,q=void 0,gt=te.getByData(we,nt);if(gt)q=gt;else{var vn=on(C)&&Pt(P.name),Mt=vn?H(C,P.name):b,or=vn?P.name:void 0;q=te.create(b,P,we,Mt,or),te.add(q)}Oe(C,'<img src="'+q.blobUri()+'">',!1)}else Oe(C,'<img src="'+j.uri+'">',!1)},Ce=function(C){return C.type==="paste"},Be=function(C){return Pt(C.getAsFile)},It=function(C){return Ie.all(_e(C,function(j){return new Ie(function(ye){var we=Be(j)?j.getAsFile():j,nt=new window.FileReader;nt.onload=function(){ye({blob:we,uri:nt.result})},nt.readAsDataURL(we)})}))},Kt=function(C){var j=rt(C);return function(ye){return G(ye.type,"image/")&&$(j,function(we){return Ar(we)===ye.type})}},it=function(C,j){var ye=j.items?_e(Vt(j.items),function(nt){return nt.getAsFile()}):[],we=j.files?Vt(j.files):[];return cn(ye.length>0?ye:we,Kt(C))},en=function(C,j,ye){var we=Ce(j)?j.clipboardData:j.dataTransfer;if(Dt(C)&&we){var nt=it(C,we);if(nt.length>0)return j.preventDefault(),It(nt).then(function(b){ye&&C.selection.setRng(ye),nn(b,function(P){U(C,P)})}),!0}return!1},Kn=function(C){var j=C.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&j&&j.items&&j.items.length===0},Rr=function(C){return Ve.metaKeyPressed(C)&&C.keyCode===86||C.shiftKey&&C.keyCode===45},Wn=function(C,j,ye){var we=Ut(),nt=Ut(),b;C.on("keyup",nt.clear),C.on("keydown",function(te){var q=function(gt){Rr(gt)&&!gt.isDefaultPrevented()&&j.remove()};if(Rr(te)&&!te.isDefaultPrevented()){if(b=te.shiftKey&&te.keyCode===86,b&&St.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(te.stopImmediatePropagation(),we.set(te),nt.set(!0),St.ie&&b){te.preventDefault(),Qe(C,!0);return}j.remove(),j.create(),C.once("keyup",q),C.once("paste",function(){C.off("keyup",q)})}});var P=function(te,q,gt,vn,Mt){var or;Me(q,"text/html")?or=q["text/html"]:(or=j.getHtml(),Mt=Mt||Xt(or),j.isDefaultContent(or)&&(vn=!0)),or=Ft(or),j.remove();var Pn=Mt===!1&&Lt(or),Xn=xr(or);if((!or.length||Pn&&!Xn)&&(vn=!0),(vn||Xn)&&(Me(q,"text/plain")&&Pn?or=q["text/plain"]:or=rn(or)),j.isDefaultContent(or)){gt||te.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}vn?F(te,or):Oe(te,or,Mt)},L=function(){return j.getLastRng()||C.selection.getRng()};C.on("paste",function(te){var q=we.isSet()||nt.isSet();q&&we.clear();var gt=pe(C,te),vn=ye.get()==="text"||b,Mt=Me(gt,Sn());if(b=!1,te.isDefaultPrevented()||Kn(te)){j.remove();return}if(!Re(gt)&&en(C,te,L())){j.remove();return}q||te.preventDefault(),St.ie&&(!q||te.ieFake)&&!Me(gt,"text/html")&&(j.create(),C.dom.bind(j.getEl(),"paste",function(or){or.stopPropagation()}),C.getDoc().execCommand("Paste",!1,null),gt["text/html"]=j.getHtml()),Me(gt,"text/html")?(te.preventDefault(),Mt||(Mt=Xt(gt["text/html"])),P(C,gt,q,vn,Mt)):vt.setEditorTimeout(C,function(){P(C,gt,q,vn,Mt)},0)})},er=function(C,j,ye){Wn(C,j,ye);var we;C.parser.addNodeFilter("img",function(nt,b,P){var L=function(Mt){return Mt.data&&Mt.data.paste===!0},te=function(Mt){!Mt.attr("data-mce-object")&&we!==St.transparentSrc&&Mt.remove()},q=function(Mt){return Mt.indexOf("webkit-fake-url")===0},gt=function(Mt){return Mt.indexOf("data:")===0};if(!Dt(C)&&L(P))for(var vn=nt.length;vn--;)we=nt[vn].attr("src"),!!we&&(q(we)||!kt(C)&&gt(we))&&te(nt[vn])})},ya=function(C){return St.ie&&C.inline?document.body:C.getBody()},zr=function(C){return ya(C)!==C.getBody()},K=function(C,j,ye){zr(C)&&C.dom.bind(j,"paste keyup",function(we){ha(C,ye)||C.fire("paste")})},fe=function(C,j,ye){var we=C.dom,nt=C.getBody();j.set(C.selection.getRng());var b=C.dom.add(ya(C),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},ye);(St.ie||St.gecko)&&we.setStyle(b,"left",we.getStyle(nt,"direction",!0)==="rtl"?65535:-65535),we.bind(b,"beforedeactivate focusin focusout",function(P){P.stopPropagation()}),K(C,b,ye),b.focus(),C.selection.select(b,!0)},Je=function(C,j){if(Et(C)){for(var ye=void 0,we=j.get();ye=C.dom.get("mcepastebin");)C.dom.remove(ye),C.dom.unbind(ye);we&&C.selection.setRng(we)}j.set(null)},Et=function(C){return C.dom.get("mcepastebin")},Yt=function(C){var j=function(L,te){L.appendChild(te),C.dom.remove(te,!0)},ye=Qt.grep(ya(C).childNodes,function(L){return L.id==="mcepastebin"}),we=ye.shift();Qt.each(ye,function(L){j(we,L)});for(var nt=C.dom.select("div[id=mcepastebin]",we),b=nt.length-1;b>=0;b--){var P=C.dom.create("div");we.insertBefore(P,nt[b]),j(P,nt[b])}return we?we.innerHTML:""},En=function(C){return C.get()},Er=function(C,j){return j===C},kr=function(C){return C&&C.id==="mcepastebin"},ha=function(C,j){var ye=Et(C);return kr(ye)&&Er(j,ye.innerHTML)},ea=function(C){var j=mn(null),ye="%MCEPASTEBIN%";return{create:function(){return fe(C,j,ye)},remove:function(){return Je(C,j)},getEl:function(){return Et(C)},getHtml:function(){return Yt(C)},getLastRng:function(){return En(j)},isDefault:function(){return ha(C,ye)},isDefaultContent:function(we){return Er(ye,we)}}},M=function(C,j){var ye=ea(C);return C.on("PreInit",function(){return er(C,ye,j)}),{pasteFormat:j,pasteHtml:function(we,nt){return Oe(C,we,nt)},pasteText:function(we){return F(C,we)},pasteImageData:function(we,nt){return en(C,we,nt)},getDataTransferItems:V,hasHtmlOrText:Re,hasContentType:Me}},oe=function(C,j){j.pasteFormat.get()==="text"?(j.pasteFormat.set("html"),ee(C,!1)):(j.pasteFormat.set("text"),ee(C,!0)),C.focus()},ce=function(C,j){C.addCommand("mceTogglePlainTextPaste",function(){oe(C,j)}),C.addCommand("mceInsertClipboardContent",function(ye,we){we.content&&j.pasteHtml(we.content,we.internal),we.text&&j.pasteText(we.text)})},ie=function(C){return St.iOS===!1&&typeof(C==null?void 0:C.setData)=="function"},yt=function(C,j,ye){if(ie(C))try{return C.clearData(),C.setData("text/html",j),C.setData("text/plain",ye),C.setData(Sn(),j),!0}catch{return!1}else return!1},bn=function(C,j,ye,we){yt(C.clipboardData,j.html,j.text)?(C.preventDefault(),we()):ye(j.html,we)},tr=function(C){return function(j,ye){var we=ht(j),nt=C.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),b=C.dom.create("div",{contenteditable:"true"},we);C.dom.setStyles(nt,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),nt.appendChild(b),C.dom.add(C.getBody(),nt);var P=C.selection.getRng();b.focus();var L=C.dom.createRng();L.selectNodeContents(b),C.selection.setRng(L),vt.setTimeout(function(){C.selection.setRng(P),nt.parentNode.removeChild(nt),ye()},0)}},hr=function(C){return{html:C.selection.getContent({contextual:!0}),text:C.selection.getContent({format:"text"})}},Dn=function(C){return!!C.dom.getParent(C.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",C.getBody())},ta=function(C){return!C.selection.isCollapsed()||Dn(C)},Hr=function(C){return function(j){ta(C)&&bn(j,hr(C),tr(C),function(){if(St.browser.isChrome()||St.browser.isFirefox()){var ye=C.selection.getRng();vt.setEditorTimeout(C,function(){C.selection.setRng(ye),C.execCommand("Delete")},0)}else C.execCommand("Delete")})}},Br=function(C){return function(j){ta(C)&&bn(j,hr(C),tr(C),Ye)}},ii=function(C){C.on("cut",Hr(C)),C.on("copy",Br(C))},Ai=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),qo=function(C,j){return Ai.getCaretRangeFromPoint(j.clientX,j.clientY,C.getDoc())},mu=function(C){var j=C["text/plain"];return j?j.indexOf("file://")===0:!1},ar=function(C,j){C.focus(),C.selection.setRng(j)},gu=function(C,j,ye){Jt(C)&&C.on("dragend dragover draggesture dragdrop drop drag",function(we){we.preventDefault(),we.stopPropagation()}),Tt(C)||C.on("drop",function(we){var nt=we.dataTransfer;nt&&nt.files&&nt.files.length>0&&we.preventDefault()}),C.on("drop",function(we){var nt=qo(C,we);if(!(we.isDefaultPrevented()||ye.get())){var b=j.getDataTransferItems(we.dataTransfer),P=j.hasContentType(b,Sn());if(!((!j.hasHtmlOrText(b)||mu(b))&&j.pasteImageData(we,nt))&&nt&&Ot(C)){var L=b["mce-internal"]||b["text/html"]||b["text/plain"];L&&(we.preventDefault(),vt.setEditorTimeout(C,function(){C.undoManager.transact(function(){b["mce-internal"]&&C.execCommand("Delete"),ar(C,nt),L=Ft(L),b["text/html"]?j.pasteHtml(L,P):j.pasteText(L)})}))}}}),C.on("dragstart",function(we){ye.set(!0)}),C.on("dragover dragend",function(we){Tt(C)&&ye.get()===!1&&(we.preventDefault(),ar(C,qo(C,we))),we.type==="dragend"&&ye.set(!1)})},Ko=function(C){var j=C.plugins.paste,ye=an(C);ye&&C.on("PastePreProcess",function(nt){ye.call(j,j,nt)});var we=kn(C);we&&C.on("PastePostProcess",function(nt){we.call(j,j,nt)})},hu=function(C,j){C.on("PastePreProcess",function(ye){ye.content=j(C,ye.content,ye.internal,ye.wordContent)})},Xo=function(C,j){C.on("PastePostProcess",function(ye){j(C,ye.node)})},fr=function(C,j){if(!Vn(j))return j;var ye=[];Qt.each(C.schema.getBlockElements(),function(nt,b){ye.push(b)});var we=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+ye.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return j=mt(j,[[we,"$1"]]),j=mt(j,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),j},Co=function(C,j,ye,we){if(we||ye)return j;var nt=ne(C),b;if(Le(C)===!1||nt==="all")return j;if(nt&&(b=nt.split(/[, ]/)),b){var P=C.dom,L=C.selection.getNode();j=j.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(te,q,gt,vn){var Mt=P.parseStyle(P.decode(gt)),or={};if(b==="none")return q+vn;for(var Pn=0;Pn<b.length;Pn++){var Xn=Mt[b[Pn]],La=P.getStyle(L,b[Pn],!0);/color/.test(b[Pn])&&(Xn=P.toHex(Xn),La=P.toHex(La)),La!==Xn&&(or[b[Pn]]=Xn)}return or=P.serializeStyle(or,"span"),or?q+' style="'+or+'"'+vn:q+vn})}else j=j.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return j=j.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(te,q,gt,vn){return q+' style="'+gt+'"'+vn}),j},Kr=function(C,j){C.$("a",j).find("font,u").each(function(ye,we){C.dom.remove(we,!0)})},Do=function(C){St.webkit&&hu(C,Co),St.ie&&(hu(C,fr),Xo(C,Kr))},Fo=function(C,j){return function(ye){ye.setActive(j.pasteFormat.get()==="text");var we=function(nt){return ye.setActive(nt.state)};return C.on("PastePlainTextToggle",we),function(){return C.off("PastePlainTextToggle",we)}}},_a=function(C,j){C.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return C.execCommand("mceTogglePlainTextPaste")},onSetup:Fo(C,j)}),C.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return C.execCommand("mceTogglePlainTextPaste")},onSetup:Fo(C,j)})};function bc(){Ht.add("paste",function(C){if(Nt(C)===!1){var j=mn(!1),ye=mn(Y(C)?"text":"html"),we=M(C,ye),nt=Do(C);return _a(C,we),ce(C,we),Ko(C),ii(C),gu(C,we,j),jt(we,nt)}})}bc()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager");function Ht(){mn.add("textcolor",function(){console.warn("Text color plugin is now built in to the core editor, please remove it from your editor configuration")})}Ht()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager");function Ht(){mn.add("colorpicker",function(){console.warn("Color picker plugin is now built in to the core editor, please remove it from your editor configuration")})}Ht()})();(function(){var mn=function(O){var H=O,Z=function(){return H},U=function(Ce){H=Ce};return{get:Z,set:U}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),Nt=function(){return Nt=Object.assign||function(H){for(var Z,U=1,Ce=arguments.length;U<Ce;U++){Z=arguments[U];for(var Be in Z)Object.prototype.hasOwnProperty.call(Z,Be)&&(H[Be]=Z[Be])}return H},Nt.apply(this,arguments)};function jt(){for(var O=0,H=0,Z=arguments.length;H<Z;H++)O+=arguments[H].length;for(var U=Array(O),Ce=0,H=0;H<Z;H++)for(var Be=arguments[H],It=0,Kt=Be.length;It<Kt;It++,Ce++)U[Ce]=Be[It];return U}var wt=function(O){var H=typeof O;return O===null?"null":H==="object"&&(Array.prototype.isPrototypeOf(O)||O.constructor&&O.constructor.name==="Array")?"array":H==="object"&&(String.prototype.isPrototypeOf(O)||O.constructor&&O.constructor.name==="String")?"string":H},$t=function(O){return function(H){return wt(H)===O}},Pt=$t("string"),ut=$t("object"),Ye=$t("array"),gn=function(){},Ct=function(O){return function(){return O}},ze=function(O){return O},Bt=function(O){return function(){throw new Error(O)}},Xe=Ct(!1),de=Ct(!0),st=function(){return Ee},Ee=function(){var O=function(Ce){return Ce.isNone()},H=function(Ce){return Ce()},Z=function(Ce){return Ce},U={fold:function(Ce,Be){return Ce()},is:Xe,isSome:Xe,isNone:de,getOr:Z,getOrThunk:H,getOrDie:function(Ce){throw new Error(Ce||"error: getOrDie called on none.")},getOrNull:Ct(null),getOrUndefined:Ct(void 0),or:Z,orThunk:H,map:st,each:gn,bind:st,exists:Xe,forall:de,filter:st,equals:O,equals_:O,toArray:function(){return[]},toString:Ct("none()")};return U}(),Gt=function(O){var H=Ct(O),Z=function(){return Ce},U=function(Be){return Be(O)},Ce={fold:function(Be,It){return It(O)},is:function(Be){return O===Be},isSome:de,isNone:Xe,getOr:H,getOrThunk:H,getOrDie:H,getOrNull:H,getOrUndefined:H,or:Z,orThunk:Z,map:function(Be){return Gt(Be(O))},each:function(Be){Be(O)},bind:U,exists:U,forall:U,filter:function(Be){return Be(O)?Ce:Ee},toArray:function(){return[O]},toString:function(){return"some("+O+")"},equals:function(Be){return Be.is(O)},equals_:function(Be,It){return Be.fold(Xe,function(Kt){return It(O,Kt)})}};return Ce},$=function(O){return O==null?Ee:Gt(O)},_e={some:Gt,none:st,from:$},nn=Array.prototype.slice,cn=Array.prototype.indexOf,bt=function(O,H){return cn.call(O,H)},Vt=function(O,H){return bt(O,H)>-1},Ut=function(O,H){for(var Z=O.length,U=new Array(Z),Ce=0;Ce<Z;Ce++){var Be=O[Ce];U[Ce]=H(Be,Ce)}return U},qe=function(O,H){for(var Z=0,U=O.length;Z<U;Z++){var Ce=O[Z];H(Ce,Z)}},G=function(O,H){for(var Z=O.length-1;Z>=0;Z--){var U=O[Z];H(U,Z)}},k=function(O,H){for(var Z=[],U=0,Ce=O.length;U<Ce;U++){var Be=O[U];H(Be,U)&&Z.push(Be)}return Z},Ue=function(O,H,Z){return G(O,function(U){Z=H(Z,U)}),Z},St=function(O,H,Z){return qe(O,function(U){Z=H(Z,U)}),Z},vt=function(O,H,Z){for(var U=0,Ce=O.length;U<Ce;U++){var Be=O[U];if(H(Be,U))return _e.some(Be);if(Z(Be,U))break}return _e.none()},Ie=function(O,H){return vt(O,H,Xe)},Ve=function(O,H){for(var Z=0,U=O.length;Z<U;++Z){var Ce=O[Z];if(H(Ce,Z)!==!0)return!1}return!0},g=function(O,H){var Z=nn.call(O,0);return Z.sort(H),Z},he=function(O,H){return H>=0&&H<O.length?_e.some(O[H]):_e.none()},ee=function(O){return he(O,0)},Qe=Object.keys,Qt=Object.hasOwnProperty,Jt=function(O,H){return Qt.call(O,H)},Tt=function(O){if(!Ye(O))throw new Error("cases must be an array");if(O.length===0)throw new Error("there must be at least one case");var H=[],Z={};return qe(O,function(U,Ce){var Be=Qe(U);if(Be.length!==1)throw new Error("one and only one name per case");var It=Be[0],Kt=U[It];if(Z[It]!==void 0)throw new Error("duplicate key detected:"+It);if(It==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ye(Kt))throw new Error("case arguments must be an array");H.push(It),Z[It]=function(){for(var it=[],en=0;en<arguments.length;en++)it[en]=arguments[en];var Kn=it.length;if(Kn!==Kt.length)throw new Error("Wrong number of arguments to case "+It+". Expected "+Kt.length+" ("+Kt+"), got "+Kn);var Rr=function(Wn){var er=Qe(Wn);if(H.length!==er.length)throw new Error("Wrong number of arguments to match. Expected: "+H.join(",")+`
Actual: `+er.join(","));var ya=Ve(H,function(zr){return Vt(er,zr)});if(!ya)throw new Error("Not all branches were specified when using match. Specified: "+er.join(", ")+`
Required: `+H.join(", "));return Wn[It].apply(null,it)};return{fold:function(){for(var Wn=[],er=0;er<arguments.length;er++)Wn[er]=arguments[er];if(Wn.length!==O.length)throw new Error("Wrong number of arguments to fold. Expected "+O.length+", got "+Wn.length);var ya=Wn[Ce];return ya.apply(null,it)},match:Rr,log:function(Wn){console.log(Wn,{constructors:H,constructor:It,params:it})}}}}),Z},Ot={generate:Tt};Ot.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var an=function(O){var H=[],Z=[];return qe(O,function(U){U.fold(function(Ce){H.push(Ce)},function(Ce){Z.push(Ce)})}),{errors:H,values:Z}},kn=function(O){var H=function(Wn){return O===Wn},Z=function(Wn){return kn(O)},U=function(Wn){return kn(O)},Ce=function(Wn){return kn(Wn(O))},Be=function(Wn){return kn(O)},It=function(Wn){Wn(O)},Kt=function(Wn){return Wn(O)},it=function(Wn,er){return er(O)},en=function(Wn){return Wn(O)},Kn=function(Wn){return Wn(O)},Rr=function(){return _e.some(O)};return{is:H,isValue:de,isError:Xe,getOr:Ct(O),getOrThunk:Ct(O),getOrDie:Ct(O),or:Z,orThunk:U,fold:it,map:Ce,mapError:Be,each:It,bind:Kt,exists:en,forall:Kn,toOptional:Rr}},ne=function(O){var H=function(en){return en()},Z=function(){return Bt(String(O))()},U=function(en){return en},Ce=function(en){return en()},Be=function(en){return ne(O)},It=function(en){return ne(en(O))},Kt=function(en){return ne(O)},it=function(en,Kn){return en(O)};return{is:Xe,isValue:Xe,isError:de,getOr:ze,getOrThunk:H,getOrDie:Z,or:U,orThunk:Ce,fold:it,map:Be,mapError:It,each:gn,bind:Kt,exists:Xe,forall:de,toOptional:_e.none}},Le=function(O,H){return O.fold(function(){return ne(H)},kn)},At={value:kn,error:ne,fromOption:Le},ke=function(O){return O.type==="inline-command"||O.type==="inline-format"},Y=function(O){return O.type==="block-command"||O.type==="block-format"},Se=function(O){return g(O,function(H,Z){return H.start.length===Z.start.length?0:H.start.length>Z.start.length?-1:1})},z=function(O){var H=function(Be){return At.error({message:Be,pattern:O})},Z=function(Be,It,Kt){if(O.format!==void 0){var it=void 0;if(Ye(O.format)){if(!Ve(O.format,Pt))return H(Be+" pattern has non-string items in the `format` array");it=O.format}else if(Pt(O.format))it=[O.format];else return H(Be+" pattern has non-string `format` parameter");return At.value(It(it))}else return O.cmd!==void 0?Pt(O.cmd)?At.value(Kt(O.cmd,O.value)):H(Be+" pattern has non-string `cmd` parameter"):H(Be+" pattern is missing both `format` and `cmd` parameters")};if(!ut(O))return H("Raw pattern is not an object");if(!Pt(O.start))return H("Raw pattern is missing `start` parameter");if(O.end!==void 0){if(!Pt(O.end))return H("Inline pattern has non-string `end` parameter");if(O.start.length===0&&O.end.length===0)return H("Inline pattern has empty `start` and `end` parameters");var U=O.start,Ce=O.end;return Ce.length===0&&(Ce=U,U=""),Z("Inline",function(Be){return{type:"inline-format",start:U,end:Ce,format:Be}},function(Be,It){return{type:"inline-command",start:U,end:Ce,cmd:Be,value:It}})}else return O.replacement!==void 0?Pt(O.replacement)?O.start.length===0?H("Replacement pattern has empty `start` parameter"):At.value({type:"inline-command",start:"",end:O.start,cmd:"mceInsertContent",value:O.replacement}):H("Replacement pattern has non-string `replacement` parameter"):O.start.length===0?H("Block pattern has empty `start` parameter"):Z("Block",function(Be){return{type:"block-format",start:O.start,format:Be[0]}},function(Be,It){return{type:"block-command",start:O.start,cmd:Be,value:It}})},ge=function(O){if(O.type==="block-command")return{start:O.start,cmd:O.cmd,value:O.value};if(O.type==="block-format")return{start:O.start,format:O.format};if(O.type==="inline-command")return O.cmd==="mceInsertContent"&&O.start===""?{start:O.end,replacement:O.value}:{start:O.start,end:O.end,cmd:O.cmd,value:O.value};if(O.type==="inline-format")return{start:O.start,end:O.end,format:O.format.length===1?O.format[0]:O.format}},ve=function(O){return{inlinePatterns:k(O,ke),blockPatterns:Se(k(O,Y))}},Ke=function(O){var H=function(U){var Ce=an(Ut(U,z));if(Ce.errors.length>0){var Be=Ce.errors[0];throw new Error(Be.message+`:
`+JSON.stringify(Be.pattern,null,2))}O.set(ve(Ce.values))},Z=function(){return jt(Ut(O.get().inlinePatterns,ge),Ut(O.get().blockPatterns,ge))};return{setPatterns:H,getPatterns:Z}},kt=typeof window!="undefined"?window:Function("return this;")(),Dt=function(){for(var O=[],H=0;H<arguments.length;H++)O[H]=arguments[H];var Z=kt.console;Z&&(Z.error?Z.error.apply(Z,O):Z.log.apply(Z,O))},ln=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],on=function(O){var H=O.getParam("textpattern_patterns",ln,"array");if(!Ye(H))return Dt("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var Z=an(Ut(H,z));return qe(Z.errors,function(U){return Dt(U.message,U.pattern)}),ve(Z.values)},Gn=function(O){var H=O.getParam("forced_root_block","p");return H===!1?"":H===!0?"p":H},Qn=tinymce.util.Tools.resolve("tinymce.util.Delay"),Sr=tinymce.util.Tools.resolve("tinymce.util.VK"),rt="\uFEFF",$e="\xA0",ct=tinymce.util.Tools.resolve("tinymce.util.Tools"),ht=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),dt=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Xt=function(O,H){return{container:O,offset:H}},Sn=function(O){return O.nodeType===Node.TEXT_NODE},yn=function(O,H,Z){if(H&&O.isEmpty(H)&&!Z(H)){var U=H.parentNode;O.remove(H),yn(O,U,Z)}},Lt=function(O,H,Z,U){U===void 0&&(U=!0);var Ce=H.startContainer.parentNode,Be=H.endContainer.parentNode;H.deleteContents(),U&&!Z(H.startContainer)&&(Sn(H.startContainer)&&H.startContainer.data.length===0&&O.remove(H.startContainer),Sn(H.endContainer)&&H.endContainer.data.length===0&&O.remove(H.endContainer),yn(O,Ce,Z),Ce!==Be&&yn(O,Be,Z))},_n=function(O,H){var Z=H.get(O);return Ye(Z)&&ee(Z).exists(function(U){return Jt(U,"block")})},Nn=function(O){return O.start.length===0},gr=function(O,H){var Z=_e.from(O.dom.getParent(H.startContainer,O.dom.isBlock));return Gn(O)===""?Z.orThunk(function(){return _e.some(O.getBody())}):Z},Dr=ht.DOM,lr=function(O){return function(H){return O===H?-1:0}},Fr=function(O){return function(H){return O.isBlock(H)||Vt(["BR","IMG","HR","INPUT"],H.nodeName)||O.getContentEditable(H)==="false"}},Pr=function(O,H,Z){if(Sn(O)&&H>=0)return _e.some(Xt(O,H));var U=dt(Dr);return _e.from(U.backwards(O,H,lr(O),Z)).map(function(Ce){return Xt(Ce.container,Ce.container.data.length)})},ue=function(O,H,Z){if(Sn(O)&&H>=O.length)return _e.some(Xt(O,H));var U=dt(Dr);return _e.from(U.forwards(O,H,lr(O),Z)).map(function(Ce){return Xt(Ce.container,0)})},Ne=function(O,H,Z){if(!Sn(O))return _e.none();var U=O.textContent;if(H>=0&&H<=U.length)return _e.some(Xt(O,H));var Ce=dt(Dr);return _e.from(Ce.backwards(O,H,lr(O),Z)).bind(function(Be){var It=Be.container.data;return Ne(Be.container,H+It.length,Z)})},mt=function(O,H,Z){if(!Sn(O))return _e.none();var U=O.textContent;if(H<=U.length)return _e.some(Xt(O,H));var Ce=dt(Dr);return _e.from(Ce.forwards(O,H,lr(O),Z)).bind(function(Be){return mt(Be.container,H-U.length,Z)})},rn=function(O,H,Z,U,Ce){var Be=dt(O,Fr(O));return _e.from(Be.backwards(H,Z,U,Ce))},Ft=function(O,H,Z){if(Sn(H)&&(Z<0||Z>H.data.length))return[];for(var U=[Z],Ce=H;Ce!==O&&Ce.parentNode;){for(var Be=Ce.parentNode,It=0;It<Be.childNodes.length;It++)if(Be.childNodes[It]===Ce){U.push(It);break}Ce=Be}return Ce===O?U.reverse():[]},pn=function(O,H,Z,U,Ce){var Be=Ft(O,H,Z),It=Ft(O,U,Ce);return{start:Be,end:It}},Ar=function(O,H){var Z=H.slice(),U=Z.pop(),Ce=St(Z,function(Be,It){return Be.bind(function(Kt){return _e.from(Kt.childNodes[It])})},_e.some(O));return Ce.bind(function(Be){return Sn(Be)&&(U<0||U>Be.data.length)?_e.none():_e.some({node:Be,offset:U})})},Vn=function(O,H){return Ar(O,H.start).bind(function(Z){var U=Z.node,Ce=Z.offset;return Ar(O,H.end).map(function(Be){var It=Be.node,Kt=Be.offset,it=document.createRange();return it.setStart(U,Ce),it.setEnd(It,Kt),it})})},qn=function(O,H){return pn(O,H.startContainer,H.startOffset,H.endContainer,H.endOffset)},sa=function(O,H,Z){var U=ue(H,0,H);U.each(function(Ce){var Be=Ce.container;mt(Be,Z.start.length,H).each(function(It){var Kt=O.createRng();Kt.setStart(Be,0),Kt.setEnd(It.container,It.offset),Lt(O,Kt,function(it){return it===H})})})},Jr=function(O,H){var Z=O.dom,U=H.pattern,Ce=Vn(Z.getRoot(),H.range).getOrDie("Unable to resolve path range");return gr(O,Ce).each(function(Be){U.type==="block-format"?_n(U.format,O.formatter)&&O.undoManager.transact(function(){sa(O.dom,Be,U),O.formatter.apply(U.format)}):U.type==="block-command"&&O.undoManager.transact(function(){sa(O.dom,Be,U),O.execCommand(U.cmd,!1,U.value)})}),!0},oa=function(O,H){var Z=H.replace($e," ");return Ie(O,function(U){return H.indexOf(U.start)===0||Z.indexOf(U.start)===0})},Ea=function(O,H){var Z=O.dom,U=O.selection.getRng();return gr(O,U).filter(function(Ce){var Be=Gn(O),It=Be===""&&Z.is(Ce,"body")||Z.is(Ce,Be);return Ce!==null&&It}).bind(function(Ce){var Be=Ce.textContent,It=oa(H,Be);return It.map(function(Kt){return ct.trim(Be).length===Kt.start.length?[]:[{pattern:Kt,range:pn(Z.getRoot(),Ce,0,Ce,0)}]})}).getOr([])},Vr=function(O,H){if(H.length!==0){var Z=O.selection.getBookmark();qe(H,function(U){return Jr(O,U)}),O.selection.moveToBookmark(Z)}},Qr=0,ia=function(O){var H=new Date,Z=H.getTime(),U=Math.floor(Math.random()*1e9);return Qr++,O+"_"+U+Qr+String(Z)},Zt=function(O,H,Z){return H===""||O.length>=H.length&&O.substr(Z,Z+H.length)===H},Cr=function(O,H){return Zt(O,H,O.length-H.length)},_r=function(O,H){return O.create("span",{"data-mce-type":"bookmark",id:H})},ua=function(O,H){var Z=O.createRng();return Z.setStartAfter(H.start),Z.setEndBefore(H.end),Z},xr=function(O,H,Z){var U=Vn(O.getRoot(),Z).getOrDie("Unable to resolve path range"),Ce=U.startContainer,Be=U.endContainer,It=U.endOffset===0?Be:Be.splitText(U.endOffset),Kt=U.startOffset===0?Ce:Ce.splitText(U.startOffset);return{prefix:H,end:It.parentNode.insertBefore(_r(O,H+"-end"),It),start:Kt.parentNode.insertBefore(_r(O,H+"-start"),Kt)}},Gr=function(O,H,Z){yn(O,O.get(H.prefix+"-end"),Z),yn(O,O.get(H.prefix+"-start"),Z)},da=function(O,H,Z){return function(U,Ce){var Be=U.data,It=Be.substring(0,Ce),Kt=It.lastIndexOf(Z.charAt(Z.length-1)),it=It.lastIndexOf(Z);return it!==-1?it+Z.length:Kt!==-1?Kt+1:-1}},Ta=function(O,H,Z,U){var Ce=H.start,Be=rn(O,U.container,U.offset,da(O,Z,Ce),Z);return Be.bind(function(It){if(It.offset>=Ce.length){var Kt=O.createRng();return Kt.setStart(It.container,It.offset-Ce.length),Kt.setEnd(It.container,It.offset),_e.some(Kt)}else{var it=It.offset-Ce.length;return Ne(It.container,it,Z).map(function(en){var Kn=O.createRng();return Kn.setStart(en.container,en.offset),Kn.setEnd(It.container,It.offset),Kn}).filter(function(en){return en.toString()===Ce}).orThunk(function(){return Ta(O,H,Z,Xt(It.container,0))})}})},ka=function(O,H,Z,U,Ce,Be){if(Be===void 0&&(Be=!1),H.start.length===0&&!Be){var It=O.createRng();return It.setStart(Z,U),It.setEnd(Z,U),_e.some(It)}return Pr(Z,U,Ce).bind(function(Kt){var it=Ta(O,H,Ce,Kt);return it.bind(function(en){if(Be){if(en.endContainer===Kt.container&&en.endOffset===Kt.offset)return _e.none();if(Kt.offset===0&&en.endContainer.textContent.length===en.endOffset)return _e.none()}return _e.some(en)})})},Fn=function(O,H,Z){var U=O.dom,Ce=U.getRoot(),Be=Z.pattern,It=Z.position.container,Kt=Z.position.offset;return Ne(It,Kt-Z.pattern.end.length,H).bind(function(it){var en=pn(Ce,it.container,it.offset,It,Kt);if(Nn(Be))return _e.some({matches:[{pattern:Be,startRng:en,endRng:en}],position:it});var Kn=ma(O,Z.remainingPatterns,it.container,it.offset,H),Rr=Kn.getOr({matches:[],position:it}),Wn=Rr.position,er=ka(U,Be,Wn.container,Wn.offset,H,Kn.isNone());return er.map(function(ya){var zr=qn(Ce,ya);return{matches:Rr.matches.concat([{pattern:Be,startRng:zr,endRng:en}]),position:Xt(ya.startContainer,ya.startOffset)}})})},ma=function(O,H,Z,U,Ce){var Be=O.dom;return Pr(Z,U,Be.getRoot()).bind(function(It){var Kt=Be.createRng();Kt.setStart(Ce,0),Kt.setEnd(Z,U);for(var it=Kt.toString(),en=0;en<H.length;en++){var Kn=H[en];if(!!Cr(it,Kn.end)){var Rr=H.slice();Rr.splice(en,1);var Wn=Fn(O,Ce,{pattern:Kn,remainingPatterns:Rr,position:It});if(Wn.isSome())return Wn}}return _e.none()})},qr=function(O,H,Z){O.selection.setRng(Z),H.type==="inline-format"?qe(H.format,function(U){O.formatter.apply(U)}):O.execCommand(H.cmd,!1,H.value)},ga=function(O,H,Z,U){var Ce=ua(O.dom,Z);Lt(O.dom,Ce,U),qr(O,H,Ce)},Ma=function(O,H,Z,U,Ce){var Be=O.dom,It=ua(Be,U),Kt=ua(Be,Z);Lt(Be,Kt,Ce),Lt(Be,It,Ce);var it={prefix:Z.prefix,start:Z.end,end:U.start},en=ua(Be,it);qr(O,H,en)},W=function(O,H){var Z=ia("mce_textpattern"),U=Ue(H,function(Ce,Be){var It=xr(O,Z+("_end"+Ce.length),Be.endRng);return Ce.concat([Nt(Nt({},Be),{endMarker:It})])},[]);return Ue(U,function(Ce,Be){var It=U.length-Ce.length-1,Kt=Nn(Be.pattern)?Be.endMarker:xr(O,Z+("_start"+It),Be.startRng);return Ce.concat([Nt(Nt({},Be),{startMarker:Kt})])},[])},ae=function(O,H,Z){var U=O.selection.getRng();return U.collapsed===!1?[]:gr(O,U).bind(function(Ce){var Be=U.startOffset-(Z?1:0);return ma(O,H,U.startContainer,Be,Ce)}).fold(function(){return[]},function(Ce){return Ce.matches})},be=function(O,H){if(H.length!==0){var Z=O.dom,U=O.selection.getBookmark(),Ce=W(Z,H);qe(Ce,function(Be){var It=Z.getParent(Be.startMarker.start,Z.isBlock),Kt=function(it){return it===It};Nn(Be.pattern)?ga(O,Be.pattern,Be.endMarker,Kt):Ma(O,Be.pattern,Be.startMarker,Be.endMarker,Kt),Gr(Z,Be.endMarker,Kt),Gr(Z,Be.startMarker,Kt)}),O.selection.moveToBookmark(U)}},Oe=function(O,H){if(!O.selection.isCollapsed())return!1;var Z=ae(O,H.inlinePatterns,!1),U=Ea(O,H.blockPatterns);return U.length>0||Z.length>0?(O.undoManager.add(),O.undoManager.extra(function(){O.execCommand("mceInsertNewLine")},function(){O.insertContent(rt),be(O,Z),Vr(O,U);var Ce=O.selection.getRng(),Be=Pr(Ce.startContainer,Ce.startOffset,O.dom.getRoot());O.execCommand("mceInsertNewLine"),Be.each(function(It){var Kt=It.container;Kt.data.charAt(It.offset-1)===rt&&(Kt.deleteData(It.offset-1,1),yn(O.dom,Kt.parentNode,function(it){return it===O.dom.getRoot()}))})}),!0):!1},F=function(O,H){var Z=ae(O,H.inlinePatterns,!0);Z.length>0&&O.undoManager.transact(function(){be(O,Z)})},V=function(O,H,Z){for(var U=0;U<O.length;U++)if(Z(O[U],H))return!0},pe=function(O,H){return V(O,H,function(Z,U){return Z===U.keyCode&&Sr.modifierPressed(U)===!1})},Me=function(O,H){return V(O,H,function(Z,U){return Z.charCodeAt(0)===U.charCode})},Re=function(O,H){var Z=[",",".",";",":","!","?"],U=[32];O.on("keydown",function(Ce){Ce.keyCode===13&&!Sr.modifierPressed(Ce)&&Oe(O,H.get())&&Ce.preventDefault()},!0),O.on("keyup",function(Ce){pe(U,Ce)&&F(O,H.get())}),O.on("keypress",function(Ce){Me(Z,Ce)&&Qn.setEditorTimeout(O,function(){F(O,H.get())})})};function pt(){Ht.add("textpattern",function(O){var H=mn(on(O));return Re(O,H),Ke(H)})}pt()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(){},Nt=function(he){return function(){return he}},jt=Nt(!1),wt=Nt(!0),$t=function(){return Pt},Pt=function(){var he=function(Jt){return Jt.isNone()},ee=function(Jt){return Jt()},Qe=function(Jt){return Jt},Qt={fold:function(Jt,Tt){return Jt()},is:jt,isSome:jt,isNone:wt,getOr:Qe,getOrThunk:ee,getOrDie:function(Jt){throw new Error(Jt||"error: getOrDie called on none.")},getOrNull:Nt(null),getOrUndefined:Nt(void 0),or:Qe,orThunk:ee,map:$t,each:Ht,bind:$t,exists:jt,forall:wt,filter:$t,equals:he,equals_:he,toArray:function(){return[]},toString:Nt("none()")};return Qt}(),ut=function(he){var ee=Nt(he),Qe=function(){return Jt},Qt=function(Tt){return Tt(he)},Jt={fold:function(Tt,Ot){return Ot(he)},is:function(Tt){return he===Tt},isSome:wt,isNone:jt,getOr:ee,getOrThunk:ee,getOrDie:ee,getOrNull:ee,getOrUndefined:ee,or:Qe,orThunk:Qe,map:function(Tt){return ut(Tt(he))},each:function(Tt){Tt(he)},bind:Qt,exists:Qt,forall:Qt,filter:function(Tt){return Tt(he)?Jt:Pt},toArray:function(){return[he]},toString:function(){return"some("+he+")"},equals:function(Tt){return Tt.is(he)},equals_:function(Tt,Ot){return Tt.fold(jt,function(an){return Ot(he,an)})}};return Jt},Ye=function(he){return he==null?Pt:ut(he)},gn={some:ut,none:$t,from:Ye},Ct=function(he,ee){return ee>=0&&ee<he.length?gn.some(he[ee]):gn.none()},ze=function(he){return Ct(he,0)},Bt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Xe=function(he){return he&&he.nodeName==="PRE"&&he.className.indexOf("language-")!==-1},de=function(he){return function(ee,Qe){return he(Qe)}},st=typeof window!="undefined"?window:Function("return this;")(),Ee={},Gt={exports:Ee},$={};(function(he,ee,Qe,Qt){var Jt=window.Prism;window.Prism={manual:!0},function(Ot){if(typeof ee=="object"&&typeof Qe!="undefined")Qe.exports=Ot();else if(typeof he=="function"&&he.amd)he([],Ot);else{var an;typeof window!="undefined"?an=window:typeof $!="undefined"?an=$:typeof self!="undefined"?an=self:an=this,an.EphoxContactWrapper=Ot()}}(function(){return function(){function Ot(an,kn,ne){function Le(Y,Se){if(!kn[Y]){if(!an[Y]){var z=typeof Qt=="function"&&Qt;if(!Se&&z)return z(Y,!0);if(At)return At(Y,!0);var ge=new Error("Cannot find module '"+Y+"'");throw ge.code="MODULE_NOT_FOUND",ge}var ve=kn[Y]={exports:{}};an[Y][0].call(ve.exports,function(Ke){var kt=an[Y][1][Ke];return Le(kt||Ke)},ve,ve.exports,Ot,an,kn,ne)}return kn[Y].exports}for(var At=typeof Qt=="function"&&Qt,ke=0;ke<ne.length;ke++)Le(ne[ke]);return Le}return Ot}()({1:[function(Ot,an,kn){Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean},{}],2:[function(Ot,an,kn){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},{}],3:[function(Ot,an,kn){(function(ne){(function(){var Le=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{},At=function(ke){var Y=/\blang(?:uage)?-([\w-]+)\b/i,Se=0,z={manual:ke.Prism&&ke.Prism.manual,disableWorkerMessageHandler:ke.Prism&&ke.Prism.disableWorkerMessageHandler,util:{encode:function rt($e){return $e instanceof ge?new ge($e.type,rt($e.content),$e.alias):Array.isArray($e)?$e.map(rt):$e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(rt){return Object.prototype.toString.call(rt).slice(8,-1)},objId:function(rt){return rt.__id||Object.defineProperty(rt,"__id",{value:++Se}),rt.__id},clone:function rt($e,ct){ct=ct||{};var ht,dt;switch(z.util.type($e)){case"Object":if(dt=z.util.objId($e),ct[dt])return ct[dt];ht={},ct[dt]=ht;for(var Xt in $e)$e.hasOwnProperty(Xt)&&(ht[Xt]=rt($e[Xt],ct));return ht;case"Array":return dt=z.util.objId($e),ct[dt]?ct[dt]:(ht=[],ct[dt]=ht,$e.forEach(function(Sn,yn){ht[yn]=rt(Sn,ct)}),ht);default:return $e}},getLanguage:function(rt){for(;rt&&!Y.test(rt.className);)rt=rt.parentElement;return rt?(rt.className.match(Y)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(ht){var rt=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(ht.stack)||[])[1];if(rt){var $e=document.getElementsByTagName("script");for(var ct in $e)if($e[ct].src==rt)return $e[ct]}return null}},isActive:function(rt,$e,ct){for(var ht="no-"+$e;rt;){var dt=rt.classList;if(dt.contains($e))return!0;if(dt.contains(ht))return!1;rt=rt.parentElement}return!!ct}},languages:{extend:function(rt,$e){var ct=z.util.clone(z.languages[rt]);for(var ht in $e)ct[ht]=$e[ht];return ct},insertBefore:function(rt,$e,ct,ht){ht=ht||z.languages;var dt=ht[rt],Xt={};for(var Sn in dt)if(dt.hasOwnProperty(Sn)){if(Sn==$e)for(var yn in ct)ct.hasOwnProperty(yn)&&(Xt[yn]=ct[yn]);ct.hasOwnProperty(Sn)||(Xt[Sn]=dt[Sn])}var Lt=ht[rt];return ht[rt]=Xt,z.languages.DFS(z.languages,function(_n,Nn){Nn===Lt&&_n!=rt&&(this[_n]=Xt)}),Xt},DFS:function rt($e,ct,ht,dt){dt=dt||{};var Xt=z.util.objId;for(var Sn in $e)if($e.hasOwnProperty(Sn)){ct.call($e,Sn,$e[Sn],ht||Sn);var yn=$e[Sn],Lt=z.util.type(yn);Lt==="Object"&&!dt[Xt(yn)]?(dt[Xt(yn)]=!0,rt(yn,ct,null,dt)):Lt==="Array"&&!dt[Xt(yn)]&&(dt[Xt(yn)]=!0,rt(yn,ct,Sn,dt))}}},plugins:{},highlightAll:function(rt,$e){z.highlightAllUnder(document,rt,$e)},highlightAllUnder:function(rt,$e,ct){var ht={callback:ct,container:rt,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};z.hooks.run("before-highlightall",ht),ht.elements=Array.prototype.slice.apply(ht.container.querySelectorAll(ht.selector)),z.hooks.run("before-all-elements-highlight",ht);for(var dt=0,Xt;Xt=ht.elements[dt++];)z.highlightElement(Xt,$e===!0,ht.callback)},highlightElement:function(rt,$e,ct){var ht=z.util.getLanguage(rt),dt=z.languages[ht];rt.className=rt.className.replace(Y,"").replace(/\s+/g," ")+" language-"+ht;var Xt=rt.parentElement;Xt&&Xt.nodeName.toLowerCase()==="pre"&&(Xt.className=Xt.className.replace(Y,"").replace(/\s+/g," ")+" language-"+ht);var Sn=rt.textContent,yn={element:rt,language:ht,grammar:dt,code:Sn};function Lt(Nn){yn.highlightedCode=Nn,z.hooks.run("before-insert",yn),yn.element.innerHTML=yn.highlightedCode,z.hooks.run("after-highlight",yn),z.hooks.run("complete",yn),ct&&ct.call(yn.element)}if(z.hooks.run("before-sanity-check",yn),!yn.code){z.hooks.run("complete",yn),ct&&ct.call(yn.element);return}if(z.hooks.run("before-highlight",yn),!yn.grammar){Lt(z.util.encode(yn.code));return}if($e&&ke.Worker){var _n=new Worker(z.filename);_n.onmessage=function(Nn){Lt(Nn.data)},_n.postMessage(JSON.stringify({language:yn.language,code:yn.code,immediateClose:!0}))}else Lt(z.highlight(yn.code,yn.grammar,yn.language))},highlight:function(rt,$e,ct){var ht={code:rt,grammar:$e,language:ct};return z.hooks.run("before-tokenize",ht),ht.tokens=z.tokenize(ht.code,ht.grammar),z.hooks.run("after-tokenize",ht),ge.stringify(z.util.encode(ht.tokens),ht.language)},tokenize:function(rt,$e){var ct=$e.rest;if(ct){for(var ht in ct)$e[ht]=ct[ht];delete $e.rest}var dt=new kt;return Dt(dt,dt.head,rt),Ke(rt,dt,$e,dt.head,0),on(dt)},hooks:{all:{},add:function(rt,$e){var ct=z.hooks.all;ct[rt]=ct[rt]||[],ct[rt].push($e)},run:function(rt,$e){var ct=z.hooks.all[rt];if(!(!ct||!ct.length))for(var ht=0,dt;dt=ct[ht++];)dt($e)}},Token:ge};ke.Prism=z;function ge(rt,$e,ct,ht){this.type=rt,this.content=$e,this.alias=ct,this.length=(ht||"").length|0}ge.stringify=function rt($e,ct){if(typeof $e=="string")return $e;if(Array.isArray($e)){var ht="";return $e.forEach(function(Lt){ht+=rt(Lt,ct)}),ht}var dt={type:$e.type,content:rt($e.content,ct),tag:"span",classes:["token",$e.type],attributes:{},language:ct},Xt=$e.alias;Xt&&(Array.isArray(Xt)?Array.prototype.push.apply(dt.classes,Xt):dt.classes.push(Xt)),z.hooks.run("wrap",dt);var Sn="";for(var yn in dt.attributes)Sn+=" "+yn+'="'+(dt.attributes[yn]||"").replace(/"/g,"&quot;")+'"';return"<"+dt.tag+' class="'+dt.classes.join(" ")+'"'+Sn+">"+dt.content+"</"+dt.tag+">"};function ve(rt,$e,ct,ht){rt.lastIndex=$e;var dt=rt.exec(ct);if(dt&&ht&&dt[1]){var Xt=dt[1].length;dt.index+=Xt,dt[0]=dt[0].slice(Xt)}return dt}function Ke(rt,$e,ct,ht,dt,Xt){for(var Sn in ct)if(!(!ct.hasOwnProperty(Sn)||!ct[Sn])){var yn=ct[Sn];yn=Array.isArray(yn)?yn:[yn];for(var Lt=0;Lt<yn.length;++Lt){if(Xt&&Xt.cause==Sn+","+Lt)return;var _n=yn[Lt],Nn=_n.inside,gr=!!_n.lookbehind,Dr=!!_n.greedy,lr=_n.alias;if(Dr&&!_n.pattern.global){var Fr=_n.pattern.toString().match(/[imsuy]*$/)[0];_n.pattern=RegExp(_n.pattern.source,Fr+"g")}for(var Pr=_n.pattern||_n,ue=ht.next,Ne=dt;ue!==$e.tail&&!(Xt&&Ne>=Xt.reach);Ne+=ue.value.length,ue=ue.next){var mt=ue.value;if($e.length>rt.length)return;if(!(mt instanceof ge)){var rn=1,Ft;if(Dr){if(Ft=ve(Pr,Ne,rt,gr),!Ft)break;var qn=Ft.index,pn=Ft.index+Ft[0].length,Ar=Ne;for(Ar+=ue.value.length;qn>=Ar;)ue=ue.next,Ar+=ue.value.length;if(Ar-=ue.value.length,Ne=Ar,ue.value instanceof ge)continue;for(var Vn=ue;Vn!==$e.tail&&(Ar<pn||typeof Vn.value=="string");Vn=Vn.next)rn++,Ar+=Vn.value.length;rn--,mt=rt.slice(Ne,Ar),Ft.index-=Ne}else if(Ft=ve(Pr,0,mt,gr),!Ft)continue;var qn=Ft.index,sa=Ft[0],Jr=mt.slice(0,qn),oa=mt.slice(qn+sa.length),Ea=Ne+mt.length;Xt&&Ea>Xt.reach&&(Xt.reach=Ea);var Vr=ue.prev;Jr&&(Vr=Dt($e,Vr,Jr),Ne+=Jr.length),ln($e,Vr,rn);var Qr=new ge(Sn,Nn?z.tokenize(sa,Nn):sa,lr,sa);ue=Dt($e,Vr,Qr),oa&&Dt($e,ue,oa),rn>1&&Ke(rt,$e,ct,ue.prev,Ne,{cause:Sn+","+Lt,reach:Ea})}}}}}function kt(){var rt={value:null,prev:null,next:null},$e={value:null,prev:rt,next:null};rt.next=$e,this.head=rt,this.tail=$e,this.length=0}function Dt(rt,$e,ct){var ht=$e.next,dt={value:ct,prev:$e,next:ht};return $e.next=dt,ht.prev=dt,rt.length++,dt}function ln(rt,$e,ct){for(var ht=$e.next,dt=0;dt<ct&&ht!==rt.tail;dt++)ht=ht.next;$e.next=ht,ht.prev=$e,rt.length-=dt}function on(rt){for(var $e=[],ct=rt.head.next;ct!==rt.tail;)$e.push(ct.value),ct=ct.next;return $e}if(!ke.document)return ke.addEventListener&&(z.disableWorkerMessageHandler||ke.addEventListener("message",function(rt){var $e=JSON.parse(rt.data),ct=$e.language,ht=$e.code,dt=$e.immediateClose;ke.postMessage(z.highlight(ht,z.languages[ct],ct)),dt&&ke.close()},!1)),z;var Gn=z.util.currentScript();Gn&&(z.filename=Gn.src,Gn.hasAttribute("data-manual")&&(z.manual=!0));function Qn(){z.manual||z.highlightAll()}if(!z.manual){var Sr=document.readyState;Sr==="loading"||Sr==="interactive"&&Gn&&Gn.defer?document.addEventListener("DOMContentLoaded",Qn):window.requestAnimationFrame?window.requestAnimationFrame(Qn):window.setTimeout(Qn,16)}return z}(Le);typeof an!="undefined"&&an.exports&&(an.exports=At),typeof ne!="undefined"&&(ne.Prism=At)}).call(this)}).call(this,typeof $!="undefined"?$:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],4:[function(Ot,an,kn){(function(ne){var Le=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/;ne.languages.cpp=ne.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Le.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Le,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),ne.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),ne.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:ne.languages.extend("cpp",{})}}),ne.languages.insertBefore("inside","operator",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},ne.languages.cpp["base-clause"])})(Prism)},{}],5:[function(Ot,an,kn){(function(ne){function Le(mt,rn){return mt.replace(/<<(\d+)>>/g,function(Ft,pn){return"(?:"+rn[+pn]+")"})}function At(mt,rn,Ft){return RegExp(Le(mt,rn),Ft||"")}function ke(mt,rn){for(var Ft=0;Ft<rn;Ft++)mt=mt.replace(/<<self>>/g,function(){return"(?:"+mt+")"});return mt.replace(/<<self>>/g,"[^\\s\\S]")}var Y={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface struct",contextual:"add alias and ascending async await by descending from get global group into join let nameof not notnull on or orderby partial remove select set unmanaged value when where",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Se(mt){return"\\b(?:"+mt.trim().replace(/ /g,"|")+")\\b"}var z=Se(Y.typeDeclaration),ge=RegExp(Se(Y.type+" "+Y.typeDeclaration+" "+Y.contextual+" "+Y.other)),ve=Se(Y.typeDeclaration+" "+Y.contextual+" "+Y.other),Ke=Se(Y.type+" "+Y.typeDeclaration+" "+Y.other),kt=ke(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Dt=ke(/\((?:[^()]|<<self>>)*\)/.source,2),ln=/@?\b[A-Za-z_]\w*\b/.source,on=Le(/<<0>>(?:\s*<<1>>)?/.source,[ln,kt]),Gn=Le(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[ve,on]),Qn=/\[\s*(?:,\s*)*\]/.source,Sr=Le(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[Gn,Qn]),rt=Le(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[kt,Dt,Qn]),$e=Le(/\(<<0>>+(?:,<<0>>+)+\)/.source,[rt]),ct=Le(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[$e,Gn,Qn]),ht={keyword:ge,punctuation:/[<>()?,.:[\]]/},dt=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Xt=/"(?:\\.|[^\\"\r\n])*"/.source,Sn=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;ne.languages.csharp=ne.languages.extend("clike",{string:[{pattern:At(/(^|[^$\\])<<0>>/.source,[Sn]),lookbehind:!0,greedy:!0},{pattern:At(/(^|[^@$\\])<<0>>/.source,[Xt]),lookbehind:!0,greedy:!0},{pattern:RegExp(dt),greedy:!0,alias:"character"}],"class-name":[{pattern:At(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[Gn]),lookbehind:!0,inside:ht},{pattern:At(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[ln,ct]),lookbehind:!0,inside:ht},{pattern:At(/(\busing\s+)<<0>>(?=\s*=)/.source,[ln]),lookbehind:!0},{pattern:At(/(\b<<0>>\s+)<<1>>/.source,[z,on]),lookbehind:!0,inside:ht},{pattern:At(/(\bcatch\s*\(\s*)<<0>>/.source,[Gn]),lookbehind:!0,inside:ht},{pattern:At(/(\bwhere\s+)<<0>>/.source,[ln]),lookbehind:!0},{pattern:At(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[Sr]),lookbehind:!0,inside:ht},{pattern:At(/\b<<0>>(?=\s+(?!<<1>>)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[ct,Ke,ln]),inside:ht}],keyword:ge,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),ne.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),ne.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:At(/([(,]\s*)<<0>>(?=\s*:)/.source,[ln]),lookbehind:!0,alias:"punctuation"}}),ne.languages.insertBefore("csharp","class-name",{namespace:{pattern:At(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[ln]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:At(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Dt]),lookbehind:!0,alias:"class-name",inside:ht},"return-type":{pattern:At(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[ct,Gn]),inside:ht,alias:"class-name"},"constructor-invocation":{pattern:At(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[ct]),lookbehind:!0,inside:ht,alias:"class-name"},"generic-method":{pattern:At(/<<0>>\s*<<1>>(?=\s*\()/.source,[ln,kt]),inside:{function:At(/^<<0>>/.source,[ln]),generic:{pattern:RegExp(kt),alias:"class-name",inside:ht}}},"type-list":{pattern:At(/\b((?:<<0>>\s+<<1>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>)(?:\s*,\s*(?:<<3>>|<<4>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[z,on,ln,ct,ge.source]),lookbehind:!0,inside:{keyword:ge,"class-name":{pattern:RegExp(ct),greedy:!0,inside:ht},punctuation:/,/}},preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var yn=Xt+"|"+dt,Lt=Le(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[yn]),_n=ke(Le(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Lt]),2),Nn=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,gr=Le(/<<0>>(?:\s*\(<<1>>*\))?/.source,[Gn,_n]);ne.languages.insertBefore("csharp","class-name",{attribute:{pattern:At(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[Nn,gr]),lookbehind:!0,greedy:!0,inside:{target:{pattern:At(/^<<0>>(?=\s*:)/.source,[Nn]),alias:"keyword"},"attribute-arguments":{pattern:At(/\(<<0>>*\)/.source,[_n]),inside:ne.languages.csharp},"class-name":{pattern:RegExp(Gn),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Dr=/:[^}\r\n]+/.source,lr=ke(Le(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Lt]),2),Fr=Le(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[lr,Dr]),Pr=ke(Le(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[yn]),2),ue=Le(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Pr,Dr]);function Ne(mt,rn){return{interpolation:{pattern:At(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[mt]),lookbehind:!0,inside:{"format-string":{pattern:At(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[rn,Dr]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:ne.languages.csharp}}},string:/[\s\S]+/}}ne.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:At(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Fr]),lookbehind:!0,greedy:!0,inside:Ne(Fr,lr)},{pattern:At(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[ue]),lookbehind:!0,greedy:!0,inside:Ne(ue,Pr)}]})})(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp},{}],6:[function(Ot,an,kn){(function(ne){var Le=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;ne.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Le.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Le.source+"$"),alias:"url"}}},selector:RegExp(`[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Le.source+")*(?=\\s*\\{)"),string:{pattern:Le,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},ne.languages.css.atrule.inside.rest=ne.languages.css;var At=ne.languages.markup;At&&(At.tag.addInlined("style","css"),ne.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:ne.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},At.tag))})(Prism)},{}],7:[function(Ot,an,kn){(function(ne){var Le=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,At=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,ke={pattern:RegExp(At+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};ne.languages.java=ne.languages.extend("clike",{"class-name":[ke,{pattern:RegExp(At+/[A-Z]\w*(?=\s+\w+\s*[;,=())])/.source),lookbehind:!0,inside:ke.inside}],keyword:Le,function:[ne.languages.clike.function,{pattern:/(\:\:\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),ne.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),ne.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":ke,keyword:Le,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return Le.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism)},{}],8:[function(Ot,an,kn){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.js=Prism.languages.javascript},{}],9:[function(Ot,an,kn){(function(ne){function Le(At,ke){return"___"+At.toUpperCase()+ke+"___"}Object.defineProperties(ne.languages["markup-templating"]={},{buildPlaceholders:{value:function(At,ke,Y,Se){if(At.language===ke){var z=At.tokenStack=[];At.code=At.code.replace(Y,function(ge){if(typeof Se=="function"&&!Se(ge))return ge;for(var ve=z.length,Ke;At.code.indexOf(Ke=Le(ke,ve))!==-1;)++ve;return z[ve]=ge,Ke}),At.grammar=ne.languages.markup}}},tokenizePlaceholders:{value:function(At,ke){if(At.language!==ke||!At.tokenStack)return;At.grammar=ne.languages[ke];var Y=0,Se=Object.keys(At.tokenStack);function z(ge){for(var ve=0;ve<ge.length&&!(Y>=Se.length);ve++){var Ke=ge[ve];if(typeof Ke=="string"||Ke.content&&typeof Ke.content=="string"){var kt=Se[Y],Dt=At.tokenStack[kt],ln=typeof Ke=="string"?Ke:Ke.content,on=Le(ke,kt),Gn=ln.indexOf(on);if(Gn>-1){++Y;var Qn=ln.substring(0,Gn),Sr=new ne.Token(ke,ne.tokenize(Dt,At.grammar),"language-"+ke,Dt),rt=ln.substring(Gn+on.length),$e=[];Qn&&$e.push.apply($e,z([Qn])),$e.push(Sr),rt&&$e.push.apply($e,z([rt])),typeof Ke=="string"?ge.splice.apply(ge,[ve,1].concat($e)):Ke.content=$e}}else Ke.content&&z(Ke.content)}return ge}z(At.tokens)}}})})(Prism)},{}],10:[function(Ot,an,kn){Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(ne){ne.type==="entity"&&(ne.attributes.title=ne.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(Le,At){var ke={};ke["language-"+At]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[At]},ke.cdata=/^<!\[CDATA\[|\]\]>$/i;var Y={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:ke}};Y["language-"+At]={pattern:/[\s\S]+/,inside:Prism.languages[At]};var Se={};Se[Le]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Le}),"i"),lookbehind:!0,greedy:!0,inside:Y},Prism.languages.insertBefore("markup","cdata",Se)}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},{}],11:[function(Ot,an,kn){(function(ne){var Le=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,At=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/,/\b(?:null)\b/i],ke=/\b0b[01]+\b|\b0x[\da-f]+\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+)(?:e[+-]?\d+)?/i,Y=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Se=/[{}\[\](),:;]/;ne.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:Le,variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[a-z0-9_|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[a-z0-9_|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i],"argument-name":/\b[a-z_]\w*(?=\s*:(?!:))/i,"class-name":[{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:At,function:/\w+\s*(?=\()/,property:{pattern:/(->)[\w]+/,lookbehind:!0},number:ke,operator:Y,punctuation:Se};var z={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)*)/,lookbehind:!0,inside:ne.languages.php},ge=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:z}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:z}}];ne.languages.insertBefore("php","variable",{string:ge}),ne.languages.insertBefore("php","variable",{attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/mi,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=]$)/,lookbehind:!0,inside:{comment:Le,string:ge,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:At,number:ke,operator:Y,punctuation:Se}},delimiter:{pattern:/^#\[|]$/,alias:"punctuation"}}}}),ne.hooks.add("before-tokenize",function(ve){if(!!/<\?/.test(ve.code)){var Ke=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/ig;ne.languages["markup-templating"].buildPlaceholders(ve,"php",Ke)}}),ne.hooks.add("after-tokenize",function(ve){ne.languages["markup-templating"].tokenizePlaceholders(ve,"php")})})(Prism)},{}],12:[function(Ot,an,kn){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},{}],13:[function(Ot,an,kn){(function(ne){ne.languages.ruby=ne.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var Le={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:ne.languages.ruby}};delete ne.languages.ruby.function,ne.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1[gim]{0,3}/.source,/\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/.source,/<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/.source].join("|")+")"),greedy:!0,inside:{interpolation:Le}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[gim]{0,3}(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:ne.languages.ruby}}}),ne.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),ne.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:Le}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:Le}}],ne.languages.rb=ne.languages.ruby})(Prism)},{}],14:[function(Ot,an,kn){var ne=Ot("prismjs/components/prism-core");Ot("prismjs/components/prism-clike"),Ot("prismjs/components/prism-markup-templating"),Ot("prismjs/components/prism-c"),Ot("prismjs/components/prism-cpp"),Ot("prismjs/components/prism-csharp"),Ot("prismjs/components/prism-css"),Ot("prismjs/components/prism-java"),Ot("prismjs/components/prism-javascript"),Ot("prismjs/components/prism-markup"),Ot("prismjs/components/prism-php"),Ot("prismjs/components/prism-python"),Ot("prismjs/components/prism-ruby"),an.exports={boltExport:ne}},{"prismjs/components/prism-c":1,"prismjs/components/prism-clike":2,"prismjs/components/prism-core":3,"prismjs/components/prism-cpp":4,"prismjs/components/prism-csharp":5,"prismjs/components/prism-css":6,"prismjs/components/prism-java":7,"prismjs/components/prism-javascript":8,"prismjs/components/prism-markup":10,"prismjs/components/prism-markup-templating":9,"prismjs/components/prism-php":11,"prismjs/components/prism-python":12,"prismjs/components/prism-ruby":13}]},{},[14])(14)});var Tt=window.Prism;return window.Prism=Jt,Tt})(void 0,Ee,Gt,void 0);var _e=Gt.exports.boltExport,nn=function(he){return he.getParam("codesample_languages")},cn=function(he){return he.getParam("codesample_global_prismjs",!1,"boolean")},bt=function(he){return st.Prism&&cn(he)?st.Prism:_e},Vt=function(he){var ee=he.selection?he.selection.getNode():null;return Xe(ee)?gn.some(ee):gn.none()},Ut=function(he,ee,Qe){he.undoManager.transact(function(){var Qt=Vt(he);return Qe=Bt.DOM.encode(Qe),Qt.fold(function(){he.insertContent('<pre id="__new" class="language-'+ee+'">'+Qe+"</pre>"),he.selection.select(he.$("#__new").removeAttr("id")[0])},function(Jt){he.dom.setAttrib(Jt,"class","language-"+ee),Jt.innerHTML=Qe,bt(he).highlightElement(Jt),he.selection.select(Jt)})})},qe=function(he){var ee=Vt(he);return ee.fold(function(){return""},function(Qe){return Qe.textContent})},G=function(he){var ee=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],Qe=nn(he);return Qe||ee},k=function(he,ee){var Qe=Vt(he);return Qe.fold(function(){return ee},function(Qt){var Jt=Qt.className.match(/language-(\w+)/);return Jt?Jt[1]:ee})},Ue=function(he){var ee=G(he),Qe=ze(ee).fold(function(){return""},function(Tt){return Tt.value}),Qt=k(he,Qe),Jt=qe(he);he.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:ee},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:Qt,code:Jt},onSubmit:function(Tt){var Ot=Tt.getData();Ut(he,Ot.language,Ot.code),Tt.close()}})},St=function(he){he.addCommand("codesample",function(){var ee=he.selection.getNode();he.selection.isCollapsed()||Xe(ee)?Ue(he):he.formatter.toggle("code")})},vt=function(he){var ee=he.$;he.on("PreProcess",function(Qe){ee("pre[contenteditable=false]",Qe.node).filter(de(Xe)).each(function(Qt,Jt){var Tt=ee(Jt),Ot=Jt.textContent;Tt.attr("class",ee.trim(Tt.attr("class"))),Tt.removeAttr("contentEditable"),Tt.empty().append(ee("<code></code>").each(function(){this.textContent=Ot}))})}),he.on("SetContent",function(){var Qe=ee("pre").filter(de(Xe)).filter(function(Qt,Jt){return Jt.contentEditable!=="false"});Qe.length&&he.undoManager.transact(function(){Qe.each(function(Qt,Jt){ee(Jt).find("br").each(function(Tt,Ot){Ot.parentNode.replaceChild(he.getDoc().createTextNode(`
`),Ot)}),Jt.contentEditable="false",Jt.innerHTML=he.dom.encode(Jt.textContent),bt(he).highlightElement(Jt),Jt.className=ee.trim(Jt.className)})})})},Ie=function(he){var ee=he.selection.getStart();return he.dom.is(ee,'pre[class*="language-"]')},Ve=function(he){he.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:function(){return Ue(he)},onSetup:function(ee){var Qe=function(){ee.setActive(Ie(he))};return he.on("NodeChange",Qe),function(){return he.off("NodeChange",Qe)}}}),he.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:function(){return Ue(he)}})};function g(){mn.add("codesample",function(he){vt(he),Ve(he),St(he),he.on("dblclick",function(ee){Xe(ee.target)&&Ue(he)})})}g()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Nt=tinymce.util.Tools.resolve("tinymce.util.I18n"),jt=tinymce.util.Tools.resolve("tinymce.util.Tools"),wt=function(qe){return qe.getParam("toc_class","mce-toc")},$t=function(qe){var G=qe.getParam("toc_header","h2");return/^h[1-6]$/.test(G)?G:"h2"},Pt=function(qe){var G=parseInt(qe.getParam("toc_depth","3"),10);return G>=1&&G<=9?G:3},ut=function(qe){var G=0;return function(){var k=new Date().getTime().toString(32);return qe+k+(G++).toString(32)}},Ye=ut("mcetoc_"),gn=function(qe){var G,k=[];for(G=1;G<=qe;G++)k.push("h"+G);return k.join(",")},Ct=function(qe){return ze(qe).length>0},ze=function(qe){var G=wt(qe),k=$t(qe),Ue=gn(Pt(qe)),St=qe.$(Ue);return St.length&&/^h[1-9]$/i.test(k)&&(St=St.filter(function(vt,Ie){return!qe.dom.hasClass(Ie.parentNode,G)})),jt.map(St,function(vt){var Ie=vt.id;return{id:Ie||Ye(),level:parseInt(vt.nodeName.replace(/^H/i,""),10),title:qe.$.text(vt),element:vt}})},Bt=function(qe){var G,k=9;for(G=0;G<qe.length;G++)if(qe[G].level<k&&(k=qe[G].level),k===1)return k;return k},Xe=function(qe,G){var k="<"+qe+' contenteditable="true">',Ue="</"+qe+">";return k+Ht.DOM.encode(G)+Ue},de=function(qe){var G=st(qe);return'<div class="'+qe.dom.encode(wt(qe))+'" contenteditable="false">'+G+"</div>"},st=function(qe){var G="",k=ze(qe),Ue=Bt(k)-1,St,vt,Ie,Ve;if(!k.length)return"";for(G+=Xe($t(qe),Nt.translate("Table of Contents")),St=0;St<k.length;St++){if(Ie=k[St],Ie.element.id=Ie.id,Ve=k[St+1]&&k[St+1].level,Ue===Ie.level)G+="<li>";else for(vt=Ue;vt<Ie.level;vt++)G+="<ul><li>";if(G+='<a href="#'+Ie.id+'">'+Ie.title+"</a>",Ve===Ie.level||!Ve)G+="</li>",Ve||(G+="</ul>");else for(vt=Ie.level;vt>Ve;vt--)G+="</li></ul><li>";Ue=Ie.level}return G},Ee=function(qe,G){return!G.length||qe.dom.getParents(G[0],".mce-offscreen-selection").length>0},Gt=function(qe){var G=wt(qe),k=qe.$("."+G);Ee(qe,k)?qe.insertContent(de(qe)):$(qe)},$=function(qe){var G=wt(qe),k=qe.$("."+G);k.length&&qe.undoManager.transact(function(){k.html(st(qe))})},_e=function(qe){qe.addCommand("mceInsertToc",function(){Gt(qe)}),qe.addCommand("mceUpdateToc",function(){$(qe)})},nn=function(qe){var G=qe.$,k=wt(qe);qe.on("PreProcess",function(Ue){var St=G("."+k,Ue.node);St.length&&(St.removeAttr("contentEditable"),St.find("[contenteditable]").removeAttr("contentEditable"))}),qe.on("SetContent",function(){var Ue=G("."+k);Ue.length&&(Ue.attr("contentEditable",!1),Ue.children(":first-child").attr("contentEditable",!0))})},cn=function(qe){return function(G){var k=function(){return G.setDisabled(qe.mode.isReadOnly()||!Ct(qe))};return k(),qe.on("LoadContent SetContent change",k),function(){return qe.on("LoadContent SetContent change",k)}}},bt=function(qe){return function(G){return G&&qe.dom.is(G,"."+wt(qe))&&qe.getBody().contains(G)}},Vt=function(qe){qe.ui.registry.addButton("toc",{icon:"toc",tooltip:"Table of contents",onAction:function(){return qe.execCommand("mceInsertToc")},onSetup:cn(qe)}),qe.ui.registry.addButton("tocupdate",{icon:"reload",tooltip:"Update",onAction:function(){return qe.execCommand("mceUpdateToc")}}),qe.ui.registry.addMenuItem("toc",{icon:"toc",text:"Table of contents",onAction:function(){return qe.execCommand("mceInsertToc")},onSetup:cn(qe)}),qe.ui.registry.addContextToolbar("toc",{items:"tocupdate",predicate:bt(qe),scope:"node",position:"node"})};function Ut(){mn.add("toc",function(qe){_e(qe),Vt(qe),nn(qe)})}Ut()})();(function(){var mn=function($){var _e=$,nn=function(){return _e},cn=function(bt){_e=bt};return{get:nn,set:cn}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),Nt=tinymce.util.Tools.resolve("tinymce.Env"),jt=tinymce.util.Tools.resolve("tinymce.util.Delay"),wt=function($){return $.fire("ResizeEditor")},$t=function($){return $.getParam("min_height",$.getElement().offsetHeight,"number")},Pt=function($){return $.getParam("max_height",0,"number")},ut=function($){return $.getParam("autoresize_overflow_padding",1,"number")},Ye=function($){return $.getParam("autoresize_bottom_margin",50,"number")},gn=function($){return $.getParam("autoresize_on_init",!0,"boolean")},Ct=function($){return $.plugins.fullscreen&&$.plugins.fullscreen.isFullscreen()},ze=function($,_e,nn,cn,bt){jt.setEditorTimeout($,function(){de($,_e),nn--?ze($,_e,nn,cn,bt):bt&&bt()},cn)},Bt=function($,_e){var nn=$.getBody();nn&&(nn.style.overflowY=_e?"":"hidden",_e||(nn.scrollTop=0))},Xe=function($,_e,nn,cn){var bt=parseInt($.getStyle(_e,nn,cn),10);return isNaN(bt)?0:bt},de=function($,_e){var nn=$.dom,cn=$.getDoc();if(!!cn){if(Ct($)){Bt($,!0);return}var bt=cn.documentElement,Vt=Ye($),Ut=$t($),qe=Xe(nn,bt,"margin-top",!0),G=Xe(nn,bt,"margin-bottom",!0),k=bt.offsetHeight+qe+G+Vt;k<0&&(k=0);var Ue=$.getContainer().offsetHeight,St=$.getContentAreaContainer().offsetHeight,vt=Ue-St;k+vt>$t($)&&(Ut=k+vt);var Ie=Pt($);if(Ie&&Ut>Ie?(Ut=Ie,Bt($,!0)):Bt($,!1),Ut!==_e.get()){var Ve=Ut-_e.get();if(nn.setStyle($.getContainer(),"height",Ut+"px"),_e.set(Ut),wt($),Nt.browser.isSafari()&&Nt.mac){var g=$.getWin();g.scrollTo(g.pageXOffset,g.pageYOffset)}$.hasFocus()&&$.selection.scrollIntoView($.selection.getNode()),Nt.webkit&&Ve<0&&de($,_e)}}},st=function($,_e){$.on("init",function(){var nn=ut($),cn=$.dom;cn.setStyles($.getDoc().documentElement,{height:"auto"}),cn.setStyles($.getBody(),{paddingLeft:nn,paddingRight:nn,"min-height":0})}),$.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(){de($,_e)}),gn($)&&$.on("init",function(){ze($,_e,20,100,function(){ze($,_e,5,1e3)})})},Ee=function($,_e){$.addCommand("mceAutoResize",function(){de($,_e)})};function Gt(){Ht.add("autoresize",function($){if($.settings.hasOwnProperty("resize")||($.settings.resize=!1),!$.inline){var _e=mn(0);Ee($,_e),st($,_e)}})}Gt()})();(function(){var mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=tinymce.util.Tools.resolve("tinymce.Env"),Nt=function(st){return st.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@(?!.*@))(.+)$/i)},jt=function(st){return st.getParam("default_link_target",!1)},wt=function(st){return st.getParam("link_default_protocol","http","string")},$t=function(st,Ee){return st===Ee||st===" "||st.charCodeAt(0)===160},Pt=function(st){Bt(st,-1,"(")},ut=function(st){Bt(st,0,"")},Ye=function(st){Bt(st,-1,"")},gn=function(st,Ee){if(Ee<0&&(Ee=0),st.nodeType===3){var Gt=st.data.length;Ee>Gt&&(Ee=Gt)}return Ee},Ct=function(st,Ee,Gt){Ee.nodeType!==1||Ee.hasChildNodes()?st.setStart(Ee,gn(Ee,Gt)):st.setStartBefore(Ee)},ze=function(st,Ee,Gt){Ee.nodeType!==1||Ee.hasChildNodes()?st.setEnd(Ee,gn(Ee,Gt)):st.setEndAfter(Ee)},Bt=function(st,Ee,Gt){var $,_e,nn,cn,bt,Vt,Ut,qe=Nt(st),G=jt(st);if(st.selection.getNode().tagName!=="A"){var k=st.selection.getRng().cloneRange();if(k.startOffset<5){if(bt=k.endContainer.previousSibling,!bt){if(!k.endContainer.firstChild||!k.endContainer.firstChild.nextSibling)return;bt=k.endContainer.firstChild.nextSibling}if(Vt=bt.length,Ct(k,bt,Vt),ze(k,bt,Vt),k.endOffset<5)return;$=k.endOffset,_e=bt}else{if(_e=k.endContainer,_e.nodeType!==3&&_e.firstChild){for(;_e.nodeType!==3&&_e.firstChild;)_e=_e.firstChild;_e.nodeType===3&&(Ct(k,_e,0),ze(k,_e,_e.nodeValue.length))}k.endOffset===1?$=2:$=k.endOffset-1-Ee}var Ue=$;do Ct(k,_e,$>=2?$-2:0),ze(k,_e,$>=1?$-1:0),$-=1,Ut=k.toString();while(Ut!==" "&&Ut!==""&&Ut.charCodeAt(0)!==160&&$-2>=0&&Ut!==Gt);$t(k.toString(),Gt)?(Ct(k,_e,$),ze(k,_e,Ue),$+=1):k.startOffset===0?(Ct(k,_e,0),ze(k,_e,Ue)):(Ct(k,_e,$),ze(k,_e,Ue)),cn=k.toString(),cn.charAt(cn.length-1)==="."&&ze(k,_e,Ue-1),cn=k.toString().trim();var St=cn.match(qe),vt=wt(st);St&&(St[1]==="www."?St[1]=vt+"://www.":/@$/.test(St[1])&&!/^mailto:/.test(St[1])&&(St[1]="mailto:"+St[1]),nn=st.selection.getBookmark(),st.selection.setRng(k),st.execCommand("createlink",!1,St[1]+St[2]),G!==!1&&st.dom.setAttrib(st.selection.getNode(),"target",G),st.selection.moveToBookmark(nn),st.nodeChanged())}},Xe=function(st){var Ee;if(st.on("keydown",function(Gt){if(Gt.keyCode===13)return Ye(st)}),Ht.browser.isIE()){st.on("focus",function(){if(!Ee){Ee=!0;try{st.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}st.on("keypress",function(Gt){if(Gt.keyCode===41)return Pt(st)}),st.on("keyup",function(Gt){if(Gt.keyCode===32)return ut(st)})};function de(){mn.add("autolink",function(st){Xe(st)})}de()})();/*! 
*  @plugin @tinymce-plugin/tp-letterspacing
*  @version 0.0.9 (2022-4-19)
*  @description 
*  @copyright (2022) Five(Li Hailong) https://github.com/tinymce-plugin/tp-letterspacing
*/(function(){var mn=function(ut){return ut.getParam("tp-letterspacing","0px 1px 2px 4px 6px 8px 10px 20px 40px")},Ht=function(ut,Ye){ut.undoManager.transact(function(){ut.focus(),ut.execCommand("tpLetterspacing",!1,Ye)})},Nt=function(ut,Ye){ut.ui.registry.getAll().icons[Ye.registryName]||ut.ui.registry.addIcon(Ye.registryName,Ye.icon);var gn=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ct=ut.tp$.Tools,ze=function(st){var Ee=st,Gt=st,$=function(){return Ee},_e=function(){return Gt},nn=function(cn,bt){Ee=cn,bt&&(Gt=bt)};return{get:$,set:nn,getAction:_e}},Bt=function(st){return st.length>0?st[0]:""},Xe=mn(ut).split(" "),de=ze(Bt(Xe));ut.ui.registry.addSplitButton(Ye.registryName,{icon:Ye.registryName,tooltip:Ye.title,select:function(st){return st===de.get()},fetch:function(st){var Ee=ut.selection.getStart(),Gt=-1;if(Gt==-1){var $=Ct.getCurrentValue(Ee,"letter-spacing");Gt=$||Bt(Xe)}st(gn.map(Xe,function(_e){return Gt==_e&&de.set(_e),{type:"choiceitem",text:_e,value:_e}}))},onAction:function(){Ht(ut,de.getAction())},onItemAction:function(st,Ee){de.set(Ee,Ee),Ht(ut,Ee)}}),ut.ui.registry.addNestedMenuItem(Ye.registryName,{text:Ye.title,icon:Ye.registryName,getSubmenuItems:function(){var st=ut.selection.getStart(),Ee=-1;if(Ee==-1){var Gt=Ct.getCurrentValue(st,"letter-spacing");Ee=Gt||Bt(Xe)}return gn.map(Xe,function($){return{type:"togglemenuitem",text:$,active:Ee===$,onAction:function(){de.set($,$),Ht(ut,$)}}})}})},jt=function(ut,Ye){ut.addCommand("mce".concat(Ye.registryName.substring(0,1).toUpperCase()+Ye.registryName.substring(1)),function(gn,Ct){Ht(ut,Ct)})},wt=function(ut){tinymce.PluginManager.add(ut.registryName,function(Ye,gn){return Nt(Ye,ut),jt(Ye,ut),{getMetadata:function(){return{name:ut.name,url:ut.repo}}}})},$t={name:"Letterspacing",registryName:"tpLetterspacing",title:"Letter Spacing",repo:"https://github.com/tinymce-plugin/tp-letterspacing",icon:'<svg t="1610616201691" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="969" width="24" height="24"><path d="M682.666667 704l128 106.666667-128 106.666666v-85.333333H341.333333v85.333333L213.333333 810.666667l128-106.666667v85.333333h341.333334v-85.333333zM170.666667 170.666667v682.666666H85.333333V170.666667h85.333334z m768 0v682.666666h-85.333334V170.666667h85.333334z m-394.666667 0l202.666667 469.333333h-89.6l-38.4-93.866667h-213.333334L366.933333 640H277.333333l202.666667-469.333333h64zM512 255.146667L432.213333 469.333333h159.573334L512 255.146667z" p-id="970" fill="#222f3e"></path></svg>'};wt($t);var Pt={opt:$t};return Pt})();const uV={components:{TinymceVue:tV},name:"vueDemo2",data(){return{editor:"",content:"dsdsdsdsd",content2:"",vueDemoOpt:"",vueDemoOpt2:{min_height:200,max_height:700,skeletonScreen:!0,external_plugins:{tpCollapse:"/tinymce/plugins/tpCollapse/plugin.js",tpTabs:"/tinymce/plugins/tpTabs/plugin.js",tpButtons:"/tinymce/plugins/tpButtons/plugin.js",tpIconlists:"/tinymce/plugins/tpIconlists/plugin.js",tpParagraph:"/tinymce/plugins/tpParagraph/plugin.js",tpIconfont:"/tinymce/plugins/tpIconfont/plugin.js",tpColumns:"/tinymce/plugins/tpColumns/plugin.js",extendgroups:"/tinymce/plugins/extendgroups/plugin.js"},extend_groups_addicon:{mygroupsicon:'<img  src="https://avatars.githubusercontent.com/u/87648636?s=60&v=4" style="width:20px;" >'},extend_groups:{mygroups:{icon:"mygroupsicon",tooltip:"mygroupsicon",isSelect:!0,type:"togglemenuitem",items:[{type:"selectItem",text:"\u5B57\u4F53",value:"12px 14px 16px 18px 24px 36px 48px 56px 72px",default:"16px",styleSelector:"font-size",onAction:function(mn,Ht){mn.formatter.apply("fontsize",{value:Ht})}},{icon:"underline",text:"\u4E0B\u5212\u7EBF",value:"underline",styleSelector:"text-decoration"},{icon:"bold",text:"\u52A0\u7C97",value:"bold",selector:"strong"},{icon:"italic",text:"\u659C\u4F53",value:"italic",selector:"em"}]}},language:"zh_CN",plugins:"code  tpIndent2em tpLetterspacing autoresize  lists advlist tpImportword   preview",toolbar:["code formatselect fontselect  fontsizeselect  forecolor backcolor bold italic underline strikethrough tpIndent2em tpLetterspacing tpImportword  tpCollapse  mygroups Preview"]}}},methods:{important(){tinyMCE.activeEditor.execCommand("mceImportword")},init(){let mn=this;mn.vueDemoOpt={toolbar_groups:{formatting:{text:"\u6587\u5B57\u683C\u5F0F",tooltip:"Formatting",items:"bold italic underline | superscript subscript"},alignment:{icon:"align-left",tooltip:"alignment",items:"alignleft aligncenter alignright alignjustify"}},extend_groups_addicon:{mygroupsicon:'<img  src="https://avatars.githubusercontent.com/u/87648636?s=60&v=4" style="width:20px;" >'},extend_groups:{mygroups:{icon:"mygroupsicon",tooltip:"mygroupsicon",isSelect:!0,type:"togglemenuitem",items:[{type:"selectItem",text:"\u5B57\u4F53",value:"12px 14px 16px 18px 24px 36px 48px 56px 72px",default:"16px",styleSelector:"font-size",onAction:function(Ht,Nt){Ht.formatter.apply("fontsize",{value:Nt})}},{icon:"underline",text:"\u4E0B\u5212\u7EBF",value:"underline",styleSelector:"text-decoration"},{icon:"bold",text:"\u52A0\u7C97",value:"bold",selector:"strong"},{icon:"italic",text:"\u659C\u4F53",value:"italic",selector:"em"}]}},plugins:"print  preview extendgroups clearhtml searchreplace  insertdatetime autolink layout fullscreen line-height image imagetools media upfile link   autosave code  table  advlist lists checklist hr emoticons autosave bdmap indent2em   axupimgs  letterspacing  quickbars attachment wordcount template  autoresize importword searchreplace pagebreak pageembed  tpCollapse tpTabs tpButtons tpIconlists",toolbar:["code formatselect fontselect  fontsizeselect   forecolor backcolor bold italic underline strikethrough link alignment alignmentdrop undo redo  restoredraft layout upfile importword hr lineheight letterspacing line-height indent2em table bdmap image media attachment outdent indent blockquote subscript superscript  emoticons mygroups  preview searchreplace","pagebreak template pageembed bullist numlist checklist tpCollapse tpTabs tpButtons tpIconlists"],branding:!1,menubar:!1,language:"zh_CN",schema:"html5",min_height:400,max_height:700,template_replace_values:{username:"Jack Black",staffid:"991234",inboth_username:"Famous Person",inboth_staffid:"2213"},template_preview_replace_values:{preview_username:"Jack Black",preview_staffid:"991234",inboth_username:"Famous Person",inboth_staffid:"2213"},templates:[{title:"Date modified example",description:"Adds a timestamp indicating the last time the document modified.",content:'<p>Last Modified: <time class="mdate">This will be replaced with the date modified.</time></p>'},{title:"Replace values example",description:"These values will be replaced when the template is inserted into the editor content.",content:"<p>Name: {$username}, StaffID: {$staffid}</p>"},{title:"Replace values preview example",description:"These values are replaced in the preview, but not when inserted into the editor content.",content:"<p>Name: {$preview_username}, StaffID: {$preview_staffid}</p>"},{title:"Replace values preview and content example",description:"These values are replaced in the preview, and in the content.",content:"<p>Name: {$inboth_username}, StaffID: {$inboth_staffid}</p>"}],table_default_attributes:{border:"1"},table_default_styles:{"border-collapse":"collapse",width:"100%"},table_header_type:"sectionCells",table_responsive_width:!0,skeletonScreen:!0,images_upload_handler:function(Ht,Nt,jt,wt){var $t=Ht.blob(),Pt=new FileReader,ut="";Pt.onload=function(gn){ut=gn.target.result};var Ye=new FormData;Ye.append("file",$t),mn.$http({data:Ye,type:"GET",url:"/tinymce/api/file.json",header:{"Content-Type":"multipart/form-data"},onUploadProgress(gn){wt(gn+"%")}}).then(function(gn){gn.code==200?Nt(ut):jt("\u4E0A\u4F20\u5931\u8D25:"+Ye.data)}).catch(function(gn){jt("\u4E0A\u4F20\u5931\u8D25:"+gn.message)}),Pt.readAsDataURL($t)},file_picker_callback:function(Ht,Nt,jt){var wt=".pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4",$t=document.createElement("input");$t.setAttribute("type","file"),$t.setAttribute("accept",wt),$t.click(),$t.onchange=function(){var Pt=this.files[0],ut=new FormData;ut.append("file",Pt),mn.$http.get({data:ut,url:"./api/file.json",header:{"Content-Type":"multipart/form-data"},xhr:mn.xhrOnProgress(function(Ye){const gn=(Ye.loaded/Ye.total*100|0)+"%";progressCallback(gn)})}).then(Ye=>{Ht(Ye.data,{text:Ye.data})}).catch(function(Ye){failFun("\u4E0A\u4F20\u5931\u8D25:"+Ye.message)})}},file_callback:function(Ht,Nt){var jt=new FormData;jt.append("file",Ht),console.log(Ht),mn.$http({data:jt,type:"GET",url:"/tinymce/api/file.json",header:{"Content-Type":"multipart/form-data"}}).then(function(wt){console.log(wt),wt.code==200&&Nt(wt.data,{text:Ht.name})}).catch(function(wt){})},tp_attachment_assets_path:"./plugins/attachment/icons",tp_attachment_icons_path:"https://unpkg.com/@npkg/tinymce-plugins/plugins/attachment/icons",tp_attachment_upload_handler:function(Ht,Nt,jt,wt){var $t=new FormData;$t.append("file",Ht),mn.$http({data:$t,type:"GET",url:"/tinymce/api/file.json",header:{"Content-Type":"multipart/form-data"},xhr:mn.xhrOnProgress(function(Pt){const ut=(Pt.loaded/Pt.total*100|0)+"%";wt(ut)})}).then(function(Pt){Pt.code==200?Nt(Pt.data):jt("\u4E0A\u4F20\u5931\u8D25:"+Pt.data)}).catch(function(Pt){jt("\u4E0A\u4F20\u5931\u8D25:"+Pt.message)})},attachment_max_size:5009715200}}},created(){this.init()}},cV=mn=>(aV("data-v-1dd532a0"),mn=mn(),oV(),mn),sV={class:"vueDemo2"},lV=cV(()=>y4("h1",null,"\u5C55\u793A\u663E\u793A2",-1)),fV=["innerHTML"];function vV(mn,Ht,Nt,jt,wt,$t){const Pt=kA("tinymce-vue"),ut=kA("PagesRouter");return iV(),rV("div",null,[y4("div",sV,[OA(Pt,{modelValue:wt.content2,"onUpdate:modelValue":Ht[0]||(Ht[0]=Ye=>wt.content2=Ye),init:wt.vueDemoOpt2},null,8,["modelValue","init"])]),lV,y4("div",{innerHTML:wt.content2},null,8,fV),OA(ut,{pagesName:"vuedemo2"})])}var wV=nV(uV,[["render",vV],["__scopeId","data-v-1dd532a0"]]);export{wV as default};
